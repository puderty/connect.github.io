import{k as getAugmentedNamespace,g as commonjsGlobal,p as process$1,j as getDefaultExportFromCjs,l as reactive,d as defineComponent,m as h$1,a as ref$1,n as onUpdated,q as onMounted,F as Fragment,s as toRef,u as computed,_ as _export_sfc,r as resolveComponent,o as openBlock,c as createBlock,w as withCtx,e as createBaseVNode,b as createVNode,f as createTextVNode,T as Teleport,v as createElementBlock,x as withModifiers,i as createCommentVNode,y as renderList,z as router,t as toDisplayString,A as renderSlot}from"./index-B2eaHZpE.js";var src$6={},connect$2={},connect$1={},constants$5={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.ConnectorState=f.CONNECT_JSONRPC_VER=f.OKXCONNECTOR_MESSAGE_TTL=f.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=f.OKXCONNECTOR_WS_URL_LIST=f.OKXCONNECTOR_WS_URL_IDX_KEY=f.OKXCONNECTOR_WS_URL_3=f.OKXCONNECTOR_WS_URL_2=f.OKXCONNECTOR_WS_URL_1=f.EVENT_EMITTER_MAX_LISTENERS=void 0,f.EVENT_EMITTER_MAX_LISTENERS=10,f.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",f.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",f.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",f.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",f.OKXCONNECTOR_WS_URL_LIST=[f.OKXCONNECTOR_WS_URL_1,f.OKXCONNECTOR_WS_URL_2,f.OKXCONNECTOR_WS_URL_3],f.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},f.OKXCONNECTOR_MESSAGE_TTL=3e5,f.CONNECT_JSONRPC_VER="2.0",f.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}})(constants$5);var storageconstants={};Object.defineProperty(storageconstants,"__esModule",{value:!0});storageconstants.OKXCONNECTOR_STORAGE_CIPHER_METHOD=storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=storageconstants.OKXCONNECTOR_STORAGER_CRYPTO_SALT=storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=storageconstants.OKXCONNECTOR_TON_KEY=storageconstants.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=storageconstants.OKXCONNECTOR_TOKEN_CACHE=storageconstants.OKXCONNECTOR_JWT_KEY=storageconstants.OKXCONNECTOR_SESSION_PREFIX_KEY=storageconstants.OKXCONNECTOR_CRYPTO_KEY=storageconstants.OKXCONNECTOR_CACHE_KEY_DAPP=storageconstants.OKXCONNECTOR_CACHE_KEY=void 0;storageconstants.OKXCONNECTOR_CACHE_KEY="ck";storageconstants.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp";storageconstants.OKXCONNECTOR_CRYPTO_KEY="cck_k";storageconstants.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_";storageconstants.OKXCONNECTOR_JWT_KEY="cjk_k";storageconstants.OKXCONNECTOR_TOKEN_CACHE="ct";storageconstants.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp";storageconstants.OKXCONNECTOR_TON_KEY="OKXStorage_ctc";storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp";storageconstants.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs";storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc";storageconstants.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc";var storage={};function commonjsRequire(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={},browser$c={exports:{}},safeBuffer$1={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$2.length;i$1<len;++i$1)lookup[i$1]=code$2[i$1],revLookup[code$2.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(f){var r=f.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=f.indexOf("=");d===-1&&(d=r);var g=d===r?0:4-d%4;return[d,g]}function byteLength(f){var r=getLens(f),d=r[0],g=r[1];return(d+g)*3/4-g}function _byteLength(f,r,d){return(r+d)*3/4-d}function toByteArray(f){var r,d=getLens(f),g=d[0],m=d[1],v=new Arr(_byteLength(f,g,m)),_=0,y=m>0?g-4:g,x;for(x=0;x<y;x+=4)r=revLookup[f.charCodeAt(x)]<<18|revLookup[f.charCodeAt(x+1)]<<12|revLookup[f.charCodeAt(x+2)]<<6|revLookup[f.charCodeAt(x+3)],v[_++]=r>>16&255,v[_++]=r>>8&255,v[_++]=r&255;return m===2&&(r=revLookup[f.charCodeAt(x)]<<2|revLookup[f.charCodeAt(x+1)]>>4,v[_++]=r&255),m===1&&(r=revLookup[f.charCodeAt(x)]<<10|revLookup[f.charCodeAt(x+1)]<<4|revLookup[f.charCodeAt(x+2)]>>2,v[_++]=r>>8&255,v[_++]=r&255),v}function tripletToBase64(f){return lookup[f>>18&63]+lookup[f>>12&63]+lookup[f>>6&63]+lookup[f&63]}function encodeChunk(f,r,d){for(var g,m=[],v=r;v<d;v+=3)g=(f[v]<<16&16711680)+(f[v+1]<<8&65280)+(f[v+2]&255),m.push(tripletToBase64(g));return m.join("")}function fromByteArray(f){for(var r,d=f.length,g=d%3,m=[],v=16383,_=0,y=d-g;_<y;_+=v)m.push(encodeChunk(f,_,_+v>y?y:_+v));return g===1?(r=f[d-1],m.push(lookup[r>>2]+lookup[r<<4&63]+"==")):g===2&&(r=(f[d-2]<<8)+f[d-1],m.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),m.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(f,r,d,g,m){var v,_,y=m*8-g-1,x=(1<<y)-1,E=x>>1,b=-7,C=d?m-1:0,R=d?-1:1,O=f[r+C];for(C+=R,v=O&(1<<-b)-1,O>>=-b,b+=y;b>0;v=v*256+f[r+C],C+=R,b-=8);for(_=v&(1<<-b)-1,v>>=-b,b+=g;b>0;_=_*256+f[r+C],C+=R,b-=8);if(v===0)v=1-E;else{if(v===x)return _?NaN:(O?-1:1)*(1/0);_=_+Math.pow(2,g),v=v-E}return(O?-1:1)*_*Math.pow(2,v-g)};ieee754.write=function(f,r,d,g,m,v){var _,y,x,E=v*8-m-1,b=(1<<E)-1,C=b>>1,R=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=g?0:v-1,A=g?1:-1,M=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(y=isNaN(r)?1:0,_=b):(_=Math.floor(Math.log(r)/Math.LN2),r*(x=Math.pow(2,-_))<1&&(_--,x*=2),_+C>=1?r+=R/x:r+=R*Math.pow(2,1-C),r*x>=2&&(_++,x/=2),_+C>=b?(y=0,_=b):_+C>=1?(y=(r*x-1)*Math.pow(2,m),_=_+C):(y=r*Math.pow(2,C-1)*Math.pow(2,m),_=0));m>=8;f[d+O]=y&255,O+=A,y/=256,m-=8);for(_=_<<m|y,E+=m;E>0;f[d+O]=_&255,O+=A,_/=256,E-=8);f[d+O-A]|=M*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(f){const r=base64Js,d=ieee754,g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=b,f.SlowBuffer=W,f.INSPECT_MAX_BYTES=50;const m=2147483647;f.kMaxLength=m;const{Uint8Array:v,ArrayBuffer:_,SharedArrayBuffer:y}=globalThis;b.TYPED_ARRAY_SUPPORT=x(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{const ue=new v(1),ee={foo:function(){return 42}};return Object.setPrototypeOf(ee,v.prototype),Object.setPrototypeOf(ue,ee),ue.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function E(ue){if(ue>m)throw new RangeError('The value "'+ue+'" is invalid for option "size"');const ee=new v(ue);return Object.setPrototypeOf(ee,b.prototype),ee}function b(ue,ee,te){if(typeof ue=="number"){if(typeof ee=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(ue)}return C(ue,ee,te)}b.poolSize=8192;function C(ue,ee,te){if(typeof ue=="string")return M(ue,ee);if(_.isView(ue))return F(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(it(ue,_)||ue&&it(ue.buffer,_)||typeof y<"u"&&(it(ue,y)||ue&&it(ue.buffer,y)))return L(ue,ee,te);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const de=ue.valueOf&&ue.valueOf();if(de!=null&&de!==ue)return b.from(de,ee,te);const xe=K(ue);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return b.from(ue[Symbol.toPrimitive]("string"),ee,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}b.from=function(ue,ee,te){return C(ue,ee,te)},Object.setPrototypeOf(b.prototype,v.prototype),Object.setPrototypeOf(b,v);function R(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function O(ue,ee,te){return R(ue),ue<=0?E(ue):ee!==void 0?typeof te=="string"?E(ue).fill(ee,te):E(ue).fill(ee):E(ue)}b.alloc=function(ue,ee,te){return O(ue,ee,te)};function A(ue){return R(ue),E(ue<0?0:j(ue)|0)}b.allocUnsafe=function(ue){return A(ue)},b.allocUnsafeSlow=function(ue){return A(ue)};function M(ue,ee){if((typeof ee!="string"||ee==="")&&(ee="utf8"),!b.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);const te=G(ue,ee)|0;let de=E(te);const xe=de.write(ue,ee);return xe!==te&&(de=de.slice(0,xe)),de}function P(ue){const ee=ue.length<0?0:j(ue.length)|0,te=E(ee);for(let de=0;de<ee;de+=1)te[de]=ue[de]&255;return te}function F(ue){if(it(ue,v)){const ee=new v(ue);return L(ee.buffer,ee.byteOffset,ee.byteLength)}return P(ue)}function L(ue,ee,te){if(ee<0||ue.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<ee+(te||0))throw new RangeError('"length" is outside of buffer bounds');let de;return ee===void 0&&te===void 0?de=new v(ue):te===void 0?de=new v(ue,ee):de=new v(ue,ee,te),Object.setPrototypeOf(de,b.prototype),de}function K(ue){if(b.isBuffer(ue)){const ee=j(ue.length)|0,te=E(ee);return te.length===0||ue.copy(te,0,0,ee),te}if(ue.length!==void 0)return typeof ue.length!="number"||Ke(ue.length)?E(0):P(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return P(ue.data)}function j(ue){if(ue>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return ue|0}function W(ue){return+ue!=ue&&(ue=0),b.alloc(+ue)}b.isBuffer=function(ee){return ee!=null&&ee._isBuffer===!0&&ee!==b.prototype},b.compare=function(ee,te){if(it(ee,v)&&(ee=b.from(ee,ee.offset,ee.byteLength)),it(te,v)&&(te=b.from(te,te.offset,te.byteLength)),!b.isBuffer(ee)||!b.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ee===te)return 0;let de=ee.length,xe=te.length;for(let Oe=0,$e=Math.min(de,xe);Oe<$e;++Oe)if(ee[Oe]!==te[Oe]){de=ee[Oe],xe=te[Oe];break}return de<xe?-1:xe<de?1:0},b.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(ee,te){if(!Array.isArray(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return b.alloc(0);let de;if(te===void 0)for(te=0,de=0;de<ee.length;++de)te+=ee[de].length;const xe=b.allocUnsafe(te);let Oe=0;for(de=0;de<ee.length;++de){let $e=ee[de];if(it($e,v))Oe+$e.length>xe.length?(b.isBuffer($e)||($e=b.from($e)),$e.copy(xe,Oe)):v.prototype.set.call(xe,$e,Oe);else if(b.isBuffer($e))$e.copy(xe,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=$e.length}return xe};function G(ue,ee){if(b.isBuffer(ue))return ue.length;if(_.isView(ue)||it(ue,_))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);const te=ue.length,de=arguments.length>2&&arguments[2]===!0;if(!de&&te===0)return 0;let xe=!1;for(;;)switch(ee){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return Qe(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return Ve(ue).length;default:if(xe)return de?-1:Qe(ue).length;ee=(""+ee).toLowerCase(),xe=!0}}b.byteLength=G;function Q(ue,ee,te){let de=!1;if((ee===void 0||ee<0)&&(ee=0),ee>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,ee>>>=0,te<=ee))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return B(this,ee,te);case"utf8":case"utf-8":return N(this,ee,te);case"ascii":return I(this,ee,te);case"latin1":case"binary":return q(this,ee,te);case"base64":return $(this,ee,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,ee,te);default:if(de)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),de=!0}}b.prototype._isBuffer=!0;function re(ue,ee,te){const de=ue[ee];ue[ee]=ue[te],ue[te]=de}b.prototype.swap16=function(){const ee=this.length;if(ee%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let te=0;te<ee;te+=2)re(this,te,te+1);return this},b.prototype.swap32=function(){const ee=this.length;if(ee%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let te=0;te<ee;te+=4)re(this,te,te+3),re(this,te+1,te+2);return this},b.prototype.swap64=function(){const ee=this.length;if(ee%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let te=0;te<ee;te+=8)re(this,te,te+7),re(this,te+1,te+6),re(this,te+2,te+5),re(this,te+3,te+4);return this},b.prototype.toString=function(){const ee=this.length;return ee===0?"":arguments.length===0?N(this,0,ee):Q.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(ee){if(!b.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee?!0:b.compare(this,ee)===0},b.prototype.inspect=function(){let ee="";const te=f.INSPECT_MAX_BYTES;return ee=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(ee+=" ... "),"<Buffer "+ee+">"},g&&(b.prototype[g]=b.prototype.inspect),b.prototype.compare=function(ee,te,de,xe,Oe){if(it(ee,v)&&(ee=b.from(ee,ee.offset,ee.byteLength)),!b.isBuffer(ee))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ee);if(te===void 0&&(te=0),de===void 0&&(de=ee?ee.length:0),xe===void 0&&(xe=0),Oe===void 0&&(Oe=this.length),te<0||de>ee.length||xe<0||Oe>this.length)throw new RangeError("out of range index");if(xe>=Oe&&te>=de)return 0;if(xe>=Oe)return-1;if(te>=de)return 1;if(te>>>=0,de>>>=0,xe>>>=0,Oe>>>=0,this===ee)return 0;let $e=Oe-xe,dt=de-te;const ut=Math.min($e,dt),et=this.slice(xe,Oe),wt=ee.slice(te,de);for(let ht=0;ht<ut;++ht)if(et[ht]!==wt[ht]){$e=et[ht],dt=wt[ht];break}return $e<dt?-1:dt<$e?1:0};function ne(ue,ee,te,de,xe){if(ue.length===0)return-1;if(typeof te=="string"?(de=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,Ke(te)&&(te=xe?0:ue.length-1),te<0&&(te=ue.length+te),te>=ue.length){if(xe)return-1;te=ue.length-1}else if(te<0)if(xe)te=0;else return-1;if(typeof ee=="string"&&(ee=b.from(ee,de)),b.isBuffer(ee))return ee.length===0?-1:ie(ue,ee,te,de,xe);if(typeof ee=="number")return ee=ee&255,typeof v.prototype.indexOf=="function"?xe?v.prototype.indexOf.call(ue,ee,te):v.prototype.lastIndexOf.call(ue,ee,te):ie(ue,[ee],te,de,xe);throw new TypeError("val must be string, number or Buffer")}function ie(ue,ee,te,de,xe){let Oe=1,$e=ue.length,dt=ee.length;if(de!==void 0&&(de=String(de).toLowerCase(),de==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if(ue.length<2||ee.length<2)return-1;Oe=2,$e/=2,dt/=2,te/=2}function ut(wt,ht){return Oe===1?wt[ht]:wt.readUInt16BE(ht*Oe)}let et;if(xe){let wt=-1;for(et=te;et<$e;et++)if(ut(ue,et)===ut(ee,wt===-1?0:et-wt)){if(wt===-1&&(wt=et),et-wt+1===dt)return wt*Oe}else wt!==-1&&(et-=et-wt),wt=-1}else for(te+dt>$e&&(te=$e-dt),et=te;et>=0;et--){let wt=!0;for(let ht=0;ht<dt;ht++)if(ut(ue,et+ht)!==ut(ee,ht)){wt=!1;break}if(wt)return et}return-1}b.prototype.includes=function(ee,te,de){return this.indexOf(ee,te,de)!==-1},b.prototype.indexOf=function(ee,te,de){return ne(this,ee,te,de,!0)},b.prototype.lastIndexOf=function(ee,te,de){return ne(this,ee,te,de,!1)};function z(ue,ee,te,de){te=Number(te)||0;const xe=ue.length-te;de?(de=Number(de),de>xe&&(de=xe)):de=xe;const Oe=ee.length;de>Oe/2&&(de=Oe/2);let $e;for($e=0;$e<de;++$e){const dt=parseInt(ee.substr($e*2,2),16);if(Ke(dt))return $e;ue[te+$e]=dt}return $e}function T(ue,ee,te,de){return We(Qe(ee,ue.length-te),ue,te,de)}function D(ue,ee,te,de){return We(Le(ee),ue,te,de)}function w(ue,ee,te,de){return We(Ve(ee),ue,te,de)}function S(ue,ee,te,de){return We(ot(ee,ue.length-te),ue,te,de)}b.prototype.write=function(ee,te,de,xe){if(te===void 0)xe="utf8",de=this.length,te=0;else if(de===void 0&&typeof te=="string")xe=te,de=this.length,te=0;else if(isFinite(te))te=te>>>0,isFinite(de)?(de=de>>>0,xe===void 0&&(xe="utf8")):(xe=de,de=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Oe=this.length-te;if((de===void 0||de>Oe)&&(de=Oe),ee.length>0&&(de<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");let $e=!1;for(;;)switch(xe){case"hex":return z(this,ee,te,de);case"utf8":case"utf-8":return T(this,ee,te,de);case"ascii":case"latin1":case"binary":return D(this,ee,te,de);case"base64":return w(this,ee,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,ee,te,de);default:if($e)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),$e=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(ue,ee,te){return ee===0&&te===ue.length?r.fromByteArray(ue):r.fromByteArray(ue.slice(ee,te))}function N(ue,ee,te){te=Math.min(ue.length,te);const de=[];let xe=ee;for(;xe<te;){const Oe=ue[xe];let $e=null,dt=Oe>239?4:Oe>223?3:Oe>191?2:1;if(xe+dt<=te){let ut,et,wt,ht;switch(dt){case 1:Oe<128&&($e=Oe);break;case 2:ut=ue[xe+1],(ut&192)===128&&(ht=(Oe&31)<<6|ut&63,ht>127&&($e=ht));break;case 3:ut=ue[xe+1],et=ue[xe+2],(ut&192)===128&&(et&192)===128&&(ht=(Oe&15)<<12|(ut&63)<<6|et&63,ht>2047&&(ht<55296||ht>57343)&&($e=ht));break;case 4:ut=ue[xe+1],et=ue[xe+2],wt=ue[xe+3],(ut&192)===128&&(et&192)===128&&(wt&192)===128&&(ht=(Oe&15)<<18|(ut&63)<<12|(et&63)<<6|wt&63,ht>65535&&ht<1114112&&($e=ht))}}$e===null?($e=65533,dt=1):$e>65535&&($e-=65536,de.push($e>>>10&1023|55296),$e=56320|$e&1023),de.push($e),xe+=dt}return U(de)}const k=4096;function U(ue){const ee=ue.length;if(ee<=k)return String.fromCharCode.apply(String,ue);let te="",de=0;for(;de<ee;)te+=String.fromCharCode.apply(String,ue.slice(de,de+=k));return te}function I(ue,ee,te){let de="";te=Math.min(ue.length,te);for(let xe=ee;xe<te;++xe)de+=String.fromCharCode(ue[xe]&127);return de}function q(ue,ee,te){let de="";te=Math.min(ue.length,te);for(let xe=ee;xe<te;++xe)de+=String.fromCharCode(ue[xe]);return de}function B(ue,ee,te){const de=ue.length;(!ee||ee<0)&&(ee=0),(!te||te<0||te>de)&&(te=de);let xe="";for(let Oe=ee;Oe<te;++Oe)xe+=Fe[ue[Oe]];return xe}function H(ue,ee,te){const de=ue.slice(ee,te);let xe="";for(let Oe=0;Oe<de.length-1;Oe+=2)xe+=String.fromCharCode(de[Oe]+de[Oe+1]*256);return xe}b.prototype.slice=function(ee,te){const de=this.length;ee=~~ee,te=te===void 0?de:~~te,ee<0?(ee+=de,ee<0&&(ee=0)):ee>de&&(ee=de),te<0?(te+=de,te<0&&(te=0)):te>de&&(te=de),te<ee&&(te=ee);const xe=this.subarray(ee,te);return Object.setPrototypeOf(xe,b.prototype),xe};function ce(ue,ee,te){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+ee>te)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=this[ee],Oe=1,$e=0;for(;++$e<te&&(Oe*=256);)xe+=this[ee+$e]*Oe;return xe},b.prototype.readUintBE=b.prototype.readUIntBE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=this[ee+--te],Oe=1;for(;te>0&&(Oe*=256);)xe+=this[ee+--te]*Oe;return xe},b.prototype.readUint8=b.prototype.readUInt8=function(ee,te){return ee=ee>>>0,te||ce(ee,1,this.length),this[ee]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(ee,te){return ee=ee>>>0,te||ce(ee,2,this.length),this[ee]|this[ee+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(ee,te){return ee=ee>>>0,te||ce(ee,2,this.length),this[ee]<<8|this[ee+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+this[ee+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),this[ee]*16777216+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},b.prototype.readBigUInt64LE=Ye(function(ee){ee=ee>>>0,qe(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&Ue(ee,this.length-8);const xe=te+this[++ee]*2**8+this[++ee]*2**16+this[++ee]*2**24,Oe=this[++ee]+this[++ee]*2**8+this[++ee]*2**16+de*2**24;return BigInt(xe)+(BigInt(Oe)<<BigInt(32))}),b.prototype.readBigUInt64BE=Ye(function(ee){ee=ee>>>0,qe(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&Ue(ee,this.length-8);const xe=te*2**24+this[++ee]*2**16+this[++ee]*2**8+this[++ee],Oe=this[++ee]*2**24+this[++ee]*2**16+this[++ee]*2**8+de;return(BigInt(xe)<<BigInt(32))+BigInt(Oe)}),b.prototype.readIntLE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=this[ee],Oe=1,$e=0;for(;++$e<te&&(Oe*=256);)xe+=this[ee+$e]*Oe;return Oe*=128,xe>=Oe&&(xe-=Math.pow(2,8*te)),xe},b.prototype.readIntBE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=te,Oe=1,$e=this[ee+--xe];for(;xe>0&&(Oe*=256);)$e+=this[ee+--xe]*Oe;return Oe*=128,$e>=Oe&&($e-=Math.pow(2,8*te)),$e},b.prototype.readInt8=function(ee,te){return ee=ee>>>0,te||ce(ee,1,this.length),this[ee]&128?(255-this[ee]+1)*-1:this[ee]},b.prototype.readInt16LE=function(ee,te){ee=ee>>>0,te||ce(ee,2,this.length);const de=this[ee]|this[ee+1]<<8;return de&32768?de|4294901760:de},b.prototype.readInt16BE=function(ee,te){ee=ee>>>0,te||ce(ee,2,this.length);const de=this[ee+1]|this[ee]<<8;return de&32768?de|4294901760:de},b.prototype.readInt32LE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},b.prototype.readInt32BE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},b.prototype.readBigInt64LE=Ye(function(ee){ee=ee>>>0,qe(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&Ue(ee,this.length-8);const xe=this[ee+4]+this[ee+5]*2**8+this[ee+6]*2**16+(de<<24);return(BigInt(xe)<<BigInt(32))+BigInt(te+this[++ee]*2**8+this[++ee]*2**16+this[++ee]*2**24)}),b.prototype.readBigInt64BE=Ye(function(ee){ee=ee>>>0,qe(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&Ue(ee,this.length-8);const xe=(te<<24)+this[++ee]*2**16+this[++ee]*2**8+this[++ee];return(BigInt(xe)<<BigInt(32))+BigInt(this[++ee]*2**24+this[++ee]*2**16+this[++ee]*2**8+de)}),b.prototype.readFloatLE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),d.read(this,ee,!0,23,4)},b.prototype.readFloatBE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),d.read(this,ee,!1,23,4)},b.prototype.readDoubleLE=function(ee,te){return ee=ee>>>0,te||ce(ee,8,this.length),d.read(this,ee,!0,52,8)},b.prototype.readDoubleBE=function(ee,te){return ee=ee>>>0,te||ce(ee,8,this.length),d.read(this,ee,!1,52,8)};function be(ue,ee,te,de,xe,Oe){if(!b.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>xe||ee<Oe)throw new RangeError('"value" argument is out of bounds');if(te+de>ue.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,de=de>>>0,!xe){const dt=Math.pow(2,8*de)-1;be(this,ee,te,de,dt,0)}let Oe=1,$e=0;for(this[te]=ee&255;++$e<de&&(Oe*=256);)this[te+$e]=ee/Oe&255;return te+de},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,de=de>>>0,!xe){const dt=Math.pow(2,8*de)-1;be(this,ee,te,de,dt,0)}let Oe=de-1,$e=1;for(this[te+Oe]=ee&255;--Oe>=0&&($e*=256);)this[te+Oe]=ee/$e&255;return te+de},b.prototype.writeUint8=b.prototype.writeUInt8=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,1,255,0),this[te]=ee&255,te+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,65535,0),this[te]=ee&255,this[te+1]=ee>>>8,te+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,65535,0),this[te]=ee>>>8,this[te+1]=ee&255,te+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,4294967295,0),this[te+3]=ee>>>24,this[te+2]=ee>>>16,this[te+1]=ee>>>8,this[te]=ee&255,te+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,4294967295,0),this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255,te+4};function ve(ue,ee,te,de,xe){De(ee,de,xe,ue,te,7);let Oe=Number(ee&BigInt(4294967295));ue[te++]=Oe,Oe=Oe>>8,ue[te++]=Oe,Oe=Oe>>8,ue[te++]=Oe,Oe=Oe>>8,ue[te++]=Oe;let $e=Number(ee>>BigInt(32)&BigInt(4294967295));return ue[te++]=$e,$e=$e>>8,ue[te++]=$e,$e=$e>>8,ue[te++]=$e,$e=$e>>8,ue[te++]=$e,te}function Z(ue,ee,te,de,xe){De(ee,de,xe,ue,te,7);let Oe=Number(ee&BigInt(4294967295));ue[te+7]=Oe,Oe=Oe>>8,ue[te+6]=Oe,Oe=Oe>>8,ue[te+5]=Oe,Oe=Oe>>8,ue[te+4]=Oe;let $e=Number(ee>>BigInt(32)&BigInt(4294967295));return ue[te+3]=$e,$e=$e>>8,ue[te+2]=$e,$e=$e>>8,ue[te+1]=$e,$e=$e>>8,ue[te]=$e,te+8}b.prototype.writeBigUInt64LE=Ye(function(ee,te=0){return ve(this,ee,te,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Ye(function(ee,te=0){return Z(this,ee,te,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,!xe){const ut=Math.pow(2,8*de-1);be(this,ee,te,de,ut-1,-ut)}let Oe=0,$e=1,dt=0;for(this[te]=ee&255;++Oe<de&&($e*=256);)ee<0&&dt===0&&this[te+Oe-1]!==0&&(dt=1),this[te+Oe]=(ee/$e>>0)-dt&255;return te+de},b.prototype.writeIntBE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,!xe){const ut=Math.pow(2,8*de-1);be(this,ee,te,de,ut-1,-ut)}let Oe=de-1,$e=1,dt=0;for(this[te+Oe]=ee&255;--Oe>=0&&($e*=256);)ee<0&&dt===0&&this[te+Oe+1]!==0&&(dt=1),this[te+Oe]=(ee/$e>>0)-dt&255;return te+de},b.prototype.writeInt8=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,1,127,-128),ee<0&&(ee=255+ee+1),this[te]=ee&255,te+1},b.prototype.writeInt16LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,32767,-32768),this[te]=ee&255,this[te+1]=ee>>>8,te+2},b.prototype.writeInt16BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,32767,-32768),this[te]=ee>>>8,this[te+1]=ee&255,te+2},b.prototype.writeInt32LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,2147483647,-2147483648),this[te]=ee&255,this[te+1]=ee>>>8,this[te+2]=ee>>>16,this[te+3]=ee>>>24,te+4},b.prototype.writeInt32BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255,te+4},b.prototype.writeBigInt64LE=Ye(function(ee,te=0){return ve(this,ee,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Ye(function(ee,te=0){return Z(this,ee,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(ue,ee,te,de,xe,Oe){if(te+de>ue.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function ae(ue,ee,te,de,xe){return ee=+ee,te=te>>>0,xe||J(ue,ee,te,4),d.write(ue,ee,te,de,23,4),te+4}b.prototype.writeFloatLE=function(ee,te,de){return ae(this,ee,te,!0,de)},b.prototype.writeFloatBE=function(ee,te,de){return ae(this,ee,te,!1,de)};function X(ue,ee,te,de,xe){return ee=+ee,te=te>>>0,xe||J(ue,ee,te,8),d.write(ue,ee,te,de,52,8),te+8}b.prototype.writeDoubleLE=function(ee,te,de){return X(this,ee,te,!0,de)},b.prototype.writeDoubleBE=function(ee,te,de){return X(this,ee,te,!1,de)},b.prototype.copy=function(ee,te,de,xe){if(!b.isBuffer(ee))throw new TypeError("argument should be a Buffer");if(de||(de=0),!xe&&xe!==0&&(xe=this.length),te>=ee.length&&(te=ee.length),te||(te=0),xe>0&&xe<de&&(xe=de),xe===de||ee.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),ee.length-te<xe-de&&(xe=ee.length-te+de);const Oe=xe-de;return this===ee&&typeof v.prototype.copyWithin=="function"?this.copyWithin(te,de,xe):v.prototype.set.call(ee,this.subarray(de,xe),te),Oe},b.prototype.fill=function(ee,te,de,xe){if(typeof ee=="string"){if(typeof te=="string"?(xe=te,te=0,de=this.length):typeof de=="string"&&(xe=de,de=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!b.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(ee.length===1){const $e=ee.charCodeAt(0);(xe==="utf8"&&$e<128||xe==="latin1")&&(ee=$e)}}else typeof ee=="number"?ee=ee&255:typeof ee=="boolean"&&(ee=Number(ee));if(te<0||this.length<te||this.length<de)throw new RangeError("Out of range index");if(de<=te)return this;te=te>>>0,de=de===void 0?this.length:de>>>0,ee||(ee=0);let Oe;if(typeof ee=="number")for(Oe=te;Oe<de;++Oe)this[Oe]=ee;else{const $e=b.isBuffer(ee)?ee:b.from(ee,xe),dt=$e.length;if(dt===0)throw new TypeError('The value "'+ee+'" is invalid for argument "value"');for(Oe=0;Oe<de-te;++Oe)this[Oe+te]=$e[Oe%dt]}return this};const Y={};function oe(ue,ee,te){Y[ue]=class extends te{constructor(){super(),Object.defineProperty(this,"message",{value:ee.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ue}]`,this.stack,delete this.name}get code(){return ue}set code(xe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:xe,writable:!0})}toString(){return`${this.name} [${ue}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?`${ue} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(ue,ee){return`The "${ue}" argument must be of type number. Received type ${typeof ee}`},TypeError),oe("ERR_OUT_OF_RANGE",function(ue,ee,te){let de=`The value of "${ue}" is out of range.`,xe=te;return Number.isInteger(te)&&Math.abs(te)>2**32?xe=we(String(te)):typeof te=="bigint"&&(xe=String(te),(te>BigInt(2)**BigInt(32)||te<-(BigInt(2)**BigInt(32)))&&(xe=we(xe)),xe+="n"),de+=` It must be ${ee}. Received ${xe}`,de},RangeError);function we(ue){let ee="",te=ue.length;const de=ue[0]==="-"?1:0;for(;te>=de+4;te-=3)ee=`_${ue.slice(te-3,te)}${ee}`;return`${ue.slice(0,te)}${ee}`}function Se(ue,ee,te){qe(ee,"offset"),(ue[ee]===void 0||ue[ee+te]===void 0)&&Ue(ee,ue.length-(te+1))}function De(ue,ee,te,de,xe,Oe){if(ue>te||ue<ee){const $e=typeof ee=="bigint"?"n":"";let dt;throw ee===0||ee===BigInt(0)?dt=`>= 0${$e} and < 2${$e} ** ${(Oe+1)*8}${$e}`:dt=`>= -(2${$e} ** ${(Oe+1)*8-1}${$e}) and < 2 ** ${(Oe+1)*8-1}${$e}`,new Y.ERR_OUT_OF_RANGE("value",dt,ue)}Se(de,xe,Oe)}function qe(ue,ee){if(typeof ue!="number")throw new Y.ERR_INVALID_ARG_TYPE(ee,"number",ue)}function Ue(ue,ee,te){throw Math.floor(ue)!==ue?(qe(ue,te),new Y.ERR_OUT_OF_RANGE("offset","an integer",ue)):ee<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${ee}`,ue)}const Ne=/[^+/0-9A-Za-z-_]/g;function Be(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(Ne,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function Qe(ue,ee){ee=ee||1/0;let te;const de=ue.length;let xe=null;const Oe=[];for(let $e=0;$e<de;++$e){if(te=ue.charCodeAt($e),te>55295&&te<57344){if(!xe){if(te>56319){(ee-=3)>-1&&Oe.push(239,191,189);continue}else if($e+1===de){(ee-=3)>-1&&Oe.push(239,191,189);continue}xe=te;continue}if(te<56320){(ee-=3)>-1&&Oe.push(239,191,189),xe=te;continue}te=(xe-55296<<10|te-56320)+65536}else xe&&(ee-=3)>-1&&Oe.push(239,191,189);if(xe=null,te<128){if((ee-=1)<0)break;Oe.push(te)}else if(te<2048){if((ee-=2)<0)break;Oe.push(te>>6|192,te&63|128)}else if(te<65536){if((ee-=3)<0)break;Oe.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((ee-=4)<0)break;Oe.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return Oe}function Le(ue){const ee=[];for(let te=0;te<ue.length;++te)ee.push(ue.charCodeAt(te)&255);return ee}function ot(ue,ee){let te,de,xe;const Oe=[];for(let $e=0;$e<ue.length&&!((ee-=2)<0);++$e)te=ue.charCodeAt($e),de=te>>8,xe=te%256,Oe.push(xe),Oe.push(de);return Oe}function Ve(ue){return r.toByteArray(Be(ue))}function We(ue,ee,te,de){let xe;for(xe=0;xe<de&&!(xe+te>=ee.length||xe>=ue.length);++xe)ee[xe+te]=ue[xe];return xe}function it(ue,ee){return ue instanceof ee||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===ee.name}function Ke(ue){return ue!==ue}const Fe=function(){const ue="0123456789abcdef",ee=new Array(256);for(let te=0;te<16;++te){const de=te*16;for(let xe=0;xe<16;++xe)ee[de+xe]=ue[te]+ue[xe]}return ee}();function Ye(ue){return typeof BigInt>"u"?rt:ue}function rt(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$4=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$4,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(f,r){var d=require$$0$2,g=d.Buffer;function m(_,y){for(var x in _)y[x]=_[x]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?f.exports=d:(m(d,r),r.Buffer=v);function v(_,y,x){return g(_,y,x)}v.prototype=Object.create(g.prototype),m(g,v),v.from=function(_,y,x){if(typeof _=="number")throw new TypeError("Argument must not be a number");return g(_,y,x)},v.alloc=function(_,y,x){if(typeof _!="number")throw new TypeError("Argument must be a number");var E=g(_);return y!==void 0?typeof x=="string"?E.fill(y,x):E.fill(y):E.fill(0),E},v.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return g(_)},v.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(_)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$c.exports;hasRequiredBrowser$b=1;var f=65536,r=4294967295;function d(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var g=safeBufferExports.Buffer,m=commonjsGlobal.crypto||commonjsGlobal.msCrypto;m&&m.getRandomValues?browser$c.exports=v:browser$c.exports=d;function v(_,y){if(_>r)throw new RangeError("requested too many random bytes");var x=g.allocUnsafe(_);if(_>0)if(_>f)for(var E=0;E<_;E+=f)m.getRandomValues(x.slice(E,E+f));else m.getRandomValues(x);return typeof y=="function"?process$1.nextTick(function(){y(null,x)}):x}return browser$c.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(r,d){d&&(r.super_=d,r.prototype=Object.create(d.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(r,d){if(d){r.super_=d;var g=function(){};g.prototype=d.prototype,r.prototype=new g,r.prototype.constructor=r}}),inherits_browser.exports}var readableBrowser$1={exports:{}},events$1={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events$1.exports;hasRequiredEvents=1;var f=typeof Reflect=="object"?Reflect:null,r=f&&typeof f.apply=="function"?f.apply:function(W,G,Q){return Function.prototype.apply.call(W,G,Q)},d;f&&typeof f.ownKeys=="function"?d=f.ownKeys:Object.getOwnPropertySymbols?d=function(W){return Object.getOwnPropertyNames(W).concat(Object.getOwnPropertySymbols(W))}:d=function(W){return Object.getOwnPropertyNames(W)};function g(j){console&&console.warn&&console.warn(j)}var m=Number.isNaN||function(W){return W!==W};function v(){v.init.call(this)}events$1.exports=v,events$1.exports.once=F,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var _=10;function y(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(j){if(typeof j!="number"||j<0||m(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");_=j}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(W){if(typeof W!="number"||W<0||m(W))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+W+".");return this._maxListeners=W,this};function x(j){return j._maxListeners===void 0?v.defaultMaxListeners:j._maxListeners}v.prototype.getMaxListeners=function(){return x(this)},v.prototype.emit=function(W){for(var G=[],Q=1;Q<arguments.length;Q++)G.push(arguments[Q]);var re=W==="error",ne=this._events;if(ne!==void 0)re=re&&ne.error===void 0;else if(!re)return!1;if(re){var ie;if(G.length>0&&(ie=G[0]),ie instanceof Error)throw ie;var z=new Error("Unhandled error."+(ie?" ("+ie.message+")":""));throw z.context=ie,z}var T=ne[W];if(T===void 0)return!1;if(typeof T=="function")r(T,this,G);else for(var D=T.length,w=A(T,D),Q=0;Q<D;++Q)r(w[Q],this,G);return!0};function E(j,W,G,Q){var re,ne,ie;if(y(G),ne=j._events,ne===void 0?(ne=j._events=Object.create(null),j._eventsCount=0):(ne.newListener!==void 0&&(j.emit("newListener",W,G.listener?G.listener:G),ne=j._events),ie=ne[W]),ie===void 0)ie=ne[W]=G,++j._eventsCount;else if(typeof ie=="function"?ie=ne[W]=Q?[G,ie]:[ie,G]:Q?ie.unshift(G):ie.push(G),re=x(j),re>0&&ie.length>re&&!ie.warned){ie.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+ie.length+" "+String(W)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=j,z.type=W,z.count=ie.length,g(z)}return j}v.prototype.addListener=function(W,G){return E(this,W,G,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(W,G){return E(this,W,G,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(j,W,G){var Q={fired:!1,wrapFn:void 0,target:j,type:W,listener:G},re=b.bind(Q);return re.listener=G,Q.wrapFn=re,re}v.prototype.once=function(W,G){return y(G),this.on(W,C(this,W,G)),this},v.prototype.prependOnceListener=function(W,G){return y(G),this.prependListener(W,C(this,W,G)),this},v.prototype.removeListener=function(W,G){var Q,re,ne,ie,z;if(y(G),re=this._events,re===void 0)return this;if(Q=re[W],Q===void 0)return this;if(Q===G||Q.listener===G)--this._eventsCount===0?this._events=Object.create(null):(delete re[W],re.removeListener&&this.emit("removeListener",W,Q.listener||G));else if(typeof Q!="function"){for(ne=-1,ie=Q.length-1;ie>=0;ie--)if(Q[ie]===G||Q[ie].listener===G){z=Q[ie].listener,ne=ie;break}if(ne<0)return this;ne===0?Q.shift():M(Q,ne),Q.length===1&&(re[W]=Q[0]),re.removeListener!==void 0&&this.emit("removeListener",W,z||G)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(W){var G,Q,re;if(Q=this._events,Q===void 0)return this;if(Q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Q[W]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Q[W]),this;if(arguments.length===0){var ne=Object.keys(Q),ie;for(re=0;re<ne.length;++re)ie=ne[re],ie!=="removeListener"&&this.removeAllListeners(ie);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=Q[W],typeof G=="function")this.removeListener(W,G);else if(G!==void 0)for(re=G.length-1;re>=0;re--)this.removeListener(W,G[re]);return this};function R(j,W,G){var Q=j._events;if(Q===void 0)return[];var re=Q[W];return re===void 0?[]:typeof re=="function"?G?[re.listener||re]:[re]:G?P(re):A(re,re.length)}v.prototype.listeners=function(W){return R(this,W,!0)},v.prototype.rawListeners=function(W){return R(this,W,!1)},v.listenerCount=function(j,W){return typeof j.listenerCount=="function"?j.listenerCount(W):O.call(j,W)},v.prototype.listenerCount=O;function O(j){var W=this._events;if(W!==void 0){var G=W[j];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function A(j,W){for(var G=new Array(W),Q=0;Q<W;++Q)G[Q]=j[Q];return G}function M(j,W){for(;W+1<j.length;W++)j[W]=j[W+1];j.pop()}function P(j){for(var W=new Array(j.length),G=0;G<W.length;++G)W[G]=j[G].listener||j[G];return W}function F(j,W){return new Promise(function(G,Q){function re(ie){j.removeListener(W,ne),Q(ie)}function ne(){typeof j.removeListener=="function"&&j.removeListener("error",re),G([].slice.call(arguments))}K(j,W,ne,{once:!0}),W!=="error"&&L(j,re,{once:!0})})}function L(j,W,G){typeof j.on=="function"&&K(j,"error",W,G)}function K(j,W,G,Q){if(typeof j.on=="function")Q.once?j.once(W,G):j.on(W,G);else if(typeof j.addEventListener=="function")j.addEventListener(W,function re(ne){Q.once&&j.removeEventListener(W,re),G(ne)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j)}return events$1.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$1={},types$2={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},d=Symbol("test"),g=Object(d);if(typeof d=="string"||Object.prototype.toString.call(d)!=="[object Symbol]"||Object.prototype.toString.call(g)!=="[object Symbol]")return!1;var m=42;r[d]=m;for(var v in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var _=Object.getOwnPropertySymbols(r);if(_.length!==1||_[0]!==d||!Object.prototype.propertyIsEnumerable.call(r,d))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(r,d);if(y.value!==m||y.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var f=requireShams$1();return shams=function(){return f()&&!!Symbol.toStringTag},shams}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var f=requireGOPD();if(f)try{f([],"length")}catch{f=null}return gopd=f,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var f=Object.defineProperty||!1;if(f)try{f({},"a",{value:1})}catch{f=!1}return esDefineProperty=f,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var f=typeof Symbol<"u"&&Symbol,r=requireShams$1();return hasSymbols=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},hasSymbols}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var f="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,d=Math.max,g="[object Function]",m=function(x,E){for(var b=[],C=0;C<x.length;C+=1)b[C]=x[C];for(var R=0;R<E.length;R+=1)b[R+x.length]=E[R];return b},v=function(x,E){for(var b=[],C=E,R=0;C<x.length;C+=1,R+=1)b[R]=x[C];return b},_=function(y,x){for(var E="",b=0;b<y.length;b+=1)E+=y[b],b+1<y.length&&(E+=x);return E};return implementation=function(x){var E=this;if(typeof E!="function"||r.apply(E)!==g)throw new TypeError(f+E);for(var b=v(arguments,1),C,R=function(){if(this instanceof C){var F=E.apply(this,m(b,arguments));return Object(F)===F?F:this}return E.apply(x,m(b,arguments))},O=d(0,E.length-b.length),A=[],M=0;M<O;M++)A[M]="$"+M;if(C=Function("binder","return function ("+_(A,",")+"){ return binder.apply(this,arguments); }")(R),E.prototype){var P=function(){};P.prototype=E.prototype,C.prototype=new P,P.prototype=null}return C},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var f=requireImplementation();return functionBind=Function.prototype.bind||f,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var f=requireFunctionBind(),r=requireFunctionApply(),d=requireFunctionCall(),g=requireReflectApply();return actualApply=g||f.call(d,r),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var f=requireFunctionBind(),r=requireType(),d=requireFunctionCall(),g=requireActualApply();return callBindApplyHelpers=function(v){if(v.length<1||typeof v[0]!="function")throw new r("a function is required");return g(f,d,v)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var f=requireCallBindApplyHelpers(),r=requireGopd(),d=[].__proto__===Array.prototype,g=d&&r&&r(Object.prototype,"__proto__"),m=Object,v=m.getPrototypeOf;return get=g&&typeof g.get=="function"?f([g.get]):typeof v=="function"?function(y){return v(y==null?y:m(y))}:!1,get}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var f=Function.prototype.call,r=Object.prototype.hasOwnProperty,d=requireFunctionBind();return hasown=d.call(f,r),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var f,r=requireEsErrors(),d=require_eval(),g=requireRange(),m=requireRef(),v=requireSyntax(),_=requireType(),y=requireUri(),x=Function,E=function(I){try{return x('"use strict"; return ('+I+").constructor;")()}catch{}},b=requireGopd(),C=requireEsDefineProperty(),R=function(){throw new _},O=b?function(){try{return arguments.callee,R}catch{try{return b(arguments,"callee").get}catch{return R}}}():R,A=requireHasSymbols()(),M=requireGet(),P=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||M,F=requireFunctionApply(),L=requireFunctionCall(),K={},j=typeof Uint8Array>"u"||!P?f:P(Uint8Array),W={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":A&&P?P([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":K,"%AsyncGenerator%":K,"%AsyncGeneratorFunction%":K,"%AsyncIteratorPrototype%":K,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":d,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":K,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&P?P(P([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A||!P?f:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":g,"%ReferenceError%":m,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A||!P?f:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&P?P(""[Symbol.iterator]()):f,"%Symbol%":A?Symbol:f,"%SyntaxError%":v,"%ThrowTypeError%":O,"%TypedArray%":j,"%TypeError%":_,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":y,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet,"%Function.prototype.call%":L,"%Function.prototype.apply%":F,"%Object.defineProperty%":C};if(P)try{null.error}catch(I){var G=P(P(I));W["%Error.prototype%"]=G}var Q=function I(q){var B;if(q==="%AsyncFunction%")B=E("async function () {}");else if(q==="%GeneratorFunction%")B=E("function* () {}");else if(q==="%AsyncGeneratorFunction%")B=E("async function* () {}");else if(q==="%AsyncGenerator%"){var H=I("%AsyncGeneratorFunction%");H&&(B=H.prototype)}else if(q==="%AsyncIteratorPrototype%"){var ce=I("%AsyncGenerator%");ce&&P&&(B=P(ce.prototype))}return W[q]=B,B},re={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ne=requireFunctionBind(),ie=requireHasown(),z=ne.call(L,Array.prototype.concat),T=ne.call(F,Array.prototype.splice),D=ne.call(L,String.prototype.replace),w=ne.call(L,String.prototype.slice),S=ne.call(L,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,k=function(q){var B=w(q,0,1),H=w(q,-1);if(B==="%"&&H!=="%")throw new v("invalid intrinsic syntax, expected closing `%`");if(H==="%"&&B!=="%")throw new v("invalid intrinsic syntax, expected opening `%`");var ce=[];return D(q,$,function(be,ve,Z,J){ce[ce.length]=Z?D(J,N,"$1"):ve||be}),ce},U=function(q,B){var H=q,ce;if(ie(re,H)&&(ce=re[H],H="%"+ce[0]+"%"),ie(W,H)){var be=W[H];if(be===K&&(be=Q(H)),typeof be>"u"&&!B)throw new _("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:ce,name:H,value:be}}throw new v("intrinsic "+q+" does not exist!")};return getIntrinsic=function(q,B){if(typeof q!="string"||q.length===0)throw new _("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new _('"allowMissing" argument must be a boolean');if(S(/^%?[^%]*%?$/,q)===null)throw new v("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var H=k(q),ce=H.length>0?H[0]:"",be=U("%"+ce+"%",B),ve=be.name,Z=be.value,J=!1,ae=be.alias;ae&&(ce=ae[0],T(H,z([0,1],ae)));for(var X=1,Y=!0;X<H.length;X+=1){var oe=H[X],we=w(oe,0,1),Se=w(oe,-1);if((we==='"'||we==="'"||we==="`"||Se==='"'||Se==="'"||Se==="`")&&we!==Se)throw new v("property names with quotes must have matching quotes");if((oe==="constructor"||!Y)&&(J=!0),ce+="."+oe,ve="%"+ce+"%",ie(W,ve))Z=W[ve];else if(Z!=null){if(!(oe in Z)){if(!B)throw new _("base intrinsic for "+q+" exists, but the property is not available.");return}if(b&&X+1>=H.length){var De=b(Z,oe);Y=!!De,Y&&"get"in De&&!("originalValue"in De.get)?Z=De.get:Z=Z[oe]}else Y=ie(Z,oe),Z=Z[oe];Y&&!J&&(W[ve]=Z)}}return Z},getIntrinsic}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var f=requireEsDefineProperty(),r=requireSyntax(),d=requireType(),g=requireGopd();return defineDataProperty=function(v,_,y){if(!v||typeof v!="object"&&typeof v!="function")throw new d("`obj` must be an object or a function`");if(typeof _!="string"&&typeof _!="symbol")throw new d("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new d("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new d("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new d("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new d("`loose`, if provided, must be a boolean");var x=arguments.length>3?arguments[3]:null,E=arguments.length>4?arguments[4]:null,b=arguments.length>5?arguments[5]:null,C=arguments.length>6?arguments[6]:!1,R=!!g&&g(v,_);if(f)f(v,_,{configurable:b===null&&R?R.configurable:!b,enumerable:x===null&&R?R.enumerable:!x,value:y,writable:E===null&&R?R.writable:!E});else if(C||!x&&!E&&!b)v[_]=y;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var f=requireEsDefineProperty(),r=function(){return!!f};return r.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=r,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var f=requireGetIntrinsic(),r=requireDefineDataProperty(),d=requireHasPropertyDescriptors()(),g=requireGopd(),m=requireType(),v=f("%Math.floor%");return setFunctionLength=function(y,x){if(typeof y!="function")throw new m("`fn` is not a function");if(typeof x!="number"||x<0||x>4294967295||v(x)!==x)throw new m("`length` must be a positive 32-bit integer");var E=arguments.length>2&&!!arguments[2],b=!0,C=!0;if("length"in y&&g){var R=g(y,"length");R&&!R.configurable&&(b=!1),R&&!R.writable&&(C=!1)}return(b||C||!E)&&(d?r(y,"length",x,!0,!0):r(y,"length",x)),y},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var f=requireFunctionBind(),r=requireFunctionApply(),d=requireActualApply();return applyBind=function(){return d(f,r,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(f){var r=requireSetFunctionLength(),d=requireEsDefineProperty(),g=requireCallBindApplyHelpers(),m=requireApplyBind();f.exports=function(_){var y=g(arguments),x=_.length-(arguments.length-1);return r(y,1+(x>0?x:0),!0)},d?d(f.exports,"apply",{value:m}):f.exports.apply=m}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var f=requireGetIntrinsic(),r=requireCallBind(),d=r(f("String.prototype.indexOf"));return callBound=function(m,v){var _=f(m,!!v);return typeof _=="function"&&d(m,".prototype.")>-1?r(_):_},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var f=requireShams()(),r=requireCallBound(),d=r("Object.prototype.toString"),g=function(y){return f&&y&&typeof y=="object"&&Symbol.toStringTag in y?!1:d(y)==="[object Arguments]"},m=function(y){return g(y)?!0:y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&d(y)!=="[object Array]"&&d(y.callee)==="[object Function]"},v=function(){return g(arguments)}();return g.isLegacyArguments=m,isArguments=v?g:m,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var f=Object.prototype.toString,r=Function.prototype.toString,d=/^\s*(?:function)?\*/,g=requireShams()(),m=Object.getPrototypeOf,v=function(){if(!g)return!1;try{return Function("return function*() {}")()}catch{}},_;return isGeneratorFunction=function(x){if(typeof x!="function")return!1;if(d.test(r.call(x)))return!0;if(!g){var E=f.call(x);return E==="[object GeneratorFunction]"}if(!m)return!1;if(typeof _>"u"){var b=v();_=b?m(b):!1}return m(x)===_},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var f=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,d,g;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{d=Object.defineProperty({},"length",{get:function(){throw g}}),g={},r(function(){throw 42},null,d)}catch(L){L!==g&&(r=null)}else r=null;var m=/^\s*class\b/,v=function(K){try{var j=f.call(K);return m.test(j)}catch{return!1}},_=function(K){try{return v(K)?!1:(f.call(K),!0)}catch{return!1}},y=Object.prototype.toString,x="[object Object]",E="[object Function]",b="[object GeneratorFunction]",C="[object HTMLAllCollection]",R="[object HTML document.all class]",O="[object HTMLCollection]",A=typeof Symbol=="function"&&!!Symbol.toStringTag,M=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var F=document.all;y.call(F)===y.call(document.all)&&(P=function(K){if((M||!K)&&(typeof K>"u"||typeof K=="object"))try{var j=y.call(K);return(j===C||j===R||j===O||j===x)&&K("")==null}catch{}return!1})}return isCallable=r?function(K){if(P(K))return!0;if(!K||typeof K!="function"&&typeof K!="object")return!1;try{r(K,null,d)}catch(j){if(j!==g)return!1}return!v(K)&&_(K)}:function(K){if(P(K))return!0;if(!K||typeof K!="function"&&typeof K!="object")return!1;if(A)return _(K);if(v(K))return!1;var j=y.call(K);return j!==E&&j!==b&&!/^\[object HTML/.test(j)?!1:_(K)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var f=requireIsCallable(),r=Object.prototype.toString,d=Object.prototype.hasOwnProperty,g=function(x,E,b){for(var C=0,R=x.length;C<R;C++)d.call(x,C)&&(b==null?E(x[C],C,x):E.call(b,x[C],C,x))},m=function(x,E,b){for(var C=0,R=x.length;C<R;C++)b==null?E(x.charAt(C),C,x):E.call(b,x.charAt(C),C,x)},v=function(x,E,b){for(var C in x)d.call(x,C)&&(b==null?E(x[C],C,x):E.call(b,x[C],C,x))},_=function(x,E,b){if(!f(E))throw new TypeError("iterator must be a function");var C;arguments.length>=3&&(C=b),r.call(x)==="[object Array]"?g(x,E,C):typeof x=="string"?m(x,E,C):v(x,E,C)};return forEach_1=_,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var f=requirePossibleTypedArrayNames(),r=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var g=[],m=0;m<f.length;m++)typeof r[f[m]]=="function"&&(g[g.length]=f[m]);return g},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var f=requireForEach(),r=requireAvailableTypedArrays(),d=requireCallBind(),g=requireCallBound(),m=requireGopd(),v=g("Object.prototype.toString"),_=requireShams()(),y=typeof globalThis>"u"?commonjsGlobal:globalThis,x=r(),E=g("String.prototype.slice"),b=Object.getPrototypeOf,C=g("Array.prototype.indexOf",!0)||function(P,F){for(var L=0;L<P.length;L+=1)if(P[L]===F)return L;return-1},R={__proto__:null};_&&m&&b?f(x,function(M){var P=new y[M];if(Symbol.toStringTag in P){var F=b(P),L=m(F,Symbol.toStringTag);if(!L){var K=b(F);L=m(K,Symbol.toStringTag)}R["$"+M]=d(L.get)}}):f(x,function(M){var P=new y[M],F=P.slice||P.set;F&&(R["$"+M]=d(F))});var O=function(P){var F=!1;return f(R,function(L,K){if(!F)try{"$"+L(P)===K&&(F=E(K,1))}catch{}}),F},A=function(P){var F=!1;return f(R,function(L,K){if(!F)try{L(P),F=E(K,1)}catch{}}),F};return whichTypedArray=function(P){if(!P||typeof P!="object")return!1;if(!_){var F=E(v(P),8,-1);return C(x,F)>-1?F:F!=="Object"?!1:A(P)}return m?O(P):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var f=requireWhichTypedArray();return isTypedArray=function(d){return!!f(d)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(f){var r=requireIsArguments(),d=requireIsGeneratorFunction(),g=requireWhichTypedArray(),m=requireIsTypedArray();function v(Be){return Be.call.bind(Be)}var _=typeof BigInt<"u",y=typeof Symbol<"u",x=v(Object.prototype.toString),E=v(Number.prototype.valueOf),b=v(String.prototype.valueOf),C=v(Boolean.prototype.valueOf);if(_)var R=v(BigInt.prototype.valueOf);if(y)var O=v(Symbol.prototype.valueOf);function A(Be,Qe){if(typeof Be!="object")return!1;try{return Qe(Be),!0}catch{return!1}}f.isArgumentsObject=r,f.isGeneratorFunction=d,f.isTypedArray=m;function M(Be){return typeof Promise<"u"&&Be instanceof Promise||Be!==null&&typeof Be=="object"&&typeof Be.then=="function"&&typeof Be.catch=="function"}f.isPromise=M;function P(Be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Be):m(Be)||H(Be)}f.isArrayBufferView=P;function F(Be){return g(Be)==="Uint8Array"}f.isUint8Array=F;function L(Be){return g(Be)==="Uint8ClampedArray"}f.isUint8ClampedArray=L;function K(Be){return g(Be)==="Uint16Array"}f.isUint16Array=K;function j(Be){return g(Be)==="Uint32Array"}f.isUint32Array=j;function W(Be){return g(Be)==="Int8Array"}f.isInt8Array=W;function G(Be){return g(Be)==="Int16Array"}f.isInt16Array=G;function Q(Be){return g(Be)==="Int32Array"}f.isInt32Array=Q;function re(Be){return g(Be)==="Float32Array"}f.isFloat32Array=re;function ne(Be){return g(Be)==="Float64Array"}f.isFloat64Array=ne;function ie(Be){return g(Be)==="BigInt64Array"}f.isBigInt64Array=ie;function z(Be){return g(Be)==="BigUint64Array"}f.isBigUint64Array=z;function T(Be){return x(Be)==="[object Map]"}T.working=typeof Map<"u"&&T(new Map);function D(Be){return typeof Map>"u"?!1:T.working?T(Be):Be instanceof Map}f.isMap=D;function w(Be){return x(Be)==="[object Set]"}w.working=typeof Set<"u"&&w(new Set);function S(Be){return typeof Set>"u"?!1:w.working?w(Be):Be instanceof Set}f.isSet=S;function $(Be){return x(Be)==="[object WeakMap]"}$.working=typeof WeakMap<"u"&&$(new WeakMap);function N(Be){return typeof WeakMap>"u"?!1:$.working?$(Be):Be instanceof WeakMap}f.isWeakMap=N;function k(Be){return x(Be)==="[object WeakSet]"}k.working=typeof WeakSet<"u"&&k(new WeakSet);function U(Be){return k(Be)}f.isWeakSet=U;function I(Be){return x(Be)==="[object ArrayBuffer]"}I.working=typeof ArrayBuffer<"u"&&I(new ArrayBuffer);function q(Be){return typeof ArrayBuffer>"u"?!1:I.working?I(Be):Be instanceof ArrayBuffer}f.isArrayBuffer=q;function B(Be){return x(Be)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function H(Be){return typeof DataView>"u"?!1:B.working?B(Be):Be instanceof DataView}f.isDataView=H;var ce=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function be(Be){return x(Be)==="[object SharedArrayBuffer]"}function ve(Be){return typeof ce>"u"?!1:(typeof be.working>"u"&&(be.working=be(new ce)),be.working?be(Be):Be instanceof ce)}f.isSharedArrayBuffer=ve;function Z(Be){return x(Be)==="[object AsyncFunction]"}f.isAsyncFunction=Z;function J(Be){return x(Be)==="[object Map Iterator]"}f.isMapIterator=J;function ae(Be){return x(Be)==="[object Set Iterator]"}f.isSetIterator=ae;function X(Be){return x(Be)==="[object Generator]"}f.isGeneratorObject=X;function Y(Be){return x(Be)==="[object WebAssembly.Module]"}f.isWebAssemblyCompiledModule=Y;function oe(Be){return A(Be,E)}f.isNumberObject=oe;function we(Be){return A(Be,b)}f.isStringObject=we;function Se(Be){return A(Be,C)}f.isBooleanObject=Se;function De(Be){return _&&A(Be,R)}f.isBigIntObject=De;function qe(Be){return y&&A(Be,O)}f.isSymbolObject=qe;function Ue(Be){return oe(Be)||we(Be)||Se(Be)||De(Be)||qe(Be)}f.isBoxedPrimitive=Ue;function Ne(Be){return typeof Uint8Array<"u"&&(q(Be)||ve(Be))}f.isAnyArrayBuffer=Ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Be){Object.defineProperty(f,Be,{enumerable:!1,value:function(){throw new Error(Be+" is not supported in userland")}})})}(types$2)),types$2}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(f){var r={},d=Object.getOwnPropertyDescriptors||function(ce){for(var be=Object.keys(ce),ve={},Z=0;Z<be.length;Z++)ve[be[Z]]=Object.getOwnPropertyDescriptor(ce,be[Z]);return ve},g=/%[sdj%]/g;f.format=function(H){if(!G(H)){for(var ce=[],be=0;be<arguments.length;be++)ce.push(y(arguments[be]));return ce.join(" ")}for(var be=1,ve=arguments,Z=ve.length,J=String(H).replace(g,function(X){if(X==="%%")return"%";if(be>=Z)return X;switch(X){case"%s":return String(ve[be++]);case"%d":return Number(ve[be++]);case"%j":try{return JSON.stringify(ve[be++])}catch{return"[Circular]"}default:return X}}),ae=ve[be];be<Z;ae=ve[++be])K(ae)||!ie(ae)?J+=" "+ae:J+=" "+y(ae);return J},f.deprecate=function(H,ce){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return H;if(typeof process$1>"u")return function(){return f.deprecate(H,ce).apply(this,arguments)};var be=!1;function ve(){if(!be){if(process$1.throwDeprecation)throw new Error(ce);process$1.traceDeprecation?console.trace(ce):console.error(ce),be=!0}return H.apply(this,arguments)}return ve};var m={},v=/^$/;if(r.NODE_DEBUG){var _=r.NODE_DEBUG;_=_.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),v=new RegExp("^"+_+"$","i")}f.debuglog=function(H){if(H=H.toUpperCase(),!m[H])if(v.test(H)){var ce=process$1.pid;m[H]=function(){var be=f.format.apply(f,arguments);console.error("%s %d: %s",H,ce,be)}}else m[H]=function(){};return m[H]};function y(H,ce){var be={seen:[],stylize:E};return arguments.length>=3&&(be.depth=arguments[2]),arguments.length>=4&&(be.colors=arguments[3]),L(ce)?be.showHidden=ce:ce&&f._extend(be,ce),re(be.showHidden)&&(be.showHidden=!1),re(be.depth)&&(be.depth=2),re(be.colors)&&(be.colors=!1),re(be.customInspect)&&(be.customInspect=!0),be.colors&&(be.stylize=x),C(be,H,be.depth)}f.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function x(H,ce){var be=y.styles[ce];return be?"\x1B["+y.colors[be][0]+"m"+H+"\x1B["+y.colors[be][1]+"m":H}function E(H,ce){return H}function b(H){var ce={};return H.forEach(function(be,ve){ce[be]=!0}),ce}function C(H,ce,be){if(H.customInspect&&ce&&D(ce.inspect)&&ce.inspect!==f.inspect&&!(ce.constructor&&ce.constructor.prototype===ce)){var ve=ce.inspect(be,H);return G(ve)||(ve=C(H,ve,be)),ve}var Z=R(H,ce);if(Z)return Z;var J=Object.keys(ce),ae=b(J);if(H.showHidden&&(J=Object.getOwnPropertyNames(ce)),T(ce)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return O(ce);if(J.length===0){if(D(ce)){var X=ce.name?": "+ce.name:"";return H.stylize("[Function"+X+"]","special")}if(ne(ce))return H.stylize(RegExp.prototype.toString.call(ce),"regexp");if(z(ce))return H.stylize(Date.prototype.toString.call(ce),"date");if(T(ce))return O(ce)}var Y="",oe=!1,we=["{","}"];if(F(ce)&&(oe=!0,we=["[","]"]),D(ce)){var Se=ce.name?": "+ce.name:"";Y=" [Function"+Se+"]"}if(ne(ce)&&(Y=" "+RegExp.prototype.toString.call(ce)),z(ce)&&(Y=" "+Date.prototype.toUTCString.call(ce)),T(ce)&&(Y=" "+O(ce)),J.length===0&&(!oe||ce.length==0))return we[0]+Y+we[1];if(be<0)return ne(ce)?H.stylize(RegExp.prototype.toString.call(ce),"regexp"):H.stylize("[Object]","special");H.seen.push(ce);var De;return oe?De=A(H,ce,be,ae,J):De=J.map(function(qe){return M(H,ce,be,ae,qe,oe)}),H.seen.pop(),P(De,Y,we)}function R(H,ce){if(re(ce))return H.stylize("undefined","undefined");if(G(ce)){var be="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(be,"string")}if(W(ce))return H.stylize(""+ce,"number");if(L(ce))return H.stylize(""+ce,"boolean");if(K(ce))return H.stylize("null","null")}function O(H){return"["+Error.prototype.toString.call(H)+"]"}function A(H,ce,be,ve,Z){for(var J=[],ae=0,X=ce.length;ae<X;++ae)U(ce,String(ae))?J.push(M(H,ce,be,ve,String(ae),!0)):J.push("");return Z.forEach(function(Y){Y.match(/^\d+$/)||J.push(M(H,ce,be,ve,Y,!0))}),J}function M(H,ce,be,ve,Z,J){var ae,X,Y;if(Y=Object.getOwnPropertyDescriptor(ce,Z)||{value:ce[Z]},Y.get?Y.set?X=H.stylize("[Getter/Setter]","special"):X=H.stylize("[Getter]","special"):Y.set&&(X=H.stylize("[Setter]","special")),U(ve,Z)||(ae="["+Z+"]"),X||(H.seen.indexOf(Y.value)<0?(K(be)?X=C(H,Y.value,null):X=C(H,Y.value,be-1),X.indexOf(`
`)>-1&&(J?X=X.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):X=H.stylize("[Circular]","special")),re(ae)){if(J&&Z.match(/^\d+$/))return X;ae=JSON.stringify(""+Z),ae.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ae=ae.slice(1,-1),ae=H.stylize(ae,"name")):(ae=ae.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ae=H.stylize(ae,"string"))}return ae+": "+X}function P(H,ce,be){var ve=H.reduce(function(Z,J){return J.indexOf(`
`)>=0,Z+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?be[0]+(ce===""?"":ce+`
 `)+" "+H.join(`,
  `)+" "+be[1]:be[0]+ce+" "+H.join(", ")+" "+be[1]}f.types=requireTypes();function F(H){return Array.isArray(H)}f.isArray=F;function L(H){return typeof H=="boolean"}f.isBoolean=L;function K(H){return H===null}f.isNull=K;function j(H){return H==null}f.isNullOrUndefined=j;function W(H){return typeof H=="number"}f.isNumber=W;function G(H){return typeof H=="string"}f.isString=G;function Q(H){return typeof H=="symbol"}f.isSymbol=Q;function re(H){return H===void 0}f.isUndefined=re;function ne(H){return ie(H)&&S(H)==="[object RegExp]"}f.isRegExp=ne,f.types.isRegExp=ne;function ie(H){return typeof H=="object"&&H!==null}f.isObject=ie;function z(H){return ie(H)&&S(H)==="[object Date]"}f.isDate=z,f.types.isDate=z;function T(H){return ie(H)&&(S(H)==="[object Error]"||H instanceof Error)}f.isError=T,f.types.isNativeError=T;function D(H){return typeof H=="function"}f.isFunction=D;function w(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||typeof H>"u"}f.isPrimitive=w,f.isBuffer=requireIsBufferBrowser();function S(H){return Object.prototype.toString.call(H)}function $(H){return H<10?"0"+H.toString(10):H.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var H=new Date,ce=[$(H.getHours()),$(H.getMinutes()),$(H.getSeconds())].join(":");return[H.getDate(),N[H.getMonth()],ce].join(" ")}f.log=function(){console.log("%s - %s",k(),f.format.apply(f,arguments))},f.inherits=requireInherits_browser(),f._extend=function(H,ce){if(!ce||!ie(ce))return H;for(var be=Object.keys(ce),ve=be.length;ve--;)H[be[ve]]=ce[be[ve]];return H};function U(H,ce){return Object.prototype.hasOwnProperty.call(H,ce)}var I=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;f.promisify=function(ce){if(typeof ce!="function")throw new TypeError('The "original" argument must be of type Function');if(I&&ce[I]){var be=ce[I];if(typeof be!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(be,I,{value:be,enumerable:!1,writable:!1,configurable:!0}),be}function be(){for(var ve,Z,J=new Promise(function(Y,oe){ve=Y,Z=oe}),ae=[],X=0;X<arguments.length;X++)ae.push(arguments[X]);ae.push(function(Y,oe){Y?Z(Y):ve(oe)});try{ce.apply(this,ae)}catch(Y){Z(Y)}return J}return Object.setPrototypeOf(be,Object.getPrototypeOf(ce)),I&&Object.defineProperty(be,I,{value:be,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(be,d(ce))},f.promisify.custom=I;function q(H,ce){if(!H){var be=new Error("Promise was rejected with a falsy value");be.reason=H,H=be}return ce(H)}function B(H){if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');function ce(){for(var be=[],ve=0;ve<arguments.length;ve++)be.push(arguments[ve]);var Z=be.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var J=this,ae=function(){return Z.apply(J,arguments)};H.apply(this,be).then(function(X){process$1.nextTick(ae.bind(null,null,X))},function(X){process$1.nextTick(q.bind(null,X,ae))})}return Object.setPrototypeOf(ce,Object.getPrototypeOf(H)),Object.defineProperties(ce,d(H)),ce}f.callbackify=B}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function f(A,M){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);M&&(F=F.filter(function(L){return Object.getOwnPropertyDescriptor(A,L).enumerable})),P.push.apply(P,F)}return P}function r(A){for(var M=1;M<arguments.length;M++){var P=arguments[M]!=null?arguments[M]:{};M%2?f(Object(P),!0).forEach(function(F){d(A,F,P[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):f(Object(P)).forEach(function(F){Object.defineProperty(A,F,Object.getOwnPropertyDescriptor(P,F))})}return A}function d(A,M,P){return M=_(M),M in A?Object.defineProperty(A,M,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[M]=P,A}function g(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function m(A,M){for(var P=0;P<M.length;P++){var F=M[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,_(F.key),F)}}function v(A,M,P){return M&&m(A.prototype,M),Object.defineProperty(A,"prototype",{writable:!1}),A}function _(A){var M=y(A,"string");return typeof M=="symbol"?M:String(M)}function y(A,M){if(typeof A!="object"||A===null)return A;var P=A[Symbol.toPrimitive];if(P!==void 0){var F=P.call(A,M||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(A)}var x=require$$0$2,E=x.Buffer,b=requireUtil$1(),C=b.inspect,R=C&&C.custom||"inspect";function O(A,M,P){E.prototype.copy.call(A,M,P)}return buffer_list=function(){function A(){g(this,A),this.head=null,this.tail=null,this.length=0}return v(A,[{key:"push",value:function(P){var F={data:P,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}},{key:"unshift",value:function(P){var F={data:P,next:this.head};this.length===0&&(this.tail=F),this.head=F,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var F=this.head,L=""+F.data;F=F.next;)L+=P+F.data;return L}},{key:"concat",value:function(P){if(this.length===0)return E.alloc(0);for(var F=E.allocUnsafe(P>>>0),L=this.head,K=0;L;)O(L.data,F,K),K+=L.data.length,L=L.next;return F}},{key:"consume",value:function(P,F){var L;return P<this.head.data.length?(L=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?L=this.shift():L=F?this._getString(P):this._getBuffer(P),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var F=this.head,L=1,K=F.data;for(P-=K.length;F=F.next;){var j=F.data,W=P>j.length?j.length:P;if(W===j.length?K+=j:K+=j.slice(0,P),P-=W,P===0){W===j.length?(++L,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=j.slice(W));break}++L}return this.length-=L,K}},{key:"_getBuffer",value:function(P){var F=E.allocUnsafe(P),L=this.head,K=1;for(L.data.copy(F),P-=L.data.length;L=L.next;){var j=L.data,W=P>j.length?j.length:P;if(j.copy(F,F.length-P,0,W),P-=W,P===0){W===j.length?(++K,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=j.slice(W));break}++K}return this.length-=K,F}},{key:R,value:function(P,F){return C(this,r(r({},F),{},{depth:0,customInspect:!1}))}}]),A}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function f(_,y){var x=this,E=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return E||b?(y?y(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(m,this,_)):process$1.nextTick(m,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(C){!y&&C?x._writableState?x._writableState.errorEmitted?process$1.nextTick(d,x):(x._writableState.errorEmitted=!0,process$1.nextTick(r,x,C)):process$1.nextTick(r,x,C):y?(process$1.nextTick(d,x),y(C)):process$1.nextTick(d,x)}),this)}function r(_,y){m(_,y),d(_)}function d(_){_._writableState&&!_._writableState.emitClose||_._readableState&&!_._readableState.emitClose||_.emit("close")}function g(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(_,y){_.emit("error",y)}function v(_,y){var x=_._readableState,E=_._writableState;x&&x.autoDestroy||E&&E.autoDestroy?_.destroy(y):_.emit("error",y)}return destroy_1$1={destroy:f,undestroy:g,errorOrDestroy:v},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function f(y,x){y.prototype=Object.create(x.prototype),y.prototype.constructor=y,y.__proto__=x}var r={};function d(y,x,E){E||(E=Error);function b(R,O,A){return typeof x=="string"?x:x(R,O,A)}var C=function(R){f(O,R);function O(A,M,P){return R.call(this,b(A,M,P))||this}return O}(E);C.prototype.name=E.name,C.prototype.code=y,r[y]=C}function g(y,x){if(Array.isArray(y)){var E=y.length;return y=y.map(function(b){return String(b)}),E>2?"one of ".concat(x," ").concat(y.slice(0,E-1).join(", "),", or ")+y[E-1]:E===2?"one of ".concat(x," ").concat(y[0]," or ").concat(y[1]):"of ".concat(x," ").concat(y[0])}else return"of ".concat(x," ").concat(String(y))}function m(y,x,E){return y.substr(0,x.length)===x}function v(y,x,E){return(E===void 0||E>y.length)&&(E=y.length),y.substring(E-x.length,E)===x}function _(y,x,E){return typeof E!="number"&&(E=0),E+x.length>y.length?!1:y.indexOf(x,E)!==-1}return d("ERR_INVALID_OPT_VALUE",function(y,x){return'The value "'+x+'" is invalid for option "'+y+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(y,x,E){var b;typeof x=="string"&&m(x,"not ")?(b="must not be",x=x.replace(/^not /,"")):b="must be";var C;if(v(y," argument"))C="The ".concat(y," ").concat(b," ").concat(g(x,"type"));else{var R=_(y,".")?"property":"argument";C='The "'.concat(y,'" ').concat(R," ").concat(b," ").concat(g(x,"type"))}return C+=". Received type ".concat(typeof E),C},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=r,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var f=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function r(g,m,v){return g.highWaterMark!=null?g.highWaterMark:m?g[v]:null}function d(g,m,v,_){var y=r(m,_,v);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var x=_?v:"highWaterMark";throw new f(x,y)}return Math.floor(y)}return g.objectMode?16:16*1024}return state={getHighWaterMark:d},state}var browser$b,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$b;hasRequiredBrowser$a=1,browser$b=f;function f(d,g){if(r("noDeprecation"))return d;var m=!1;function v(){if(!m){if(r("throwDeprecation"))throw new Error(g);r("traceDeprecation")?console.trace(g):console.warn(g),m=!0}return d.apply(this,arguments)}return v}function r(d){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var g=commonjsGlobal.localStorage[d];return g==null?!1:String(g).toLowerCase()==="true"}return browser$b}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=re;function f(ve){var Z=this;this.next=null,this.entry=null,this.finish=function(){be(Z,ve)}}var r;re.WritableState=G;var d={deprecate:requireBrowser$a()},g=requireStreamBrowser$1(),m=require$$0$2.Buffer,v=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _(ve){return m.from(ve)}function y(ve){return m.isBuffer(ve)||ve instanceof v}var x=requireDestroy$1(),E=requireState(),b=E.getHighWaterMark,C=requireErrorsBrowser().codes,R=C.ERR_INVALID_ARG_TYPE,O=C.ERR_METHOD_NOT_IMPLEMENTED,A=C.ERR_MULTIPLE_CALLBACK,M=C.ERR_STREAM_CANNOT_PIPE,P=C.ERR_STREAM_DESTROYED,F=C.ERR_STREAM_NULL_VALUES,L=C.ERR_STREAM_WRITE_AFTER_END,K=C.ERR_UNKNOWN_ENCODING,j=x.errorOrDestroy;requireInherits_browser()(re,g);function W(){}function G(ve,Z,J){r=r||require_stream_duplex$1(),ve=ve||{},typeof J!="boolean"&&(J=Z instanceof r),this.objectMode=!!ve.objectMode,J&&(this.objectMode=this.objectMode||!!ve.writableObjectMode),this.highWaterMark=b(this,ve,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ae=ve.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){$(Z,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ve.emitClose!==!1,this.autoDestroy=!!ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}G.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,J=[];Z;)J.push(Z),Z=Z.next;return J},function(){try{Object.defineProperty(G.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(Z){return Q.call(this,Z)?!0:this!==re?!1:Z&&Z._writableState instanceof G}})):Q=function(Z){return Z instanceof this};function re(ve){r=r||require_stream_duplex$1();var Z=this instanceof r;if(!Z&&!Q.call(re,this))return new re(ve);this._writableState=new G(ve,this,Z),this.writable=!0,ve&&(typeof ve.write=="function"&&(this._write=ve.write),typeof ve.writev=="function"&&(this._writev=ve.writev),typeof ve.destroy=="function"&&(this._destroy=ve.destroy),typeof ve.final=="function"&&(this._final=ve.final)),g.call(this)}re.prototype.pipe=function(){j(this,new M)};function ne(ve,Z){var J=new L;j(ve,J),process$1.nextTick(Z,J)}function ie(ve,Z,J,ae){var X;return J===null?X=new F:typeof J!="string"&&!Z.objectMode&&(X=new R("chunk",["string","Buffer"],J)),X?(j(ve,X),process$1.nextTick(ae,X),!1):!0}re.prototype.write=function(ve,Z,J){var ae=this._writableState,X=!1,Y=!ae.objectMode&&y(ve);return Y&&!m.isBuffer(ve)&&(ve=_(ve)),typeof Z=="function"&&(J=Z,Z=null),Y?Z="buffer":Z||(Z=ae.defaultEncoding),typeof J!="function"&&(J=W),ae.ending?ne(this,J):(Y||ie(this,ae,ve,J))&&(ae.pendingcb++,X=T(this,ae,Y,ve,Z,J)),X},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var ve=this._writableState;ve.corked&&(ve.corked--,!ve.writing&&!ve.corked&&!ve.bufferProcessing&&ve.bufferedRequest&&U(this,ve))},re.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new K(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function z(ve,Z,J){return!ve.objectMode&&ve.decodeStrings!==!1&&typeof Z=="string"&&(Z=m.from(Z,J)),Z}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function T(ve,Z,J,ae,X,Y){if(!J){var oe=z(Z,ae,X);ae!==oe&&(J=!0,X="buffer",ae=oe)}var we=Z.objectMode?1:ae.length;Z.length+=we;var Se=Z.length<Z.highWaterMark;if(Se||(Z.needDrain=!0),Z.writing||Z.corked){var De=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:ae,encoding:X,isBuf:J,callback:Y,next:null},De?De.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else D(ve,Z,!1,we,ae,X,Y);return Se}function D(ve,Z,J,ae,X,Y,oe){Z.writelen=ae,Z.writecb=oe,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new P("write")):J?ve._writev(X,Z.onwrite):ve._write(X,Y,Z.onwrite),Z.sync=!1}function w(ve,Z,J,ae,X){--Z.pendingcb,J?(process$1.nextTick(X,ae),process$1.nextTick(H,ve,Z),ve._writableState.errorEmitted=!0,j(ve,ae)):(X(ae),ve._writableState.errorEmitted=!0,j(ve,ae),H(ve,Z))}function S(ve){ve.writing=!1,ve.writecb=null,ve.length-=ve.writelen,ve.writelen=0}function $(ve,Z){var J=ve._writableState,ae=J.sync,X=J.writecb;if(typeof X!="function")throw new A;if(S(J),Z)w(ve,J,ae,Z,X);else{var Y=I(J)||ve.destroyed;!Y&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&U(ve,J),ae?process$1.nextTick(N,ve,J,Y,X):N(ve,J,Y,X)}}function N(ve,Z,J,ae){J||k(ve,Z),Z.pendingcb--,ae(),H(ve,Z)}function k(ve,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,ve.emit("drain"))}function U(ve,Z){Z.bufferProcessing=!0;var J=Z.bufferedRequest;if(ve._writev&&J&&J.next){var ae=Z.bufferedRequestCount,X=new Array(ae),Y=Z.corkedRequestsFree;Y.entry=J;for(var oe=0,we=!0;J;)X[oe]=J,J.isBuf||(we=!1),J=J.next,oe+=1;X.allBuffers=we,D(ve,Z,!0,Z.length,X,"",Y.finish),Z.pendingcb++,Z.lastBufferedRequest=null,Y.next?(Z.corkedRequestsFree=Y.next,Y.next=null):Z.corkedRequestsFree=new f(Z),Z.bufferedRequestCount=0}else{for(;J;){var Se=J.chunk,De=J.encoding,qe=J.callback,Ue=Z.objectMode?1:Se.length;if(D(ve,Z,!1,Ue,Se,De,qe),J=J.next,Z.bufferedRequestCount--,Z.writing)break}J===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=J,Z.bufferProcessing=!1}re.prototype._write=function(ve,Z,J){J(new O("_write()"))},re.prototype._writev=null,re.prototype.end=function(ve,Z,J){var ae=this._writableState;return typeof ve=="function"?(J=ve,ve=null,Z=null):typeof Z=="function"&&(J=Z,Z=null),ve!=null&&this.write(ve,Z),ae.corked&&(ae.corked=1,this.uncork()),ae.ending||ce(this,ae,J),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function I(ve){return ve.ending&&ve.length===0&&ve.bufferedRequest===null&&!ve.finished&&!ve.writing}function q(ve,Z){ve._final(function(J){Z.pendingcb--,J&&j(ve,J),Z.prefinished=!0,ve.emit("prefinish"),H(ve,Z)})}function B(ve,Z){!Z.prefinished&&!Z.finalCalled&&(typeof ve._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,process$1.nextTick(q,ve,Z)):(Z.prefinished=!0,ve.emit("prefinish")))}function H(ve,Z){var J=I(Z);if(J&&(B(ve,Z),Z.pendingcb===0&&(Z.finished=!0,ve.emit("finish"),Z.autoDestroy))){var ae=ve._readableState;(!ae||ae.autoDestroy&&ae.endEmitted)&&ve.destroy()}return J}function ce(ve,Z,J){Z.ending=!0,H(ve,Z),J&&(Z.finished?process$1.nextTick(J):ve.once("finish",J)),Z.ended=!0,ve.writable=!1}function be(ve,Z,J){var ae=ve.entry;for(ve.entry=null;ae;){var X=ae.callback;Z.pendingcb--,X(J),ae=ae.next}Z.corkedRequestsFree.next=ve}return Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),re.prototype.destroy=x.destroy,re.prototype._undestroy=x.undestroy,re.prototype._destroy=function(ve,Z){Z(ve)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var f=Object.keys||function(E){var b=[];for(var C in E)b.push(C);return b};_stream_duplex$1=_;var r=require_stream_readable$1(),d=require_stream_writable$1();requireInherits_browser()(_,r);for(var g=f(d.prototype),m=0;m<g.length;m++){var v=g[m];_.prototype[v]||(_.prototype[v]=d.prototype[v])}function _(E){if(!(this instanceof _))return new _(E);r.call(this,E),d.call(this,E),this.allowHalfOpen=!0,E&&(E.readable===!1&&(this.readable=!1),E.writable===!1&&(this.writable=!1),E.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process$1.nextTick(x,this)}function x(E){E.end()}return Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var f=safeBufferExports.Buffer,r=f.isEncoding||function(F){switch(F=""+F,F&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(F){if(!F)return"utf8";for(var L;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(L)return;F=(""+F).toLowerCase(),L=!0}}function g(F){var L=d(F);if(typeof L!="string"&&(f.isEncoding===r||!r(F)))throw new Error("Unknown encoding: "+F);return L||F}string_decoder.StringDecoder=m;function m(F){this.encoding=g(F);var L;switch(this.encoding){case"utf16le":this.text=C,this.end=R,L=4;break;case"utf8":this.fillLast=x,L=4;break;case"base64":this.text=O,this.end=A,L=3;break;default:this.write=M,this.end=P;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(L)}m.prototype.write=function(F){if(F.length===0)return"";var L,K;if(this.lastNeed){if(L=this.fillLast(F),L===void 0)return"";K=this.lastNeed,this.lastNeed=0}else K=0;return K<F.length?L?L+this.text(F,K):this.text(F,K):L||""},m.prototype.end=b,m.prototype.text=E,m.prototype.fillLast=function(F){if(this.lastNeed<=F.length)return F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,F.length),this.lastNeed-=F.length};function v(F){return F<=127?0:F>>5===6?2:F>>4===14?3:F>>3===30?4:F>>6===2?-1:-2}function _(F,L,K){var j=L.length-1;if(j<K)return 0;var W=v(L[j]);return W>=0?(W>0&&(F.lastNeed=W-1),W):--j<K||W===-2?0:(W=v(L[j]),W>=0?(W>0&&(F.lastNeed=W-2),W):--j<K||W===-2?0:(W=v(L[j]),W>=0?(W>0&&(W===2?W=0:F.lastNeed=W-3),W):0))}function y(F,L,K){if((L[0]&192)!==128)return F.lastNeed=0,"";if(F.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return F.lastNeed=1,"";if(F.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return F.lastNeed=2,""}}function x(F){var L=this.lastTotal-this.lastNeed,K=y(this,F);if(K!==void 0)return K;if(this.lastNeed<=F.length)return F.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,L,0,F.length),this.lastNeed-=F.length}function E(F,L){var K=_(this,F,L);if(!this.lastNeed)return F.toString("utf8",L);this.lastTotal=K;var j=F.length-(K-this.lastNeed);return F.copy(this.lastChar,0,j),F.toString("utf8",L,j)}function b(F){var L=F&&F.length?this.write(F):"";return this.lastNeed?L+"":L}function C(F,L){if((F.length-L)%2===0){var K=F.toString("utf16le",L);if(K){var j=K.charCodeAt(K.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1],K.slice(0,-1)}return K}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=F[F.length-1],F.toString("utf16le",L,F.length-1)}function R(F){var L=F&&F.length?this.write(F):"";if(this.lastNeed){var K=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,K)}return L}function O(F,L){var K=(F.length-L)%3;return K===0?F.toString("base64",L):(this.lastNeed=3-K,this.lastTotal=3,K===1?this.lastChar[0]=F[F.length-1]:(this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1]),F.toString("base64",L,F.length-K))}function A(F){var L=F&&F.length?this.write(F):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function M(F){return F.toString(this.encoding)}function P(F){return F&&F.length?this.write(F):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var f=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function r(v){var _=!1;return function(){if(!_){_=!0;for(var y=arguments.length,x=new Array(y),E=0;E<y;E++)x[E]=arguments[E];v.apply(this,x)}}}function d(){}function g(v){return v.setHeader&&typeof v.abort=="function"}function m(v,_,y){if(typeof _=="function")return m(v,null,_);_||(_={}),y=r(y||d);var x=_.readable||_.readable!==!1&&v.readable,E=_.writable||_.writable!==!1&&v.writable,b=function(){v.writable||R()},C=v._writableState&&v._writableState.finished,R=function(){E=!1,C=!0,x||y.call(v)},O=v._readableState&&v._readableState.endEmitted,A=function(){x=!1,O=!0,E||y.call(v)},M=function(K){y.call(v,K)},P=function(){var K;if(x&&!O)return(!v._readableState||!v._readableState.ended)&&(K=new f),y.call(v,K);if(E&&!C)return(!v._writableState||!v._writableState.ended)&&(K=new f),y.call(v,K)},F=function(){v.req.on("finish",R)};return g(v)?(v.on("complete",R),v.on("abort",P),v.req?F():v.on("request",F)):E&&!v._writableState&&(v.on("end",b),v.on("close",b)),v.on("end",A),v.on("finish",R),_.error!==!1&&v.on("error",M),v.on("close",P),function(){v.removeListener("complete",R),v.removeListener("abort",P),v.removeListener("request",F),v.req&&v.req.removeListener("finish",R),v.removeListener("end",b),v.removeListener("close",b),v.removeListener("finish",R),v.removeListener("end",A),v.removeListener("error",M),v.removeListener("close",P)}}return endOfStream=m,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var f;function r(K,j,W){return j=d(j),j in K?Object.defineProperty(K,j,{value:W,enumerable:!0,configurable:!0,writable:!0}):K[j]=W,K}function d(K){var j=g(K,"string");return typeof j=="symbol"?j:String(j)}function g(K,j){if(typeof K!="object"||K===null)return K;var W=K[Symbol.toPrimitive];if(W!==void 0){var G=W.call(K,j||"default");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(K)}var m=requireEndOfStream(),v=Symbol("lastResolve"),_=Symbol("lastReject"),y=Symbol("error"),x=Symbol("ended"),E=Symbol("lastPromise"),b=Symbol("handlePromise"),C=Symbol("stream");function R(K,j){return{value:K,done:j}}function O(K){var j=K[v];if(j!==null){var W=K[C].read();W!==null&&(K[E]=null,K[v]=null,K[_]=null,j(R(W,!1)))}}function A(K){process$1.nextTick(O,K)}function M(K,j){return function(W,G){K.then(function(){if(j[x]){W(R(void 0,!0));return}j[b](W,G)},G)}}var P=Object.getPrototypeOf(function(){}),F=Object.setPrototypeOf((f={get stream(){return this[C]},next:function(){var j=this,W=this[y];if(W!==null)return Promise.reject(W);if(this[x])return Promise.resolve(R(void 0,!0));if(this[C].destroyed)return new Promise(function(ne,ie){process$1.nextTick(function(){j[y]?ie(j[y]):ne(R(void 0,!0))})});var G=this[E],Q;if(G)Q=new Promise(M(G,this));else{var re=this[C].read();if(re!==null)return Promise.resolve(R(re,!1));Q=new Promise(this[b])}return this[E]=Q,Q}},r(f,Symbol.asyncIterator,function(){return this}),r(f,"return",function(){var j=this;return new Promise(function(W,G){j[C].destroy(null,function(Q){if(Q){G(Q);return}W(R(void 0,!0))})})}),f),P),L=function(j){var W,G=Object.create(F,(W={},r(W,C,{value:j,writable:!0}),r(W,v,{value:null,writable:!0}),r(W,_,{value:null,writable:!0}),r(W,y,{value:null,writable:!0}),r(W,x,{value:j._readableState.endEmitted,writable:!0}),r(W,b,{value:function(re,ne){var ie=G[C].read();ie?(G[E]=null,G[v]=null,G[_]=null,re(R(ie,!1))):(G[v]=re,G[_]=ne)},writable:!0}),W));return G[E]=null,m(j,function(Q){if(Q&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var re=G[_];re!==null&&(G[E]=null,G[v]=null,G[_]=null,re(Q)),G[y]=Q;return}var ne=G[v];ne!==null&&(G[E]=null,G[v]=null,G[_]=null,ne(R(void 0,!0))),G[x]=!0}),j.on("readable",A.bind(null,G)),G};return async_iterator=L,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=ne;var f;ne.ReadableState=re,requireEvents().EventEmitter;var r=function(oe,we){return oe.listeners(we).length},d=requireStreamBrowser$1(),g=require$$0$2.Buffer,m=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(Y){return g.from(Y)}function _(Y){return g.isBuffer(Y)||Y instanceof m}var y=requireUtil$1(),x;y&&y.debuglog?x=y.debuglog("stream"):x=function(){};var E=requireBuffer_list(),b=requireDestroy$1(),C=requireState(),R=C.getHighWaterMark,O=requireErrorsBrowser().codes,A=O.ERR_INVALID_ARG_TYPE,M=O.ERR_STREAM_PUSH_AFTER_EOF,P=O.ERR_METHOD_NOT_IMPLEMENTED,F=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,K,j;requireInherits_browser()(ne,d);var W=b.errorOrDestroy,G=["error","close","destroy","pause","resume"];function Q(Y,oe,we){if(typeof Y.prependListener=="function")return Y.prependListener(oe,we);!Y._events||!Y._events[oe]?Y.on(oe,we):Array.isArray(Y._events[oe])?Y._events[oe].unshift(we):Y._events[oe]=[we,Y._events[oe]]}function re(Y,oe,we){f=f||require_stream_duplex$1(),Y=Y||{},typeof we!="boolean"&&(we=oe instanceof f),this.objectMode=!!Y.objectMode,we&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=R(this,Y,"readableHighWaterMark",we),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(L||(L=requireString_decoder().StringDecoder),this.decoder=new L(Y.encoding),this.encoding=Y.encoding)}function ne(Y){if(f=f||require_stream_duplex$1(),!(this instanceof ne))return new ne(Y);var oe=this instanceof f;this._readableState=new re(Y,this,oe),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),d.call(this)}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(oe){this._readableState&&(this._readableState.destroyed=oe)}}),ne.prototype.destroy=b.destroy,ne.prototype._undestroy=b.undestroy,ne.prototype._destroy=function(Y,oe){oe(Y)},ne.prototype.push=function(Y,oe){var we=this._readableState,Se;return we.objectMode?Se=!0:typeof Y=="string"&&(oe=oe||we.defaultEncoding,oe!==we.encoding&&(Y=g.from(Y,oe),oe=""),Se=!0),ie(this,Y,oe,!1,Se)},ne.prototype.unshift=function(Y){return ie(this,Y,null,!0,!1)};function ie(Y,oe,we,Se,De){x("readableAddChunk",oe);var qe=Y._readableState;if(oe===null)qe.reading=!1,$(Y,qe);else{var Ue;if(De||(Ue=T(qe,oe)),Ue)W(Y,Ue);else if(qe.objectMode||oe&&oe.length>0)if(typeof oe!="string"&&!qe.objectMode&&Object.getPrototypeOf(oe)!==g.prototype&&(oe=v(oe)),Se)qe.endEmitted?W(Y,new F):z(Y,qe,oe,!0);else if(qe.ended)W(Y,new M);else{if(qe.destroyed)return!1;qe.reading=!1,qe.decoder&&!we?(oe=qe.decoder.write(oe),qe.objectMode||oe.length!==0?z(Y,qe,oe,!1):U(Y,qe)):z(Y,qe,oe,!1)}else Se||(qe.reading=!1,U(Y,qe))}return!qe.ended&&(qe.length<qe.highWaterMark||qe.length===0)}function z(Y,oe,we,Se){oe.flowing&&oe.length===0&&!oe.sync?(oe.awaitDrain=0,Y.emit("data",we)):(oe.length+=oe.objectMode?1:we.length,Se?oe.buffer.unshift(we):oe.buffer.push(we),oe.needReadable&&N(Y)),U(Y,oe)}function T(Y,oe){var we;return!_(oe)&&typeof oe!="string"&&oe!==void 0&&!Y.objectMode&&(we=new A("chunk",["string","Buffer","Uint8Array"],oe)),we}ne.prototype.isPaused=function(){return this._readableState.flowing===!1},ne.prototype.setEncoding=function(Y){L||(L=requireString_decoder().StringDecoder);var oe=new L(Y);this._readableState.decoder=oe,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,Se="";we!==null;)Se+=oe.write(we.data),we=we.next;return this._readableState.buffer.clear(),Se!==""&&this._readableState.buffer.push(Se),this._readableState.length=Se.length,this};var D=1073741824;function w(Y){return Y>=D?Y=D:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function S(Y,oe){return Y<=0||oe.length===0&&oe.ended?0:oe.objectMode?1:Y!==Y?oe.flowing&&oe.length?oe.buffer.head.data.length:oe.length:(Y>oe.highWaterMark&&(oe.highWaterMark=w(Y)),Y<=oe.length?Y:oe.ended?oe.length:(oe.needReadable=!0,0))}ne.prototype.read=function(Y){x("read",Y),Y=parseInt(Y,10);var oe=this._readableState,we=Y;if(Y!==0&&(oe.emittedReadable=!1),Y===0&&oe.needReadable&&((oe.highWaterMark!==0?oe.length>=oe.highWaterMark:oe.length>0)||oe.ended))return x("read: emitReadable",oe.length,oe.ended),oe.length===0&&oe.ended?J(this):N(this),null;if(Y=S(Y,oe),Y===0&&oe.ended)return oe.length===0&&J(this),null;var Se=oe.needReadable;x("need readable",Se),(oe.length===0||oe.length-Y<oe.highWaterMark)&&(Se=!0,x("length less than watermark",Se)),oe.ended||oe.reading?(Se=!1,x("reading or ended",Se)):Se&&(x("do read"),oe.reading=!0,oe.sync=!0,oe.length===0&&(oe.needReadable=!0),this._read(oe.highWaterMark),oe.sync=!1,oe.reading||(Y=S(we,oe)));var De;return Y>0?De=Z(Y,oe):De=null,De===null?(oe.needReadable=oe.length<=oe.highWaterMark,Y=0):(oe.length-=Y,oe.awaitDrain=0),oe.length===0&&(oe.ended||(oe.needReadable=!0),we!==Y&&oe.ended&&J(this)),De!==null&&this.emit("data",De),De};function $(Y,oe){if(x("onEofChunk"),!oe.ended){if(oe.decoder){var we=oe.decoder.end();we&&we.length&&(oe.buffer.push(we),oe.length+=oe.objectMode?1:we.length)}oe.ended=!0,oe.sync?N(Y):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,k(Y)))}}function N(Y){var oe=Y._readableState;x("emitReadable",oe.needReadable,oe.emittedReadable),oe.needReadable=!1,oe.emittedReadable||(x("emitReadable",oe.flowing),oe.emittedReadable=!0,process$1.nextTick(k,Y))}function k(Y){var oe=Y._readableState;x("emitReadable_",oe.destroyed,oe.length,oe.ended),!oe.destroyed&&(oe.length||oe.ended)&&(Y.emit("readable"),oe.emittedReadable=!1),oe.needReadable=!oe.flowing&&!oe.ended&&oe.length<=oe.highWaterMark,ve(Y)}function U(Y,oe){oe.readingMore||(oe.readingMore=!0,process$1.nextTick(I,Y,oe))}function I(Y,oe){for(;!oe.reading&&!oe.ended&&(oe.length<oe.highWaterMark||oe.flowing&&oe.length===0);){var we=oe.length;if(x("maybeReadMore read 0"),Y.read(0),we===oe.length)break}oe.readingMore=!1}ne.prototype._read=function(Y){W(this,new P("_read()"))},ne.prototype.pipe=function(Y,oe){var we=this,Se=this._readableState;switch(Se.pipesCount){case 0:Se.pipes=Y;break;case 1:Se.pipes=[Se.pipes,Y];break;default:Se.pipes.push(Y);break}Se.pipesCount+=1,x("pipe count=%d opts=%j",Se.pipesCount,oe);var De=(!oe||oe.end!==!1)&&Y!==process$1.stdout&&Y!==process$1.stderr,qe=De?Ne:Ke;Se.endEmitted?process$1.nextTick(qe):we.once("end",qe),Y.on("unpipe",Ue);function Ue(Fe,Ye){x("onunpipe"),Fe===we&&Ye&&Ye.hasUnpiped===!1&&(Ye.hasUnpiped=!0,Le())}function Ne(){x("onend"),Y.end()}var Be=q(we);Y.on("drain",Be);var Qe=!1;function Le(){x("cleanup"),Y.removeListener("close",We),Y.removeListener("finish",it),Y.removeListener("drain",Be),Y.removeListener("error",Ve),Y.removeListener("unpipe",Ue),we.removeListener("end",Ne),we.removeListener("end",Ke),we.removeListener("data",ot),Qe=!0,Se.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&Be()}we.on("data",ot);function ot(Fe){x("ondata");var Ye=Y.write(Fe);x("dest.write",Ye),Ye===!1&&((Se.pipesCount===1&&Se.pipes===Y||Se.pipesCount>1&&X(Se.pipes,Y)!==-1)&&!Qe&&(x("false write response, pause",Se.awaitDrain),Se.awaitDrain++),we.pause())}function Ve(Fe){x("onerror",Fe),Ke(),Y.removeListener("error",Ve),r(Y,"error")===0&&W(Y,Fe)}Q(Y,"error",Ve);function We(){Y.removeListener("finish",it),Ke()}Y.once("close",We);function it(){x("onfinish"),Y.removeListener("close",We),Ke()}Y.once("finish",it);function Ke(){x("unpipe"),we.unpipe(Y)}return Y.emit("pipe",we),Se.flowing||(x("pipe resume"),we.resume()),Y};function q(Y){return function(){var we=Y._readableState;x("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&r(Y,"data")&&(we.flowing=!0,ve(Y))}}ne.prototype.unpipe=function(Y){var oe=this._readableState,we={hasUnpiped:!1};if(oe.pipesCount===0)return this;if(oe.pipesCount===1)return Y&&Y!==oe.pipes?this:(Y||(Y=oe.pipes),oe.pipes=null,oe.pipesCount=0,oe.flowing=!1,Y&&Y.emit("unpipe",this,we),this);if(!Y){var Se=oe.pipes,De=oe.pipesCount;oe.pipes=null,oe.pipesCount=0,oe.flowing=!1;for(var qe=0;qe<De;qe++)Se[qe].emit("unpipe",this,{hasUnpiped:!1});return this}var Ue=X(oe.pipes,Y);return Ue===-1?this:(oe.pipes.splice(Ue,1),oe.pipesCount-=1,oe.pipesCount===1&&(oe.pipes=oe.pipes[0]),Y.emit("unpipe",this,we),this)},ne.prototype.on=function(Y,oe){var we=d.prototype.on.call(this,Y,oe),Se=this._readableState;return Y==="data"?(Se.readableListening=this.listenerCount("readable")>0,Se.flowing!==!1&&this.resume()):Y==="readable"&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,x("on readable",Se.length,Se.reading),Se.length?N(this):Se.reading||process$1.nextTick(H,this)),we},ne.prototype.addListener=ne.prototype.on,ne.prototype.removeListener=function(Y,oe){var we=d.prototype.removeListener.call(this,Y,oe);return Y==="readable"&&process$1.nextTick(B,this),we},ne.prototype.removeAllListeners=function(Y){var oe=d.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&process$1.nextTick(B,this),oe};function B(Y){var oe=Y._readableState;oe.readableListening=Y.listenerCount("readable")>0,oe.resumeScheduled&&!oe.paused?oe.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function H(Y){x("readable nexttick read 0"),Y.read(0)}ne.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(x("resume"),Y.flowing=!Y.readableListening,ce(this,Y)),Y.paused=!1,this};function ce(Y,oe){oe.resumeScheduled||(oe.resumeScheduled=!0,process$1.nextTick(be,Y,oe))}function be(Y,oe){x("resume",oe.reading),oe.reading||Y.read(0),oe.resumeScheduled=!1,Y.emit("resume"),ve(Y),oe.flowing&&!oe.reading&&Y.read(0)}ne.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ve(Y){var oe=Y._readableState;for(x("flow",oe.flowing);oe.flowing&&Y.read()!==null;);}ne.prototype.wrap=function(Y){var oe=this,we=this._readableState,Se=!1;Y.on("end",function(){if(x("wrapped end"),we.decoder&&!we.ended){var Ue=we.decoder.end();Ue&&Ue.length&&oe.push(Ue)}oe.push(null)}),Y.on("data",function(Ue){if(x("wrapped data"),we.decoder&&(Ue=we.decoder.write(Ue)),!(we.objectMode&&Ue==null)&&!(!we.objectMode&&(!Ue||!Ue.length))){var Ne=oe.push(Ue);Ne||(Se=!0,Y.pause())}});for(var De in Y)this[De]===void 0&&typeof Y[De]=="function"&&(this[De]=function(Ne){return function(){return Y[Ne].apply(Y,arguments)}}(De));for(var qe=0;qe<G.length;qe++)Y.on(G[qe],this.emit.bind(this,G[qe]));return this._read=function(Ue){x("wrapped _read",Ue),Se&&(Se=!1,Y.resume())},this},typeof Symbol=="function"&&(ne.prototype[Symbol.asyncIterator]=function(){return K===void 0&&(K=requireAsync_iterator()),K(this)}),Object.defineProperty(ne.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ne.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ne.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(oe){this._readableState&&(this._readableState.flowing=oe)}}),ne._fromList=Z,Object.defineProperty(ne.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(Y,oe){if(oe.length===0)return null;var we;return oe.objectMode?we=oe.buffer.shift():!Y||Y>=oe.length?(oe.decoder?we=oe.buffer.join(""):oe.buffer.length===1?we=oe.buffer.first():we=oe.buffer.concat(oe.length),oe.buffer.clear()):we=oe.buffer.consume(Y,oe.decoder),we}function J(Y){var oe=Y._readableState;x("endReadable",oe.endEmitted),oe.endEmitted||(oe.ended=!0,process$1.nextTick(ae,oe,Y))}function ae(Y,oe){if(x("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,oe.readable=!1,oe.emit("end"),Y.autoDestroy)){var we=oe._writableState;(!we||we.autoDestroy&&we.finished)&&oe.destroy()}}typeof Symbol=="function"&&(ne.from=function(Y,oe){return j===void 0&&(j=requireFromBrowser()),j(ne,Y,oe)});function X(Y,oe){for(var we=0,Se=Y.length;we<Se;we++)if(Y[we]===oe)return we;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=y;var f=requireErrorsBrowser().codes,r=f.ERR_METHOD_NOT_IMPLEMENTED,d=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,m=f.ERR_TRANSFORM_WITH_LENGTH_0,v=require_stream_duplex$1();requireInherits_browser()(y,v);function _(b,C){var R=this._transformState;R.transforming=!1;var O=R.writecb;if(O===null)return this.emit("error",new d);R.writechunk=null,R.writecb=null,C!=null&&this.push(C),O(b);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function y(b){if(!(this instanceof y))return new y(b);v.call(this,b),this._transformState={afterTransform:_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",x)}function x(){var b=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(C,R){E(b,C,R)}):E(this,null,null)}y.prototype.push=function(b,C){return this._transformState.needTransform=!1,v.prototype.push.call(this,b,C)},y.prototype._transform=function(b,C,R){R(new r("_transform()"))},y.prototype._write=function(b,C,R){var O=this._transformState;if(O.writecb=R,O.writechunk=b,O.writeencoding=C,!O.transforming){var A=this._readableState;(O.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},y.prototype._read=function(b){var C=this._transformState;C.writechunk!==null&&!C.transforming?(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform)):C.needTransform=!0},y.prototype._destroy=function(b,C){v.prototype._destroy.call(this,b,function(R){C(R)})};function E(b,C,R){if(C)return b.emit("error",C);if(R!=null&&b.push(R),b._writableState.length)throw new m;if(b._transformState.transforming)throw new g;return b.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=r;var f=require_stream_transform$1();requireInherits_browser()(r,f);function r(d){if(!(this instanceof r))return new r(d);f.call(this,d)}return r.prototype._transform=function(d,g,m){m(null,d)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var f;function r(R){var O=!1;return function(){O||(O=!0,R.apply(void 0,arguments))}}var d=requireErrorsBrowser().codes,g=d.ERR_MISSING_ARGS,m=d.ERR_STREAM_DESTROYED;function v(R){if(R)throw R}function _(R){return R.setHeader&&typeof R.abort=="function"}function y(R,O,A,M){M=r(M);var P=!1;R.on("close",function(){P=!0}),f===void 0&&(f=requireEndOfStream()),f(R,{readable:O,writable:A},function(L){if(L)return M(L);P=!0,M()});var F=!1;return function(L){if(!P&&!F){if(F=!0,_(R))return R.abort();if(typeof R.destroy=="function")return R.destroy();M(L||new m("pipe"))}}}function x(R){R()}function E(R,O){return R.pipe(O)}function b(R){return!R.length||typeof R[R.length-1]!="function"?v:R.pop()}function C(){for(var R=arguments.length,O=new Array(R),A=0;A<R;A++)O[A]=arguments[A];var M=b(O);if(Array.isArray(O[0])&&(O=O[0]),O.length<2)throw new g("streams");var P,F=O.map(function(L,K){var j=K<O.length-1,W=K>0;return y(L,j,W,function(G){P||(P=G),G&&F.forEach(x),!j&&(F.forEach(x),M(P))})});return O.reduce(E)}return pipeline_1=C,pipeline_1}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,function(f,r){r=f.exports=require_stream_readable$1(),r.Stream=r,r.Readable=r,r.Writable=require_stream_writable$1(),r.Duplex=require_stream_duplex$1(),r.Transform=require_stream_transform$1(),r.PassThrough=require_stream_passthrough$1(),r.finished=requireEndOfStream(),r.pipeline=requirePipeline()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var f=safeBufferExports.Buffer,r=requireReadableBrowser$1().Transform,d=requireInherits_browser();function g(v,_){if(!f.isBuffer(v)&&typeof v!="string")throw new TypeError(_+" must be a string or a buffer")}function m(v){r.call(this),this._block=f.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(m,r),m.prototype._transform=function(v,_,y){var x=null;try{this.update(v,_)}catch(E){x=E}y(x)},m.prototype._flush=function(v){var _=null;try{this.push(this.digest())}catch(y){_=y}v(_)},m.prototype.update=function(v,_){if(g(v,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(v)||(v=f.from(v,_));for(var y=this._block,x=0;this._blockOffset+v.length-x>=this._blockSize;){for(var E=this._blockOffset;E<this._blockSize;)y[E++]=v[x++];this._update(),this._blockOffset=0}for(;x<v.length;)y[this._blockOffset++]=v[x++];for(var b=0,C=v.length*8;C>0;++b)this._length[b]+=C,C=this._length[b]/4294967296|0,C>0&&(this._length[b]-=4294967296*C);return this},m.prototype._update=function(){throw new Error("_update is not implemented")},m.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var _=this._digest();v!==void 0&&(_=_.toString(v)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return _},m.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=m,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var f=requireInherits_browser(),r=requireHashBase$1(),d=safeBufferExports.Buffer,g=new Array(16);function m(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}f(m,r),m.prototype._update=function(){for(var b=g,C=0;C<16;++C)b[C]=this._block.readInt32LE(C*4);var R=this._a,O=this._b,A=this._c,M=this._d;R=_(R,O,A,M,b[0],3614090360,7),M=_(M,R,O,A,b[1],3905402710,12),A=_(A,M,R,O,b[2],606105819,17),O=_(O,A,M,R,b[3],3250441966,22),R=_(R,O,A,M,b[4],4118548399,7),M=_(M,R,O,A,b[5],1200080426,12),A=_(A,M,R,O,b[6],2821735955,17),O=_(O,A,M,R,b[7],4249261313,22),R=_(R,O,A,M,b[8],1770035416,7),M=_(M,R,O,A,b[9],2336552879,12),A=_(A,M,R,O,b[10],4294925233,17),O=_(O,A,M,R,b[11],2304563134,22),R=_(R,O,A,M,b[12],1804603682,7),M=_(M,R,O,A,b[13],4254626195,12),A=_(A,M,R,O,b[14],2792965006,17),O=_(O,A,M,R,b[15],1236535329,22),R=y(R,O,A,M,b[1],4129170786,5),M=y(M,R,O,A,b[6],3225465664,9),A=y(A,M,R,O,b[11],643717713,14),O=y(O,A,M,R,b[0],3921069994,20),R=y(R,O,A,M,b[5],3593408605,5),M=y(M,R,O,A,b[10],38016083,9),A=y(A,M,R,O,b[15],3634488961,14),O=y(O,A,M,R,b[4],3889429448,20),R=y(R,O,A,M,b[9],568446438,5),M=y(M,R,O,A,b[14],3275163606,9),A=y(A,M,R,O,b[3],4107603335,14),O=y(O,A,M,R,b[8],1163531501,20),R=y(R,O,A,M,b[13],2850285829,5),M=y(M,R,O,A,b[2],4243563512,9),A=y(A,M,R,O,b[7],1735328473,14),O=y(O,A,M,R,b[12],2368359562,20),R=x(R,O,A,M,b[5],4294588738,4),M=x(M,R,O,A,b[8],2272392833,11),A=x(A,M,R,O,b[11],1839030562,16),O=x(O,A,M,R,b[14],4259657740,23),R=x(R,O,A,M,b[1],2763975236,4),M=x(M,R,O,A,b[4],1272893353,11),A=x(A,M,R,O,b[7],4139469664,16),O=x(O,A,M,R,b[10],3200236656,23),R=x(R,O,A,M,b[13],681279174,4),M=x(M,R,O,A,b[0],3936430074,11),A=x(A,M,R,O,b[3],3572445317,16),O=x(O,A,M,R,b[6],76029189,23),R=x(R,O,A,M,b[9],3654602809,4),M=x(M,R,O,A,b[12],3873151461,11),A=x(A,M,R,O,b[15],530742520,16),O=x(O,A,M,R,b[2],3299628645,23),R=E(R,O,A,M,b[0],4096336452,6),M=E(M,R,O,A,b[7],1126891415,10),A=E(A,M,R,O,b[14],2878612391,15),O=E(O,A,M,R,b[5],4237533241,21),R=E(R,O,A,M,b[12],1700485571,6),M=E(M,R,O,A,b[3],2399980690,10),A=E(A,M,R,O,b[10],4293915773,15),O=E(O,A,M,R,b[1],2240044497,21),R=E(R,O,A,M,b[8],1873313359,6),M=E(M,R,O,A,b[15],4264355552,10),A=E(A,M,R,O,b[6],2734768916,15),O=E(O,A,M,R,b[13],1309151649,21),R=E(R,O,A,M,b[4],4149444226,6),M=E(M,R,O,A,b[11],3174756917,10),A=E(A,M,R,O,b[2],718787259,15),O=E(O,A,M,R,b[9],3951481745,21),this._a=this._a+R|0,this._b=this._b+O|0,this._c=this._c+A|0,this._d=this._d+M|0},m.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=d.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b};function v(b,C){return b<<C|b>>>32-C}function _(b,C,R,O,A,M,P){return v(b+(C&R|~C&O)+A+M|0,P)+C|0}function y(b,C,R,O,A,M,P){return v(b+(C&O|R&~O)+A+M|0,P)+C|0}function x(b,C,R,O,A,M,P){return v(b+(C^R^O)+A+M|0,P)+C|0}function E(b,C,R,O,A,M,P){return v(b+(R^(C|~O))+A+M|0,P)+C|0}return md5_js=m,md5_js}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var f=safeBufferExports.Buffer,r=requireReadableBrowser$1().Transform,d=requireInherits_browser();function g(v,_){if(!f.isBuffer(v)&&typeof v!="string")throw new TypeError(_+" must be a string or a buffer")}function m(v){r.call(this),this._block=f.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(m,r),m.prototype._transform=function(v,_,y){var x=null;try{this.update(v,_)}catch(E){x=E}y(x)},m.prototype._flush=function(v){var _=null;try{this.push(this.digest())}catch(y){_=y}v(_)},m.prototype.update=function(v,_){if(g(v,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(v)||(v=f.from(v,_));for(var y=this._block,x=0;this._blockOffset+v.length-x>=this._blockSize;){for(var E=this._blockOffset;E<this._blockSize;)y[E++]=v[x++];this._update(),this._blockOffset=0}for(;x<v.length;)y[this._blockOffset++]=v[x++];for(var b=0,C=v.length*8;C>0;++b)this._length[b]+=C,C=this._length[b]/4294967296|0,C>0&&(this._length[b]-=4294967296*C);return this},m.prototype._update=function(){throw new Error("_update is not implemented")},m.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var _=this._digest();v!==void 0&&(_=_.toString(v)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return _},m.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=m,hashBase}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var f=require$$0$2.Buffer,r=requireInherits_browser(),d=requireHashBase(),g=new Array(16),m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],x=[0,1518500249,1859775393,2400959708,2840853838],E=[1352829926,1548603684,1836072691,2053994217,0];function b(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}r(b,d),b.prototype._update=function(){for(var F=g,L=0;L<16;++L)F[L]=this._block.readInt32LE(L*4);for(var K=this._a|0,j=this._b|0,W=this._c|0,G=this._d|0,Q=this._e|0,re=this._a|0,ne=this._b|0,ie=this._c|0,z=this._d|0,T=this._e|0,D=0;D<80;D+=1){var w,S;D<16?(w=R(K,j,W,G,Q,F[m[D]],x[0],_[D]),S=P(re,ne,ie,z,T,F[v[D]],E[0],y[D])):D<32?(w=O(K,j,W,G,Q,F[m[D]],x[1],_[D]),S=M(re,ne,ie,z,T,F[v[D]],E[1],y[D])):D<48?(w=A(K,j,W,G,Q,F[m[D]],x[2],_[D]),S=A(re,ne,ie,z,T,F[v[D]],E[2],y[D])):D<64?(w=M(K,j,W,G,Q,F[m[D]],x[3],_[D]),S=O(re,ne,ie,z,T,F[v[D]],E[3],y[D])):(w=P(K,j,W,G,Q,F[m[D]],x[4],_[D]),S=R(re,ne,ie,z,T,F[v[D]],E[4],y[D])),K=Q,Q=G,G=C(W,10),W=j,j=w,re=T,T=z,z=C(ie,10),ie=ne,ne=S}var $=this._b+W+z|0;this._b=this._c+G+T|0,this._c=this._d+Q+re|0,this._d=this._e+K+ne|0,this._e=this._a+j+ie|0,this._a=$},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=f.alloc?f.alloc(20):new f(20);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F.writeInt32LE(this._e,16),F};function C(F,L){return F<<L|F>>>32-L}function R(F,L,K,j,W,G,Q,re){return C(F+(L^K^j)+G+Q|0,re)+W|0}function O(F,L,K,j,W,G,Q,re){return C(F+(L&K|~L&j)+G+Q|0,re)+W|0}function A(F,L,K,j,W,G,Q,re){return C(F+((L|~K)^j)+G+Q|0,re)+W|0}function M(F,L,K,j,W,G,Q,re){return C(F+(L&j|K&~j)+G+Q|0,re)+W|0}function P(F,L,K,j,W,G,Q,re){return C(F+(L^(K|~j))+G+Q|0,re)+W|0}return ripemd160$1=b,ripemd160$1}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var f=safeBufferExports.Buffer;function r(d,g){this._block=f.alloc(d),this._finalSize=g,this._blockSize=d,this._len=0}return r.prototype.update=function(d,g){typeof d=="string"&&(g=g||"utf8",d=f.from(d,g));for(var m=this._block,v=this._blockSize,_=d.length,y=this._len,x=0;x<_;){for(var E=y%v,b=Math.min(_-x,v-E),C=0;C<b;C++)m[E+C]=d[x+C];y+=b,x+=b,y%v===0&&this._update(m)}return this._len+=_,this},r.prototype.digest=function(d){var g=this._len%this._blockSize;this._block[g]=128,this._block.fill(0,g+1),g>=this._finalSize&&(this._update(this._block),this._block.fill(0));var m=this._len*8;if(m<=4294967295)this._block.writeUInt32BE(m,this._blockSize-4);else{var v=(m&4294967295)>>>0,_=(m-v)/4294967296;this._block.writeUInt32BE(_,this._blockSize-8),this._block.writeUInt32BE(v,this._blockSize-4)}this._update(this._block);var y=this._hash();return d?y.toString(d):y},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=r,hash$1}var sha$2,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$2;hasRequiredSha$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1518500249,1859775393,-1894007588,-899497514],m=new Array(80);function v(){this.init(),this._w=m,r.call(this,64,56)}f(v,r),v.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _(E){return E<<5|E>>>27}function y(E){return E<<30|E>>>2}function x(E,b,C,R){return E===0?b&C|~b&R:E===2?b&C|b&R|C&R:b^C^R}return v.prototype._update=function(E){for(var b=this._w,C=this._a|0,R=this._b|0,O=this._c|0,A=this._d|0,M=this._e|0,P=0;P<16;++P)b[P]=E.readInt32BE(P*4);for(;P<80;++P)b[P]=b[P-3]^b[P-8]^b[P-14]^b[P-16];for(var F=0;F<80;++F){var L=~~(F/20),K=_(C)+x(L,R,O,A)+M+b[F]+g[L]|0;M=A,A=O,O=y(R),R=C,C=K}this._a=C+this._a|0,this._b=R+this._b|0,this._c=O+this._c|0,this._d=A+this._d|0,this._e=M+this._e|0},v.prototype._hash=function(){var E=d.allocUnsafe(20);return E.writeInt32BE(this._a|0,0),E.writeInt32BE(this._b|0,4),E.writeInt32BE(this._c|0,8),E.writeInt32BE(this._d|0,12),E.writeInt32BE(this._e|0,16),E},sha$2=v,sha$2}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1518500249,1859775393,-1894007588,-899497514],m=new Array(80);function v(){this.init(),this._w=m,r.call(this,64,56)}f(v,r),v.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _(b){return b<<1|b>>>31}function y(b){return b<<5|b>>>27}function x(b){return b<<30|b>>>2}function E(b,C,R,O){return b===0?C&R|~C&O:b===2?C&R|C&O|R&O:C^R^O}return v.prototype._update=function(b){for(var C=this._w,R=this._a|0,O=this._b|0,A=this._c|0,M=this._d|0,P=this._e|0,F=0;F<16;++F)C[F]=b.readInt32BE(F*4);for(;F<80;++F)C[F]=_(C[F-3]^C[F-8]^C[F-14]^C[F-16]);for(var L=0;L<80;++L){var K=~~(L/20),j=y(R)+E(K,O,A,M)+P+C[L]+g[K]|0;P=M,M=A,A=x(O),O=R,R=j}this._a=R+this._a|0,this._b=O+this._b|0,this._c=A+this._c|0,this._d=M+this._d|0,this._e=P+this._e|0},v.prototype._hash=function(){var b=d.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},sha1$1=v,sha1$1}var sha256$4,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$4;hasRequiredSha256$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=new Array(64);function v(){this.init(),this._w=m,r.call(this,64,56)}f(v,r),v.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function _(R,O,A){return A^R&(O^A)}function y(R,O,A){return R&O|A&(R|O)}function x(R){return(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10)}function E(R){return(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7)}function b(R){return(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3}function C(R){return(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10}return v.prototype._update=function(R){for(var O=this._w,A=this._a|0,M=this._b|0,P=this._c|0,F=this._d|0,L=this._e|0,K=this._f|0,j=this._g|0,W=this._h|0,G=0;G<16;++G)O[G]=R.readInt32BE(G*4);for(;G<64;++G)O[G]=C(O[G-2])+O[G-7]+b(O[G-15])+O[G-16]|0;for(var Q=0;Q<64;++Q){var re=W+E(L)+_(L,K,j)+g[Q]+O[Q]|0,ne=x(A)+y(A,M,P)|0;W=j,j=K,K=L,L=F+re|0,F=P,P=M,M=A,A=re+ne|0}this._a=A+this._a|0,this._b=M+this._b|0,this._c=P+this._c|0,this._d=F+this._d|0,this._e=L+this._e|0,this._f=K+this._f|0,this._g=j+this._g|0,this._h=W+this._h|0},v.prototype._hash=function(){var R=d.allocUnsafe(32);return R.writeInt32BE(this._a,0),R.writeInt32BE(this._b,4),R.writeInt32BE(this._c,8),R.writeInt32BE(this._d,12),R.writeInt32BE(this._e,16),R.writeInt32BE(this._f,20),R.writeInt32BE(this._g,24),R.writeInt32BE(this._h,28),R},sha256$4=v,sha256$4}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var f=requireInherits_browser(),r=requireSha256$1(),d=requireHash$1(),g=safeBufferExports.Buffer,m=new Array(64);function v(){this.init(),this._w=m,d.call(this,64,56)}return f(v,r),v.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},v.prototype._hash=function(){var _=g.allocUnsafe(28);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_},sha224$2=v,sha224$2}var sha512$4,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$4;hasRequiredSha512$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],m=new Array(160);function v(){this.init(),this._w=m,r.call(this,128,112)}f(v,r),v.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function _(M,P,F){return F^M&(P^F)}function y(M,P,F){return M&P|F&(M|P)}function x(M,P){return(M>>>28|P<<4)^(P>>>2|M<<30)^(P>>>7|M<<25)}function E(M,P){return(M>>>14|P<<18)^(M>>>18|P<<14)^(P>>>9|M<<23)}function b(M,P){return(M>>>1|P<<31)^(M>>>8|P<<24)^M>>>7}function C(M,P){return(M>>>1|P<<31)^(M>>>8|P<<24)^(M>>>7|P<<25)}function R(M,P){return(M>>>19|P<<13)^(P>>>29|M<<3)^M>>>6}function O(M,P){return(M>>>19|P<<13)^(P>>>29|M<<3)^(M>>>6|P<<26)}function A(M,P){return M>>>0<P>>>0?1:0}return v.prototype._update=function(M){for(var P=this._w,F=this._ah|0,L=this._bh|0,K=this._ch|0,j=this._dh|0,W=this._eh|0,G=this._fh|0,Q=this._gh|0,re=this._hh|0,ne=this._al|0,ie=this._bl|0,z=this._cl|0,T=this._dl|0,D=this._el|0,w=this._fl|0,S=this._gl|0,$=this._hl|0,N=0;N<32;N+=2)P[N]=M.readInt32BE(N*4),P[N+1]=M.readInt32BE(N*4+4);for(;N<160;N+=2){var k=P[N-30],U=P[N-15*2+1],I=b(k,U),q=C(U,k);k=P[N-2*2],U=P[N-2*2+1];var B=R(k,U),H=O(U,k),ce=P[N-7*2],be=P[N-7*2+1],ve=P[N-16*2],Z=P[N-16*2+1],J=q+be|0,ae=I+ce+A(J,q)|0;J=J+H|0,ae=ae+B+A(J,H)|0,J=J+Z|0,ae=ae+ve+A(J,Z)|0,P[N]=ae,P[N+1]=J}for(var X=0;X<160;X+=2){ae=P[X],J=P[X+1];var Y=y(F,L,K),oe=y(ne,ie,z),we=x(F,ne),Se=x(ne,F),De=E(W,D),qe=E(D,W),Ue=g[X],Ne=g[X+1],Be=_(W,G,Q),Qe=_(D,w,S),Le=$+qe|0,ot=re+De+A(Le,$)|0;Le=Le+Qe|0,ot=ot+Be+A(Le,Qe)|0,Le=Le+Ne|0,ot=ot+Ue+A(Le,Ne)|0,Le=Le+J|0,ot=ot+ae+A(Le,J)|0;var Ve=Se+oe|0,We=we+Y+A(Ve,Se)|0;re=Q,$=S,Q=G,S=w,G=W,w=D,D=T+Le|0,W=j+ot+A(D,T)|0,j=K,T=z,K=L,z=ie,L=F,ie=ne,ne=Le+Ve|0,F=ot+We+A(ne,Le)|0}this._al=this._al+ne|0,this._bl=this._bl+ie|0,this._cl=this._cl+z|0,this._dl=this._dl+T|0,this._el=this._el+D|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+$|0,this._ah=this._ah+F+A(this._al,ne)|0,this._bh=this._bh+L+A(this._bl,ie)|0,this._ch=this._ch+K+A(this._cl,z)|0,this._dh=this._dh+j+A(this._dl,T)|0,this._eh=this._eh+W+A(this._el,D)|0,this._fh=this._fh+G+A(this._fl,w)|0,this._gh=this._gh+Q+A(this._gl,S)|0,this._hh=this._hh+re+A(this._hl,$)|0},v.prototype._hash=function(){var M=d.allocUnsafe(64);function P(F,L,K){M.writeInt32BE(F,K),M.writeInt32BE(L,K+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),P(this._gh,this._gl,48),P(this._hh,this._hl,56),M},sha512$4=v,sha512$4}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var f=requireInherits_browser(),r=requireSha512$1(),d=requireHash$1(),g=safeBufferExports.Buffer,m=new Array(160);function v(){this.init(),this._w=m,d.call(this,128,112)}return f(v,r),v.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},v.prototype._hash=function(){var _=g.allocUnsafe(48);function y(x,E,b){_.writeInt32BE(x,b),_.writeInt32BE(E,b+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),_},sha384$2=v,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var f=sha_js.exports=function(d){d=d.toLowerCase();var g=f[d];if(!g)throw new Error(d+" is not supported (we accept pull requests)");return new g};return f.sha=requireSha$1(),f.sha1=requireSha1$1(),f.sha224=requireSha224$1(),f.sha256=requireSha256$1(),f.sha384=requireSha384$1(),f.sha512=requireSha512$1(),sha_js.exports}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=d;var f=requireEvents().EventEmitter,r=requireInherits_browser();r(d,f),d.Readable=require_stream_readable$1(),d.Writable=require_stream_writable$1(),d.Duplex=require_stream_duplex$1(),d.Transform=require_stream_transform$1(),d.PassThrough=require_stream_passthrough$1(),d.finished=requireEndOfStream(),d.pipeline=requirePipeline(),d.Stream=d;function d(){f.call(this)}return d.prototype.pipe=function(g,m){var v=this;function _(O){g.writable&&g.write(O)===!1&&v.pause&&v.pause()}v.on("data",_);function y(){v.readable&&v.resume&&v.resume()}g.on("drain",y),!g._isStdio&&(!m||m.end!==!1)&&(v.on("end",E),v.on("close",b));var x=!1;function E(){x||(x=!0,g.end())}function b(){x||(x=!0,typeof g.destroy=="function"&&g.destroy())}function C(O){if(R(),f.listenerCount(this,"error")===0)throw O}v.on("error",C),g.on("error",C);function R(){v.removeListener("data",_),g.removeListener("drain",y),v.removeListener("end",E),v.removeListener("close",b),v.removeListener("error",C),g.removeListener("error",C),v.removeListener("end",R),v.removeListener("close",R),g.removeListener("close",R)}return v.on("end",R),v.on("close",R),g.on("close",R),g.emit("pipe",v),g},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var f=safeBufferExports.Buffer,r=requireStreamBrowserify().Transform,d=requireString_decoder().StringDecoder,g=requireInherits_browser();function m(x){r.call(this),this.hashMode=typeof x=="string",this.hashMode?this[x]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}g(m,r);var v=typeof Uint8Array<"u",_=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(f.prototype instanceof Uint8Array||f.TYPED_ARRAY_SUPPORT);function y(x,E){if(x instanceof f)return x;if(typeof x=="string")return f.from(x,E);if(_&&ArrayBuffer.isView(x)){if(x.byteLength===0)return f.alloc(0);var b=f.from(x.buffer,x.byteOffset,x.byteLength);if(b.byteLength===x.byteLength)return b}if(v&&x instanceof Uint8Array||f.isBuffer(x)&&x.constructor&&typeof x.constructor.isBuffer=="function"&&x.constructor.isBuffer(x))return f.from(x);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return m.prototype.update=function(x,E,b){var C=y(x,E),R=this._update(C);return this.hashMode?this:(b&&(R=this._toString(R,b)),R)},m.prototype.setAutoPadding=function(){},m.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},m.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},m.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},m.prototype._transform=function(x,E,b){var C;try{this.hashMode?this._update(x):this.push(this._update(x))}catch(R){C=R}finally{b(C)}},m.prototype._flush=function(x){var E;try{this.push(this.__final())}catch(b){E=b}x(E)},m.prototype._finalOrDigest=function(x){var E=this.__final()||f.alloc(0);return x&&(E=this._toString(E,x,!0)),E},m.prototype._toString=function(x,E,b){if(this._decoder||(this._decoder=new d(E),this._encoding=E),this._encoding!==E)throw new Error("cant switch encodings");var C=this._decoder.write(x);return b&&(C+=this._decoder.end()),C},cipherBase=m,cipherBase}var browser$a,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$a;hasRequiredBrowser$9=1;var f=requireInherits_browser(),r=requireMd5_js(),d=requireRipemd160$1(),g=requireSha_js(),m=requireCipherBase();function v(_){m.call(this,"digest"),this._hash=_}return f(v,m),v.prototype._update=function(_){this._hash.update(_)},v.prototype._final=function(){return this._hash.digest()},browser$a=function(y){return y=y.toLowerCase(),y==="md5"?new r:y==="rmd160"||y==="ripemd160"?new d:new v(g(y))},browser$a}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var f=requireInherits_browser(),r=safeBufferExports.Buffer,d=requireCipherBase(),g=r.alloc(128),m=64;function v(_,y){d.call(this,"digest"),typeof y=="string"&&(y=r.from(y)),this._alg=_,this._key=y,y.length>m?y=_(y):y.length<m&&(y=r.concat([y,g],m));for(var x=this._ipad=r.allocUnsafe(m),E=this._opad=r.allocUnsafe(m),b=0;b<m;b++)x[b]=y[b]^54,E[b]=y[b]^92;this._hash=[x]}return f(v,d),v.prototype._update=function(_){this._hash.push(_)},v.prototype._final=function(){var _=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,_]))},legacy=v,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var f=requireMd5_js();return md5$1=function(r){return new f().update(r).digest()},md5$1}var browser$9,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9;hasRequiredBrowser$8=1;var f=requireInherits_browser(),r=requireLegacy(),d=requireCipherBase(),g=safeBufferExports.Buffer,m=requireMd5$1(),v=requireRipemd160$1(),_=requireSha_js(),y=g.alloc(128);function x(E,b){d.call(this,"digest"),typeof b=="string"&&(b=g.from(b));var C=E==="sha512"||E==="sha384"?128:64;if(this._alg=E,this._key=b,b.length>C){var R=E==="rmd160"?new v:_(E);b=R.update(b).digest()}else b.length<C&&(b=g.concat([b,y],C));for(var O=this._ipad=g.allocUnsafe(C),A=this._opad=g.allocUnsafe(C),M=0;M<C;M++)O[M]=b[M]^54,A[M]=b[M]^92;this._hash=E==="rmd160"?new v:_(E),this._hash.update(O)}return f(x,d),x.prototype._update=function(E){this._hash.update(E)},x.prototype._final=function(){var E=this._hash.digest(),b=this._alg==="rmd160"?new v:_(this._alg);return b.update(this._opad).update(E).digest()},browser$9=function(b,C){return b=b.toLowerCase(),b==="rmd160"||b==="ripemd160"?new x("rmd160",C):b==="md5"?new r(m,C):new x(b,C)},browser$9}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$3={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$3={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$3,sha224:sha224$1,sha384:sha384$1,sha512:sha512$3,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$8={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var f=Math.pow(2,30)-1;return precondition=function(r,d){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof d!="number")throw new TypeError("Key length not a number");if(d<0||d>f||d!==d)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var f;if(commonjsGlobal.process&&commonjsGlobal.process.browser)f="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var r=parseInt(process$1.version.split(".")[0].slice(1),10);f=r>=6?"utf-8":"binary"}else f="utf-8";return defaultEncoding_1=f,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var f=safeBufferExports.Buffer;return toBuffer=function(r,d,g){if(f.isBuffer(r))return r;if(typeof r=="string")return f.from(r,d);if(ArrayBuffer.isView(r))return f.from(r.buffer);throw new TypeError(g+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var f=requireMd5$1(),r=requireRipemd160$1(),d=requireSha_js(),g=safeBufferExports.Buffer,m=requirePrecondition(),v=requireDefaultEncoding(),_=requireToBuffer(),y=g.alloc(128),x={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function E(R,O,A){var M=b(R),P=R==="sha512"||R==="sha384"?128:64;O.length>P?O=M(O):O.length<P&&(O=g.concat([O,y],P));for(var F=g.allocUnsafe(P+x[R]),L=g.allocUnsafe(P+x[R]),K=0;K<P;K++)F[K]=O[K]^54,L[K]=O[K]^92;var j=g.allocUnsafe(P+A+4);F.copy(j,0,0,P),this.ipad1=j,this.ipad2=F,this.opad=L,this.alg=R,this.blocksize=P,this.hash=M,this.size=x[R]}E.prototype.run=function(R,O){R.copy(O,this.blocksize);var A=this.hash(O);return A.copy(this.opad,this.blocksize),this.hash(this.opad)};function b(R){function O(M){return d(R).update(M).digest()}function A(M){return new r().update(M).digest()}return R==="rmd160"||R==="ripemd160"?A:R==="md5"?f:O}function C(R,O,A,M,P){m(A,M),R=_(R,v,"Password"),O=_(O,v,"Salt"),P=P||"sha1";var F=new E(P,R,O.length),L=g.allocUnsafe(M),K=g.allocUnsafe(O.length+4);O.copy(K,0,0,O.length);for(var j=0,W=x[P],G=Math.ceil(M/W),Q=1;Q<=G;Q++){K.writeUInt32BE(Q,O.length);for(var re=F.run(K,F.ipad1),ne=re,ie=1;ie<A;ie++){ne=F.run(ne,F.ipad2);for(var z=0;z<W;z++)re[z]^=ne[z]}re.copy(L,j),j+=W}return L}return syncBrowser=C,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var f=safeBufferExports.Buffer,r=requirePrecondition(),d=requireDefaultEncoding(),g=requireSyncBrowser(),m=requireToBuffer(),v,_=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},x=[];function E(A){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!_||!_.importKey||!_.deriveBits)return Promise.resolve(!1);if(x[A]!==void 0)return x[A];v=v||f.alloc(8);var M=R(v,v,10,128,A).then(function(){return!0}).catch(function(){return!1});return x[A]=M,M}var b;function C(){return b||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?b=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?b=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?b=commonjsGlobal.setImmediate:b=commonjsGlobal.setTimeout,b)}function R(A,M,P,F,L){return _.importKey("raw",A,{name:"PBKDF2"},!1,["deriveBits"]).then(function(K){return _.deriveBits({name:"PBKDF2",salt:M,iterations:P,hash:{name:L}},K,F<<3)}).then(function(K){return f.from(K)})}function O(A,M){A.then(function(P){C()(function(){M(null,P)})},function(P){C()(function(){M(P)})})}return async=function(A,M,P,F,L,K){typeof L=="function"&&(K=L,L=void 0),L=L||"sha1";var j=y[L.toLowerCase()];if(!j||typeof commonjsGlobal.Promise!="function"){C()(function(){var W;try{W=g(A,M,P,F,L)}catch(G){return K(G)}K(null,W)});return}if(r(P,F),A=m(A,d,"Password"),M=m(M,d,"Salt"),typeof K!="function")throw new Error("No callback provided to pbkdf2");O(E(j).then(function(W){return W?R(A,M,P,F,j):g(A,M,P,F,L)}),K)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$8.pbkdf2=requireAsync(),browser$8.pbkdf2Sync=requireSyncBrowser()),browser$8}var browser$7={},des$1={},utils$8={},hasRequiredUtils$5;function requireUtils$5(){if(hasRequiredUtils$5)return utils$8;hasRequiredUtils$5=1,utils$8.readUInt32BE=function(m,v){var _=m[0+v]<<24|m[1+v]<<16|m[2+v]<<8|m[3+v];return _>>>0},utils$8.writeUInt32BE=function(m,v,_){m[0+_]=v>>>24,m[1+_]=v>>>16&255,m[2+_]=v>>>8&255,m[3+_]=v&255},utils$8.ip=function(m,v,_,y){for(var x=0,E=0,b=6;b>=0;b-=2){for(var C=0;C<=24;C+=8)x<<=1,x|=v>>>C+b&1;for(var C=0;C<=24;C+=8)x<<=1,x|=m>>>C+b&1}for(var b=6;b>=0;b-=2){for(var C=1;C<=25;C+=8)E<<=1,E|=v>>>C+b&1;for(var C=1;C<=25;C+=8)E<<=1,E|=m>>>C+b&1}_[y+0]=x>>>0,_[y+1]=E>>>0},utils$8.rip=function(m,v,_,y){for(var x=0,E=0,b=0;b<4;b++)for(var C=24;C>=0;C-=8)x<<=1,x|=v>>>C+b&1,x<<=1,x|=m>>>C+b&1;for(var b=4;b<8;b++)for(var C=24;C>=0;C-=8)E<<=1,E|=v>>>C+b&1,E<<=1,E|=m>>>C+b&1;_[y+0]=x>>>0,_[y+1]=E>>>0},utils$8.pc1=function(m,v,_,y){for(var x=0,E=0,b=7;b>=5;b--){for(var C=0;C<=24;C+=8)x<<=1,x|=v>>C+b&1;for(var C=0;C<=24;C+=8)x<<=1,x|=m>>C+b&1}for(var C=0;C<=24;C+=8)x<<=1,x|=v>>C+b&1;for(var b=1;b<=3;b++){for(var C=0;C<=24;C+=8)E<<=1,E|=v>>C+b&1;for(var C=0;C<=24;C+=8)E<<=1,E|=m>>C+b&1}for(var C=0;C<=24;C+=8)E<<=1,E|=m>>C+b&1;_[y+0]=x>>>0,_[y+1]=E>>>0},utils$8.r28shl=function(m,v){return m<<v&268435455|m>>>28-v};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$8.pc2=function(m,v,_,y){for(var x=0,E=0,b=f.length>>>1,C=0;C<b;C++)x<<=1,x|=m>>>f[C]&1;for(var C=b;C<f.length;C++)E<<=1,E|=v>>>f[C]&1;_[y+0]=x>>>0,_[y+1]=E>>>0},utils$8.expand=function(m,v,_){var y=0,x=0;y=(m&1)<<5|m>>>27;for(var E=23;E>=15;E-=4)y<<=6,y|=m>>>E&63;for(var E=11;E>=3;E-=4)x|=m>>>E&63,x<<=6;x|=(m&31)<<1|m>>>31,v[_+0]=y>>>0,v[_+1]=x>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$8.substitute=function(m,v){for(var _=0,y=0;y<4;y++){var x=m>>>18-y*6&63,E=r[y*64+x];_<<=4,_|=E}for(var y=0;y<4;y++){var x=v>>>18-y*6&63,E=r[4*64+y*64+x];_<<=4,_|=E}return _>>>0};var d=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$8.permute=function(m){for(var v=0,_=0;_<d.length;_++)v<<=1,v|=m>>>d[_]&1;return v>>>0},utils$8.padSplit=function(m,v,_){for(var y=m.toString(2);y.length<v;)y="0"+y;for(var x=[],E=0;E<v;E+=_)x.push(y.slice(E,E+_));return x.join(" ")},utils$8}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=f;function f(r,d){if(!r)throw new Error(d||"Assertion failed")}return f.equal=function(d,g,m){if(d!=g)throw new Error(m||"Assertion failed: "+d+" != "+g)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var f=requireMinimalisticAssert();function r(d){this.options=d,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=d.padding!==!1}return cipher=r,r.prototype._init=function(){},r.prototype.update=function(g){return g.length===0?[]:this.type==="decrypt"?this._updateDecrypt(g):this._updateEncrypt(g)},r.prototype._buffer=function(g,m){for(var v=Math.min(this.buffer.length-this.bufferOff,g.length-m),_=0;_<v;_++)this.buffer[this.bufferOff+_]=g[m+_];return this.bufferOff+=v,v},r.prototype._flushBuffer=function(g,m){return this._update(this.buffer,0,g,m),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(g){var m=0,v=0,_=(this.bufferOff+g.length)/this.blockSize|0,y=new Array(_*this.blockSize);this.bufferOff!==0&&(m+=this._buffer(g,m),this.bufferOff===this.buffer.length&&(v+=this._flushBuffer(y,v)));for(var x=g.length-(g.length-m)%this.blockSize;m<x;m+=this.blockSize)this._update(g,m,y,v),v+=this.blockSize;for(;m<g.length;m++,this.bufferOff++)this.buffer[this.bufferOff]=g[m];return y},r.prototype._updateDecrypt=function(g){for(var m=0,v=0,_=Math.ceil((this.bufferOff+g.length)/this.blockSize)-1,y=new Array(_*this.blockSize);_>0;_--)m+=this._buffer(g,m),v+=this._flushBuffer(y,v);return m+=this._buffer(g,m),y},r.prototype.final=function(g){var m;g&&(m=this.update(g));var v;return this.type==="encrypt"?v=this._finalEncrypt():v=this._finalDecrypt(),m?m.concat(v):v},r.prototype._pad=function(g,m){if(m===0)return!1;for(;m<g.length;)g[m++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var g=new Array(this.blockSize);return this._update(this.buffer,0,g,0),g},r.prototype._unpad=function(g){return g},r.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var g=new Array(this.blockSize);return this._flushBuffer(g,0),this._unpad(g)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var f=requireMinimalisticAssert(),r=requireInherits_browser(),d=requireUtils$5(),g=requireCipher();function m(){this.tmp=new Array(2),this.keys=null}function v(y){g.call(this,y);var x=new m;this._desState=x,this.deriveKeys(x,y.key)}r(v,g),des=v,v.create=function(x){return new v(x)};var _=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return v.prototype.deriveKeys=function(x,E){x.keys=new Array(16*2),f.equal(E.length,this.blockSize,"Invalid key length");var b=d.readUInt32BE(E,0),C=d.readUInt32BE(E,4);d.pc1(b,C,x.tmp,0),b=x.tmp[0],C=x.tmp[1];for(var R=0;R<x.keys.length;R+=2){var O=_[R>>>1];b=d.r28shl(b,O),C=d.r28shl(C,O),d.pc2(b,C,x.keys,R)}},v.prototype._update=function(x,E,b,C){var R=this._desState,O=d.readUInt32BE(x,E),A=d.readUInt32BE(x,E+4);d.ip(O,A,R.tmp,0),O=R.tmp[0],A=R.tmp[1],this.type==="encrypt"?this._encrypt(R,O,A,R.tmp,0):this._decrypt(R,O,A,R.tmp,0),O=R.tmp[0],A=R.tmp[1],d.writeUInt32BE(b,O,C),d.writeUInt32BE(b,A,C+4)},v.prototype._pad=function(x,E){if(this.padding===!1)return!1;for(var b=x.length-E,C=E;C<x.length;C++)x[C]=b;return!0},v.prototype._unpad=function(x){if(this.padding===!1)return x;for(var E=x[x.length-1],b=x.length-E;b<x.length;b++)f.equal(x[b],E);return x.slice(0,x.length-E)},v.prototype._encrypt=function(x,E,b,C,R){for(var O=E,A=b,M=0;M<x.keys.length;M+=2){var P=x.keys[M],F=x.keys[M+1];d.expand(A,x.tmp,0),P^=x.tmp[0],F^=x.tmp[1];var L=d.substitute(P,F),K=d.permute(L),j=A;A=(O^K)>>>0,O=j}d.rip(A,O,C,R)},v.prototype._decrypt=function(x,E,b,C,R){for(var O=b,A=E,M=x.keys.length-2;M>=0;M-=2){var P=x.keys[M],F=x.keys[M+1];d.expand(O,x.tmp,0),P^=x.tmp[0],F^=x.tmp[1];var L=d.substitute(P,F),K=d.permute(L),j=O;O=(A^K)>>>0,A=j}d.rip(O,A,C,R)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var f=requireMinimalisticAssert(),r=requireInherits_browser(),d={};function g(v){f.equal(v.length,8,"Invalid IV length"),this.iv=new Array(8);for(var _=0;_<this.iv.length;_++)this.iv[_]=v[_]}function m(v){function _(b){v.call(this,b),this._cbcInit()}r(_,v);for(var y=Object.keys(d),x=0;x<y.length;x++){var E=y[x];_.prototype[E]=d[E]}return _.create=function(C){return new _(C)},_}return cbc$1.instantiate=m,d._cbcInit=function(){var _=new g(this.options.iv);this._cbcState=_},d._update=function(_,y,x,E){var b=this._cbcState,C=this.constructor.super_.prototype,R=b.iv;if(this.type==="encrypt"){for(var O=0;O<this.blockSize;O++)R[O]^=_[y+O];C._update.call(this,R,0,x,E);for(var O=0;O<this.blockSize;O++)R[O]=x[E+O]}else{C._update.call(this,_,y,x,E);for(var O=0;O<this.blockSize;O++)x[E+O]^=R[O];for(var O=0;O<this.blockSize;O++)R[O]=_[y+O]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var f=requireMinimalisticAssert(),r=requireInherits_browser(),d=requireCipher(),g=requireDes$1();function m(_,y){f.equal(y.length,24,"Invalid key length");var x=y.slice(0,8),E=y.slice(8,16),b=y.slice(16,24);_==="encrypt"?this.ciphers=[g.create({type:"encrypt",key:x}),g.create({type:"decrypt",key:E}),g.create({type:"encrypt",key:b})]:this.ciphers=[g.create({type:"decrypt",key:b}),g.create({type:"encrypt",key:E}),g.create({type:"decrypt",key:x})]}function v(_){d.call(this,_);var y=new m(this.type,this.options.key);this._edeState=y}return r(v,d),ede=v,v.create=function(y){return new v(y)},v.prototype._update=function(y,x,E,b){var C=this._edeState;C.ciphers[0]._update(y,x,E,b),C.ciphers[1]._update(E,b,E,b),C.ciphers[2]._update(E,b,E,b)},v.prototype._pad=g.prototype._pad,v.prototype._unpad=g.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$5(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var f=requireCipherBase(),r=requireDes(),d=requireInherits_browser(),g=safeBufferExports.Buffer,m={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};m.des=m["des-cbc"],m.des3=m["des-ede3-cbc"],browserifyDes=v,d(v,f);function v(_){f.call(this);var y=_.mode.toLowerCase(),x=m[y],E;_.decrypt?E="decrypt":E="encrypt";var b=_.key;g.isBuffer(b)||(b=g.from(b)),(y==="des-ede"||y==="des-ede-cbc")&&(b=g.concat([b,b.slice(0,8)]));var C=_.iv;g.isBuffer(C)||(C=g.from(C)),this._des=x.create({key:b,iv:C,type:E})}return v.prototype._update=function(_){return g.from(this._des.update(_))},v.prototype._final=function(){return g.from(this._des.final())},browserifyDes}var browser$6={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(f,r){return f._cipher.encryptBlock(r)},ecb.decrypt=function(f,r){return f._cipher.decryptBlock(r)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(r,d){for(var g=Math.min(r.length,d.length),m=new Buffer(g),v=0;v<g;++v)m[v]=r[v]^d[v];return m}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var f=requireBufferXor();return cbc.encrypt=function(r,d){var g=f(d,r._prev);return r._prev=r._cipher.encryptBlock(g),r._prev},cbc.decrypt=function(r,d){var g=r._prev;r._prev=d;var m=r._cipher.decryptBlock(d);return f(m,g)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var f=safeBufferExports.Buffer,r=requireBufferXor();function d(g,m,v){var _=m.length,y=r(m,g._cache);return g._cache=g._cache.slice(_),g._prev=f.concat([g._prev,v?m:y]),y}return cfb.encrypt=function(g,m,v){for(var _=f.allocUnsafe(0),y;m.length;)if(g._cache.length===0&&(g._cache=g._cipher.encryptBlock(g._prev),g._prev=f.allocUnsafe(0)),g._cache.length<=m.length)y=g._cache.length,_=f.concat([_,d(g,m.slice(0,y),v)]),m=m.slice(y);else{_=f.concat([_,d(g,m,v)]);break}return _},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var f=safeBufferExports.Buffer;function r(d,g,m){var v=d._cipher.encryptBlock(d._prev),_=v[0]^g;return d._prev=f.concat([d._prev.slice(1),f.from([m?g:_])]),_}return cfb8.encrypt=function(d,g,m){for(var v=g.length,_=f.allocUnsafe(v),y=-1;++y<v;)_[y]=r(d,g[y],m);return _},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var f=safeBufferExports.Buffer;function r(g,m,v){for(var _,y=-1,x=8,E=0,b,C;++y<x;)_=g._cipher.encryptBlock(g._prev),b=m&1<<7-y?128:0,C=_[0]^b,E+=(C&128)>>y%8,g._prev=d(g._prev,v?b:C);return E}function d(g,m){var v=g.length,_=-1,y=f.allocUnsafe(g.length);for(g=f.concat([g,f.from([m])]);++_<v;)y[_]=g[_]<<1|g[_+1]>>7;return y}return cfb1.encrypt=function(g,m,v){for(var _=m.length,y=f.allocUnsafe(_),x=-1;++x<_;)y[x]=r(g,m[x],v);return y},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var f=requireBufferXor();function r(d){return d._prev=d._cipher.encryptBlock(d._prev),d._prev}return ofb.encrypt=function(d,g){for(;d._cache.length<g.length;)d._cache=Buffer.concat([d._cache,r(d)]);var m=d._cache.slice(0,g.length);return d._cache=d._cache.slice(g.length),f(g,m)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function f(r){for(var d=r.length,g;d--;)if(g=r.readUInt8(d),g===255)r.writeUInt8(0,d);else{g++,r.writeUInt8(g,d);break}}return incr32_1=f,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var f=requireBufferXor(),r=safeBufferExports.Buffer,d=requireIncr32();function g(v){var _=v._cipher.encryptBlockRaw(v._prev);return d(v._prev),_}var m=16;return ctr.encrypt=function(v,_){var y=Math.ceil(_.length/m),x=v._cache.length;v._cache=r.concat([v._cache,r.allocUnsafe(y*m)]);for(var E=0;E<y;E++){var b=g(v),C=x+E*m;v._cache.writeUInt32BE(b[0],C+0),v._cache.writeUInt32BE(b[1],C+4),v._cache.writeUInt32BE(b[2],C+8),v._cache.writeUInt32BE(b[3],C+12)}var R=v._cache.slice(0,_.length);return v._cache=v._cache.slice(_.length),f(_,R)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var f={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},r=require$$2$2;for(var d in r)r[d].module=f[r[d].mode];return modes_1=r,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var f=safeBufferExports.Buffer;function r(y){f.isBuffer(y)||(y=f.from(y));for(var x=y.length/4|0,E=new Array(x),b=0;b<x;b++)E[b]=y.readUInt32BE(b*4);return E}function d(y){for(var x=0;x<y.length;y++)y[x]=0}function g(y,x,E,b,C){for(var R=E[0],O=E[1],A=E[2],M=E[3],P=y[0]^x[0],F=y[1]^x[1],L=y[2]^x[2],K=y[3]^x[3],j,W,G,Q,re=4,ne=1;ne<C;ne++)j=R[P>>>24]^O[F>>>16&255]^A[L>>>8&255]^M[K&255]^x[re++],W=R[F>>>24]^O[L>>>16&255]^A[K>>>8&255]^M[P&255]^x[re++],G=R[L>>>24]^O[K>>>16&255]^A[P>>>8&255]^M[F&255]^x[re++],Q=R[K>>>24]^O[P>>>16&255]^A[F>>>8&255]^M[L&255]^x[re++],P=j,F=W,L=G,K=Q;return j=(b[P>>>24]<<24|b[F>>>16&255]<<16|b[L>>>8&255]<<8|b[K&255])^x[re++],W=(b[F>>>24]<<24|b[L>>>16&255]<<16|b[K>>>8&255]<<8|b[P&255])^x[re++],G=(b[L>>>24]<<24|b[K>>>16&255]<<16|b[P>>>8&255]<<8|b[F&255])^x[re++],Q=(b[K>>>24]<<24|b[P>>>16&255]<<16|b[F>>>8&255]<<8|b[L&255])^x[re++],j=j>>>0,W=W>>>0,G=G>>>0,Q=Q>>>0,[j,W,G,Q]}var m=[0,1,2,4,8,16,32,64,128,27,54],v=function(){for(var y=new Array(256),x=0;x<256;x++)x<128?y[x]=x<<1:y[x]=x<<1^283;for(var E=[],b=[],C=[[],[],[],[]],R=[[],[],[],[]],O=0,A=0,M=0;M<256;++M){var P=A^A<<1^A<<2^A<<3^A<<4;P=P>>>8^P&255^99,E[O]=P,b[P]=O;var F=y[O],L=y[F],K=y[L],j=y[P]*257^P*16843008;C[0][O]=j<<24|j>>>8,C[1][O]=j<<16|j>>>16,C[2][O]=j<<8|j>>>24,C[3][O]=j,j=K*16843009^L*65537^F*257^O*16843008,R[0][P]=j<<24|j>>>8,R[1][P]=j<<16|j>>>16,R[2][P]=j<<8|j>>>24,R[3][P]=j,O===0?O=A=1:(O=F^y[y[y[K^F]]],A^=y[y[A]])}return{SBOX:E,INV_SBOX:b,SUB_MIX:C,INV_SUB_MIX:R}}();function _(y){this._key=r(y),this._reset()}return _.blockSize=4*4,_.keySize=256/8,_.prototype.blockSize=_.blockSize,_.prototype.keySize=_.keySize,_.prototype._reset=function(){for(var y=this._key,x=y.length,E=x+6,b=(E+1)*4,C=[],R=0;R<x;R++)C[R]=y[R];for(R=x;R<b;R++){var O=C[R-1];R%x===0?(O=O<<8|O>>>24,O=v.SBOX[O>>>24]<<24|v.SBOX[O>>>16&255]<<16|v.SBOX[O>>>8&255]<<8|v.SBOX[O&255],O^=m[R/x|0]<<24):x>6&&R%x===4&&(O=v.SBOX[O>>>24]<<24|v.SBOX[O>>>16&255]<<16|v.SBOX[O>>>8&255]<<8|v.SBOX[O&255]),C[R]=C[R-x]^O}for(var A=[],M=0;M<b;M++){var P=b-M,F=C[P-(M%4?0:4)];M<4||P<=4?A[M]=F:A[M]=v.INV_SUB_MIX[0][v.SBOX[F>>>24]]^v.INV_SUB_MIX[1][v.SBOX[F>>>16&255]]^v.INV_SUB_MIX[2][v.SBOX[F>>>8&255]]^v.INV_SUB_MIX[3][v.SBOX[F&255]]}this._nRounds=E,this._keySchedule=C,this._invKeySchedule=A},_.prototype.encryptBlockRaw=function(y){return y=r(y),g(y,this._keySchedule,v.SUB_MIX,v.SBOX,this._nRounds)},_.prototype.encryptBlock=function(y){var x=this.encryptBlockRaw(y),E=f.allocUnsafe(16);return E.writeUInt32BE(x[0],0),E.writeUInt32BE(x[1],4),E.writeUInt32BE(x[2],8),E.writeUInt32BE(x[3],12),E},_.prototype.decryptBlock=function(y){y=r(y);var x=y[1];y[1]=y[3],y[3]=x;var E=g(y,this._invKeySchedule,v.INV_SUB_MIX,v.INV_SBOX,this._nRounds),b=f.allocUnsafe(16);return b.writeUInt32BE(E[0],0),b.writeUInt32BE(E[3],4),b.writeUInt32BE(E[2],8),b.writeUInt32BE(E[1],12),b},_.prototype.scrub=function(){d(this._keySchedule),d(this._invKeySchedule),d(this._key)},aes$1.AES=_,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var f=safeBufferExports.Buffer,r=f.alloc(16,0);function d(v){return[v.readUInt32BE(0),v.readUInt32BE(4),v.readUInt32BE(8),v.readUInt32BE(12)]}function g(v){var _=f.allocUnsafe(16);return _.writeUInt32BE(v[0]>>>0,0),_.writeUInt32BE(v[1]>>>0,4),_.writeUInt32BE(v[2]>>>0,8),_.writeUInt32BE(v[3]>>>0,12),_}function m(v){this.h=v,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}return m.prototype.ghash=function(v){for(var _=-1;++_<v.length;)this.state[_]^=v[_];this._multiply()},m.prototype._multiply=function(){for(var v=d(this.h),_=[0,0,0,0],y,x,E,b=-1;++b<128;){for(x=(this.state[~~(b/8)]&1<<7-b%8)!==0,x&&(_[0]^=v[0],_[1]^=v[1],_[2]^=v[2],_[3]^=v[3]),E=(v[3]&1)!==0,y=3;y>0;y--)v[y]=v[y]>>>1|(v[y-1]&1)<<31;v[0]=v[0]>>>1,E&&(v[0]=v[0]^225<<24)}this.state=g(_)},m.prototype.update=function(v){this.cache=f.concat([this.cache,v]);for(var _;this.cache.length>=16;)_=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(_)},m.prototype.final=function(v,_){return this.cache.length&&this.ghash(f.concat([this.cache,r],16)),this.ghash(g([0,v,0,_])),this.state},ghash=m,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var f=requireAes$1(),r=safeBufferExports.Buffer,d=requireCipherBase(),g=requireInherits_browser(),m=requireGhash(),v=requireBufferXor(),_=requireIncr32();function y(b,C){var R=0;b.length!==C.length&&R++;for(var O=Math.min(b.length,C.length),A=0;A<O;++A)R+=b[A]^C[A];return R}function x(b,C,R){if(C.length===12)return b._finID=r.concat([C,r.from([0,0,0,1])]),r.concat([C,r.from([0,0,0,2])]);var O=new m(R),A=C.length,M=A%16;O.update(C),M&&(M=16-M,O.update(r.alloc(M,0))),O.update(r.alloc(8,0));var P=A*8,F=r.alloc(8);F.writeUIntBE(P,0,8),O.update(F),b._finID=O.state;var L=r.from(b._finID);return _(L),L}function E(b,C,R,O){d.call(this);var A=r.alloc(4,0);this._cipher=new f.AES(C);var M=this._cipher.encryptBlock(A);this._ghash=new m(M),R=x(this,R,M),this._prev=r.from(R),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=O,this._alen=0,this._len=0,this._mode=b,this._authTag=null,this._called=!1}return g(E,d),E.prototype._update=function(b){if(!this._called&&this._alen){var C=16-this._alen%16;C<16&&(C=r.alloc(C,0),this._ghash.update(C))}this._called=!0;var R=this._mode.encrypt(this,b);return this._decrypt?this._ghash.update(b):this._ghash.update(R),this._len+=b.length,R},E.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var b=v(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&y(b,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=b,this._cipher.scrub()},E.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},E.prototype.setAuthTag=function(C){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=C},E.prototype.setAAD=function(C){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(C),this._alen+=C.length},authCipher=E,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var f=requireAes$1(),r=safeBufferExports.Buffer,d=requireCipherBase(),g=requireInherits_browser();function m(v,_,y,x){d.call(this),this._cipher=new f.AES(_),this._prev=r.from(y),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=x,this._mode=v}return g(m,d),m.prototype._update=function(v){return this._mode.encrypt(this,v,this._decrypt)},m.prototype._final=function(){this._cipher.scrub()},streamCipher=m,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var f=safeBufferExports.Buffer,r=requireMd5_js();function d(g,m,v,_){if(f.isBuffer(g)||(g=f.from(g,"binary")),m&&(f.isBuffer(m)||(m=f.from(m,"binary")),m.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var y=v/8,x=f.alloc(y),E=f.alloc(_||0),b=f.alloc(0);y>0||_>0;){var C=new r;C.update(b),C.update(g),m&&C.update(m),b=C.digest();var R=0;if(y>0){var O=x.length-y;R=Math.min(y,b.length),b.copy(x,O,0,R),y-=R}if(R<b.length&&_>0){var A=E.length-_,M=Math.min(_,b.length-R);b.copy(E,A,R,R+M),_-=M}}return b.fill(0),{key:x,iv:E}}return evp_bytestokey=d,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var f=requireModes$1(),r=requireAuthCipher(),d=safeBufferExports.Buffer,g=requireStreamCipher(),m=requireCipherBase(),v=requireAes$1(),_=requireEvp_bytestokey(),y=requireInherits_browser();function x(O,A,M){m.call(this),this._cache=new b,this._cipher=new v.AES(A),this._prev=d.from(M),this._mode=O,this._autopadding=!0}y(x,m),x.prototype._update=function(O){this._cache.add(O);for(var A,M,P=[];A=this._cache.get();)M=this._mode.encrypt(this,A),P.push(M);return d.concat(P)};var E=d.alloc(16,16);x.prototype._final=function(){var O=this._cache.flush();if(this._autopadding)return O=this._mode.encrypt(this,O),this._cipher.scrub(),O;if(!O.equals(E))throw this._cipher.scrub(),new Error("data not multiple of block length")},x.prototype.setAutoPadding=function(O){return this._autopadding=!!O,this};function b(){this.cache=d.allocUnsafe(0)}b.prototype.add=function(O){this.cache=d.concat([this.cache,O])},b.prototype.get=function(){if(this.cache.length>15){var O=this.cache.slice(0,16);return this.cache=this.cache.slice(16),O}return null},b.prototype.flush=function(){for(var O=16-this.cache.length,A=d.allocUnsafe(O),M=-1;++M<O;)A.writeUInt8(O,M);return d.concat([this.cache,A])};function C(O,A,M){var P=f[O.toLowerCase()];if(!P)throw new TypeError("invalid suite type");if(typeof A=="string"&&(A=d.from(A)),A.length!==P.key/8)throw new TypeError("invalid key length "+A.length);if(typeof M=="string"&&(M=d.from(M)),P.mode!=="GCM"&&M.length!==P.iv)throw new TypeError("invalid iv length "+M.length);return P.type==="stream"?new g(P.module,A,M):P.type==="auth"?new r(P.module,A,M):new x(P.module,A,M)}function R(O,A){var M=f[O.toLowerCase()];if(!M)throw new TypeError("invalid suite type");var P=_(A,!1,M.key,M.iv);return C(O,P.key,P.iv)}return encrypter.createCipheriv=C,encrypter.createCipher=R,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var f=requireAuthCipher(),r=safeBufferExports.Buffer,d=requireModes$1(),g=requireStreamCipher(),m=requireCipherBase(),v=requireAes$1(),_=requireEvp_bytestokey(),y=requireInherits_browser();function x(O,A,M){m.call(this),this._cache=new E,this._last=void 0,this._cipher=new v.AES(A),this._prev=r.from(M),this._mode=O,this._autopadding=!0}y(x,m),x.prototype._update=function(O){this._cache.add(O);for(var A,M,P=[];A=this._cache.get(this._autopadding);)M=this._mode.decrypt(this,A),P.push(M);return r.concat(P)},x.prototype._final=function(){var O=this._cache.flush();if(this._autopadding)return b(this._mode.decrypt(this,O));if(O)throw new Error("data not multiple of block length")},x.prototype.setAutoPadding=function(O){return this._autopadding=!!O,this};function E(){this.cache=r.allocUnsafe(0)}E.prototype.add=function(O){this.cache=r.concat([this.cache,O])},E.prototype.get=function(O){var A;if(O){if(this.cache.length>16)return A=this.cache.slice(0,16),this.cache=this.cache.slice(16),A}else if(this.cache.length>=16)return A=this.cache.slice(0,16),this.cache=this.cache.slice(16),A;return null},E.prototype.flush=function(){if(this.cache.length)return this.cache};function b(O){var A=O[15];if(A<1||A>16)throw new Error("unable to decrypt data");for(var M=-1;++M<A;)if(O[M+(16-A)]!==A)throw new Error("unable to decrypt data");if(A!==16)return O.slice(0,16-A)}function C(O,A,M){var P=d[O.toLowerCase()];if(!P)throw new TypeError("invalid suite type");if(typeof M=="string"&&(M=r.from(M)),P.mode!=="GCM"&&M.length!==P.iv)throw new TypeError("invalid iv length "+M.length);if(typeof A=="string"&&(A=r.from(A)),A.length!==P.key/8)throw new TypeError("invalid key length "+A.length);return P.type==="stream"?new g(P.module,A,M,!0):P.type==="auth"?new f(P.module,A,M,!0):new x(P.module,A,M)}function R(O,A){var M=d[O.toLowerCase()];if(!M)throw new TypeError("invalid suite type");var P=_(A,!1,M.key,M.iv);return C(O,P.key,P.iv)}return decrypter.createDecipher=R,decrypter.createDecipheriv=C,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var f=requireEncrypter(),r=requireDecrypter(),d=require$$2$2;function g(){return Object.keys(d)}return browser$6.createCipher=browser$6.Cipher=f.createCipher,browser$6.createCipheriv=browser$6.Cipheriv=f.createCipheriv,browser$6.createDecipher=browser$6.Decipher=r.createDecipher,browser$6.createDecipheriv=browser$6.Decipheriv=r.createDecipheriv,browser$6.listCiphers=browser$6.getCiphers=g,browser$6}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(f){f["des-ecb"]={key:8,iv:0},f["des-cbc"]=f.des={key:8,iv:8},f["des-ede3-cbc"]=f.des3={key:24,iv:8},f["des-ede3"]={key:24,iv:0},f["des-ede-cbc"]={key:16,iv:8},f["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$7;hasRequiredBrowser$5=1;var f=requireBrowserifyDes(),r=requireBrowser$6(),d=requireModes$1(),g=requireModes(),m=requireEvp_bytestokey();function v(b,C){b=b.toLowerCase();var R,O;if(d[b])R=d[b].key,O=d[b].iv;else if(g[b])R=g[b].key*8,O=g[b].iv;else throw new TypeError("invalid suite type");var A=m(C,!1,R,O);return y(b,A.key,A.iv)}function _(b,C){b=b.toLowerCase();var R,O;if(d[b])R=d[b].key,O=d[b].iv;else if(g[b])R=g[b].key*8,O=g[b].iv;else throw new TypeError("invalid suite type");var A=m(C,!1,R,O);return x(b,A.key,A.iv)}function y(b,C,R){if(b=b.toLowerCase(),d[b])return r.createCipheriv(b,C,R);if(g[b])return new f({key:C,iv:R,mode:b});throw new TypeError("invalid suite type")}function x(b,C,R){if(b=b.toLowerCase(),d[b])return r.createDecipheriv(b,C,R);if(g[b])return new f({key:C,iv:R,mode:b,decrypt:!0});throw new TypeError("invalid suite type")}function E(){return Object.keys(g).concat(r.getCiphers())}return browser$7.createCipher=browser$7.Cipher=v,browser$7.createCipheriv=browser$7.Cipheriv=y,browser$7.createDecipher=browser$7.Decipher=_,browser$7.createDecipheriv=browser$7.Decipheriv=x,browser$7.listCiphers=browser$7.getCiphers=E,browser$7}var browser$5={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(f){(function(r,d){function g(z,T){if(!z)throw new Error(T||"Assertion failed")}function m(z,T){z.super_=T;var D=function(){};D.prototype=T.prototype,z.prototype=new D,z.prototype.constructor=z}function v(z,T,D){if(v.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((T==="le"||T==="be")&&(D=T,T=10),this._init(z||0,T||10,D||"be"))}typeof r=="object"?r.exports=v:d.BN=v,v.BN=v,v.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=require$$0$2.Buffer}catch{}v.isBN=function(T){return T instanceof v?!0:T!==null&&typeof T=="object"&&T.constructor.wordSize===v.wordSize&&Array.isArray(T.words)},v.max=function(T,D){return T.cmp(D)>0?T:D},v.min=function(T,D){return T.cmp(D)<0?T:D},v.prototype._init=function(T,D,w){if(typeof T=="number")return this._initNumber(T,D,w);if(typeof T=="object")return this._initArray(T,D,w);D==="hex"&&(D=16),g(D===(D|0)&&D>=2&&D<=36),T=T.toString().replace(/\s+/g,"");var S=0;T[0]==="-"&&(S++,this.negative=1),S<T.length&&(D===16?this._parseHex(T,S,w):(this._parseBase(T,D,S),w==="le"&&this._initArray(this.toArray(),D,w)))},v.prototype._initNumber=function(T,D,w){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[T&67108863],this.length=1):T<4503599627370496?(this.words=[T&67108863,T/67108864&67108863],this.length=2):(g(T<9007199254740992),this.words=[T&67108863,T/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),D,w)},v.prototype._initArray=function(T,D,w){if(g(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var $,N,k=0;if(w==="be")for(S=T.length-1,$=0;S>=0;S-=3)N=T[S]|T[S-1]<<8|T[S-2]<<16,this.words[$]|=N<<k&67108863,this.words[$+1]=N>>>26-k&67108863,k+=24,k>=26&&(k-=26,$++);else if(w==="le")for(S=0,$=0;S<T.length;S+=3)N=T[S]|T[S+1]<<8|T[S+2]<<16,this.words[$]|=N<<k&67108863,this.words[$+1]=N>>>26-k&67108863,k+=24,k>=26&&(k-=26,$++);return this.strip()};function y(z,T){var D=z.charCodeAt(T);return D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:D-48&15}function x(z,T,D){var w=y(z,D);return D-1>=T&&(w|=y(z,D-1)<<4),w}v.prototype._parseHex=function(T,D,w){this.length=Math.ceil((T.length-D)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var $=0,N=0,k;if(w==="be")for(S=T.length-1;S>=D;S-=2)k=x(T,D,S)<<$,this.words[N]|=k&67108863,$>=18?($-=18,N+=1,this.words[N]|=k>>>26):$+=8;else{var U=T.length-D;for(S=U%2===0?D+1:D;S<T.length;S+=2)k=x(T,D,S)<<$,this.words[N]|=k&67108863,$>=18?($-=18,N+=1,this.words[N]|=k>>>26):$+=8}this.strip()};function E(z,T,D,w){for(var S=0,$=Math.min(z.length,D),N=T;N<$;N++){var k=z.charCodeAt(N)-48;S*=w,k>=49?S+=k-49+10:k>=17?S+=k-17+10:S+=k}return S}v.prototype._parseBase=function(T,D,w){this.words=[0],this.length=1;for(var S=0,$=1;$<=67108863;$*=D)S++;S--,$=$/D|0;for(var N=T.length-w,k=N%S,U=Math.min(N,N-k)+w,I=0,q=w;q<U;q+=S)I=E(T,q,q+S,D),this.imuln($),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(k!==0){var B=1;for(I=E(T,q,T.length,D),q=0;q<k;q++)B*=D;this.imuln(B),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},v.prototype.copy=function(T){T.words=new Array(this.length);for(var D=0;D<this.length;D++)T.words[D]=this.words[D];T.length=this.length,T.negative=this.negative,T.red=this.red},v.prototype.clone=function(){var T=new v(null);return this.copy(T),T},v.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},v.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},v.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(T,D){T=T||10,D=D|0||1;var w;if(T===16||T==="hex"){w="";for(var S=0,$=0,N=0;N<this.length;N++){var k=this.words[N],U=((k<<S|$)&16777215).toString(16);$=k>>>24-S&16777215,S+=2,S>=26&&(S-=26,N--),$!==0||N!==this.length-1?w=b[6-U.length]+U+w:w=U+w}for($!==0&&(w=$.toString(16)+w);w.length%D!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(T===(T|0)&&T>=2&&T<=36){var I=C[T],q=R[T];w="";var B=this.clone();for(B.negative=0;!B.isZero();){var H=B.modn(q).toString(T);B=B.idivn(q),B.isZero()?w=H+w:w=b[I-H.length]+H+w}for(this.isZero()&&(w="0"+w);w.length%D!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}g(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=this.words[1]*67108864:this.length===3&&this.words[2]===1?T+=4503599627370496+this.words[1]*67108864:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},v.prototype.toJSON=function(){return this.toString(16)},v.prototype.toBuffer=function(T,D){return g(typeof _<"u"),this.toArrayLike(_,T,D)},v.prototype.toArray=function(T,D){return this.toArrayLike(Array,T,D)},v.prototype.toArrayLike=function(T,D,w){var S=this.byteLength(),$=w||Math.max(1,S);g(S<=$,"byte array longer than desired length"),g($>0,"Requested array length <= 0"),this.strip();var N=D==="le",k=new T($),U,I,q=this.clone();if(N){for(I=0;!q.isZero();I++)U=q.andln(255),q.iushrn(8),k[I]=U;for(;I<$;I++)k[I]=0}else{for(I=0;I<$-S;I++)k[I]=0;for(I=0;!q.isZero();I++)U=q.andln(255),q.iushrn(8),k[$-I-1]=U}return k},Math.clz32?v.prototype._countBits=function(T){return 32-Math.clz32(T)}:v.prototype._countBits=function(T){var D=T,w=0;return D>=4096&&(w+=13,D>>>=13),D>=64&&(w+=7,D>>>=7),D>=8&&(w+=4,D>>>=4),D>=2&&(w+=2,D>>>=2),w+D},v.prototype._zeroBits=function(T){if(T===0)return 26;var D=T,w=0;return D&8191||(w+=13,D>>>=13),D&127||(w+=7,D>>>=7),D&15||(w+=4,D>>>=4),D&3||(w+=2,D>>>=2),D&1||w++,w},v.prototype.bitLength=function(){var T=this.words[this.length-1],D=this._countBits(T);return(this.length-1)*26+D};function O(z){for(var T=new Array(z.bitLength()),D=0;D<T.length;D++){var w=D/26|0,S=D%26;T[D]=(z.words[w]&1<<S)>>>S}return T}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,D=0;D<this.length;D++){var w=this._zeroBits(this.words[D]);if(T+=w,w!==26)break}return T},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},v.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var D=0;D<T.length;D++)this.words[D]=this.words[D]|T.words[D];return this.strip()},v.prototype.ior=function(T){return g((this.negative|T.negative)===0),this.iuor(T)},v.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},v.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},v.prototype.iuand=function(T){var D;this.length>T.length?D=T:D=this;for(var w=0;w<D.length;w++)this.words[w]=this.words[w]&T.words[w];return this.length=D.length,this.strip()},v.prototype.iand=function(T){return g((this.negative|T.negative)===0),this.iuand(T)},v.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},v.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},v.prototype.iuxor=function(T){var D,w;this.length>T.length?(D=this,w=T):(D=T,w=this);for(var S=0;S<w.length;S++)this.words[S]=D.words[S]^w.words[S];if(this!==D)for(;S<D.length;S++)this.words[S]=D.words[S];return this.length=D.length,this.strip()},v.prototype.ixor=function(T){return g((this.negative|T.negative)===0),this.iuxor(T)},v.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},v.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},v.prototype.inotn=function(T){g(typeof T=="number"&&T>=0);var D=Math.ceil(T/26)|0,w=T%26;this._expand(D),w>0&&D--;for(var S=0;S<D;S++)this.words[S]=~this.words[S]&67108863;return w>0&&(this.words[S]=~this.words[S]&67108863>>26-w),this.strip()},v.prototype.notn=function(T){return this.clone().inotn(T)},v.prototype.setn=function(T,D){g(typeof T=="number"&&T>=0);var w=T/26|0,S=T%26;return this._expand(w+1),D?this.words[w]=this.words[w]|1<<S:this.words[w]=this.words[w]&~(1<<S),this.strip()},v.prototype.iadd=function(T){var D;if(this.negative!==0&&T.negative===0)return this.negative=0,D=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,D=this.isub(T),T.negative=1,D._normSign();var w,S;this.length>T.length?(w=this,S=T):(w=T,S=this);for(var $=0,N=0;N<S.length;N++)D=(w.words[N]|0)+(S.words[N]|0)+$,this.words[N]=D&67108863,$=D>>>26;for(;$!==0&&N<w.length;N++)D=(w.words[N]|0)+$,this.words[N]=D&67108863,$=D>>>26;if(this.length=w.length,$!==0)this.words[this.length]=$,this.length++;else if(w!==this)for(;N<w.length;N++)this.words[N]=w.words[N];return this},v.prototype.add=function(T){var D;return T.negative!==0&&this.negative===0?(T.negative=0,D=this.sub(T),T.negative^=1,D):T.negative===0&&this.negative!==0?(this.negative=0,D=T.sub(this),this.negative=1,D):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},v.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var D=this.iadd(T);return T.negative=1,D._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var w=this.cmp(T);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,$;w>0?(S=this,$=T):(S=T,$=this);for(var N=0,k=0;k<$.length;k++)D=(S.words[k]|0)-($.words[k]|0)+N,N=D>>26,this.words[k]=D&67108863;for(;N!==0&&k<S.length;k++)D=(S.words[k]|0)+N,N=D>>26,this.words[k]=D&67108863;if(N===0&&k<S.length&&S!==this)for(;k<S.length;k++)this.words[k]=S.words[k];return this.length=Math.max(this.length,k),S!==this&&(this.negative=1),this.strip()},v.prototype.sub=function(T){return this.clone().isub(T)};function A(z,T,D){D.negative=T.negative^z.negative;var w=z.length+T.length|0;D.length=w,w=w-1|0;var S=z.words[0]|0,$=T.words[0]|0,N=S*$,k=N&67108863,U=N/67108864|0;D.words[0]=k;for(var I=1;I<w;I++){for(var q=U>>>26,B=U&67108863,H=Math.min(I,T.length-1),ce=Math.max(0,I-z.length+1);ce<=H;ce++){var be=I-ce|0;S=z.words[be]|0,$=T.words[ce]|0,N=S*$+B,q+=N/67108864|0,B=N&67108863}D.words[I]=B|0,U=q|0}return U!==0?D.words[I]=U|0:D.length--,D.strip()}var M=function(T,D,w){var S=T.words,$=D.words,N=w.words,k=0,U,I,q,B=S[0]|0,H=B&8191,ce=B>>>13,be=S[1]|0,ve=be&8191,Z=be>>>13,J=S[2]|0,ae=J&8191,X=J>>>13,Y=S[3]|0,oe=Y&8191,we=Y>>>13,Se=S[4]|0,De=Se&8191,qe=Se>>>13,Ue=S[5]|0,Ne=Ue&8191,Be=Ue>>>13,Qe=S[6]|0,Le=Qe&8191,ot=Qe>>>13,Ve=S[7]|0,We=Ve&8191,it=Ve>>>13,Ke=S[8]|0,Fe=Ke&8191,Ye=Ke>>>13,rt=S[9]|0,ue=rt&8191,ee=rt>>>13,te=$[0]|0,de=te&8191,xe=te>>>13,Oe=$[1]|0,$e=Oe&8191,dt=Oe>>>13,ut=$[2]|0,et=ut&8191,wt=ut>>>13,ht=$[3]|0,yt=ht&8191,It=ht>>>13,bt=$[4]|0,at=bt&8191,Tt=bt>>>13,xt=$[5]|0,st=xt&8191,Nt=xt>>>13,Et=$[6]|0,nt=Et&8191,Rt=Et>>>13,se=$[7]|0,le=se&8191,he=se>>>13,V=$[8]|0,pe=V&8191,Re=V>>>13,Me=$[9]|0,Te=Me&8191,ze=Me>>>13;w.negative=T.negative^D.negative,w.length=19,U=Math.imul(H,de),I=Math.imul(H,xe),I=I+Math.imul(ce,de)|0,q=Math.imul(ce,xe);var Ze=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,U=Math.imul(ve,de),I=Math.imul(ve,xe),I=I+Math.imul(Z,de)|0,q=Math.imul(Z,xe),U=U+Math.imul(H,$e)|0,I=I+Math.imul(H,dt)|0,I=I+Math.imul(ce,$e)|0,q=q+Math.imul(ce,dt)|0;var Xe=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,U=Math.imul(ae,de),I=Math.imul(ae,xe),I=I+Math.imul(X,de)|0,q=Math.imul(X,xe),U=U+Math.imul(ve,$e)|0,I=I+Math.imul(ve,dt)|0,I=I+Math.imul(Z,$e)|0,q=q+Math.imul(Z,dt)|0,U=U+Math.imul(H,et)|0,I=I+Math.imul(H,wt)|0,I=I+Math.imul(ce,et)|0,q=q+Math.imul(ce,wt)|0;var qt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(oe,de),I=Math.imul(oe,xe),I=I+Math.imul(we,de)|0,q=Math.imul(we,xe),U=U+Math.imul(ae,$e)|0,I=I+Math.imul(ae,dt)|0,I=I+Math.imul(X,$e)|0,q=q+Math.imul(X,dt)|0,U=U+Math.imul(ve,et)|0,I=I+Math.imul(ve,wt)|0,I=I+Math.imul(Z,et)|0,q=q+Math.imul(Z,wt)|0,U=U+Math.imul(H,yt)|0,I=I+Math.imul(H,It)|0,I=I+Math.imul(ce,yt)|0,q=q+Math.imul(ce,It)|0;var pt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(De,de),I=Math.imul(De,xe),I=I+Math.imul(qe,de)|0,q=Math.imul(qe,xe),U=U+Math.imul(oe,$e)|0,I=I+Math.imul(oe,dt)|0,I=I+Math.imul(we,$e)|0,q=q+Math.imul(we,dt)|0,U=U+Math.imul(ae,et)|0,I=I+Math.imul(ae,wt)|0,I=I+Math.imul(X,et)|0,q=q+Math.imul(X,wt)|0,U=U+Math.imul(ve,yt)|0,I=I+Math.imul(ve,It)|0,I=I+Math.imul(Z,yt)|0,q=q+Math.imul(Z,It)|0,U=U+Math.imul(H,at)|0,I=I+Math.imul(H,Tt)|0,I=I+Math.imul(ce,at)|0,q=q+Math.imul(ce,Tt)|0;var At=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ne,de),I=Math.imul(Ne,xe),I=I+Math.imul(Be,de)|0,q=Math.imul(Be,xe),U=U+Math.imul(De,$e)|0,I=I+Math.imul(De,dt)|0,I=I+Math.imul(qe,$e)|0,q=q+Math.imul(qe,dt)|0,U=U+Math.imul(oe,et)|0,I=I+Math.imul(oe,wt)|0,I=I+Math.imul(we,et)|0,q=q+Math.imul(we,wt)|0,U=U+Math.imul(ae,yt)|0,I=I+Math.imul(ae,It)|0,I=I+Math.imul(X,yt)|0,q=q+Math.imul(X,It)|0,U=U+Math.imul(ve,at)|0,I=I+Math.imul(ve,Tt)|0,I=I+Math.imul(Z,at)|0,q=q+Math.imul(Z,Tt)|0,U=U+Math.imul(H,st)|0,I=I+Math.imul(H,Nt)|0,I=I+Math.imul(ce,st)|0,q=q+Math.imul(ce,Nt)|0;var Mt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,de),I=Math.imul(Le,xe),I=I+Math.imul(ot,de)|0,q=Math.imul(ot,xe),U=U+Math.imul(Ne,$e)|0,I=I+Math.imul(Ne,dt)|0,I=I+Math.imul(Be,$e)|0,q=q+Math.imul(Be,dt)|0,U=U+Math.imul(De,et)|0,I=I+Math.imul(De,wt)|0,I=I+Math.imul(qe,et)|0,q=q+Math.imul(qe,wt)|0,U=U+Math.imul(oe,yt)|0,I=I+Math.imul(oe,It)|0,I=I+Math.imul(we,yt)|0,q=q+Math.imul(we,It)|0,U=U+Math.imul(ae,at)|0,I=I+Math.imul(ae,Tt)|0,I=I+Math.imul(X,at)|0,q=q+Math.imul(X,Tt)|0,U=U+Math.imul(ve,st)|0,I=I+Math.imul(ve,Nt)|0,I=I+Math.imul(Z,st)|0,q=q+Math.imul(Z,Nt)|0,U=U+Math.imul(H,nt)|0,I=I+Math.imul(H,Rt)|0,I=I+Math.imul(ce,nt)|0,q=q+Math.imul(ce,Rt)|0;var Bt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(We,de),I=Math.imul(We,xe),I=I+Math.imul(it,de)|0,q=Math.imul(it,xe),U=U+Math.imul(Le,$e)|0,I=I+Math.imul(Le,dt)|0,I=I+Math.imul(ot,$e)|0,q=q+Math.imul(ot,dt)|0,U=U+Math.imul(Ne,et)|0,I=I+Math.imul(Ne,wt)|0,I=I+Math.imul(Be,et)|0,q=q+Math.imul(Be,wt)|0,U=U+Math.imul(De,yt)|0,I=I+Math.imul(De,It)|0,I=I+Math.imul(qe,yt)|0,q=q+Math.imul(qe,It)|0,U=U+Math.imul(oe,at)|0,I=I+Math.imul(oe,Tt)|0,I=I+Math.imul(we,at)|0,q=q+Math.imul(we,Tt)|0,U=U+Math.imul(ae,st)|0,I=I+Math.imul(ae,Nt)|0,I=I+Math.imul(X,st)|0,q=q+Math.imul(X,Nt)|0,U=U+Math.imul(ve,nt)|0,I=I+Math.imul(ve,Rt)|0,I=I+Math.imul(Z,nt)|0,q=q+Math.imul(Z,Rt)|0,U=U+Math.imul(H,le)|0,I=I+Math.imul(H,he)|0,I=I+Math.imul(ce,le)|0,q=q+Math.imul(ce,he)|0;var $t=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Fe,de),I=Math.imul(Fe,xe),I=I+Math.imul(Ye,de)|0,q=Math.imul(Ye,xe),U=U+Math.imul(We,$e)|0,I=I+Math.imul(We,dt)|0,I=I+Math.imul(it,$e)|0,q=q+Math.imul(it,dt)|0,U=U+Math.imul(Le,et)|0,I=I+Math.imul(Le,wt)|0,I=I+Math.imul(ot,et)|0,q=q+Math.imul(ot,wt)|0,U=U+Math.imul(Ne,yt)|0,I=I+Math.imul(Ne,It)|0,I=I+Math.imul(Be,yt)|0,q=q+Math.imul(Be,It)|0,U=U+Math.imul(De,at)|0,I=I+Math.imul(De,Tt)|0,I=I+Math.imul(qe,at)|0,q=q+Math.imul(qe,Tt)|0,U=U+Math.imul(oe,st)|0,I=I+Math.imul(oe,Nt)|0,I=I+Math.imul(we,st)|0,q=q+Math.imul(we,Nt)|0,U=U+Math.imul(ae,nt)|0,I=I+Math.imul(ae,Rt)|0,I=I+Math.imul(X,nt)|0,q=q+Math.imul(X,Rt)|0,U=U+Math.imul(ve,le)|0,I=I+Math.imul(ve,he)|0,I=I+Math.imul(Z,le)|0,q=q+Math.imul(Z,he)|0,U=U+Math.imul(H,pe)|0,I=I+Math.imul(H,Re)|0,I=I+Math.imul(ce,pe)|0,q=q+Math.imul(ce,Re)|0;var Ot=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,U=Math.imul(ue,de),I=Math.imul(ue,xe),I=I+Math.imul(ee,de)|0,q=Math.imul(ee,xe),U=U+Math.imul(Fe,$e)|0,I=I+Math.imul(Fe,dt)|0,I=I+Math.imul(Ye,$e)|0,q=q+Math.imul(Ye,dt)|0,U=U+Math.imul(We,et)|0,I=I+Math.imul(We,wt)|0,I=I+Math.imul(it,et)|0,q=q+Math.imul(it,wt)|0,U=U+Math.imul(Le,yt)|0,I=I+Math.imul(Le,It)|0,I=I+Math.imul(ot,yt)|0,q=q+Math.imul(ot,It)|0,U=U+Math.imul(Ne,at)|0,I=I+Math.imul(Ne,Tt)|0,I=I+Math.imul(Be,at)|0,q=q+Math.imul(Be,Tt)|0,U=U+Math.imul(De,st)|0,I=I+Math.imul(De,Nt)|0,I=I+Math.imul(qe,st)|0,q=q+Math.imul(qe,Nt)|0,U=U+Math.imul(oe,nt)|0,I=I+Math.imul(oe,Rt)|0,I=I+Math.imul(we,nt)|0,q=q+Math.imul(we,Rt)|0,U=U+Math.imul(ae,le)|0,I=I+Math.imul(ae,he)|0,I=I+Math.imul(X,le)|0,q=q+Math.imul(X,he)|0,U=U+Math.imul(ve,pe)|0,I=I+Math.imul(ve,Re)|0,I=I+Math.imul(Z,pe)|0,q=q+Math.imul(Z,Re)|0,U=U+Math.imul(H,Te)|0,I=I+Math.imul(H,ze)|0,I=I+Math.imul(ce,Te)|0,q=q+Math.imul(ce,ze)|0;var St=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ue,$e),I=Math.imul(ue,dt),I=I+Math.imul(ee,$e)|0,q=Math.imul(ee,dt),U=U+Math.imul(Fe,et)|0,I=I+Math.imul(Fe,wt)|0,I=I+Math.imul(Ye,et)|0,q=q+Math.imul(Ye,wt)|0,U=U+Math.imul(We,yt)|0,I=I+Math.imul(We,It)|0,I=I+Math.imul(it,yt)|0,q=q+Math.imul(it,It)|0,U=U+Math.imul(Le,at)|0,I=I+Math.imul(Le,Tt)|0,I=I+Math.imul(ot,at)|0,q=q+Math.imul(ot,Tt)|0,U=U+Math.imul(Ne,st)|0,I=I+Math.imul(Ne,Nt)|0,I=I+Math.imul(Be,st)|0,q=q+Math.imul(Be,Nt)|0,U=U+Math.imul(De,nt)|0,I=I+Math.imul(De,Rt)|0,I=I+Math.imul(qe,nt)|0,q=q+Math.imul(qe,Rt)|0,U=U+Math.imul(oe,le)|0,I=I+Math.imul(oe,he)|0,I=I+Math.imul(we,le)|0,q=q+Math.imul(we,he)|0,U=U+Math.imul(ae,pe)|0,I=I+Math.imul(ae,Re)|0,I=I+Math.imul(X,pe)|0,q=q+Math.imul(X,Re)|0,U=U+Math.imul(ve,Te)|0,I=I+Math.imul(ve,ze)|0,I=I+Math.imul(Z,Te)|0,q=q+Math.imul(Z,ze)|0;var Dt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(ue,et),I=Math.imul(ue,wt),I=I+Math.imul(ee,et)|0,q=Math.imul(ee,wt),U=U+Math.imul(Fe,yt)|0,I=I+Math.imul(Fe,It)|0,I=I+Math.imul(Ye,yt)|0,q=q+Math.imul(Ye,It)|0,U=U+Math.imul(We,at)|0,I=I+Math.imul(We,Tt)|0,I=I+Math.imul(it,at)|0,q=q+Math.imul(it,Tt)|0,U=U+Math.imul(Le,st)|0,I=I+Math.imul(Le,Nt)|0,I=I+Math.imul(ot,st)|0,q=q+Math.imul(ot,Nt)|0,U=U+Math.imul(Ne,nt)|0,I=I+Math.imul(Ne,Rt)|0,I=I+Math.imul(Be,nt)|0,q=q+Math.imul(Be,Rt)|0,U=U+Math.imul(De,le)|0,I=I+Math.imul(De,he)|0,I=I+Math.imul(qe,le)|0,q=q+Math.imul(qe,he)|0,U=U+Math.imul(oe,pe)|0,I=I+Math.imul(oe,Re)|0,I=I+Math.imul(we,pe)|0,q=q+Math.imul(we,Re)|0,U=U+Math.imul(ae,Te)|0,I=I+Math.imul(ae,ze)|0,I=I+Math.imul(X,Te)|0,q=q+Math.imul(X,ze)|0;var lt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(lt>>>26)|0,lt&=67108863,U=Math.imul(ue,yt),I=Math.imul(ue,It),I=I+Math.imul(ee,yt)|0,q=Math.imul(ee,It),U=U+Math.imul(Fe,at)|0,I=I+Math.imul(Fe,Tt)|0,I=I+Math.imul(Ye,at)|0,q=q+Math.imul(Ye,Tt)|0,U=U+Math.imul(We,st)|0,I=I+Math.imul(We,Nt)|0,I=I+Math.imul(it,st)|0,q=q+Math.imul(it,Nt)|0,U=U+Math.imul(Le,nt)|0,I=I+Math.imul(Le,Rt)|0,I=I+Math.imul(ot,nt)|0,q=q+Math.imul(ot,Rt)|0,U=U+Math.imul(Ne,le)|0,I=I+Math.imul(Ne,he)|0,I=I+Math.imul(Be,le)|0,q=q+Math.imul(Be,he)|0,U=U+Math.imul(De,pe)|0,I=I+Math.imul(De,Re)|0,I=I+Math.imul(qe,pe)|0,q=q+Math.imul(qe,Re)|0,U=U+Math.imul(oe,Te)|0,I=I+Math.imul(oe,ze)|0,I=I+Math.imul(we,Te)|0,q=q+Math.imul(we,ze)|0;var _t=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(_t>>>26)|0,_t&=67108863,U=Math.imul(ue,at),I=Math.imul(ue,Tt),I=I+Math.imul(ee,at)|0,q=Math.imul(ee,Tt),U=U+Math.imul(Fe,st)|0,I=I+Math.imul(Fe,Nt)|0,I=I+Math.imul(Ye,st)|0,q=q+Math.imul(Ye,Nt)|0,U=U+Math.imul(We,nt)|0,I=I+Math.imul(We,Rt)|0,I=I+Math.imul(it,nt)|0,q=q+Math.imul(it,Rt)|0,U=U+Math.imul(Le,le)|0,I=I+Math.imul(Le,he)|0,I=I+Math.imul(ot,le)|0,q=q+Math.imul(ot,he)|0,U=U+Math.imul(Ne,pe)|0,I=I+Math.imul(Ne,Re)|0,I=I+Math.imul(Be,pe)|0,q=q+Math.imul(Be,Re)|0,U=U+Math.imul(De,Te)|0,I=I+Math.imul(De,ze)|0,I=I+Math.imul(qe,Te)|0,q=q+Math.imul(qe,ze)|0;var ct=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(ct>>>26)|0,ct&=67108863,U=Math.imul(ue,st),I=Math.imul(ue,Nt),I=I+Math.imul(ee,st)|0,q=Math.imul(ee,Nt),U=U+Math.imul(Fe,nt)|0,I=I+Math.imul(Fe,Rt)|0,I=I+Math.imul(Ye,nt)|0,q=q+Math.imul(Ye,Rt)|0,U=U+Math.imul(We,le)|0,I=I+Math.imul(We,he)|0,I=I+Math.imul(it,le)|0,q=q+Math.imul(it,he)|0,U=U+Math.imul(Le,pe)|0,I=I+Math.imul(Le,Re)|0,I=I+Math.imul(ot,pe)|0,q=q+Math.imul(ot,Re)|0,U=U+Math.imul(Ne,Te)|0,I=I+Math.imul(Ne,ze)|0,I=I+Math.imul(Be,Te)|0,q=q+Math.imul(Be,ze)|0;var vt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(vt>>>26)|0,vt&=67108863,U=Math.imul(ue,nt),I=Math.imul(ue,Rt),I=I+Math.imul(ee,nt)|0,q=Math.imul(ee,Rt),U=U+Math.imul(Fe,le)|0,I=I+Math.imul(Fe,he)|0,I=I+Math.imul(Ye,le)|0,q=q+Math.imul(Ye,he)|0,U=U+Math.imul(We,pe)|0,I=I+Math.imul(We,Re)|0,I=I+Math.imul(it,pe)|0,q=q+Math.imul(it,Re)|0,U=U+Math.imul(Le,Te)|0,I=I+Math.imul(Le,ze)|0,I=I+Math.imul(ot,Te)|0,q=q+Math.imul(ot,ze)|0;var gt=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(gt>>>26)|0,gt&=67108863,U=Math.imul(ue,le),I=Math.imul(ue,he),I=I+Math.imul(ee,le)|0,q=Math.imul(ee,he),U=U+Math.imul(Fe,pe)|0,I=I+Math.imul(Fe,Re)|0,I=I+Math.imul(Ye,pe)|0,q=q+Math.imul(Ye,Re)|0,U=U+Math.imul(We,Te)|0,I=I+Math.imul(We,ze)|0,I=I+Math.imul(it,Te)|0,q=q+Math.imul(it,ze)|0;var ft=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(ft>>>26)|0,ft&=67108863,U=Math.imul(ue,pe),I=Math.imul(ue,Re),I=I+Math.imul(ee,pe)|0,q=Math.imul(ee,Re),U=U+Math.imul(Fe,Te)|0,I=I+Math.imul(Fe,ze)|0,I=I+Math.imul(Ye,Te)|0,q=q+Math.imul(Ye,ze)|0;var Ie=(k+U|0)+((I&8191)<<13)|0;k=(q+(I>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,U=Math.imul(ue,Te),I=Math.imul(ue,ze),I=I+Math.imul(ee,Te)|0,q=Math.imul(ee,ze);var ke=(k+U|0)+((I&8191)<<13)|0;return k=(q+(I>>>13)|0)+(ke>>>26)|0,ke&=67108863,N[0]=Ze,N[1]=Xe,N[2]=qt,N[3]=pt,N[4]=At,N[5]=Mt,N[6]=Bt,N[7]=$t,N[8]=Ot,N[9]=St,N[10]=Dt,N[11]=lt,N[12]=_t,N[13]=ct,N[14]=vt,N[15]=gt,N[16]=ft,N[17]=Ie,N[18]=ke,k!==0&&(N[19]=k,w.length++),w};Math.imul||(M=A);function P(z,T,D){D.negative=T.negative^z.negative,D.length=z.length+T.length;for(var w=0,S=0,$=0;$<D.length-1;$++){var N=S;S=0;for(var k=w&67108863,U=Math.min($,T.length-1),I=Math.max(0,$-z.length+1);I<=U;I++){var q=$-I,B=z.words[q]|0,H=T.words[I]|0,ce=B*H,be=ce&67108863;N=N+(ce/67108864|0)|0,be=be+k|0,k=be&67108863,N=N+(be>>>26)|0,S+=N>>>26,N&=67108863}D.words[$]=k,w=N,N=S}return w!==0?D.words[$]=w:D.length--,D.strip()}function F(z,T,D){var w=new L;return w.mulp(z,T,D)}v.prototype.mulTo=function(T,D){var w,S=this.length+T.length;return this.length===10&&T.length===10?w=M(this,T,D):S<63?w=A(this,T,D):S<1024?w=P(this,T,D):w=F(this,T,D),w};function L(z,T){this.x=z,this.y=T}L.prototype.makeRBT=function(T){for(var D=new Array(T),w=v.prototype._countBits(T)-1,S=0;S<T;S++)D[S]=this.revBin(S,w,T);return D},L.prototype.revBin=function(T,D,w){if(T===0||T===w-1)return T;for(var S=0,$=0;$<D;$++)S|=(T&1)<<D-$-1,T>>=1;return S},L.prototype.permute=function(T,D,w,S,$,N){for(var k=0;k<N;k++)S[k]=D[T[k]],$[k]=w[T[k]]},L.prototype.transform=function(T,D,w,S,$,N){this.permute(N,T,D,w,S,$);for(var k=1;k<$;k<<=1)for(var U=k<<1,I=Math.cos(2*Math.PI/U),q=Math.sin(2*Math.PI/U),B=0;B<$;B+=U)for(var H=I,ce=q,be=0;be<k;be++){var ve=w[B+be],Z=S[B+be],J=w[B+be+k],ae=S[B+be+k],X=H*J-ce*ae;ae=H*ae+ce*J,J=X,w[B+be]=ve+J,S[B+be]=Z+ae,w[B+be+k]=ve-J,S[B+be+k]=Z-ae,be!==U&&(X=I*H-q*ce,ce=I*ce+q*H,H=X)}},L.prototype.guessLen13b=function(T,D){var w=Math.max(D,T)|1,S=w&1,$=0;for(w=w/2|0;w;w=w>>>1)$++;return 1<<$+1+S},L.prototype.conjugate=function(T,D,w){if(!(w<=1))for(var S=0;S<w/2;S++){var $=T[S];T[S]=T[w-S-1],T[w-S-1]=$,$=D[S],D[S]=-D[w-S-1],D[w-S-1]=-$}},L.prototype.normalize13b=function(T,D){for(var w=0,S=0;S<D/2;S++){var $=Math.round(T[2*S+1]/D)*8192+Math.round(T[2*S]/D)+w;T[S]=$&67108863,$<67108864?w=0:w=$/67108864|0}return T},L.prototype.convert13b=function(T,D,w,S){for(var $=0,N=0;N<D;N++)$=$+(T[N]|0),w[2*N]=$&8191,$=$>>>13,w[2*N+1]=$&8191,$=$>>>13;for(N=2*D;N<S;++N)w[N]=0;g($===0),g(($&-8192)===0)},L.prototype.stub=function(T){for(var D=new Array(T),w=0;w<T;w++)D[w]=0;return D},L.prototype.mulp=function(T,D,w){var S=2*this.guessLen13b(T.length,D.length),$=this.makeRBT(S),N=this.stub(S),k=new Array(S),U=new Array(S),I=new Array(S),q=new Array(S),B=new Array(S),H=new Array(S),ce=w.words;ce.length=S,this.convert13b(T.words,T.length,k,S),this.convert13b(D.words,D.length,q,S),this.transform(k,N,U,I,S,$),this.transform(q,N,B,H,S,$);for(var be=0;be<S;be++){var ve=U[be]*B[be]-I[be]*H[be];I[be]=U[be]*H[be]+I[be]*B[be],U[be]=ve}return this.conjugate(U,I,S),this.transform(U,I,ce,N,S,$),this.conjugate(ce,N,S),this.normalize13b(ce,S),w.negative=T.negative^D.negative,w.length=T.length+D.length,w.strip()},v.prototype.mul=function(T){var D=new v(null);return D.words=new Array(this.length+T.length),this.mulTo(T,D)},v.prototype.mulf=function(T){var D=new v(null);return D.words=new Array(this.length+T.length),F(this,T,D)},v.prototype.imul=function(T){return this.clone().mulTo(T,this)},v.prototype.imuln=function(T){g(typeof T=="number"),g(T<67108864);for(var D=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*T,$=(S&67108863)+(D&67108863);D>>=26,D+=S/67108864|0,D+=$>>>26,this.words[w]=$&67108863}return D!==0&&(this.words[w]=D,this.length++),this},v.prototype.muln=function(T){return this.clone().imuln(T)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(T){var D=O(T);if(D.length===0)return new v(1);for(var w=this,S=0;S<D.length&&D[S]===0;S++,w=w.sqr());if(++S<D.length)for(var $=w.sqr();S<D.length;S++,$=$.sqr())D[S]!==0&&(w=w.mul($));return w},v.prototype.iushln=function(T){g(typeof T=="number"&&T>=0);var D=T%26,w=(T-D)/26,S=67108863>>>26-D<<26-D,$;if(D!==0){var N=0;for($=0;$<this.length;$++){var k=this.words[$]&S,U=(this.words[$]|0)-k<<D;this.words[$]=U|N,N=k>>>26-D}N&&(this.words[$]=N,this.length++)}if(w!==0){for($=this.length-1;$>=0;$--)this.words[$+w]=this.words[$];for($=0;$<w;$++)this.words[$]=0;this.length+=w}return this.strip()},v.prototype.ishln=function(T){return g(this.negative===0),this.iushln(T)},v.prototype.iushrn=function(T,D,w){g(typeof T=="number"&&T>=0);var S;D?S=(D-D%26)/26:S=0;var $=T%26,N=Math.min((T-$)/26,this.length),k=67108863^67108863>>>$<<$,U=w;if(S-=N,S=Math.max(0,S),U){for(var I=0;I<N;I++)U.words[I]=this.words[I];U.length=N}if(N!==0)if(this.length>N)for(this.length-=N,I=0;I<this.length;I++)this.words[I]=this.words[I+N];else this.words[0]=0,this.length=1;var q=0;for(I=this.length-1;I>=0&&(q!==0||I>=S);I--){var B=this.words[I]|0;this.words[I]=q<<26-$|B>>>$,q=B&k}return U&&q!==0&&(U.words[U.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},v.prototype.ishrn=function(T,D,w){return g(this.negative===0),this.iushrn(T,D,w)},v.prototype.shln=function(T){return this.clone().ishln(T)},v.prototype.ushln=function(T){return this.clone().iushln(T)},v.prototype.shrn=function(T){return this.clone().ishrn(T)},v.prototype.ushrn=function(T){return this.clone().iushrn(T)},v.prototype.testn=function(T){g(typeof T=="number"&&T>=0);var D=T%26,w=(T-D)/26,S=1<<D;if(this.length<=w)return!1;var $=this.words[w];return!!($&S)},v.prototype.imaskn=function(T){g(typeof T=="number"&&T>=0);var D=T%26,w=(T-D)/26;if(g(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(D!==0&&w++,this.length=Math.min(w,this.length),D!==0){var S=67108863^67108863>>>D<<D;this.words[this.length-1]&=S}return this.strip()},v.prototype.maskn=function(T){return this.clone().imaskn(T)},v.prototype.iaddn=function(T){return g(typeof T=="number"),g(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(this.words[0]|0)<T?(this.words[0]=T-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},v.prototype._iaddn=function(T){this.words[0]+=T;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},v.prototype.isubn=function(T){if(g(typeof T=="number"),g(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},v.prototype.addn=function(T){return this.clone().iaddn(T)},v.prototype.subn=function(T){return this.clone().isubn(T)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(T,D,w){var S=T.length+w,$;this._expand(S);var N,k=0;for($=0;$<T.length;$++){N=(this.words[$+w]|0)+k;var U=(T.words[$]|0)*D;N-=U&67108863,k=(N>>26)-(U/67108864|0),this.words[$+w]=N&67108863}for(;$<this.length-w;$++)N=(this.words[$+w]|0)+k,k=N>>26,this.words[$+w]=N&67108863;if(k===0)return this.strip();for(g(k===-1),k=0,$=0;$<this.length;$++)N=-(this.words[$]|0)+k,k=N>>26,this.words[$]=N&67108863;return this.negative=1,this.strip()},v.prototype._wordDiv=function(T,D){var w=this.length-T.length,S=this.clone(),$=T,N=$.words[$.length-1]|0,k=this._countBits(N);w=26-k,w!==0&&($=$.ushln(w),S.iushln(w),N=$.words[$.length-1]|0);var U=S.length-$.length,I;if(D!=="mod"){I=new v(null),I.length=U+1,I.words=new Array(I.length);for(var q=0;q<I.length;q++)I.words[q]=0}var B=S.clone()._ishlnsubmul($,1,U);B.negative===0&&(S=B,I&&(I.words[U]=1));for(var H=U-1;H>=0;H--){var ce=(S.words[$.length+H]|0)*67108864+(S.words[$.length+H-1]|0);for(ce=Math.min(ce/N|0,67108863),S._ishlnsubmul($,ce,H);S.negative!==0;)ce--,S.negative=0,S._ishlnsubmul($,1,H),S.isZero()||(S.negative^=1);I&&(I.words[H]=ce)}return I&&I.strip(),S.strip(),D!=="div"&&w!==0&&S.iushrn(w),{div:I||null,mod:S}},v.prototype.divmod=function(T,D,w){if(g(!T.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var S,$,N;return this.negative!==0&&T.negative===0?(N=this.neg().divmod(T,D),D!=="mod"&&(S=N.div.neg()),D!=="div"&&($=N.mod.neg(),w&&$.negative!==0&&$.iadd(T)),{div:S,mod:$}):this.negative===0&&T.negative!==0?(N=this.divmod(T.neg(),D),D!=="mod"&&(S=N.div.neg()),{div:S,mod:N.mod}):this.negative&T.negative?(N=this.neg().divmod(T.neg(),D),D!=="div"&&($=N.mod.neg(),w&&$.negative!==0&&$.isub(T)),{div:N.div,mod:$}):T.length>this.length||this.cmp(T)<0?{div:new v(0),mod:this}:T.length===1?D==="div"?{div:this.divn(T.words[0]),mod:null}:D==="mod"?{div:null,mod:new v(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new v(this.modn(T.words[0]))}:this._wordDiv(T,D)},v.prototype.div=function(T){return this.divmod(T,"div",!1).div},v.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},v.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},v.prototype.divRound=function(T){var D=this.divmod(T);if(D.mod.isZero())return D.div;var w=D.div.negative!==0?D.mod.isub(T):D.mod,S=T.ushrn(1),$=T.andln(1),N=w.cmp(S);return N<0||$===1&&N===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},v.prototype.modn=function(T){g(T<=67108863);for(var D=(1<<26)%T,w=0,S=this.length-1;S>=0;S--)w=(D*w+(this.words[S]|0))%T;return w},v.prototype.idivn=function(T){g(T<=67108863);for(var D=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+D*67108864;this.words[w]=S/T|0,D=S%T}return this.strip()},v.prototype.divn=function(T){return this.clone().idivn(T)},v.prototype.egcd=function(T){g(T.negative===0),g(!T.isZero());var D=this,w=T.clone();D.negative!==0?D=D.umod(T):D=D.clone();for(var S=new v(1),$=new v(0),N=new v(0),k=new v(1),U=0;D.isEven()&&w.isEven();)D.iushrn(1),w.iushrn(1),++U;for(var I=w.clone(),q=D.clone();!D.isZero();){for(var B=0,H=1;!(D.words[0]&H)&&B<26;++B,H<<=1);if(B>0)for(D.iushrn(B);B-- >0;)(S.isOdd()||$.isOdd())&&(S.iadd(I),$.isub(q)),S.iushrn(1),$.iushrn(1);for(var ce=0,be=1;!(w.words[0]&be)&&ce<26;++ce,be<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(N.isOdd()||k.isOdd())&&(N.iadd(I),k.isub(q)),N.iushrn(1),k.iushrn(1);D.cmp(w)>=0?(D.isub(w),S.isub(N),$.isub(k)):(w.isub(D),N.isub(S),k.isub($))}return{a:N,b:k,gcd:w.iushln(U)}},v.prototype._invmp=function(T){g(T.negative===0),g(!T.isZero());var D=this,w=T.clone();D.negative!==0?D=D.umod(T):D=D.clone();for(var S=new v(1),$=new v(0),N=w.clone();D.cmpn(1)>0&&w.cmpn(1)>0;){for(var k=0,U=1;!(D.words[0]&U)&&k<26;++k,U<<=1);if(k>0)for(D.iushrn(k);k-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);for(var I=0,q=1;!(w.words[0]&q)&&I<26;++I,q<<=1);if(I>0)for(w.iushrn(I);I-- >0;)$.isOdd()&&$.iadd(N),$.iushrn(1);D.cmp(w)>=0?(D.isub(w),S.isub($)):(w.isub(D),$.isub(S))}var B;return D.cmpn(1)===0?B=S:B=$,B.cmpn(0)<0&&B.iadd(T),B},v.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var D=this.clone(),w=T.clone();D.negative=0,w.negative=0;for(var S=0;D.isEven()&&w.isEven();S++)D.iushrn(1),w.iushrn(1);do{for(;D.isEven();)D.iushrn(1);for(;w.isEven();)w.iushrn(1);var $=D.cmp(w);if($<0){var N=D;D=w,w=N}else if($===0||w.cmpn(1)===0)break;D.isub(w)}while(!0);return w.iushln(S)},v.prototype.invm=function(T){return this.egcd(T).a.umod(T)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(T){return this.words[0]&T},v.prototype.bincn=function(T){g(typeof T=="number");var D=T%26,w=(T-D)/26,S=1<<D;if(this.length<=w)return this._expand(w+1),this.words[w]|=S,this;for(var $=S,N=w;$!==0&&N<this.length;N++){var k=this.words[N]|0;k+=$,$=k>>>26,k&=67108863,this.words[N]=k}return $!==0&&(this.words[N]=$,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(T){var D=T<0;if(this.negative!==0&&!D)return-1;if(this.negative===0&&D)return 1;this.strip();var w;if(this.length>1)w=1;else{D&&(T=-T),g(T<=67108863,"Number is too big");var S=this.words[0]|0;w=S===T?0:S<T?-1:1}return this.negative!==0?-w|0:w},v.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var D=this.ucmp(T);return this.negative!==0?-D|0:D},v.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var D=0,w=this.length-1;w>=0;w--){var S=this.words[w]|0,$=T.words[w]|0;if(S!==$){S<$?D=-1:S>$&&(D=1);break}}return D},v.prototype.gtn=function(T){return this.cmpn(T)===1},v.prototype.gt=function(T){return this.cmp(T)===1},v.prototype.gten=function(T){return this.cmpn(T)>=0},v.prototype.gte=function(T){return this.cmp(T)>=0},v.prototype.ltn=function(T){return this.cmpn(T)===-1},v.prototype.lt=function(T){return this.cmp(T)===-1},v.prototype.lten=function(T){return this.cmpn(T)<=0},v.prototype.lte=function(T){return this.cmp(T)<=0},v.prototype.eqn=function(T){return this.cmpn(T)===0},v.prototype.eq=function(T){return this.cmp(T)===0},v.red=function(T){return new ne(T)},v.prototype.toRed=function(T){return g(!this.red,"Already a number in reduction context"),g(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},v.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(T){return this.red=T,this},v.prototype.forceRed=function(T){return g(!this.red,"Already a number in reduction context"),this._forceRed(T)},v.prototype.redAdd=function(T){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},v.prototype.redIAdd=function(T){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},v.prototype.redSub=function(T){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},v.prototype.redISub=function(T){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},v.prototype.redShl=function(T){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},v.prototype.redMul=function(T){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},v.prototype.redIMul=function(T){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},v.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(T){return g(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var K={k256:null,p224:null,p192:null,p25519:null};function j(z,T){this.name=z,this.p=new v(T,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var T=new v(null);return T.words=new Array(Math.ceil(this.n/13)),T},j.prototype.ireduce=function(T){var D=T,w;do this.split(D,this.tmp),D=this.imulK(D),D=D.iadd(this.tmp),w=D.bitLength();while(w>this.n);var S=w<this.n?-1:D.ucmp(this.p);return S===0?(D.words[0]=0,D.length=1):S>0?D.isub(this.p):D.strip!==void 0?D.strip():D._strip(),D},j.prototype.split=function(T,D){T.iushrn(this.n,0,D)},j.prototype.imulK=function(T){return T.imul(this.k)};function W(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(W,j),W.prototype.split=function(T,D){for(var w=4194303,S=Math.min(T.length,9),$=0;$<S;$++)D.words[$]=T.words[$];if(D.length=S,T.length<=9){T.words[0]=0,T.length=1;return}var N=T.words[9];for(D.words[D.length++]=N&w,$=10;$<T.length;$++){var k=T.words[$]|0;T.words[$-10]=(k&w)<<4|N>>>22,N=k}N>>>=22,T.words[$-10]=N,N===0&&T.length>10?T.length-=10:T.length-=9},W.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var D=0,w=0;w<T.length;w++){var S=T.words[w]|0;D+=S*977,T.words[w]=D&67108863,D=S*64+(D/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T};function G(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(G,j);function Q(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(Q,j);function re(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(re,j),re.prototype.imulK=function(T){for(var D=0,w=0;w<T.length;w++){var S=(T.words[w]|0)*19+D,$=S&67108863;S>>>=26,T.words[w]=$,D=S}return D!==0&&(T.words[T.length++]=D),T},v._prime=function(T){if(K[T])return K[T];var D;if(T==="k256")D=new W;else if(T==="p224")D=new G;else if(T==="p192")D=new Q;else if(T==="p25519")D=new re;else throw new Error("Unknown prime "+T);return K[T]=D,D};function ne(z){if(typeof z=="string"){var T=v._prime(z);this.m=T.p,this.prime=T}else g(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}ne.prototype._verify1=function(T){g(T.negative===0,"red works only with positives"),g(T.red,"red works only with red numbers")},ne.prototype._verify2=function(T,D){g((T.negative|D.negative)===0,"red works only with positives"),g(T.red&&T.red===D.red,"red works only with red numbers")},ne.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},ne.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},ne.prototype.add=function(T,D){this._verify2(T,D);var w=T.add(D);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},ne.prototype.iadd=function(T,D){this._verify2(T,D);var w=T.iadd(D);return w.cmp(this.m)>=0&&w.isub(this.m),w},ne.prototype.sub=function(T,D){this._verify2(T,D);var w=T.sub(D);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},ne.prototype.isub=function(T,D){this._verify2(T,D);var w=T.isub(D);return w.cmpn(0)<0&&w.iadd(this.m),w},ne.prototype.shl=function(T,D){return this._verify1(T),this.imod(T.ushln(D))},ne.prototype.imul=function(T,D){return this._verify2(T,D),this.imod(T.imul(D))},ne.prototype.mul=function(T,D){return this._verify2(T,D),this.imod(T.mul(D))},ne.prototype.isqr=function(T){return this.imul(T,T.clone())},ne.prototype.sqr=function(T){return this.mul(T,T)},ne.prototype.sqrt=function(T){if(T.isZero())return T.clone();var D=this.m.andln(3);if(g(D%2===1),D===3){var w=this.m.add(new v(1)).iushrn(2);return this.pow(T,w)}for(var S=this.m.subn(1),$=0;!S.isZero()&&S.andln(1)===0;)$++,S.iushrn(1);g(!S.isZero());var N=new v(1).toRed(this),k=N.redNeg(),U=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new v(2*I*I).toRed(this);this.pow(I,U).cmp(k)!==0;)I.redIAdd(k);for(var q=this.pow(I,S),B=this.pow(T,S.addn(1).iushrn(1)),H=this.pow(T,S),ce=$;H.cmp(N)!==0;){for(var be=H,ve=0;be.cmp(N)!==0;ve++)be=be.redSqr();g(ve<ce);var Z=this.pow(q,new v(1).iushln(ce-ve-1));B=B.redMul(Z),q=Z.redSqr(),H=H.redMul(q),ce=ve}return B},ne.prototype.invm=function(T){var D=T._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},ne.prototype.pow=function(T,D){if(D.isZero())return new v(1).toRed(this);if(D.cmpn(1)===0)return T.clone();var w=4,S=new Array(1<<w);S[0]=new v(1).toRed(this),S[1]=T;for(var $=2;$<S.length;$++)S[$]=this.mul(S[$-1],T);var N=S[0],k=0,U=0,I=D.bitLength()%26;for(I===0&&(I=26),$=D.length-1;$>=0;$--){for(var q=D.words[$],B=I-1;B>=0;B--){var H=q>>B&1;if(N!==S[0]&&(N=this.sqr(N)),H===0&&k===0){U=0;continue}k<<=1,k|=H,U++,!(U!==w&&($!==0||B!==0))&&(N=this.mul(N,S[k]),U=0,k=0)}I=26}return N},ne.prototype.convertTo=function(T){var D=T.umod(this.m);return D===T?D.clone():D},ne.prototype.convertFrom=function(T){var D=T.clone();return D.red=null,D},v.mont=function(T){return new ie(T)};function ie(z){ne.call(this,z),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(ie,ne),ie.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},ie.prototype.convertFrom=function(T){var D=this.imod(T.mul(this.rinv));return D.red=null,D},ie.prototype.imul=function(T,D){if(T.isZero()||D.isZero())return T.words[0]=0,T.length=1,T;var w=T.imul(D),S=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=w.isub(S).iushrn(this.shift),N=$;return $.cmp(this.m)>=0?N=$.isub(this.m):$.cmpn(0)<0&&(N=$.iadd(this.m)),N._forceRed(this)},ie.prototype.mul=function(T,D){if(T.isZero()||D.isZero())return new v(0)._forceRed(this);var w=T.mul(D),S=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=w.isub(S).iushrn(this.shift),N=$;return $.cmp(this.m)>=0?N=$.isub(this.m):$.cmpn(0)<0&&(N=$.iadd(this.m)),N._forceRed(this)},ie.prototype.invm=function(T){var D=this.imod(T._invmp(this.m).mul(this.r2));return D._forceRed(this)}})(f,commonjsGlobal)}(bn$2)),bn$2.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var f;brorand.exports=function(m){return f||(f=new r(null)),f.generate(m)};function r(g){this.rand=g}if(brorand.exports.Rand=r,r.prototype.generate=function(m){return this._rand(m)},r.prototype._rand=function(m){if(this.rand.getBytes)return this.rand.getBytes(m);for(var v=new Uint8Array(m),_=0;_<v.length;_++)v[_]=this.rand.getByte();return v},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(m){var v=new Uint8Array(m);return self.crypto.getRandomValues(v),v}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(m){var v=new Uint8Array(m);return self.msCrypto.getRandomValues(v),v}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var d=requireCryptoBrowserify();if(typeof d.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(m){return d.randomBytes(m)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var f=requireBn$2(),r=requireBrorand();function d(g){this.rand=g||new r.Rand}return mr=d,d.create=function(m){return new d(m)},d.prototype._randbelow=function(m){var v=m.bitLength(),_=Math.ceil(v/8);do var y=new f(this.rand.generate(_));while(y.cmp(m)>=0);return y},d.prototype._randrange=function(m,v){var _=v.sub(m);return m.add(this._randbelow(_))},d.prototype.test=function(m,v,_){var y=m.bitLength(),x=f.mont(m),E=new f(1).toRed(x);v||(v=Math.max(1,y/48|0));for(var b=m.subn(1),C=0;!b.testn(C);C++);for(var R=m.shrn(C),O=b.toRed(x),A=!0;v>0;v--){var M=this._randrange(new f(2),b);_&&_(M);var P=M.toRed(x).redPow(R);if(!(P.cmp(E)===0||P.cmp(O)===0)){for(var F=1;F<C;F++){if(P=P.redSqr(),P.cmp(E)===0)return!1;if(P.cmp(O)===0)break}if(F===C)return!1}}return A},d.prototype.getDivisor=function(m,v){var _=m.bitLength(),y=f.mont(m),x=new f(1).toRed(y);v||(v=Math.max(1,_/48|0));for(var E=m.subn(1),b=0;!E.testn(b);b++);for(var C=m.shrn(b),R=E.toRed(y);v>0;v--){var O=this._randrange(new f(2),E),A=m.gcd(O);if(A.cmpn(1)!==0)return A;var M=O.toRed(y).redPow(C);if(!(M.cmp(x)===0||M.cmp(R)===0)){for(var P=1;P<b;P++){if(M=M.redSqr(),M.cmp(x)===0)return M.fromRed().subn(1).gcd(m);if(M.cmp(R)===0)break}if(P===b)return M=M.redSqr(),M.fromRed().subn(1).gcd(m)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var f=requireBrowser$b();generatePrime=P,P.simpleSieve=A,P.fermatTest=M;var r=requireBn$2(),d=new r(24),g=requireMr(),m=new g,v=new r(1),_=new r(2),y=new r(5);new r(16),new r(8);var x=new r(10),E=new r(3);new r(7);var b=new r(11),C=new r(4);new r(12);var R=null;function O(){if(R!==null)return R;var F=1048576,L=[];L[0]=2;for(var K=1,j=3;j<F;j+=2){for(var W=Math.ceil(Math.sqrt(j)),G=0;G<K&&L[G]<=W&&j%L[G]!==0;G++);K!==G&&L[G]<=W||(L[K++]=j)}return R=L,L}function A(F){for(var L=O(),K=0;K<L.length;K++)if(F.modn(L[K])===0)return F.cmpn(L[K])===0;return!0}function M(F){var L=r.mont(F);return _.toRed(L).redPow(F.subn(1)).fromRed().cmpn(1)===0}function P(F,L){if(F<16)return L===2||L===5?new r([140,123]):new r([140,39]);L=new r(L);for(var K,j;;){for(K=new r(f(Math.ceil(F/8)));K.bitLength()>F;)K.ishrn(1);if(K.isEven()&&K.iadd(v),K.testn(1)||K.iadd(_),L.cmp(_)){if(!L.cmp(y))for(;K.mod(x).cmp(E);)K.iadd(C)}else for(;K.mod(d).cmp(b);)K.iadd(C);if(j=K.shrn(1),A(j)&&A(K)&&M(j)&&M(K)&&m.test(j)&&m.test(K))return K}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var f=requireBn$2(),r=requireMr(),d=new r,g=new f(24),m=new f(11),v=new f(10),_=new f(3),y=new f(7),x=requireGeneratePrime(),E=requireBrowser$b();dh=A;function b(P,F){return F=F||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,F)),this._pub=new f(P),this}function C(P,F){return F=F||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,F)),this._priv=new f(P),this}var R={};function O(P,F){var L=F.toString("hex"),K=[L,P.toString(16)].join("_");if(K in R)return R[K];var j=0;if(P.isEven()||!x.simpleSieve||!x.fermatTest(P)||!d.test(P))return j+=1,L==="02"||L==="05"?j+=8:j+=4,R[K]=j,j;d.test(P.shrn(1))||(j+=2);var W;switch(L){case"02":P.mod(g).cmp(m)&&(j+=8);break;case"05":W=P.mod(v),W.cmp(_)&&W.cmp(y)&&(j+=8);break;default:j+=4}return R[K]=j,j}function A(P,F,L){this.setGenerator(F),this.__prime=new f(P),this._prime=f.mont(this.__prime),this._primeLen=P.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=b,this.setPrivateKey=C):this._primeCode=8}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=O(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new f(E(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(P){P=new f(P),P=P.toRed(this._prime);var F=P.redPow(this._priv).fromRed(),L=new Buffer(F.toArray()),K=this.getPrime();if(L.length<K.length){var j=new Buffer(K.length-L.length);j.fill(0),L=Buffer.concat([j,L])}return L},A.prototype.getPublicKey=function(F){return M(this._pub,F)},A.prototype.getPrivateKey=function(F){return M(this._priv,F)},A.prototype.getPrime=function(P){return M(this.__prime,P)},A.prototype.getGenerator=function(P){return M(this._gen,P)},A.prototype.setGenerator=function(P,F){return F=F||"utf8",Buffer.isBuffer(P)||(P=new Buffer(P,F)),this.__gen=P,this._gen=new f(P),this};function M(P,F){var L=new Buffer(P.toArray());return F?L.toString(F):L}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$5;hasRequiredBrowser$4=1;var f=requireGeneratePrime(),r=require$$1$2,d=requireDh();function g(_){var y=new Buffer(r[_].prime,"hex"),x=new Buffer(r[_].gen,"hex");return new d(y,x)}var m={binary:!0,hex:!0,base64:!0};function v(_,y,x,E){return Buffer.isBuffer(y)||m[y]===void 0?v(_,"binary",y,x):(y=y||"binary",E=E||"binary",x=x||new Buffer([2]),Buffer.isBuffer(x)||(x=new Buffer(x,E)),typeof _=="number"?new d(f(_,x),x,!0):(Buffer.isBuffer(_)||(_=new Buffer(_,y)),new d(_,x,!0)))}return browser$5.DiffieHellmanGroup=browser$5.createDiffieHellmanGroup=browser$5.getDiffieHellman=g,browser$5.createDiffieHellman=browser$5.DiffieHellman=v,browser$5}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:f}:processNextickArgs.exports=process$1;function f(r,d,g,m){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var v=arguments.length,_,y;switch(v){case 0:case 1:return process$1.nextTick(r);case 2:return process$1.nextTick(function(){r.call(null,d)});case 3:return process$1.nextTick(function(){r.call(null,d,g)});case 4:return process$1.nextTick(function(){r.call(null,d,g,m)});default:for(_=new Array(v-1),y=0;y<_.length;)_[y++]=arguments[y];return process$1.nextTick(function(){r.apply(null,_)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var f={}.toString;return isarray=Array.isArray||function(r){return f.call(r)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(f,r){var d=require$$0$2,g=d.Buffer;function m(_,y){for(var x in _)y[x]=_[x]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?f.exports=d:(m(d,r),r.Buffer=v);function v(_,y,x){return g(_,y,x)}m(g,v),v.from=function(_,y,x){if(typeof _=="number")throw new TypeError("Argument must not be a number");return g(_,y,x)},v.alloc=function(_,y,x){if(typeof _!="number")throw new TypeError("Argument must be a number");var E=g(_);return y!==void 0?typeof x=="string"?E.fill(y,x):E.fill(y):E.fill(0),E},v.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return g(_)},v.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(_)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function f(M){return Array.isArray?Array.isArray(M):A(M)==="[object Array]"}util.isArray=f;function r(M){return typeof M=="boolean"}util.isBoolean=r;function d(M){return M===null}util.isNull=d;function g(M){return M==null}util.isNullOrUndefined=g;function m(M){return typeof M=="number"}util.isNumber=m;function v(M){return typeof M=="string"}util.isString=v;function _(M){return typeof M=="symbol"}util.isSymbol=_;function y(M){return M===void 0}util.isUndefined=y;function x(M){return A(M)==="[object RegExp]"}util.isRegExp=x;function E(M){return typeof M=="object"&&M!==null}util.isObject=E;function b(M){return A(M)==="[object Date]"}util.isDate=b;function C(M){return A(M)==="[object Error]"||M instanceof Error}util.isError=C;function R(M){return typeof M=="function"}util.isFunction=R;function O(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||typeof M>"u"}util.isPrimitive=O,util.isBuffer=require$$0$2.Buffer.isBuffer;function A(M){return Object.prototype.toString.call(M)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(f){function r(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}var d=requireSafeBuffer().Buffer,g=requireUtil$1();function m(v,_,y){v.copy(_,y)}f.exports=function(){function v(){r(this,v),this.head=null,this.tail=null,this.length=0}return v.prototype.push=function(y){var x={data:y,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length},v.prototype.unshift=function(y){var x={data:y,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length},v.prototype.shift=function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}},v.prototype.clear=function(){this.head=this.tail=null,this.length=0},v.prototype.join=function(y){if(this.length===0)return"";for(var x=this.head,E=""+x.data;x=x.next;)E+=y+x.data;return E},v.prototype.concat=function(y){if(this.length===0)return d.alloc(0);for(var x=d.allocUnsafe(y>>>0),E=this.head,b=0;E;)m(E.data,x,b),b+=E.data.length,E=E.next;return x},v}(),g&&g.inspect&&g.inspect.custom&&(f.exports.prototype[g.inspect.custom]=function(){var v=g.inspect({length:this.length});return this.constructor.name+" "+v})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var f=requireProcessNextickArgs();function r(m,v){var _=this,y=this._readableState&&this._readableState.destroyed,x=this._writableState&&this._writableState.destroyed;return y||x?(v?v(m):m&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(g,this,m)):f.nextTick(g,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(E){!v&&E?_._writableState?_._writableState.errorEmitted||(_._writableState.errorEmitted=!0,f.nextTick(g,_,E)):f.nextTick(g,_,E):v&&v(E)}),this)}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(m,v){m.emit("error",v)}return destroy_1={destroy:r,undestroy:d},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var f=requireProcessNextickArgs();_stream_writable=M;function r(N){var k=this;this.next=null,this.entry=null,this.finish=function(){$(k,N)}}var d=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:f.nextTick,g;M.WritableState=O;var m=Object.create(requireUtil());m.inherits=requireInherits_browser();var v={deprecate:requireBrowser$a()},_=requireStreamBrowser(),y=requireSafeBuffer().Buffer,x=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function E(N){return y.from(N)}function b(N){return y.isBuffer(N)||N instanceof x}var C=requireDestroy();m.inherits(M,_);function R(){}function O(N,k){g=g||require_stream_duplex(),N=N||{};var U=k instanceof g;this.objectMode=!!N.objectMode,U&&(this.objectMode=this.objectMode||!!N.writableObjectMode);var I=N.highWaterMark,q=N.writableHighWaterMark,B=this.objectMode?16:16*1024;I||I===0?this.highWaterMark=I:U&&(q||q===0)?this.highWaterMark=q:this.highWaterMark=B,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=N.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){Q(k,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}O.prototype.getBuffer=function(){for(var k=this.bufferedRequest,U=[];k;)U.push(k),k=k.next;return U},function(){try{Object.defineProperty(O.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(N){return A.call(this,N)?!0:this!==M?!1:N&&N._writableState instanceof O}})):A=function(N){return N instanceof this};function M(N){if(g=g||require_stream_duplex(),!A.call(M,this)&&!(this instanceof g))return new M(N);this._writableState=new O(N,this),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),_.call(this)}M.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function P(N,k){var U=new Error("write after end");N.emit("error",U),f.nextTick(k,U)}function F(N,k,U,I){var q=!0,B=!1;return U===null?B=new TypeError("May not write null values to stream"):typeof U!="string"&&U!==void 0&&!k.objectMode&&(B=new TypeError("Invalid non-string/buffer chunk")),B&&(N.emit("error",B),f.nextTick(I,B),q=!1),q}M.prototype.write=function(N,k,U){var I=this._writableState,q=!1,B=!I.objectMode&&b(N);return B&&!y.isBuffer(N)&&(N=E(N)),typeof k=="function"&&(U=k,k=null),B?k="buffer":k||(k=I.defaultEncoding),typeof U!="function"&&(U=R),I.ended?P(this,U):(B||F(this,I,N,U))&&(I.pendingcb++,q=K(this,I,B,N,k,U)),q},M.prototype.cork=function(){var N=this._writableState;N.corked++},M.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,!N.writing&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&ie(this,N))},M.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+k);return this._writableState.defaultEncoding=k,this};function L(N,k,U){return!N.objectMode&&N.decodeStrings!==!1&&typeof k=="string"&&(k=y.from(k,U)),k}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(N,k,U,I,q,B){if(!U){var H=L(k,I,q);I!==H&&(U=!0,q="buffer",I=H)}var ce=k.objectMode?1:I.length;k.length+=ce;var be=k.length<k.highWaterMark;if(be||(k.needDrain=!0),k.writing||k.corked){var ve=k.lastBufferedRequest;k.lastBufferedRequest={chunk:I,encoding:q,isBuf:U,callback:B,next:null},ve?ve.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else j(N,k,!1,ce,I,q,B);return be}function j(N,k,U,I,q,B,H){k.writelen=I,k.writecb=H,k.writing=!0,k.sync=!0,U?N._writev(q,k.onwrite):N._write(q,B,k.onwrite),k.sync=!1}function W(N,k,U,I,q){--k.pendingcb,U?(f.nextTick(q,I),f.nextTick(w,N,k),N._writableState.errorEmitted=!0,N.emit("error",I)):(q(I),N._writableState.errorEmitted=!0,N.emit("error",I),w(N,k))}function G(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}function Q(N,k){var U=N._writableState,I=U.sync,q=U.writecb;if(G(U),k)W(N,U,I,k,q);else{var B=z(U);!B&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&ie(N,U),I?d(re,N,U,B,q):re(N,U,B,q)}}function re(N,k,U,I){U||ne(N,k),k.pendingcb--,I(),w(N,k)}function ne(N,k){k.length===0&&k.needDrain&&(k.needDrain=!1,N.emit("drain"))}function ie(N,k){k.bufferProcessing=!0;var U=k.bufferedRequest;if(N._writev&&U&&U.next){var I=k.bufferedRequestCount,q=new Array(I),B=k.corkedRequestsFree;B.entry=U;for(var H=0,ce=!0;U;)q[H]=U,U.isBuf||(ce=!1),U=U.next,H+=1;q.allBuffers=ce,j(N,k,!0,k.length,q,"",B.finish),k.pendingcb++,k.lastBufferedRequest=null,B.next?(k.corkedRequestsFree=B.next,B.next=null):k.corkedRequestsFree=new r(k),k.bufferedRequestCount=0}else{for(;U;){var be=U.chunk,ve=U.encoding,Z=U.callback,J=k.objectMode?1:be.length;if(j(N,k,!1,J,be,ve,Z),U=U.next,k.bufferedRequestCount--,k.writing)break}U===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=U,k.bufferProcessing=!1}M.prototype._write=function(N,k,U){U(new Error("_write() is not implemented"))},M.prototype._writev=null,M.prototype.end=function(N,k,U){var I=this._writableState;typeof N=="function"?(U=N,N=null,k=null):typeof k=="function"&&(U=k,k=null),N!=null&&this.write(N,k),I.corked&&(I.corked=1,this.uncork()),I.ending||S(this,I,U)};function z(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function T(N,k){N._final(function(U){k.pendingcb--,U&&N.emit("error",U),k.prefinished=!0,N.emit("prefinish"),w(N,k)})}function D(N,k){!k.prefinished&&!k.finalCalled&&(typeof N._final=="function"?(k.pendingcb++,k.finalCalled=!0,f.nextTick(T,N,k)):(k.prefinished=!0,N.emit("prefinish")))}function w(N,k){var U=z(k);return U&&(D(N,k),k.pendingcb===0&&(k.finished=!0,N.emit("finish"))),U}function S(N,k,U){k.ending=!0,w(N,k),U&&(k.finished?f.nextTick(U):N.once("finish",U)),k.ended=!0,N.writable=!1}function $(N,k,U){var I=N.entry;for(N.entry=null;I;){var q=I.callback;k.pendingcb--,q(U),I=I.next}k.corkedRequestsFree.next=N}return Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),M.prototype.destroy=C.destroy,M.prototype._undestroy=C.undestroy,M.prototype._destroy=function(N,k){this.end(),k(N)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var f=requireProcessNextickArgs(),r=Object.keys||function(C){var R=[];for(var O in C)R.push(O);return R};_stream_duplex=x;var d=Object.create(requireUtil());d.inherits=requireInherits_browser();var g=require_stream_readable(),m=require_stream_writable();d.inherits(x,g);for(var v=r(m.prototype),_=0;_<v.length;_++){var y=v[_];x.prototype[y]||(x.prototype[y]=m.prototype[y])}function x(C){if(!(this instanceof x))return new x(C);g.call(this,C),m.call(this,C),C&&C.readable===!1&&(this.readable=!1),C&&C.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,C&&C.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",E)}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function E(){this.allowHalfOpen||this._writableState.ended||f.nextTick(b,this)}function b(C){C.end()}return Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(C){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=C,this._writableState.destroyed=C)}}),x.prototype._destroy=function(C,R){this.push(null),this.end(),f.nextTick(R,C)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var f=requireProcessNextickArgs();_stream_readable=L;var r=requireIsarray(),d;L.ReadableState=F,requireEvents().EventEmitter;var g=function(Z,J){return Z.listeners(J).length},m=requireStreamBrowser(),v=requireSafeBuffer().Buffer,_=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(Z){return v.from(Z)}function x(Z){return v.isBuffer(Z)||Z instanceof _}var E=Object.create(requireUtil());E.inherits=requireInherits_browser();var b=requireUtil$1(),C=void 0;b&&b.debuglog?C=b.debuglog("stream"):C=function(){};var R=requireBufferList(),O=requireDestroy(),A;E.inherits(L,m);var M=["error","close","destroy","pause","resume"];function P(Z,J,ae){if(typeof Z.prependListener=="function")return Z.prependListener(J,ae);!Z._events||!Z._events[J]?Z.on(J,ae):r(Z._events[J])?Z._events[J].unshift(ae):Z._events[J]=[ae,Z._events[J]]}function F(Z,J){d=d||require_stream_duplex(),Z=Z||{};var ae=J instanceof d;this.objectMode=!!Z.objectMode,ae&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var X=Z.highWaterMark,Y=Z.readableHighWaterMark,oe=this.objectMode?16:16*1024;X||X===0?this.highWaterMark=X:ae&&(Y||Y===0)?this.highWaterMark=Y:this.highWaterMark=oe,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(A||(A=requireString_decoder().StringDecoder),this.decoder=new A(Z.encoding),this.encoding=Z.encoding)}function L(Z){if(d=d||require_stream_duplex(),!(this instanceof L))return new L(Z);this._readableState=new F(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),m.call(this)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),L.prototype.destroy=O.destroy,L.prototype._undestroy=O.undestroy,L.prototype._destroy=function(Z,J){this.push(null),J(Z)},L.prototype.push=function(Z,J){var ae=this._readableState,X;return ae.objectMode?X=!0:typeof Z=="string"&&(J=J||ae.defaultEncoding,J!==ae.encoding&&(Z=v.from(Z,J),J=""),X=!0),K(this,Z,J,!1,X)},L.prototype.unshift=function(Z){return K(this,Z,null,!0,!1)};function K(Z,J,ae,X,Y){var oe=Z._readableState;if(J===null)oe.reading=!1,ie(Z,oe);else{var we;Y||(we=W(oe,J)),we?Z.emit("error",we):oe.objectMode||J&&J.length>0?(typeof J!="string"&&!oe.objectMode&&Object.getPrototypeOf(J)!==v.prototype&&(J=y(J)),X?oe.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):j(Z,oe,J,!0):oe.ended?Z.emit("error",new Error("stream.push() after EOF")):(oe.reading=!1,oe.decoder&&!ae?(J=oe.decoder.write(J),oe.objectMode||J.length!==0?j(Z,oe,J,!1):D(Z,oe)):j(Z,oe,J,!1))):X||(oe.reading=!1)}return G(oe)}function j(Z,J,ae,X){J.flowing&&J.length===0&&!J.sync?(Z.emit("data",ae),Z.read(0)):(J.length+=J.objectMode?1:ae.length,X?J.buffer.unshift(ae):J.buffer.push(ae),J.needReadable&&z(Z)),D(Z,J)}function W(Z,J){var ae;return!x(J)&&typeof J!="string"&&J!==void 0&&!Z.objectMode&&(ae=new TypeError("Invalid non-string/buffer chunk")),ae}function G(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(Z){return A||(A=requireString_decoder().StringDecoder),this._readableState.decoder=new A(Z),this._readableState.encoding=Z,this};var Q=8388608;function re(Z){return Z>=Q?Z=Q:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function ne(Z,J){return Z<=0||J.length===0&&J.ended?0:J.objectMode?1:Z!==Z?J.flowing&&J.length?J.buffer.head.data.length:J.length:(Z>J.highWaterMark&&(J.highWaterMark=re(Z)),Z<=J.length?Z:J.ended?J.length:(J.needReadable=!0,0))}L.prototype.read=function(Z){C("read",Z),Z=parseInt(Z,10);var J=this._readableState,ae=Z;if(Z!==0&&(J.emittedReadable=!1),Z===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return C("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?ce(this):z(this),null;if(Z=ne(Z,J),Z===0&&J.ended)return J.length===0&&ce(this),null;var X=J.needReadable;C("need readable",X),(J.length===0||J.length-Z<J.highWaterMark)&&(X=!0,C("length less than watermark",X)),J.ended||J.reading?(X=!1,C("reading or ended",X)):X&&(C("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(Z=ne(ae,J)));var Y;return Z>0?Y=I(Z,J):Y=null,Y===null?(J.needReadable=!0,Z=0):J.length-=Z,J.length===0&&(J.ended||(J.needReadable=!0),ae!==Z&&J.ended&&ce(this)),Y!==null&&this.emit("data",Y),Y};function ie(Z,J){if(!J.ended){if(J.decoder){var ae=J.decoder.end();ae&&ae.length&&(J.buffer.push(ae),J.length+=J.objectMode?1:ae.length)}J.ended=!0,z(Z)}}function z(Z){var J=Z._readableState;J.needReadable=!1,J.emittedReadable||(C("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?f.nextTick(T,Z):T(Z))}function T(Z){C("emit readable"),Z.emit("readable"),U(Z)}function D(Z,J){J.readingMore||(J.readingMore=!0,f.nextTick(w,Z,J))}function w(Z,J){for(var ae=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(C("maybeReadMore read 0"),Z.read(0),ae!==J.length);)ae=J.length;J.readingMore=!1}L.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(Z,J){var ae=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=Z;break;case 1:X.pipes=[X.pipes,Z];break;default:X.pipes.push(Z);break}X.pipesCount+=1,C("pipe count=%d opts=%j",X.pipesCount,J);var Y=(!J||J.end!==!1)&&Z!==process$1.stdout&&Z!==process$1.stderr,oe=Y?Se:Ve;X.endEmitted?f.nextTick(oe):ae.once("end",oe),Z.on("unpipe",we);function we(We,it){C("onunpipe"),We===ae&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,Ue())}function Se(){C("onend"),Z.end()}var De=S(ae);Z.on("drain",De);var qe=!1;function Ue(){C("cleanup"),Z.removeListener("close",Le),Z.removeListener("finish",ot),Z.removeListener("drain",De),Z.removeListener("error",Qe),Z.removeListener("unpipe",we),ae.removeListener("end",Se),ae.removeListener("end",Ve),ae.removeListener("data",Be),qe=!0,X.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&De()}var Ne=!1;ae.on("data",Be);function Be(We){C("ondata"),Ne=!1;var it=Z.write(We);it===!1&&!Ne&&((X.pipesCount===1&&X.pipes===Z||X.pipesCount>1&&ve(X.pipes,Z)!==-1)&&!qe&&(C("false write response, pause",X.awaitDrain),X.awaitDrain++,Ne=!0),ae.pause())}function Qe(We){C("onerror",We),Ve(),Z.removeListener("error",Qe),g(Z,"error")===0&&Z.emit("error",We)}P(Z,"error",Qe);function Le(){Z.removeListener("finish",ot),Ve()}Z.once("close",Le);function ot(){C("onfinish"),Z.removeListener("close",Le),Ve()}Z.once("finish",ot);function Ve(){C("unpipe"),ae.unpipe(Z)}return Z.emit("pipe",ae),X.flowing||(C("pipe resume"),ae.resume()),Z};function S(Z){return function(){var J=Z._readableState;C("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&g(Z,"data")&&(J.flowing=!0,U(Z))}}L.prototype.unpipe=function(Z){var J=this._readableState,ae={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return Z&&Z!==J.pipes?this:(Z||(Z=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,Z&&Z.emit("unpipe",this,ae),this);if(!Z){var X=J.pipes,Y=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var oe=0;oe<Y;oe++)X[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var we=ve(J.pipes,Z);return we===-1?this:(J.pipes.splice(we,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),Z.emit("unpipe",this,ae),this)},L.prototype.on=function(Z,J){var ae=m.prototype.on.call(this,Z,J);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var X=this._readableState;!X.endEmitted&&!X.readableListening&&(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&z(this):f.nextTick($,this))}return ae},L.prototype.addListener=L.prototype.on;function $(Z){C("readable nexttick read 0"),Z.read(0)}L.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(C("resume"),Z.flowing=!0,N(this,Z)),this};function N(Z,J){J.resumeScheduled||(J.resumeScheduled=!0,f.nextTick(k,Z,J))}function k(Z,J){J.reading||(C("resume read 0"),Z.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,Z.emit("resume"),U(Z),J.flowing&&!J.reading&&Z.read(0)}L.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function U(Z){var J=Z._readableState;for(C("flow",J.flowing);J.flowing&&Z.read()!==null;);}L.prototype.wrap=function(Z){var J=this,ae=this._readableState,X=!1;Z.on("end",function(){if(C("wrapped end"),ae.decoder&&!ae.ended){var we=ae.decoder.end();we&&we.length&&J.push(we)}J.push(null)}),Z.on("data",function(we){if(C("wrapped data"),ae.decoder&&(we=ae.decoder.write(we)),!(ae.objectMode&&we==null)&&!(!ae.objectMode&&(!we||!we.length))){var Se=J.push(we);Se||(X=!0,Z.pause())}});for(var Y in Z)this[Y]===void 0&&typeof Z[Y]=="function"&&(this[Y]=function(we){return function(){return Z[we].apply(Z,arguments)}}(Y));for(var oe=0;oe<M.length;oe++)Z.on(M[oe],this.emit.bind(this,M[oe]));return this._read=function(we){C("wrapped _read",we),X&&(X=!1,Z.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=I;function I(Z,J){if(J.length===0)return null;var ae;return J.objectMode?ae=J.buffer.shift():!Z||Z>=J.length?(J.decoder?ae=J.buffer.join(""):J.buffer.length===1?ae=J.buffer.head.data:ae=J.buffer.concat(J.length),J.buffer.clear()):ae=q(Z,J.buffer,J.decoder),ae}function q(Z,J,ae){var X;return Z<J.head.data.length?(X=J.head.data.slice(0,Z),J.head.data=J.head.data.slice(Z)):Z===J.head.data.length?X=J.shift():X=ae?B(Z,J):H(Z,J),X}function B(Z,J){var ae=J.head,X=1,Y=ae.data;for(Z-=Y.length;ae=ae.next;){var oe=ae.data,we=Z>oe.length?oe.length:Z;if(we===oe.length?Y+=oe:Y+=oe.slice(0,Z),Z-=we,Z===0){we===oe.length?(++X,ae.next?J.head=ae.next:J.head=J.tail=null):(J.head=ae,ae.data=oe.slice(we));break}++X}return J.length-=X,Y}function H(Z,J){var ae=v.allocUnsafe(Z),X=J.head,Y=1;for(X.data.copy(ae),Z-=X.data.length;X=X.next;){var oe=X.data,we=Z>oe.length?oe.length:Z;if(oe.copy(ae,ae.length-Z,0,we),Z-=we,Z===0){we===oe.length?(++Y,X.next?J.head=X.next:J.head=J.tail=null):(J.head=X,X.data=oe.slice(we));break}++Y}return J.length-=Y,ae}function ce(Z){var J=Z._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,f.nextTick(be,J,Z))}function be(Z,J){!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,J.readable=!1,J.emit("end"))}function ve(Z,J){for(var ae=0,X=Z.length;ae<X;ae++)if(Z[ae]===J)return ae;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=g;var f=require_stream_duplex(),r=Object.create(requireUtil());r.inherits=requireInherits_browser(),r.inherits(g,f);function d(_,y){var x=this._transformState;x.transforming=!1;var E=x.writecb;if(!E)return this.emit("error",new Error("write callback called multiple times"));x.writechunk=null,x.writecb=null,y!=null&&this.push(y),E(_);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function g(_){if(!(this instanceof g))return new g(_);f.call(this,_),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",m)}function m(){var _=this;typeof this._flush=="function"?this._flush(function(y,x){v(_,y,x)}):v(this,null,null)}g.prototype.push=function(_,y){return this._transformState.needTransform=!1,f.prototype.push.call(this,_,y)},g.prototype._transform=function(_,y,x){throw new Error("_transform() is not implemented")},g.prototype._write=function(_,y,x){var E=this._transformState;if(E.writecb=x,E.writechunk=_,E.writeencoding=y,!E.transforming){var b=this._readableState;(E.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},g.prototype._read=function(_){var y=this._transformState;y.writechunk!==null&&y.writecb&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},g.prototype._destroy=function(_,y){var x=this;f.prototype._destroy.call(this,_,function(E){y(E),x.emit("close")})};function v(_,y,x){if(y)return _.emit("error",y);if(x!=null&&_.push(x),_._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(_._transformState.transforming)throw new Error("Calling transform done when still transforming");return _.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=d;var f=require_stream_transform(),r=Object.create(requireUtil());r.inherits=requireInherits_browser(),r.inherits(d,f);function d(g){if(!(this instanceof d))return new d(g);f.call(this,g)}return d.prototype._transform=function(g,m,v){v(null,g)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(f,r){r=f.exports=require_stream_readable(),r.Stream=r,r.Readable=r,r.Writable=require_stream_writable(),r.Duplex=require_stream_duplex(),r.Transform=require_stream_transform(),r.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(f){(function(r,d){function g(D,w){if(!D)throw new Error(w||"Assertion failed")}function m(D,w){D.super_=w;var S=function(){};S.prototype=w.prototype,D.prototype=new S,D.prototype.constructor=D}function v(D,w,S){if(v.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((w==="le"||w==="be")&&(S=w,w=10),this._init(D||0,w||10,S||"be"))}typeof r=="object"?r.exports=v:d.BN=v,v.BN=v,v.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=require$$0$2.Buffer}catch{}v.isBN=function(w){return w instanceof v?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===v.wordSize&&Array.isArray(w.words)},v.max=function(w,S){return w.cmp(S)>0?w:S},v.min=function(w,S){return w.cmp(S)<0?w:S},v.prototype._init=function(w,S,$){if(typeof w=="number")return this._initNumber(w,S,$);if(typeof w=="object")return this._initArray(w,S,$);S==="hex"&&(S=16),g(S===(S|0)&&S>=2&&S<=36),w=w.toString().replace(/\s+/g,"");var N=0;w[0]==="-"&&(N++,this.negative=1),N<w.length&&(S===16?this._parseHex(w,N,$):(this._parseBase(w,S,N),$==="le"&&this._initArray(this.toArray(),S,$)))},v.prototype._initNumber=function(w,S,$){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(g(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),$==="le"&&this._initArray(this.toArray(),S,$)},v.prototype._initArray=function(w,S,$){if(g(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var k,U,I=0;if($==="be")for(N=w.length-1,k=0;N>=0;N-=3)U=w[N]|w[N-1]<<8|w[N-2]<<16,this.words[k]|=U<<I&67108863,this.words[k+1]=U>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);else if($==="le")for(N=0,k=0;N<w.length;N+=3)U=w[N]|w[N+1]<<8|w[N+2]<<16,this.words[k]|=U<<I&67108863,this.words[k+1]=U>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);return this._strip()};function y(D,w){var S=D.charCodeAt(w);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;g(!1,"Invalid character in "+D)}function x(D,w,S){var $=y(D,S);return S-1>=w&&($|=y(D,S-1)<<4),$}v.prototype._parseHex=function(w,S,$){this.length=Math.ceil((w.length-S)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var k=0,U=0,I;if($==="be")for(N=w.length-1;N>=S;N-=2)I=x(w,S,N)<<k,this.words[U]|=I&67108863,k>=18?(k-=18,U+=1,this.words[U]|=I>>>26):k+=8;else{var q=w.length-S;for(N=q%2===0?S+1:S;N<w.length;N+=2)I=x(w,S,N)<<k,this.words[U]|=I&67108863,k>=18?(k-=18,U+=1,this.words[U]|=I>>>26):k+=8}this._strip()};function E(D,w,S,$){for(var N=0,k=0,U=Math.min(D.length,S),I=w;I<U;I++){var q=D.charCodeAt(I)-48;N*=$,q>=49?k=q-49+10:q>=17?k=q-17+10:k=q,g(q>=0&&k<$,"Invalid character"),N+=k}return N}v.prototype._parseBase=function(w,S,$){this.words=[0],this.length=1;for(var N=0,k=1;k<=67108863;k*=S)N++;N--,k=k/S|0;for(var U=w.length-$,I=U%N,q=Math.min(U,U-I)+$,B=0,H=$;H<q;H+=N)B=E(w,H,H+N,S),this.imuln(k),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(I!==0){var ce=1;for(B=E(w,H,w.length,S),H=0;H<I;H++)ce*=S;this.imuln(ce),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},v.prototype.copy=function(w){w.words=new Array(this.length);for(var S=0;S<this.length;S++)w.words[S]=this.words[S];w.length=this.length,w.negative=this.negative,w.red=this.red};function b(D,w){D.words=w.words,D.length=w.length,D.negative=w.negative,D.red=w.red}if(v.prototype._move=function(w){b(w,this)},v.prototype.clone=function(){var w=new v(null);return this.copy(w),w},v.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},v.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{v.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{v.prototype.inspect=C}else v.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(w,S){w=w||10,S=S|0||1;var $;if(w===16||w==="hex"){$="";for(var N=0,k=0,U=0;U<this.length;U++){var I=this.words[U],q=((I<<N|k)&16777215).toString(16);k=I>>>24-N&16777215,N+=2,N>=26&&(N-=26,U--),k!==0||U!==this.length-1?$=R[6-q.length]+q+$:$=q+$}for(k!==0&&($=k.toString(16)+$);$.length%S!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}if(w===(w|0)&&w>=2&&w<=36){var B=O[w],H=A[w];$="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var be=ce.modrn(H).toString(w);ce=ce.idivn(H),ce.isZero()?$=be+$:$=R[B-be.length]+be+$}for(this.isZero()&&($="0"+$);$.length%S!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}g(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},v.prototype.toJSON=function(){return this.toString(16,2)},_&&(v.prototype.toBuffer=function(w,S){return this.toArrayLike(_,w,S)}),v.prototype.toArray=function(w,S){return this.toArrayLike(Array,w,S)};var M=function(w,S){return w.allocUnsafe?w.allocUnsafe(S):new w(S)};v.prototype.toArrayLike=function(w,S,$){this._strip();var N=this.byteLength(),k=$||Math.max(1,N);g(N<=k,"byte array longer than desired length"),g(k>0,"Requested array length <= 0");var U=M(w,k),I=S==="le"?"LE":"BE";return this["_toArrayLike"+I](U,N),U},v.prototype._toArrayLikeLE=function(w,S){for(var $=0,N=0,k=0,U=0;k<this.length;k++){var I=this.words[k]<<U|N;w[$++]=I&255,$<w.length&&(w[$++]=I>>8&255),$<w.length&&(w[$++]=I>>16&255),U===6?($<w.length&&(w[$++]=I>>24&255),N=0,U=0):(N=I>>>24,U+=2)}if($<w.length)for(w[$++]=N;$<w.length;)w[$++]=0},v.prototype._toArrayLikeBE=function(w,S){for(var $=w.length-1,N=0,k=0,U=0;k<this.length;k++){var I=this.words[k]<<U|N;w[$--]=I&255,$>=0&&(w[$--]=I>>8&255),$>=0&&(w[$--]=I>>16&255),U===6?($>=0&&(w[$--]=I>>24&255),N=0,U=0):(N=I>>>24,U+=2)}if($>=0)for(w[$--]=N;$>=0;)w[$--]=0},Math.clz32?v.prototype._countBits=function(w){return 32-Math.clz32(w)}:v.prototype._countBits=function(w){var S=w,$=0;return S>=4096&&($+=13,S>>>=13),S>=64&&($+=7,S>>>=7),S>=8&&($+=4,S>>>=4),S>=2&&($+=2,S>>>=2),$+S},v.prototype._zeroBits=function(w){if(w===0)return 26;var S=w,$=0;return S&8191||($+=13,S>>>=13),S&127||($+=7,S>>>=7),S&15||($+=4,S>>>=4),S&3||($+=2,S>>>=2),S&1||$++,$},v.prototype.bitLength=function(){var w=this.words[this.length-1],S=this._countBits(w);return(this.length-1)*26+S};function P(D){for(var w=new Array(D.bitLength()),S=0;S<w.length;S++){var $=S/26|0,N=S%26;w[S]=D.words[$]>>>N&1}return w}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,S=0;S<this.length;S++){var $=this._zeroBits(this.words[S]);if(w+=$,$!==26)break}return w},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},v.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]|w.words[S];return this._strip()},v.prototype.ior=function(w){return g((this.negative|w.negative)===0),this.iuor(w)},v.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},v.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},v.prototype.iuand=function(w){var S;this.length>w.length?S=w:S=this;for(var $=0;$<S.length;$++)this.words[$]=this.words[$]&w.words[$];return this.length=S.length,this._strip()},v.prototype.iand=function(w){return g((this.negative|w.negative)===0),this.iuand(w)},v.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},v.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},v.prototype.iuxor=function(w){var S,$;this.length>w.length?(S=this,$=w):(S=w,$=this);for(var N=0;N<$.length;N++)this.words[N]=S.words[N]^$.words[N];if(this!==S)for(;N<S.length;N++)this.words[N]=S.words[N];return this.length=S.length,this._strip()},v.prototype.ixor=function(w){return g((this.negative|w.negative)===0),this.iuxor(w)},v.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},v.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},v.prototype.inotn=function(w){g(typeof w=="number"&&w>=0);var S=Math.ceil(w/26)|0,$=w%26;this._expand(S),$>0&&S--;for(var N=0;N<S;N++)this.words[N]=~this.words[N]&67108863;return $>0&&(this.words[N]=~this.words[N]&67108863>>26-$),this._strip()},v.prototype.notn=function(w){return this.clone().inotn(w)},v.prototype.setn=function(w,S){g(typeof w=="number"&&w>=0);var $=w/26|0,N=w%26;return this._expand($+1),S?this.words[$]=this.words[$]|1<<N:this.words[$]=this.words[$]&~(1<<N),this._strip()},v.prototype.iadd=function(w){var S;if(this.negative!==0&&w.negative===0)return this.negative=0,S=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,S=this.isub(w),w.negative=1,S._normSign();var $,N;this.length>w.length?($=this,N=w):($=w,N=this);for(var k=0,U=0;U<N.length;U++)S=($.words[U]|0)+(N.words[U]|0)+k,this.words[U]=S&67108863,k=S>>>26;for(;k!==0&&U<$.length;U++)S=($.words[U]|0)+k,this.words[U]=S&67108863,k=S>>>26;if(this.length=$.length,k!==0)this.words[this.length]=k,this.length++;else if($!==this)for(;U<$.length;U++)this.words[U]=$.words[U];return this},v.prototype.add=function(w){var S;return w.negative!==0&&this.negative===0?(w.negative=0,S=this.sub(w),w.negative^=1,S):w.negative===0&&this.negative!==0?(this.negative=0,S=w.sub(this),this.negative=1,S):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},v.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var S=this.iadd(w);return w.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var $=this.cmp(w);if($===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,k;$>0?(N=this,k=w):(N=w,k=this);for(var U=0,I=0;I<k.length;I++)S=(N.words[I]|0)-(k.words[I]|0)+U,U=S>>26,this.words[I]=S&67108863;for(;U!==0&&I<N.length;I++)S=(N.words[I]|0)+U,U=S>>26,this.words[I]=S&67108863;if(U===0&&I<N.length&&N!==this)for(;I<N.length;I++)this.words[I]=N.words[I];return this.length=Math.max(this.length,I),N!==this&&(this.negative=1),this._strip()},v.prototype.sub=function(w){return this.clone().isub(w)};function F(D,w,S){S.negative=w.negative^D.negative;var $=D.length+w.length|0;S.length=$,$=$-1|0;var N=D.words[0]|0,k=w.words[0]|0,U=N*k,I=U&67108863,q=U/67108864|0;S.words[0]=I;for(var B=1;B<$;B++){for(var H=q>>>26,ce=q&67108863,be=Math.min(B,w.length-1),ve=Math.max(0,B-D.length+1);ve<=be;ve++){var Z=B-ve|0;N=D.words[Z]|0,k=w.words[ve]|0,U=N*k+ce,H+=U/67108864|0,ce=U&67108863}S.words[B]=ce|0,q=H|0}return q!==0?S.words[B]=q|0:S.length--,S._strip()}var L=function(w,S,$){var N=w.words,k=S.words,U=$.words,I=0,q,B,H,ce=N[0]|0,be=ce&8191,ve=ce>>>13,Z=N[1]|0,J=Z&8191,ae=Z>>>13,X=N[2]|0,Y=X&8191,oe=X>>>13,we=N[3]|0,Se=we&8191,De=we>>>13,qe=N[4]|0,Ue=qe&8191,Ne=qe>>>13,Be=N[5]|0,Qe=Be&8191,Le=Be>>>13,ot=N[6]|0,Ve=ot&8191,We=ot>>>13,it=N[7]|0,Ke=it&8191,Fe=it>>>13,Ye=N[8]|0,rt=Ye&8191,ue=Ye>>>13,ee=N[9]|0,te=ee&8191,de=ee>>>13,xe=k[0]|0,Oe=xe&8191,$e=xe>>>13,dt=k[1]|0,ut=dt&8191,et=dt>>>13,wt=k[2]|0,ht=wt&8191,yt=wt>>>13,It=k[3]|0,bt=It&8191,at=It>>>13,Tt=k[4]|0,xt=Tt&8191,st=Tt>>>13,Nt=k[5]|0,Et=Nt&8191,nt=Nt>>>13,Rt=k[6]|0,se=Rt&8191,le=Rt>>>13,he=k[7]|0,V=he&8191,pe=he>>>13,Re=k[8]|0,Me=Re&8191,Te=Re>>>13,ze=k[9]|0,Ze=ze&8191,Xe=ze>>>13;$.negative=w.negative^S.negative,$.length=19,q=Math.imul(be,Oe),B=Math.imul(be,$e),B=B+Math.imul(ve,Oe)|0,H=Math.imul(ve,$e);var qt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(qt>>>26)|0,qt&=67108863,q=Math.imul(J,Oe),B=Math.imul(J,$e),B=B+Math.imul(ae,Oe)|0,H=Math.imul(ae,$e),q=q+Math.imul(be,ut)|0,B=B+Math.imul(be,et)|0,B=B+Math.imul(ve,ut)|0,H=H+Math.imul(ve,et)|0;var pt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(pt>>>26)|0,pt&=67108863,q=Math.imul(Y,Oe),B=Math.imul(Y,$e),B=B+Math.imul(oe,Oe)|0,H=Math.imul(oe,$e),q=q+Math.imul(J,ut)|0,B=B+Math.imul(J,et)|0,B=B+Math.imul(ae,ut)|0,H=H+Math.imul(ae,et)|0,q=q+Math.imul(be,ht)|0,B=B+Math.imul(be,yt)|0,B=B+Math.imul(ve,ht)|0,H=H+Math.imul(ve,yt)|0;var At=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(At>>>26)|0,At&=67108863,q=Math.imul(Se,Oe),B=Math.imul(Se,$e),B=B+Math.imul(De,Oe)|0,H=Math.imul(De,$e),q=q+Math.imul(Y,ut)|0,B=B+Math.imul(Y,et)|0,B=B+Math.imul(oe,ut)|0,H=H+Math.imul(oe,et)|0,q=q+Math.imul(J,ht)|0,B=B+Math.imul(J,yt)|0,B=B+Math.imul(ae,ht)|0,H=H+Math.imul(ae,yt)|0,q=q+Math.imul(be,bt)|0,B=B+Math.imul(be,at)|0,B=B+Math.imul(ve,bt)|0,H=H+Math.imul(ve,at)|0;var Mt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,q=Math.imul(Ue,Oe),B=Math.imul(Ue,$e),B=B+Math.imul(Ne,Oe)|0,H=Math.imul(Ne,$e),q=q+Math.imul(Se,ut)|0,B=B+Math.imul(Se,et)|0,B=B+Math.imul(De,ut)|0,H=H+Math.imul(De,et)|0,q=q+Math.imul(Y,ht)|0,B=B+Math.imul(Y,yt)|0,B=B+Math.imul(oe,ht)|0,H=H+Math.imul(oe,yt)|0,q=q+Math.imul(J,bt)|0,B=B+Math.imul(J,at)|0,B=B+Math.imul(ae,bt)|0,H=H+Math.imul(ae,at)|0,q=q+Math.imul(be,xt)|0,B=B+Math.imul(be,st)|0,B=B+Math.imul(ve,xt)|0,H=H+Math.imul(ve,st)|0;var Bt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,q=Math.imul(Qe,Oe),B=Math.imul(Qe,$e),B=B+Math.imul(Le,Oe)|0,H=Math.imul(Le,$e),q=q+Math.imul(Ue,ut)|0,B=B+Math.imul(Ue,et)|0,B=B+Math.imul(Ne,ut)|0,H=H+Math.imul(Ne,et)|0,q=q+Math.imul(Se,ht)|0,B=B+Math.imul(Se,yt)|0,B=B+Math.imul(De,ht)|0,H=H+Math.imul(De,yt)|0,q=q+Math.imul(Y,bt)|0,B=B+Math.imul(Y,at)|0,B=B+Math.imul(oe,bt)|0,H=H+Math.imul(oe,at)|0,q=q+Math.imul(J,xt)|0,B=B+Math.imul(J,st)|0,B=B+Math.imul(ae,xt)|0,H=H+Math.imul(ae,st)|0,q=q+Math.imul(be,Et)|0,B=B+Math.imul(be,nt)|0,B=B+Math.imul(ve,Et)|0,H=H+Math.imul(ve,nt)|0;var $t=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+($t>>>26)|0,$t&=67108863,q=Math.imul(Ve,Oe),B=Math.imul(Ve,$e),B=B+Math.imul(We,Oe)|0,H=Math.imul(We,$e),q=q+Math.imul(Qe,ut)|0,B=B+Math.imul(Qe,et)|0,B=B+Math.imul(Le,ut)|0,H=H+Math.imul(Le,et)|0,q=q+Math.imul(Ue,ht)|0,B=B+Math.imul(Ue,yt)|0,B=B+Math.imul(Ne,ht)|0,H=H+Math.imul(Ne,yt)|0,q=q+Math.imul(Se,bt)|0,B=B+Math.imul(Se,at)|0,B=B+Math.imul(De,bt)|0,H=H+Math.imul(De,at)|0,q=q+Math.imul(Y,xt)|0,B=B+Math.imul(Y,st)|0,B=B+Math.imul(oe,xt)|0,H=H+Math.imul(oe,st)|0,q=q+Math.imul(J,Et)|0,B=B+Math.imul(J,nt)|0,B=B+Math.imul(ae,Et)|0,H=H+Math.imul(ae,nt)|0,q=q+Math.imul(be,se)|0,B=B+Math.imul(be,le)|0,B=B+Math.imul(ve,se)|0,H=H+Math.imul(ve,le)|0;var Ot=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,q=Math.imul(Ke,Oe),B=Math.imul(Ke,$e),B=B+Math.imul(Fe,Oe)|0,H=Math.imul(Fe,$e),q=q+Math.imul(Ve,ut)|0,B=B+Math.imul(Ve,et)|0,B=B+Math.imul(We,ut)|0,H=H+Math.imul(We,et)|0,q=q+Math.imul(Qe,ht)|0,B=B+Math.imul(Qe,yt)|0,B=B+Math.imul(Le,ht)|0,H=H+Math.imul(Le,yt)|0,q=q+Math.imul(Ue,bt)|0,B=B+Math.imul(Ue,at)|0,B=B+Math.imul(Ne,bt)|0,H=H+Math.imul(Ne,at)|0,q=q+Math.imul(Se,xt)|0,B=B+Math.imul(Se,st)|0,B=B+Math.imul(De,xt)|0,H=H+Math.imul(De,st)|0,q=q+Math.imul(Y,Et)|0,B=B+Math.imul(Y,nt)|0,B=B+Math.imul(oe,Et)|0,H=H+Math.imul(oe,nt)|0,q=q+Math.imul(J,se)|0,B=B+Math.imul(J,le)|0,B=B+Math.imul(ae,se)|0,H=H+Math.imul(ae,le)|0,q=q+Math.imul(be,V)|0,B=B+Math.imul(be,pe)|0,B=B+Math.imul(ve,V)|0,H=H+Math.imul(ve,pe)|0;var St=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(St>>>26)|0,St&=67108863,q=Math.imul(rt,Oe),B=Math.imul(rt,$e),B=B+Math.imul(ue,Oe)|0,H=Math.imul(ue,$e),q=q+Math.imul(Ke,ut)|0,B=B+Math.imul(Ke,et)|0,B=B+Math.imul(Fe,ut)|0,H=H+Math.imul(Fe,et)|0,q=q+Math.imul(Ve,ht)|0,B=B+Math.imul(Ve,yt)|0,B=B+Math.imul(We,ht)|0,H=H+Math.imul(We,yt)|0,q=q+Math.imul(Qe,bt)|0,B=B+Math.imul(Qe,at)|0,B=B+Math.imul(Le,bt)|0,H=H+Math.imul(Le,at)|0,q=q+Math.imul(Ue,xt)|0,B=B+Math.imul(Ue,st)|0,B=B+Math.imul(Ne,xt)|0,H=H+Math.imul(Ne,st)|0,q=q+Math.imul(Se,Et)|0,B=B+Math.imul(Se,nt)|0,B=B+Math.imul(De,Et)|0,H=H+Math.imul(De,nt)|0,q=q+Math.imul(Y,se)|0,B=B+Math.imul(Y,le)|0,B=B+Math.imul(oe,se)|0,H=H+Math.imul(oe,le)|0,q=q+Math.imul(J,V)|0,B=B+Math.imul(J,pe)|0,B=B+Math.imul(ae,V)|0,H=H+Math.imul(ae,pe)|0,q=q+Math.imul(be,Me)|0,B=B+Math.imul(be,Te)|0,B=B+Math.imul(ve,Me)|0,H=H+Math.imul(ve,Te)|0;var Dt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,q=Math.imul(te,Oe),B=Math.imul(te,$e),B=B+Math.imul(de,Oe)|0,H=Math.imul(de,$e),q=q+Math.imul(rt,ut)|0,B=B+Math.imul(rt,et)|0,B=B+Math.imul(ue,ut)|0,H=H+Math.imul(ue,et)|0,q=q+Math.imul(Ke,ht)|0,B=B+Math.imul(Ke,yt)|0,B=B+Math.imul(Fe,ht)|0,H=H+Math.imul(Fe,yt)|0,q=q+Math.imul(Ve,bt)|0,B=B+Math.imul(Ve,at)|0,B=B+Math.imul(We,bt)|0,H=H+Math.imul(We,at)|0,q=q+Math.imul(Qe,xt)|0,B=B+Math.imul(Qe,st)|0,B=B+Math.imul(Le,xt)|0,H=H+Math.imul(Le,st)|0,q=q+Math.imul(Ue,Et)|0,B=B+Math.imul(Ue,nt)|0,B=B+Math.imul(Ne,Et)|0,H=H+Math.imul(Ne,nt)|0,q=q+Math.imul(Se,se)|0,B=B+Math.imul(Se,le)|0,B=B+Math.imul(De,se)|0,H=H+Math.imul(De,le)|0,q=q+Math.imul(Y,V)|0,B=B+Math.imul(Y,pe)|0,B=B+Math.imul(oe,V)|0,H=H+Math.imul(oe,pe)|0,q=q+Math.imul(J,Me)|0,B=B+Math.imul(J,Te)|0,B=B+Math.imul(ae,Me)|0,H=H+Math.imul(ae,Te)|0,q=q+Math.imul(be,Ze)|0,B=B+Math.imul(be,Xe)|0,B=B+Math.imul(ve,Ze)|0,H=H+Math.imul(ve,Xe)|0;var lt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(lt>>>26)|0,lt&=67108863,q=Math.imul(te,ut),B=Math.imul(te,et),B=B+Math.imul(de,ut)|0,H=Math.imul(de,et),q=q+Math.imul(rt,ht)|0,B=B+Math.imul(rt,yt)|0,B=B+Math.imul(ue,ht)|0,H=H+Math.imul(ue,yt)|0,q=q+Math.imul(Ke,bt)|0,B=B+Math.imul(Ke,at)|0,B=B+Math.imul(Fe,bt)|0,H=H+Math.imul(Fe,at)|0,q=q+Math.imul(Ve,xt)|0,B=B+Math.imul(Ve,st)|0,B=B+Math.imul(We,xt)|0,H=H+Math.imul(We,st)|0,q=q+Math.imul(Qe,Et)|0,B=B+Math.imul(Qe,nt)|0,B=B+Math.imul(Le,Et)|0,H=H+Math.imul(Le,nt)|0,q=q+Math.imul(Ue,se)|0,B=B+Math.imul(Ue,le)|0,B=B+Math.imul(Ne,se)|0,H=H+Math.imul(Ne,le)|0,q=q+Math.imul(Se,V)|0,B=B+Math.imul(Se,pe)|0,B=B+Math.imul(De,V)|0,H=H+Math.imul(De,pe)|0,q=q+Math.imul(Y,Me)|0,B=B+Math.imul(Y,Te)|0,B=B+Math.imul(oe,Me)|0,H=H+Math.imul(oe,Te)|0,q=q+Math.imul(J,Ze)|0,B=B+Math.imul(J,Xe)|0,B=B+Math.imul(ae,Ze)|0,H=H+Math.imul(ae,Xe)|0;var _t=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(_t>>>26)|0,_t&=67108863,q=Math.imul(te,ht),B=Math.imul(te,yt),B=B+Math.imul(de,ht)|0,H=Math.imul(de,yt),q=q+Math.imul(rt,bt)|0,B=B+Math.imul(rt,at)|0,B=B+Math.imul(ue,bt)|0,H=H+Math.imul(ue,at)|0,q=q+Math.imul(Ke,xt)|0,B=B+Math.imul(Ke,st)|0,B=B+Math.imul(Fe,xt)|0,H=H+Math.imul(Fe,st)|0,q=q+Math.imul(Ve,Et)|0,B=B+Math.imul(Ve,nt)|0,B=B+Math.imul(We,Et)|0,H=H+Math.imul(We,nt)|0,q=q+Math.imul(Qe,se)|0,B=B+Math.imul(Qe,le)|0,B=B+Math.imul(Le,se)|0,H=H+Math.imul(Le,le)|0,q=q+Math.imul(Ue,V)|0,B=B+Math.imul(Ue,pe)|0,B=B+Math.imul(Ne,V)|0,H=H+Math.imul(Ne,pe)|0,q=q+Math.imul(Se,Me)|0,B=B+Math.imul(Se,Te)|0,B=B+Math.imul(De,Me)|0,H=H+Math.imul(De,Te)|0,q=q+Math.imul(Y,Ze)|0,B=B+Math.imul(Y,Xe)|0,B=B+Math.imul(oe,Ze)|0,H=H+Math.imul(oe,Xe)|0;var ct=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(ct>>>26)|0,ct&=67108863,q=Math.imul(te,bt),B=Math.imul(te,at),B=B+Math.imul(de,bt)|0,H=Math.imul(de,at),q=q+Math.imul(rt,xt)|0,B=B+Math.imul(rt,st)|0,B=B+Math.imul(ue,xt)|0,H=H+Math.imul(ue,st)|0,q=q+Math.imul(Ke,Et)|0,B=B+Math.imul(Ke,nt)|0,B=B+Math.imul(Fe,Et)|0,H=H+Math.imul(Fe,nt)|0,q=q+Math.imul(Ve,se)|0,B=B+Math.imul(Ve,le)|0,B=B+Math.imul(We,se)|0,H=H+Math.imul(We,le)|0,q=q+Math.imul(Qe,V)|0,B=B+Math.imul(Qe,pe)|0,B=B+Math.imul(Le,V)|0,H=H+Math.imul(Le,pe)|0,q=q+Math.imul(Ue,Me)|0,B=B+Math.imul(Ue,Te)|0,B=B+Math.imul(Ne,Me)|0,H=H+Math.imul(Ne,Te)|0,q=q+Math.imul(Se,Ze)|0,B=B+Math.imul(Se,Xe)|0,B=B+Math.imul(De,Ze)|0,H=H+Math.imul(De,Xe)|0;var vt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(vt>>>26)|0,vt&=67108863,q=Math.imul(te,xt),B=Math.imul(te,st),B=B+Math.imul(de,xt)|0,H=Math.imul(de,st),q=q+Math.imul(rt,Et)|0,B=B+Math.imul(rt,nt)|0,B=B+Math.imul(ue,Et)|0,H=H+Math.imul(ue,nt)|0,q=q+Math.imul(Ke,se)|0,B=B+Math.imul(Ke,le)|0,B=B+Math.imul(Fe,se)|0,H=H+Math.imul(Fe,le)|0,q=q+Math.imul(Ve,V)|0,B=B+Math.imul(Ve,pe)|0,B=B+Math.imul(We,V)|0,H=H+Math.imul(We,pe)|0,q=q+Math.imul(Qe,Me)|0,B=B+Math.imul(Qe,Te)|0,B=B+Math.imul(Le,Me)|0,H=H+Math.imul(Le,Te)|0,q=q+Math.imul(Ue,Ze)|0,B=B+Math.imul(Ue,Xe)|0,B=B+Math.imul(Ne,Ze)|0,H=H+Math.imul(Ne,Xe)|0;var gt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(gt>>>26)|0,gt&=67108863,q=Math.imul(te,Et),B=Math.imul(te,nt),B=B+Math.imul(de,Et)|0,H=Math.imul(de,nt),q=q+Math.imul(rt,se)|0,B=B+Math.imul(rt,le)|0,B=B+Math.imul(ue,se)|0,H=H+Math.imul(ue,le)|0,q=q+Math.imul(Ke,V)|0,B=B+Math.imul(Ke,pe)|0,B=B+Math.imul(Fe,V)|0,H=H+Math.imul(Fe,pe)|0,q=q+Math.imul(Ve,Me)|0,B=B+Math.imul(Ve,Te)|0,B=B+Math.imul(We,Me)|0,H=H+Math.imul(We,Te)|0,q=q+Math.imul(Qe,Ze)|0,B=B+Math.imul(Qe,Xe)|0,B=B+Math.imul(Le,Ze)|0,H=H+Math.imul(Le,Xe)|0;var ft=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(ft>>>26)|0,ft&=67108863,q=Math.imul(te,se),B=Math.imul(te,le),B=B+Math.imul(de,se)|0,H=Math.imul(de,le),q=q+Math.imul(rt,V)|0,B=B+Math.imul(rt,pe)|0,B=B+Math.imul(ue,V)|0,H=H+Math.imul(ue,pe)|0,q=q+Math.imul(Ke,Me)|0,B=B+Math.imul(Ke,Te)|0,B=B+Math.imul(Fe,Me)|0,H=H+Math.imul(Fe,Te)|0,q=q+Math.imul(Ve,Ze)|0,B=B+Math.imul(Ve,Xe)|0,B=B+Math.imul(We,Ze)|0,H=H+Math.imul(We,Xe)|0;var Ie=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,q=Math.imul(te,V),B=Math.imul(te,pe),B=B+Math.imul(de,V)|0,H=Math.imul(de,pe),q=q+Math.imul(rt,Me)|0,B=B+Math.imul(rt,Te)|0,B=B+Math.imul(ue,Me)|0,H=H+Math.imul(ue,Te)|0,q=q+Math.imul(Ke,Ze)|0,B=B+Math.imul(Ke,Xe)|0,B=B+Math.imul(Fe,Ze)|0,H=H+Math.imul(Fe,Xe)|0;var ke=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(ke>>>26)|0,ke&=67108863,q=Math.imul(te,Me),B=Math.imul(te,Te),B=B+Math.imul(de,Me)|0,H=Math.imul(de,Te),q=q+Math.imul(rt,Ze)|0,B=B+Math.imul(rt,Xe)|0,B=B+Math.imul(ue,Ze)|0,H=H+Math.imul(ue,Xe)|0;var Je=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Je>>>26)|0,Je&=67108863,q=Math.imul(te,Ze),B=Math.imul(te,Xe),B=B+Math.imul(de,Ze)|0,H=Math.imul(de,Xe);var fe=(I+q|0)+((B&8191)<<13)|0;return I=(H+(B>>>13)|0)+(fe>>>26)|0,fe&=67108863,U[0]=qt,U[1]=pt,U[2]=At,U[3]=Mt,U[4]=Bt,U[5]=$t,U[6]=Ot,U[7]=St,U[8]=Dt,U[9]=lt,U[10]=_t,U[11]=ct,U[12]=vt,U[13]=gt,U[14]=ft,U[15]=Ie,U[16]=ke,U[17]=Je,U[18]=fe,I!==0&&(U[19]=I,$.length++),$};Math.imul||(L=F);function K(D,w,S){S.negative=w.negative^D.negative,S.length=D.length+w.length;for(var $=0,N=0,k=0;k<S.length-1;k++){var U=N;N=0;for(var I=$&67108863,q=Math.min(k,w.length-1),B=Math.max(0,k-D.length+1);B<=q;B++){var H=k-B,ce=D.words[H]|0,be=w.words[B]|0,ve=ce*be,Z=ve&67108863;U=U+(ve/67108864|0)|0,Z=Z+I|0,I=Z&67108863,U=U+(Z>>>26)|0,N+=U>>>26,U&=67108863}S.words[k]=I,$=U,U=N}return $!==0?S.words[k]=$:S.length--,S._strip()}function j(D,w,S){return K(D,w,S)}v.prototype.mulTo=function(w,S){var $,N=this.length+w.length;return this.length===10&&w.length===10?$=L(this,w,S):N<63?$=F(this,w,S):N<1024?$=K(this,w,S):$=j(this,w,S),$},v.prototype.mul=function(w){var S=new v(null);return S.words=new Array(this.length+w.length),this.mulTo(w,S)},v.prototype.mulf=function(w){var S=new v(null);return S.words=new Array(this.length+w.length),j(this,w,S)},v.prototype.imul=function(w){return this.clone().mulTo(w,this)},v.prototype.imuln=function(w){var S=w<0;S&&(w=-w),g(typeof w=="number"),g(w<67108864);for(var $=0,N=0;N<this.length;N++){var k=(this.words[N]|0)*w,U=(k&67108863)+($&67108863);$>>=26,$+=k/67108864|0,$+=U>>>26,this.words[N]=U&67108863}return $!==0&&(this.words[N]=$,this.length++),S?this.ineg():this},v.prototype.muln=function(w){return this.clone().imuln(w)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(w){var S=P(w);if(S.length===0)return new v(1);for(var $=this,N=0;N<S.length&&S[N]===0;N++,$=$.sqr());if(++N<S.length)for(var k=$.sqr();N<S.length;N++,k=k.sqr())S[N]!==0&&($=$.mul(k));return $},v.prototype.iushln=function(w){g(typeof w=="number"&&w>=0);var S=w%26,$=(w-S)/26,N=67108863>>>26-S<<26-S,k;if(S!==0){var U=0;for(k=0;k<this.length;k++){var I=this.words[k]&N,q=(this.words[k]|0)-I<<S;this.words[k]=q|U,U=I>>>26-S}U&&(this.words[k]=U,this.length++)}if($!==0){for(k=this.length-1;k>=0;k--)this.words[k+$]=this.words[k];for(k=0;k<$;k++)this.words[k]=0;this.length+=$}return this._strip()},v.prototype.ishln=function(w){return g(this.negative===0),this.iushln(w)},v.prototype.iushrn=function(w,S,$){g(typeof w=="number"&&w>=0);var N;S?N=(S-S%26)/26:N=0;var k=w%26,U=Math.min((w-k)/26,this.length),I=67108863^67108863>>>k<<k,q=$;if(N-=U,N=Math.max(0,N),q){for(var B=0;B<U;B++)q.words[B]=this.words[B];q.length=U}if(U!==0)if(this.length>U)for(this.length-=U,B=0;B<this.length;B++)this.words[B]=this.words[B+U];else this.words[0]=0,this.length=1;var H=0;for(B=this.length-1;B>=0&&(H!==0||B>=N);B--){var ce=this.words[B]|0;this.words[B]=H<<26-k|ce>>>k,H=ce&I}return q&&H!==0&&(q.words[q.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},v.prototype.ishrn=function(w,S,$){return g(this.negative===0),this.iushrn(w,S,$)},v.prototype.shln=function(w){return this.clone().ishln(w)},v.prototype.ushln=function(w){return this.clone().iushln(w)},v.prototype.shrn=function(w){return this.clone().ishrn(w)},v.prototype.ushrn=function(w){return this.clone().iushrn(w)},v.prototype.testn=function(w){g(typeof w=="number"&&w>=0);var S=w%26,$=(w-S)/26,N=1<<S;if(this.length<=$)return!1;var k=this.words[$];return!!(k&N)},v.prototype.imaskn=function(w){g(typeof w=="number"&&w>=0);var S=w%26,$=(w-S)/26;if(g(this.negative===0,"imaskn works only with positive numbers"),this.length<=$)return this;if(S!==0&&$++,this.length=Math.min($,this.length),S!==0){var N=67108863^67108863>>>S<<S;this.words[this.length-1]&=N}return this._strip()},v.prototype.maskn=function(w){return this.clone().imaskn(w)},v.prototype.iaddn=function(w){return g(typeof w=="number"),g(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},v.prototype._iaddn=function(w){this.words[0]+=w;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},v.prototype.isubn=function(w){if(g(typeof w=="number"),g(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},v.prototype.addn=function(w){return this.clone().iaddn(w)},v.prototype.subn=function(w){return this.clone().isubn(w)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(w,S,$){var N=w.length+$,k;this._expand(N);var U,I=0;for(k=0;k<w.length;k++){U=(this.words[k+$]|0)+I;var q=(w.words[k]|0)*S;U-=q&67108863,I=(U>>26)-(q/67108864|0),this.words[k+$]=U&67108863}for(;k<this.length-$;k++)U=(this.words[k+$]|0)+I,I=U>>26,this.words[k+$]=U&67108863;if(I===0)return this._strip();for(g(I===-1),I=0,k=0;k<this.length;k++)U=-(this.words[k]|0)+I,I=U>>26,this.words[k]=U&67108863;return this.negative=1,this._strip()},v.prototype._wordDiv=function(w,S){var $=this.length-w.length,N=this.clone(),k=w,U=k.words[k.length-1]|0,I=this._countBits(U);$=26-I,$!==0&&(k=k.ushln($),N.iushln($),U=k.words[k.length-1]|0);var q=N.length-k.length,B;if(S!=="mod"){B=new v(null),B.length=q+1,B.words=new Array(B.length);for(var H=0;H<B.length;H++)B.words[H]=0}var ce=N.clone()._ishlnsubmul(k,1,q);ce.negative===0&&(N=ce,B&&(B.words[q]=1));for(var be=q-1;be>=0;be--){var ve=(N.words[k.length+be]|0)*67108864+(N.words[k.length+be-1]|0);for(ve=Math.min(ve/U|0,67108863),N._ishlnsubmul(k,ve,be);N.negative!==0;)ve--,N.negative=0,N._ishlnsubmul(k,1,be),N.isZero()||(N.negative^=1);B&&(B.words[be]=ve)}return B&&B._strip(),N._strip(),S!=="div"&&$!==0&&N.iushrn($),{div:B||null,mod:N}},v.prototype.divmod=function(w,S,$){if(g(!w.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var N,k,U;return this.negative!==0&&w.negative===0?(U=this.neg().divmod(w,S),S!=="mod"&&(N=U.div.neg()),S!=="div"&&(k=U.mod.neg(),$&&k.negative!==0&&k.iadd(w)),{div:N,mod:k}):this.negative===0&&w.negative!==0?(U=this.divmod(w.neg(),S),S!=="mod"&&(N=U.div.neg()),{div:N,mod:U.mod}):this.negative&w.negative?(U=this.neg().divmod(w.neg(),S),S!=="div"&&(k=U.mod.neg(),$&&k.negative!==0&&k.isub(w)),{div:U.div,mod:k}):w.length>this.length||this.cmp(w)<0?{div:new v(0),mod:this}:w.length===1?S==="div"?{div:this.divn(w.words[0]),mod:null}:S==="mod"?{div:null,mod:new v(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new v(this.modrn(w.words[0]))}:this._wordDiv(w,S)},v.prototype.div=function(w){return this.divmod(w,"div",!1).div},v.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},v.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},v.prototype.divRound=function(w){var S=this.divmod(w);if(S.mod.isZero())return S.div;var $=S.div.negative!==0?S.mod.isub(w):S.mod,N=w.ushrn(1),k=w.andln(1),U=$.cmp(N);return U<0||k===1&&U===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},v.prototype.modrn=function(w){var S=w<0;S&&(w=-w),g(w<=67108863);for(var $=(1<<26)%w,N=0,k=this.length-1;k>=0;k--)N=($*N+(this.words[k]|0))%w;return S?-N:N},v.prototype.modn=function(w){return this.modrn(w)},v.prototype.idivn=function(w){var S=w<0;S&&(w=-w),g(w<=67108863);for(var $=0,N=this.length-1;N>=0;N--){var k=(this.words[N]|0)+$*67108864;this.words[N]=k/w|0,$=k%w}return this._strip(),S?this.ineg():this},v.prototype.divn=function(w){return this.clone().idivn(w)},v.prototype.egcd=function(w){g(w.negative===0),g(!w.isZero());var S=this,$=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var N=new v(1),k=new v(0),U=new v(0),I=new v(1),q=0;S.isEven()&&$.isEven();)S.iushrn(1),$.iushrn(1),++q;for(var B=$.clone(),H=S.clone();!S.isZero();){for(var ce=0,be=1;!(S.words[0]&be)&&ce<26;++ce,be<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(N.isOdd()||k.isOdd())&&(N.iadd(B),k.isub(H)),N.iushrn(1),k.iushrn(1);for(var ve=0,Z=1;!($.words[0]&Z)&&ve<26;++ve,Z<<=1);if(ve>0)for($.iushrn(ve);ve-- >0;)(U.isOdd()||I.isOdd())&&(U.iadd(B),I.isub(H)),U.iushrn(1),I.iushrn(1);S.cmp($)>=0?(S.isub($),N.isub(U),k.isub(I)):($.isub(S),U.isub(N),I.isub(k))}return{a:U,b:I,gcd:$.iushln(q)}},v.prototype._invmp=function(w){g(w.negative===0),g(!w.isZero());var S=this,$=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var N=new v(1),k=new v(0),U=$.clone();S.cmpn(1)>0&&$.cmpn(1)>0;){for(var I=0,q=1;!(S.words[0]&q)&&I<26;++I,q<<=1);if(I>0)for(S.iushrn(I);I-- >0;)N.isOdd()&&N.iadd(U),N.iushrn(1);for(var B=0,H=1;!($.words[0]&H)&&B<26;++B,H<<=1);if(B>0)for($.iushrn(B);B-- >0;)k.isOdd()&&k.iadd(U),k.iushrn(1);S.cmp($)>=0?(S.isub($),N.isub(k)):($.isub(S),k.isub(N))}var ce;return S.cmpn(1)===0?ce=N:ce=k,ce.cmpn(0)<0&&ce.iadd(w),ce},v.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var S=this.clone(),$=w.clone();S.negative=0,$.negative=0;for(var N=0;S.isEven()&&$.isEven();N++)S.iushrn(1),$.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;$.isEven();)$.iushrn(1);var k=S.cmp($);if(k<0){var U=S;S=$,$=U}else if(k===0||$.cmpn(1)===0)break;S.isub($)}while(!0);return $.iushln(N)},v.prototype.invm=function(w){return this.egcd(w).a.umod(w)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(w){return this.words[0]&w},v.prototype.bincn=function(w){g(typeof w=="number");var S=w%26,$=(w-S)/26,N=1<<S;if(this.length<=$)return this._expand($+1),this.words[$]|=N,this;for(var k=N,U=$;k!==0&&U<this.length;U++){var I=this.words[U]|0;I+=k,k=I>>>26,I&=67108863,this.words[U]=I}return k!==0&&(this.words[U]=k,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(w){var S=w<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var $;if(this.length>1)$=1;else{S&&(w=-w),g(w<=67108863,"Number is too big");var N=this.words[0]|0;$=N===w?0:N<w?-1:1}return this.negative!==0?-$|0:$},v.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var S=this.ucmp(w);return this.negative!==0?-S|0:S},v.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var S=0,$=this.length-1;$>=0;$--){var N=this.words[$]|0,k=w.words[$]|0;if(N!==k){N<k?S=-1:N>k&&(S=1);break}}return S},v.prototype.gtn=function(w){return this.cmpn(w)===1},v.prototype.gt=function(w){return this.cmp(w)===1},v.prototype.gten=function(w){return this.cmpn(w)>=0},v.prototype.gte=function(w){return this.cmp(w)>=0},v.prototype.ltn=function(w){return this.cmpn(w)===-1},v.prototype.lt=function(w){return this.cmp(w)===-1},v.prototype.lten=function(w){return this.cmpn(w)<=0},v.prototype.lte=function(w){return this.cmp(w)<=0},v.prototype.eqn=function(w){return this.cmpn(w)===0},v.prototype.eq=function(w){return this.cmp(w)===0},v.red=function(w){return new z(w)},v.prototype.toRed=function(w){return g(!this.red,"Already a number in reduction context"),g(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},v.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(w){return this.red=w,this},v.prototype.forceRed=function(w){return g(!this.red,"Already a number in reduction context"),this._forceRed(w)},v.prototype.redAdd=function(w){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},v.prototype.redIAdd=function(w){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},v.prototype.redSub=function(w){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},v.prototype.redISub=function(w){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},v.prototype.redShl=function(w){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},v.prototype.redMul=function(w){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},v.prototype.redIMul=function(w){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},v.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(w){return g(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var W={k256:null,p224:null,p192:null,p25519:null};function G(D,w){this.name=D,this.p=new v(w,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var w=new v(null);return w.words=new Array(Math.ceil(this.n/13)),w},G.prototype.ireduce=function(w){var S=w,$;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),$=S.bitLength();while($>this.n);var N=$<this.n?-1:S.ucmp(this.p);return N===0?(S.words[0]=0,S.length=1):N>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},G.prototype.split=function(w,S){w.iushrn(this.n,0,S)},G.prototype.imulK=function(w){return w.imul(this.k)};function Q(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(Q,G),Q.prototype.split=function(w,S){for(var $=4194303,N=Math.min(w.length,9),k=0;k<N;k++)S.words[k]=w.words[k];if(S.length=N,w.length<=9){w.words[0]=0,w.length=1;return}var U=w.words[9];for(S.words[S.length++]=U&$,k=10;k<w.length;k++){var I=w.words[k]|0;w.words[k-10]=(I&$)<<4|U>>>22,U=I}U>>>=22,w.words[k-10]=U,U===0&&w.length>10?w.length-=10:w.length-=9},Q.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var S=0,$=0;$<w.length;$++){var N=w.words[$]|0;S+=N*977,w.words[$]=S&67108863,S=N*64+(S/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function re(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(re,G);function ne(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(ne,G);function ie(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(ie,G),ie.prototype.imulK=function(w){for(var S=0,$=0;$<w.length;$++){var N=(w.words[$]|0)*19+S,k=N&67108863;N>>>=26,w.words[$]=k,S=N}return S!==0&&(w.words[w.length++]=S),w},v._prime=function(w){if(W[w])return W[w];var S;if(w==="k256")S=new Q;else if(w==="p224")S=new re;else if(w==="p192")S=new ne;else if(w==="p25519")S=new ie;else throw new Error("Unknown prime "+w);return W[w]=S,S};function z(D){if(typeof D=="string"){var w=v._prime(D);this.m=w.p,this.prime=w}else g(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}z.prototype._verify1=function(w){g(w.negative===0,"red works only with positives"),g(w.red,"red works only with red numbers")},z.prototype._verify2=function(w,S){g((w.negative|S.negative)===0,"red works only with positives"),g(w.red&&w.red===S.red,"red works only with red numbers")},z.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(b(w,w.umod(this.m)._forceRed(this)),w)},z.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},z.prototype.add=function(w,S){this._verify2(w,S);var $=w.add(S);return $.cmp(this.m)>=0&&$.isub(this.m),$._forceRed(this)},z.prototype.iadd=function(w,S){this._verify2(w,S);var $=w.iadd(S);return $.cmp(this.m)>=0&&$.isub(this.m),$},z.prototype.sub=function(w,S){this._verify2(w,S);var $=w.sub(S);return $.cmpn(0)<0&&$.iadd(this.m),$._forceRed(this)},z.prototype.isub=function(w,S){this._verify2(w,S);var $=w.isub(S);return $.cmpn(0)<0&&$.iadd(this.m),$},z.prototype.shl=function(w,S){return this._verify1(w),this.imod(w.ushln(S))},z.prototype.imul=function(w,S){return this._verify2(w,S),this.imod(w.imul(S))},z.prototype.mul=function(w,S){return this._verify2(w,S),this.imod(w.mul(S))},z.prototype.isqr=function(w){return this.imul(w,w.clone())},z.prototype.sqr=function(w){return this.mul(w,w)},z.prototype.sqrt=function(w){if(w.isZero())return w.clone();var S=this.m.andln(3);if(g(S%2===1),S===3){var $=this.m.add(new v(1)).iushrn(2);return this.pow(w,$)}for(var N=this.m.subn(1),k=0;!N.isZero()&&N.andln(1)===0;)k++,N.iushrn(1);g(!N.isZero());var U=new v(1).toRed(this),I=U.redNeg(),q=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new v(2*B*B).toRed(this);this.pow(B,q).cmp(I)!==0;)B.redIAdd(I);for(var H=this.pow(B,N),ce=this.pow(w,N.addn(1).iushrn(1)),be=this.pow(w,N),ve=k;be.cmp(U)!==0;){for(var Z=be,J=0;Z.cmp(U)!==0;J++)Z=Z.redSqr();g(J<ve);var ae=this.pow(H,new v(1).iushln(ve-J-1));ce=ce.redMul(ae),H=ae.redSqr(),be=be.redMul(H),ve=J}return ce},z.prototype.invm=function(w){var S=w._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},z.prototype.pow=function(w,S){if(S.isZero())return new v(1).toRed(this);if(S.cmpn(1)===0)return w.clone();var $=4,N=new Array(1<<$);N[0]=new v(1).toRed(this),N[1]=w;for(var k=2;k<N.length;k++)N[k]=this.mul(N[k-1],w);var U=N[0],I=0,q=0,B=S.bitLength()%26;for(B===0&&(B=26),k=S.length-1;k>=0;k--){for(var H=S.words[k],ce=B-1;ce>=0;ce--){var be=H>>ce&1;if(U!==N[0]&&(U=this.sqr(U)),be===0&&I===0){q=0;continue}I<<=1,I|=be,q++,!(q!==$&&(k!==0||ce!==0))&&(U=this.mul(U,N[I]),q=0,I=0)}B=26}return U},z.prototype.convertTo=function(w){var S=w.umod(this.m);return S===w?S.clone():S},z.prototype.convertFrom=function(w){var S=w.clone();return S.red=null,S},v.mont=function(w){return new T(w)};function T(D){z.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(T,z),T.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},T.prototype.convertFrom=function(w){var S=this.imod(w.mul(this.rinv));return S.red=null,S},T.prototype.imul=function(w,S){if(w.isZero()||S.isZero())return w.words[0]=0,w.length=1,w;var $=w.imul(S),N=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=$.isub(N).iushrn(this.shift),U=k;return k.cmp(this.m)>=0?U=k.isub(this.m):k.cmpn(0)<0&&(U=k.iadd(this.m)),U._forceRed(this)},T.prototype.mul=function(w,S){if(w.isZero()||S.isZero())return new v(0)._forceRed(this);var $=w.mul(S),N=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=$.isub(N).iushrn(this.shift),U=k;return k.cmp(this.m)>=0?U=k.isub(this.m):k.cmpn(0)<0&&(U=k.iadd(this.m)),U._forceRed(this)},T.prototype.invm=function(w){var S=this.imod(w._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(f,commonjsGlobal)}(bn$1)),bn$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var f=requireBn$1(),r=requireBrowser$b(),d=safeBufferExports.Buffer;function g(_){var y=_.modulus.byteLength(),x;do x=new f(r(y));while(x.cmp(_.modulus)>=0||!x.umod(_.prime1)||!x.umod(_.prime2));return x}function m(_){var y=g(_),x=y.toRed(f.mont(_.modulus)).redPow(new f(_.publicExponent)).fromRed();return{blinder:x,unblinder:y.invm(_.modulus)}}function v(_,y){var x=m(y),E=y.modulus.byteLength(),b=new f(_).mul(x.blinder).umod(y.modulus),C=b.toRed(f.mont(y.prime1)),R=b.toRed(f.mont(y.prime2)),O=y.coefficient,A=y.prime1,M=y.prime2,P=C.redPow(y.exponent1).fromRed(),F=R.redPow(y.exponent2).fromRed(),L=P.isub(F).imul(O).umod(A).imul(M);return F.iadd(L).imul(x.unblinder).umod(y.modulus).toArrayLike(d,"be",E)}return v.getr=g,browserifyRsa=v,browserifyRsa}var elliptic={};const name$3="elliptic",version$2="6.6.1",description$1="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name:name$3,version:version$2,description:description$1,main:main$1,files,scripts:scripts$1,repository,keywords:keywords$1,author:author$1,license:license$1,bugs,homepage,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$7={},utils$6={},hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,function(f){var r=f;function d(v,_){if(Array.isArray(v))return v.slice();if(!v)return[];var y=[];if(typeof v!="string"){for(var x=0;x<v.length;x++)y[x]=v[x]|0;return y}if(_==="hex"){v=v.replace(/[^a-z0-9]+/ig,""),v.length%2!==0&&(v="0"+v);for(var x=0;x<v.length;x+=2)y.push(parseInt(v[x]+v[x+1],16))}else for(var x=0;x<v.length;x++){var E=v.charCodeAt(x),b=E>>8,C=E&255;b?y.push(b,C):y.push(C)}return y}r.toArray=d;function g(v){return v.length===1?"0"+v:v}r.zero2=g;function m(v){for(var _="",y=0;y<v.length;y++)_+=g(v[y].toString(16));return _}r.toHex=m,r.encode=function(_,y){return y==="hex"?m(_):_}}(utils$6)),utils$6}var hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(f){var r=f,d=requireBn$2(),g=requireMinimalisticAssert(),m=requireUtils$4();r.assert=g,r.toArray=m.toArray,r.zero2=m.zero2,r.toHex=m.toHex,r.encode=m.encode;function v(b,C,R){var O=new Array(Math.max(b.bitLength(),R)+1),A;for(A=0;A<O.length;A+=1)O[A]=0;var M=1<<C+1,P=b.clone();for(A=0;A<O.length;A++){var F,L=P.andln(M-1);P.isOdd()?(L>(M>>1)-1?F=(M>>1)-L:F=L,P.isubn(F)):F=0,O[A]=F,P.iushrn(1)}return O}r.getNAF=v;function _(b,C){var R=[[],[]];b=b.clone(),C=C.clone();for(var O=0,A=0,M;b.cmpn(-O)>0||C.cmpn(-A)>0;){var P=b.andln(3)+O&3,F=C.andln(3)+A&3;P===3&&(P=-1),F===3&&(F=-1);var L;P&1?(M=b.andln(7)+O&7,(M===3||M===5)&&F===2?L=-P:L=P):L=0,R[0].push(L);var K;F&1?(M=C.andln(7)+A&7,(M===3||M===5)&&P===2?K=-F:K=F):K=0,R[1].push(K),2*O===L+1&&(O=1-O),2*A===K+1&&(A=1-A),b.iushrn(1),C.iushrn(1)}return R}r.getJSF=_;function y(b,C,R){var O="_"+C;b.prototype[C]=function(){return this[O]!==void 0?this[O]:this[O]=R.call(this)}}r.cachedProperty=y;function x(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=x;function E(b){return new d(b,"hex","le")}r.intFromLE=E}(utils$7)),utils$7}var curve={},base$5,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$5;hasRequiredBase$1=1;var f=requireBn$2(),r=requireUtils$3(),d=r.getNAF,g=r.getJSF,m=r.assert;function v(y,x){this.type=y,this.p=new f(x.p,16),this.red=x.prime?f.red(x.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=x.n&&new f(x.n,16),this.g=x.g&&this.pointFromJSON(x.g,x.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var E=this.n&&this.p.div(this.n);!E||E.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$5=v,v.prototype.point=function(){throw new Error("Not implemented")},v.prototype.validate=function(){throw new Error("Not implemented")},v.prototype._fixedNafMul=function(x,E){m(x.precomputed);var b=x._getDoubles(),C=d(E,1,this._bitLength),R=(1<<b.step+1)-(b.step%2===0?2:1);R/=3;var O=[],A,M;for(A=0;A<C.length;A+=b.step){M=0;for(var P=A+b.step-1;P>=A;P--)M=(M<<1)+C[P];O.push(M)}for(var F=this.jpoint(null,null,null),L=this.jpoint(null,null,null),K=R;K>0;K--){for(A=0;A<O.length;A++)M=O[A],M===K?L=L.mixedAdd(b.points[A]):M===-K&&(L=L.mixedAdd(b.points[A].neg()));F=F.add(L)}return F.toP()},v.prototype._wnafMul=function(x,E){var b=4,C=x._getNAFPoints(b);b=C.wnd;for(var R=C.points,O=d(E,b,this._bitLength),A=this.jpoint(null,null,null),M=O.length-1;M>=0;M--){for(var P=0;M>=0&&O[M]===0;M--)P++;if(M>=0&&P++,A=A.dblp(P),M<0)break;var F=O[M];m(F!==0),x.type==="affine"?F>0?A=A.mixedAdd(R[F-1>>1]):A=A.mixedAdd(R[-F-1>>1].neg()):F>0?A=A.add(R[F-1>>1]):A=A.add(R[-F-1>>1].neg())}return x.type==="affine"?A.toP():A},v.prototype._wnafMulAdd=function(x,E,b,C,R){var O=this._wnafT1,A=this._wnafT2,M=this._wnafT3,P=0,F,L,K;for(F=0;F<C;F++){K=E[F];var j=K._getNAFPoints(x);O[F]=j.wnd,A[F]=j.points}for(F=C-1;F>=1;F-=2){var W=F-1,G=F;if(O[W]!==1||O[G]!==1){M[W]=d(b[W],O[W],this._bitLength),M[G]=d(b[G],O[G],this._bitLength),P=Math.max(M[W].length,P),P=Math.max(M[G].length,P);continue}var Q=[E[W],null,null,E[G]];E[W].y.cmp(E[G].y)===0?(Q[1]=E[W].add(E[G]),Q[2]=E[W].toJ().mixedAdd(E[G].neg())):E[W].y.cmp(E[G].y.redNeg())===0?(Q[1]=E[W].toJ().mixedAdd(E[G]),Q[2]=E[W].add(E[G].neg())):(Q[1]=E[W].toJ().mixedAdd(E[G]),Q[2]=E[W].toJ().mixedAdd(E[G].neg()));var re=[-3,-1,-5,-7,0,7,5,1,3],ne=g(b[W],b[G]);for(P=Math.max(ne[0].length,P),M[W]=new Array(P),M[G]=new Array(P),L=0;L<P;L++){var ie=ne[0][L]|0,z=ne[1][L]|0;M[W][L]=re[(ie+1)*3+(z+1)],M[G][L]=0,A[W]=Q}}var T=this.jpoint(null,null,null),D=this._wnafT4;for(F=P;F>=0;F--){for(var w=0;F>=0;){var S=!0;for(L=0;L<C;L++)D[L]=M[L][F]|0,D[L]!==0&&(S=!1);if(!S)break;w++,F--}if(F>=0&&w++,T=T.dblp(w),F<0)break;for(L=0;L<C;L++){var $=D[L];$!==0&&($>0?K=A[L][$-1>>1]:$<0&&(K=A[L][-$-1>>1].neg()),K.type==="affine"?T=T.mixedAdd(K):T=T.add(K))}}for(F=0;F<C;F++)A[F]=null;return R?T:T.toP()};function _(y,x){this.curve=y,this.type=x,this.precomputed=null}return v.BasePoint=_,_.prototype.eq=function(){throw new Error("Not implemented")},_.prototype.validate=function(){return this.curve.validate(this)},v.prototype.decodePoint=function(x,E){x=r.toArray(x,E);var b=this.p.byteLength();if((x[0]===4||x[0]===6||x[0]===7)&&x.length-1===2*b){x[0]===6?m(x[x.length-1]%2===0):x[0]===7&&m(x[x.length-1]%2===1);var C=this.point(x.slice(1,1+b),x.slice(1+b,1+2*b));return C}else if((x[0]===2||x[0]===3)&&x.length-1===b)return this.pointFromX(x.slice(1,1+b),x[0]===3);throw new Error("Unknown point format")},_.prototype.encodeCompressed=function(x){return this.encode(x,!0)},_.prototype._encode=function(x){var E=this.curve.p.byteLength(),b=this.getX().toArray("be",E);return x?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",E))},_.prototype.encode=function(x,E){return r.encode(this._encode(E),x)},_.prototype.precompute=function(x){if(this.precomputed)return this;var E={doubles:null,naf:null,beta:null};return E.naf=this._getNAFPoints(8),E.doubles=this._getDoubles(4,x),E.beta=this._getBeta(),this.precomputed=E,this},_.prototype._hasDoubles=function(x){if(!this.precomputed)return!1;var E=this.precomputed.doubles;return E?E.points.length>=Math.ceil((x.bitLength()+1)/E.step):!1},_.prototype._getDoubles=function(x,E){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],C=this,R=0;R<E;R+=x){for(var O=0;O<x;O++)C=C.dbl();b.push(C)}return{step:x,points:b}},_.prototype._getNAFPoints=function(x){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var E=[this],b=(1<<x)-1,C=b===1?null:this.dbl(),R=1;R<b;R++)E[R]=E[R-1].add(C);return{wnd:x,points:E}},_.prototype._getBeta=function(){return null},_.prototype.dblp=function(x){for(var E=this,b=0;b<x;b++)E=E.dbl();return E},base$5}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var f=requireUtils$3(),r=requireBn$2(),d=requireInherits_browser(),g=requireBase$1(),m=f.assert;function v(x){g.call(this,"short",x),this.a=new r(x.a,16).toRed(this.red),this.b=new r(x.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(x),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}d(v,g),short=v,v.prototype._getEndomorphism=function(E){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var b,C;if(E.beta)b=new r(E.beta,16).toRed(this.red);else{var R=this._getEndoRoots(this.p);b=R[0].cmp(R[1])<0?R[0]:R[1],b=b.toRed(this.red)}if(E.lambda)C=new r(E.lambda,16);else{var O=this._getEndoRoots(this.n);this.g.mul(O[0]).x.cmp(this.g.x.redMul(b))===0?C=O[0]:(C=O[1],m(this.g.mul(C).x.cmp(this.g.x.redMul(b))===0))}var A;return E.basis?A=E.basis.map(function(M){return{a:new r(M.a,16),b:new r(M.b,16)}}):A=this._getEndoBasis(C),{beta:b,lambda:C,basis:A}}},v.prototype._getEndoRoots=function(E){var b=E===this.p?this.red:r.mont(E),C=new r(2).toRed(b).redInvm(),R=C.redNeg(),O=new r(3).toRed(b).redNeg().redSqrt().redMul(C),A=R.redAdd(O).fromRed(),M=R.redSub(O).fromRed();return[A,M]},v.prototype._getEndoBasis=function(E){for(var b=this.n.ushrn(Math.floor(this.n.bitLength()/2)),C=E,R=this.n.clone(),O=new r(1),A=new r(0),M=new r(0),P=new r(1),F,L,K,j,W,G,Q,re=0,ne,ie;C.cmpn(0)!==0;){var z=R.div(C);ne=R.sub(z.mul(C)),ie=M.sub(z.mul(O));var T=P.sub(z.mul(A));if(!K&&ne.cmp(b)<0)F=Q.neg(),L=O,K=ne.neg(),j=ie;else if(K&&++re===2)break;Q=ne,R=C,C=ne,M=O,O=ie,P=A,A=T}W=ne.neg(),G=ie;var D=K.sqr().add(j.sqr()),w=W.sqr().add(G.sqr());return w.cmp(D)>=0&&(W=F,G=L),K.negative&&(K=K.neg(),j=j.neg()),W.negative&&(W=W.neg(),G=G.neg()),[{a:K,b:j},{a:W,b:G}]},v.prototype._endoSplit=function(E){var b=this.endo.basis,C=b[0],R=b[1],O=R.b.mul(E).divRound(this.n),A=C.b.neg().mul(E).divRound(this.n),M=O.mul(C.a),P=A.mul(R.a),F=O.mul(C.b),L=A.mul(R.b),K=E.sub(M).sub(P),j=F.add(L).neg();return{k1:K,k2:j}},v.prototype.pointFromX=function(E,b){E=new r(E,16),E.red||(E=E.toRed(this.red));var C=E.redSqr().redMul(E).redIAdd(E.redMul(this.a)).redIAdd(this.b),R=C.redSqrt();if(R.redSqr().redSub(C).cmp(this.zero)!==0)throw new Error("invalid point");var O=R.fromRed().isOdd();return(b&&!O||!b&&O)&&(R=R.redNeg()),this.point(E,R)},v.prototype.validate=function(E){if(E.inf)return!0;var b=E.x,C=E.y,R=this.a.redMul(b),O=b.redSqr().redMul(b).redIAdd(R).redIAdd(this.b);return C.redSqr().redISub(O).cmpn(0)===0},v.prototype._endoWnafMulAdd=function(E,b,C){for(var R=this._endoWnafT1,O=this._endoWnafT2,A=0;A<E.length;A++){var M=this._endoSplit(b[A]),P=E[A],F=P._getBeta();M.k1.negative&&(M.k1.ineg(),P=P.neg(!0)),M.k2.negative&&(M.k2.ineg(),F=F.neg(!0)),R[A*2]=P,R[A*2+1]=F,O[A*2]=M.k1,O[A*2+1]=M.k2}for(var L=this._wnafMulAdd(1,R,O,A*2,C),K=0;K<A*2;K++)R[K]=null,O[K]=null;return L};function _(x,E,b,C){g.BasePoint.call(this,x,"affine"),E===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(E,16),this.y=new r(b,16),C&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}d(_,g.BasePoint),v.prototype.point=function(E,b,C){return new _(this,E,b,C)},v.prototype.pointFromJSON=function(E,b){return _.fromJSON(this,E,b)},_.prototype._getBeta=function(){if(this.curve.endo){var E=this.precomputed;if(E&&E.beta)return E.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(E){var C=this.curve,R=function(O){return C.point(O.x.redMul(C.endo.beta),O.y)};E.beta=b,b.precomputed={beta:null,naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(R)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(R)}}}return b}},_.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},_.fromJSON=function(E,b,C){typeof b=="string"&&(b=JSON.parse(b));var R=E.point(b[0],b[1],C);if(!b[2])return R;function O(M){return E.point(M[0],M[1],C)}var A=b[2];return R.precomputed={beta:null,doubles:A.doubles&&{step:A.doubles.step,points:[R].concat(A.doubles.points.map(O))},naf:A.naf&&{wnd:A.naf.wnd,points:[R].concat(A.naf.points.map(O))}},R},_.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},_.prototype.isInfinity=function(){return this.inf},_.prototype.add=function(E){if(this.inf)return E;if(E.inf)return this;if(this.eq(E))return this.dbl();if(this.neg().eq(E))return this.curve.point(null,null);if(this.x.cmp(E.x)===0)return this.curve.point(null,null);var b=this.y.redSub(E.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(E.x).redInvm()));var C=b.redSqr().redISub(this.x).redISub(E.x),R=b.redMul(this.x.redSub(C)).redISub(this.y);return this.curve.point(C,R)},_.prototype.dbl=function(){if(this.inf)return this;var E=this.y.redAdd(this.y);if(E.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,C=this.x.redSqr(),R=E.redInvm(),O=C.redAdd(C).redIAdd(C).redIAdd(b).redMul(R),A=O.redSqr().redISub(this.x.redAdd(this.x)),M=O.redMul(this.x.redSub(A)).redISub(this.y);return this.curve.point(A,M)},_.prototype.getX=function(){return this.x.fromRed()},_.prototype.getY=function(){return this.y.fromRed()},_.prototype.mul=function(E){return E=new r(E,16),this.isInfinity()?this:this._hasDoubles(E)?this.curve._fixedNafMul(this,E):this.curve.endo?this.curve._endoWnafMulAdd([this],[E]):this.curve._wnafMul(this,E)},_.prototype.mulAdd=function(E,b,C){var R=[this,b],O=[E,C];return this.curve.endo?this.curve._endoWnafMulAdd(R,O):this.curve._wnafMulAdd(1,R,O,2)},_.prototype.jmulAdd=function(E,b,C){var R=[this,b],O=[E,C];return this.curve.endo?this.curve._endoWnafMulAdd(R,O,!0):this.curve._wnafMulAdd(1,R,O,2,!0)},_.prototype.eq=function(E){return this===E||this.inf===E.inf&&(this.inf||this.x.cmp(E.x)===0&&this.y.cmp(E.y)===0)},_.prototype.neg=function(E){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(E&&this.precomputed){var C=this.precomputed,R=function(O){return O.neg()};b.precomputed={naf:C.naf&&{wnd:C.naf.wnd,points:C.naf.points.map(R)},doubles:C.doubles&&{step:C.doubles.step,points:C.doubles.points.map(R)}}}return b},_.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var E=this.curve.jpoint(this.x,this.y,this.curve.one);return E};function y(x,E,b,C){g.BasePoint.call(this,x,"jacobian"),E===null&&b===null&&C===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(E,16),this.y=new r(b,16),this.z=new r(C,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return d(y,g.BasePoint),v.prototype.jpoint=function(E,b,C){return new y(this,E,b,C)},y.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var E=this.z.redInvm(),b=E.redSqr(),C=this.x.redMul(b),R=this.y.redMul(b).redMul(E);return this.curve.point(C,R)},y.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},y.prototype.add=function(E){if(this.isInfinity())return E;if(E.isInfinity())return this;var b=E.z.redSqr(),C=this.z.redSqr(),R=this.x.redMul(b),O=E.x.redMul(C),A=this.y.redMul(b.redMul(E.z)),M=E.y.redMul(C.redMul(this.z)),P=R.redSub(O),F=A.redSub(M);if(P.cmpn(0)===0)return F.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=P.redSqr(),K=L.redMul(P),j=R.redMul(L),W=F.redSqr().redIAdd(K).redISub(j).redISub(j),G=F.redMul(j.redISub(W)).redISub(A.redMul(K)),Q=this.z.redMul(E.z).redMul(P);return this.curve.jpoint(W,G,Q)},y.prototype.mixedAdd=function(E){if(this.isInfinity())return E.toJ();if(E.isInfinity())return this;var b=this.z.redSqr(),C=this.x,R=E.x.redMul(b),O=this.y,A=E.y.redMul(b).redMul(this.z),M=C.redSub(R),P=O.redSub(A);if(M.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=M.redSqr(),L=F.redMul(M),K=C.redMul(F),j=P.redSqr().redIAdd(L).redISub(K).redISub(K),W=P.redMul(K.redISub(j)).redISub(O.redMul(L)),G=this.z.redMul(M);return this.curve.jpoint(j,W,G)},y.prototype.dblp=function(E){if(E===0)return this;if(this.isInfinity())return this;if(!E)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var C=this;for(b=0;b<E;b++)C=C.dbl();return C}var R=this.curve.a,O=this.curve.tinv,A=this.x,M=this.y,P=this.z,F=P.redSqr().redSqr(),L=M.redAdd(M);for(b=0;b<E;b++){var K=A.redSqr(),j=L.redSqr(),W=j.redSqr(),G=K.redAdd(K).redIAdd(K).redIAdd(R.redMul(F)),Q=A.redMul(j),re=G.redSqr().redISub(Q.redAdd(Q)),ne=Q.redISub(re),ie=G.redMul(ne);ie=ie.redIAdd(ie).redISub(W);var z=L.redMul(P);b+1<E&&(F=F.redMul(W)),A=re,P=z,L=ie}return this.curve.jpoint(A,L.redMul(O),P)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},y.prototype._zeroDbl=function(){var E,b,C;if(this.zOne){var R=this.x.redSqr(),O=this.y.redSqr(),A=O.redSqr(),M=this.x.redAdd(O).redSqr().redISub(R).redISub(A);M=M.redIAdd(M);var P=R.redAdd(R).redIAdd(R),F=P.redSqr().redISub(M).redISub(M),L=A.redIAdd(A);L=L.redIAdd(L),L=L.redIAdd(L),E=F,b=P.redMul(M.redISub(F)).redISub(L),C=this.y.redAdd(this.y)}else{var K=this.x.redSqr(),j=this.y.redSqr(),W=j.redSqr(),G=this.x.redAdd(j).redSqr().redISub(K).redISub(W);G=G.redIAdd(G);var Q=K.redAdd(K).redIAdd(K),re=Q.redSqr(),ne=W.redIAdd(W);ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),E=re.redISub(G).redISub(G),b=Q.redMul(G.redISub(E)).redISub(ne),C=this.y.redMul(this.z),C=C.redIAdd(C)}return this.curve.jpoint(E,b,C)},y.prototype._threeDbl=function(){var E,b,C;if(this.zOne){var R=this.x.redSqr(),O=this.y.redSqr(),A=O.redSqr(),M=this.x.redAdd(O).redSqr().redISub(R).redISub(A);M=M.redIAdd(M);var P=R.redAdd(R).redIAdd(R).redIAdd(this.curve.a),F=P.redSqr().redISub(M).redISub(M);E=F;var L=A.redIAdd(A);L=L.redIAdd(L),L=L.redIAdd(L),b=P.redMul(M.redISub(F)).redISub(L),C=this.y.redAdd(this.y)}else{var K=this.z.redSqr(),j=this.y.redSqr(),W=this.x.redMul(j),G=this.x.redSub(K).redMul(this.x.redAdd(K));G=G.redAdd(G).redIAdd(G);var Q=W.redIAdd(W);Q=Q.redIAdd(Q);var re=Q.redAdd(Q);E=G.redSqr().redISub(re),C=this.y.redAdd(this.z).redSqr().redISub(j).redISub(K);var ne=j.redSqr();ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),b=G.redMul(Q.redISub(E)).redISub(ne)}return this.curve.jpoint(E,b,C)},y.prototype._dbl=function(){var E=this.curve.a,b=this.x,C=this.y,R=this.z,O=R.redSqr().redSqr(),A=b.redSqr(),M=C.redSqr(),P=A.redAdd(A).redIAdd(A).redIAdd(E.redMul(O)),F=b.redAdd(b);F=F.redIAdd(F);var L=F.redMul(M),K=P.redSqr().redISub(L.redAdd(L)),j=L.redISub(K),W=M.redSqr();W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W);var G=P.redMul(j).redISub(W),Q=C.redAdd(C).redMul(R);return this.curve.jpoint(K,G,Q)},y.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var E=this.x.redSqr(),b=this.y.redSqr(),C=this.z.redSqr(),R=b.redSqr(),O=E.redAdd(E).redIAdd(E),A=O.redSqr(),M=this.x.redAdd(b).redSqr().redISub(E).redISub(R);M=M.redIAdd(M),M=M.redAdd(M).redIAdd(M),M=M.redISub(A);var P=M.redSqr(),F=R.redIAdd(R);F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var L=O.redIAdd(M).redSqr().redISub(A).redISub(P).redISub(F),K=b.redMul(L);K=K.redIAdd(K),K=K.redIAdd(K);var j=this.x.redMul(P).redISub(K);j=j.redIAdd(j),j=j.redIAdd(j);var W=this.y.redMul(L.redMul(F.redISub(L)).redISub(M.redMul(P)));W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W);var G=this.z.redAdd(M).redSqr().redISub(C).redISub(P);return this.curve.jpoint(j,W,G)},y.prototype.mul=function(E,b){return E=new r(E,b),this.curve._wnafMul(this,E)},y.prototype.eq=function(E){if(E.type==="affine")return this.eq(E.toJ());if(this===E)return!0;var b=this.z.redSqr(),C=E.z.redSqr();if(this.x.redMul(C).redISub(E.x.redMul(b)).cmpn(0)!==0)return!1;var R=b.redMul(this.z),O=C.redMul(E.z);return this.y.redMul(O).redISub(E.y.redMul(R)).cmpn(0)===0},y.prototype.eqXToP=function(E){var b=this.z.redSqr(),C=E.toRed(this.curve.red).redMul(b);if(this.x.cmp(C)===0)return!0;for(var R=E.clone(),O=this.curve.redN.redMul(b);;){if(R.iadd(this.curve.n),R.cmp(this.curve.p)>=0)return!1;if(C.redIAdd(O),this.x.cmp(C)===0)return!0}},y.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},y.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var f=requireBn$2(),r=requireInherits_browser(),d=requireBase$1(),g=requireUtils$3();function m(_){d.call(this,"mont",_),this.a=new f(_.a,16).toRed(this.red),this.b=new f(_.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}r(m,d),mont=m,m.prototype.validate=function(y){var x=y.normalize().x,E=x.redSqr(),b=E.redMul(x).redAdd(E.redMul(this.a)).redAdd(x),C=b.redSqrt();return C.redSqr().cmp(b)===0};function v(_,y,x){d.BasePoint.call(this,_,"projective"),y===null&&x===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(y,16),this.z=new f(x,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return r(v,d.BasePoint),m.prototype.decodePoint=function(y,x){return this.point(g.toArray(y,x),1)},m.prototype.point=function(y,x){return new v(this,y,x)},m.prototype.pointFromJSON=function(y){return v.fromJSON(this,y)},v.prototype.precompute=function(){},v.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},v.fromJSON=function(y,x){return new v(y,x[0],x[1]||y.one)},v.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0},v.prototype.dbl=function(){var y=this.x.redAdd(this.z),x=y.redSqr(),E=this.x.redSub(this.z),b=E.redSqr(),C=x.redSub(b),R=x.redMul(b),O=C.redMul(b.redAdd(this.curve.a24.redMul(C)));return this.curve.point(R,O)},v.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.diffAdd=function(y,x){var E=this.x.redAdd(this.z),b=this.x.redSub(this.z),C=y.x.redAdd(y.z),R=y.x.redSub(y.z),O=R.redMul(E),A=C.redMul(b),M=x.z.redMul(O.redAdd(A).redSqr()),P=x.x.redMul(O.redISub(A).redSqr());return this.curve.point(M,P)},v.prototype.mul=function(y){for(var x=y.clone(),E=this,b=this.curve.point(null,null),C=this,R=[];x.cmpn(0)!==0;x.iushrn(1))R.push(x.andln(1));for(var O=R.length-1;O>=0;O--)R[O]===0?(E=E.diffAdd(b,C),b=b.dbl()):(b=E.diffAdd(b,C),E=E.dbl());return b},v.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.eq=function(y){return this.getX().cmp(y.getX())===0},v.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},v.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var f=requireUtils$3(),r=requireBn$2(),d=requireInherits_browser(),g=requireBase$1(),m=f.assert;function v(y){this.twisted=(y.a|0)!==1,this.mOneA=this.twisted&&(y.a|0)===-1,this.extended=this.mOneA,g.call(this,"edwards",y),this.a=new r(y.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(y.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(y.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),m(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(y.c|0)===1}d(v,g),edwards=v,v.prototype._mulA=function(x){return this.mOneA?x.redNeg():this.a.redMul(x)},v.prototype._mulC=function(x){return this.oneC?x:this.c.redMul(x)},v.prototype.jpoint=function(x,E,b,C){return this.point(x,E,b,C)},v.prototype.pointFromX=function(x,E){x=new r(x,16),x.red||(x=x.toRed(this.red));var b=x.redSqr(),C=this.c2.redSub(this.a.redMul(b)),R=this.one.redSub(this.c2.redMul(this.d).redMul(b)),O=C.redMul(R.redInvm()),A=O.redSqrt();if(A.redSqr().redSub(O).cmp(this.zero)!==0)throw new Error("invalid point");var M=A.fromRed().isOdd();return(E&&!M||!E&&M)&&(A=A.redNeg()),this.point(x,A)},v.prototype.pointFromY=function(x,E){x=new r(x,16),x.red||(x=x.toRed(this.red));var b=x.redSqr(),C=b.redSub(this.c2),R=b.redMul(this.d).redMul(this.c2).redSub(this.a),O=C.redMul(R.redInvm());if(O.cmp(this.zero)===0){if(E)throw new Error("invalid point");return this.point(this.zero,x)}var A=O.redSqrt();if(A.redSqr().redSub(O).cmp(this.zero)!==0)throw new Error("invalid point");return A.fromRed().isOdd()!==E&&(A=A.redNeg()),this.point(A,x)},v.prototype.validate=function(x){if(x.isInfinity())return!0;x.normalize();var E=x.x.redSqr(),b=x.y.redSqr(),C=E.redMul(this.a).redAdd(b),R=this.c2.redMul(this.one.redAdd(this.d.redMul(E).redMul(b)));return C.cmp(R)===0};function _(y,x,E,b,C){g.BasePoint.call(this,y,"projective"),x===null&&E===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(x,16),this.y=new r(E,16),this.z=b?new r(b,16):this.curve.one,this.t=C&&new r(C,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return d(_,g.BasePoint),v.prototype.pointFromJSON=function(x){return _.fromJSON(this,x)},v.prototype.point=function(x,E,b,C){return new _(this,x,E,b,C)},_.fromJSON=function(x,E){return new _(x,E[0],E[1],E[2])},_.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},_.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},_.prototype._extDbl=function(){var x=this.x.redSqr(),E=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var C=this.curve._mulA(x),R=this.x.redAdd(this.y).redSqr().redISub(x).redISub(E),O=C.redAdd(E),A=O.redSub(b),M=C.redSub(E),P=R.redMul(A),F=O.redMul(M),L=R.redMul(M),K=A.redMul(O);return this.curve.point(P,F,K,L)},_.prototype._projDbl=function(){var x=this.x.redAdd(this.y).redSqr(),E=this.x.redSqr(),b=this.y.redSqr(),C,R,O,A,M,P;if(this.curve.twisted){A=this.curve._mulA(E);var F=A.redAdd(b);this.zOne?(C=x.redSub(E).redSub(b).redMul(F.redSub(this.curve.two)),R=F.redMul(A.redSub(b)),O=F.redSqr().redSub(F).redSub(F)):(M=this.z.redSqr(),P=F.redSub(M).redISub(M),C=x.redSub(E).redISub(b).redMul(P),R=F.redMul(A.redSub(b)),O=F.redMul(P))}else A=E.redAdd(b),M=this.curve._mulC(this.z).redSqr(),P=A.redSub(M).redSub(M),C=this.curve._mulC(x.redISub(A)).redMul(P),R=this.curve._mulC(A).redMul(E.redISub(b)),O=A.redMul(P);return this.curve.point(C,R,O)},_.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},_.prototype._extAdd=function(x){var E=this.y.redSub(this.x).redMul(x.y.redSub(x.x)),b=this.y.redAdd(this.x).redMul(x.y.redAdd(x.x)),C=this.t.redMul(this.curve.dd).redMul(x.t),R=this.z.redMul(x.z.redAdd(x.z)),O=b.redSub(E),A=R.redSub(C),M=R.redAdd(C),P=b.redAdd(E),F=O.redMul(A),L=M.redMul(P),K=O.redMul(P),j=A.redMul(M);return this.curve.point(F,L,j,K)},_.prototype._projAdd=function(x){var E=this.z.redMul(x.z),b=E.redSqr(),C=this.x.redMul(x.x),R=this.y.redMul(x.y),O=this.curve.d.redMul(C).redMul(R),A=b.redSub(O),M=b.redAdd(O),P=this.x.redAdd(this.y).redMul(x.x.redAdd(x.y)).redISub(C).redISub(R),F=E.redMul(A).redMul(P),L,K;return this.curve.twisted?(L=E.redMul(M).redMul(R.redSub(this.curve._mulA(C))),K=A.redMul(M)):(L=E.redMul(M).redMul(R.redSub(C)),K=this.curve._mulC(A).redMul(M)),this.curve.point(F,L,K)},_.prototype.add=function(x){return this.isInfinity()?x:x.isInfinity()?this:this.curve.extended?this._extAdd(x):this._projAdd(x)},_.prototype.mul=function(x){return this._hasDoubles(x)?this.curve._fixedNafMul(this,x):this.curve._wnafMul(this,x)},_.prototype.mulAdd=function(x,E,b){return this.curve._wnafMulAdd(1,[this,E],[x,b],2,!1)},_.prototype.jmulAdd=function(x,E,b){return this.curve._wnafMulAdd(1,[this,E],[x,b],2,!0)},_.prototype.normalize=function(){if(this.zOne)return this;var x=this.z.redInvm();return this.x=this.x.redMul(x),this.y=this.y.redMul(x),this.t&&(this.t=this.t.redMul(x)),this.z=this.curve.one,this.zOne=!0,this},_.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},_.prototype.getX=function(){return this.normalize(),this.x.fromRed()},_.prototype.getY=function(){return this.normalize(),this.y.fromRed()},_.prototype.eq=function(x){return this===x||this.getX().cmp(x.getX())===0&&this.getY().cmp(x.getY())===0},_.prototype.eqXToP=function(x){var E=x.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(E)===0)return!0;for(var b=x.clone(),C=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(C),this.x.cmp(E)===0)return!0}},_.prototype.toP=_.prototype.normalize,_.prototype.mixedAdd=_.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(f){var r=f;r.base=requireBase$1(),r.short=requireShort(),r.mont=requireMont(),r.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$5={},hasRequiredUtils$2;function requireUtils$2(){if(hasRequiredUtils$2)return utils$5;hasRequiredUtils$2=1;var f=requireMinimalisticAssert(),r=requireInherits_browser();utils$5.inherits=r;function d(T,D){return(T.charCodeAt(D)&64512)!==55296||D<0||D+1>=T.length?!1:(T.charCodeAt(D+1)&64512)===56320}function g(T,D){if(Array.isArray(T))return T.slice();if(!T)return[];var w=[];if(typeof T=="string")if(D){if(D==="hex")for(T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T),$=0;$<T.length;$+=2)w.push(parseInt(T[$]+T[$+1],16))}else for(var S=0,$=0;$<T.length;$++){var N=T.charCodeAt($);N<128?w[S++]=N:N<2048?(w[S++]=N>>6|192,w[S++]=N&63|128):d(T,$)?(N=65536+((N&1023)<<10)+(T.charCodeAt(++$)&1023),w[S++]=N>>18|240,w[S++]=N>>12&63|128,w[S++]=N>>6&63|128,w[S++]=N&63|128):(w[S++]=N>>12|224,w[S++]=N>>6&63|128,w[S++]=N&63|128)}else for($=0;$<T.length;$++)w[$]=T[$]|0;return w}utils$5.toArray=g;function m(T){for(var D="",w=0;w<T.length;w++)D+=y(T[w].toString(16));return D}utils$5.toHex=m;function v(T){var D=T>>>24|T>>>8&65280|T<<8&16711680|(T&255)<<24;return D>>>0}utils$5.htonl=v;function _(T,D){for(var w="",S=0;S<T.length;S++){var $=T[S];D==="little"&&($=v($)),w+=x($.toString(16))}return w}utils$5.toHex32=_;function y(T){return T.length===1?"0"+T:T}utils$5.zero2=y;function x(T){return T.length===7?"0"+T:T.length===6?"00"+T:T.length===5?"000"+T:T.length===4?"0000"+T:T.length===3?"00000"+T:T.length===2?"000000"+T:T.length===1?"0000000"+T:T}utils$5.zero8=x;function E(T,D,w,S){var $=w-D;f($%4===0);for(var N=new Array($/4),k=0,U=D;k<N.length;k++,U+=4){var I;S==="big"?I=T[U]<<24|T[U+1]<<16|T[U+2]<<8|T[U+3]:I=T[U+3]<<24|T[U+2]<<16|T[U+1]<<8|T[U],N[k]=I>>>0}return N}utils$5.join32=E;function b(T,D){for(var w=new Array(T.length*4),S=0,$=0;S<T.length;S++,$+=4){var N=T[S];D==="big"?(w[$]=N>>>24,w[$+1]=N>>>16&255,w[$+2]=N>>>8&255,w[$+3]=N&255):(w[$+3]=N>>>24,w[$+2]=N>>>16&255,w[$+1]=N>>>8&255,w[$]=N&255)}return w}utils$5.split32=b;function C(T,D){return T>>>D|T<<32-D}utils$5.rotr32=C;function R(T,D){return T<<D|T>>>32-D}utils$5.rotl32=R;function O(T,D){return T+D>>>0}utils$5.sum32=O;function A(T,D,w){return T+D+w>>>0}utils$5.sum32_3=A;function M(T,D,w,S){return T+D+w+S>>>0}utils$5.sum32_4=M;function P(T,D,w,S,$){return T+D+w+S+$>>>0}utils$5.sum32_5=P;function F(T,D,w,S){var $=T[D],N=T[D+1],k=S+N>>>0,U=(k<S?1:0)+w+$;T[D]=U>>>0,T[D+1]=k}utils$5.sum64=F;function L(T,D,w,S){var $=D+S>>>0,N=($<D?1:0)+T+w;return N>>>0}utils$5.sum64_hi=L;function K(T,D,w,S){var $=D+S;return $>>>0}utils$5.sum64_lo=K;function j(T,D,w,S,$,N,k,U){var I=0,q=D;q=q+S>>>0,I+=q<D?1:0,q=q+N>>>0,I+=q<N?1:0,q=q+U>>>0,I+=q<U?1:0;var B=T+w+$+k+I;return B>>>0}utils$5.sum64_4_hi=j;function W(T,D,w,S,$,N,k,U){var I=D+S+N+U;return I>>>0}utils$5.sum64_4_lo=W;function G(T,D,w,S,$,N,k,U,I,q){var B=0,H=D;H=H+S>>>0,B+=H<D?1:0,H=H+N>>>0,B+=H<N?1:0,H=H+U>>>0,B+=H<U?1:0,H=H+q>>>0,B+=H<q?1:0;var ce=T+w+$+k+I+B;return ce>>>0}utils$5.sum64_5_hi=G;function Q(T,D,w,S,$,N,k,U,I,q){var B=D+S+N+U+q;return B>>>0}utils$5.sum64_5_lo=Q;function re(T,D,w){var S=D<<32-w|T>>>w;return S>>>0}utils$5.rotr64_hi=re;function ne(T,D,w){var S=T<<32-w|D>>>w;return S>>>0}utils$5.rotr64_lo=ne;function ie(T,D,w){return T>>>w}utils$5.shr64_hi=ie;function z(T,D,w){var S=T<<32-w|D>>>w;return S>>>0}return utils$5.shr64_lo=z,utils$5}var common$l={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$l;hasRequiredCommon$1=1;var f=requireUtils$2(),r=requireMinimalisticAssert();function d(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$l.BlockHash=d,d.prototype.update=function(m,v){if(m=f.toArray(m,v),this.pending?this.pending=this.pending.concat(m):this.pending=m,this.pendingTotal+=m.length,this.pending.length>=this._delta8){m=this.pending;var _=m.length%this._delta8;this.pending=m.slice(m.length-_,m.length),this.pending.length===0&&(this.pending=null),m=f.join32(m,0,m.length-_,this.endian);for(var y=0;y<m.length;y+=this._delta32)this._update(m,y,y+this._delta32)}return this},d.prototype.digest=function(m){return this.update(this._pad()),r(this.pending===null),this._digest(m)},d.prototype._pad=function(){var m=this.pendingTotal,v=this._delta8,_=v-(m+this.padLength)%v,y=new Array(_+this.padLength);y[0]=128;for(var x=1;x<_;x++)y[x]=0;if(m<<=3,this.endian==="big"){for(var E=8;E<this.padLength;E++)y[x++]=0;y[x++]=0,y[x++]=0,y[x++]=0,y[x++]=0,y[x++]=m>>>24&255,y[x++]=m>>>16&255,y[x++]=m>>>8&255,y[x++]=m&255}else for(y[x++]=m&255,y[x++]=m>>>8&255,y[x++]=m>>>16&255,y[x++]=m>>>24&255,y[x++]=0,y[x++]=0,y[x++]=0,y[x++]=0,E=8;E<this.padLength;E++)y[x++]=0;return y},common$l}var sha$1={},common$k={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common$k;hasRequiredCommon=1;var f=requireUtils$2(),r=f.rotr32;function d(b,C,R,O){if(b===0)return g(C,R,O);if(b===1||b===3)return v(C,R,O);if(b===2)return m(C,R,O)}common$k.ft_1=d;function g(b,C,R){return b&C^~b&R}common$k.ch32=g;function m(b,C,R){return b&C^b&R^C&R}common$k.maj32=m;function v(b,C,R){return b^C^R}common$k.p32=v;function _(b){return r(b,2)^r(b,13)^r(b,22)}common$k.s0_256=_;function y(b){return r(b,6)^r(b,11)^r(b,25)}common$k.s1_256=y;function x(b){return r(b,7)^r(b,18)^b>>>3}common$k.g0_256=x;function E(b){return r(b,17)^r(b,19)^b>>>10}return common$k.g1_256=E,common$k}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var f=requireUtils$2(),r=requireCommon$1(),d=requireCommon(),g=f.rotl32,m=f.sum32,v=f.sum32_5,_=d.ft_1,y=r.BlockHash,x=[1518500249,1859775393,2400959708,3395469782];function E(){if(!(this instanceof E))return new E;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return f.inherits(E,y),_1=E,E.blockSize=512,E.outSize=160,E.hmacStrength=80,E.padLength=64,E.prototype._update=function(C,R){for(var O=this.W,A=0;A<16;A++)O[A]=C[R+A];for(;A<O.length;A++)O[A]=g(O[A-3]^O[A-8]^O[A-14]^O[A-16],1);var M=this.h[0],P=this.h[1],F=this.h[2],L=this.h[3],K=this.h[4];for(A=0;A<O.length;A++){var j=~~(A/20),W=v(g(M,5),_(j,P,F,L),K,O[A],x[j]);K=L,L=F,F=g(P,30),P=M,M=W}this.h[0]=m(this.h[0],M),this.h[1]=m(this.h[1],P),this.h[2]=m(this.h[2],F),this.h[3]=m(this.h[3],L),this.h[4]=m(this.h[4],K)},E.prototype._digest=function(C){return C==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var f=requireUtils$2(),r=requireCommon$1(),d=requireCommon(),g=requireMinimalisticAssert(),m=f.sum32,v=f.sum32_4,_=f.sum32_5,y=d.ch32,x=d.maj32,E=d.s0_256,b=d.s1_256,C=d.g0_256,R=d.g1_256,O=r.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function M(){if(!(this instanceof M))return new M;O.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=new Array(64)}return f.inherits(M,O),_256=M,M.blockSize=512,M.outSize=256,M.hmacStrength=192,M.padLength=64,M.prototype._update=function(F,L){for(var K=this.W,j=0;j<16;j++)K[j]=F[L+j];for(;j<K.length;j++)K[j]=v(R(K[j-2]),K[j-7],C(K[j-15]),K[j-16]);var W=this.h[0],G=this.h[1],Q=this.h[2],re=this.h[3],ne=this.h[4],ie=this.h[5],z=this.h[6],T=this.h[7];for(g(this.k.length===K.length),j=0;j<K.length;j++){var D=_(T,b(ne),y(ne,ie,z),this.k[j],K[j]),w=m(E(W),x(W,G,Q));T=z,z=ie,ie=ne,ne=m(re,D),re=Q,Q=G,G=W,W=m(D,w)}this.h[0]=m(this.h[0],W),this.h[1]=m(this.h[1],G),this.h[2]=m(this.h[2],Q),this.h[3]=m(this.h[3],re),this.h[4]=m(this.h[4],ne),this.h[5]=m(this.h[5],ie),this.h[6]=m(this.h[6],z),this.h[7]=m(this.h[7],T)},M.prototype._digest=function(F){return F==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var f=requireUtils$2(),r=require_256();function d(){if(!(this instanceof d))return new d;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return f.inherits(d,r),_224=d,d.blockSize=512,d.outSize=224,d.hmacStrength=192,d.padLength=64,d.prototype._digest=function(m){return m==="hex"?f.toHex32(this.h.slice(0,7),"big"):f.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var f=requireUtils$2(),r=requireCommon$1(),d=requireMinimalisticAssert(),g=f.rotr64_hi,m=f.rotr64_lo,v=f.shr64_hi,_=f.shr64_lo,y=f.sum64,x=f.sum64_hi,E=f.sum64_lo,b=f.sum64_4_hi,C=f.sum64_4_lo,R=f.sum64_5_hi,O=f.sum64_5_lo,A=r.BlockHash,M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=M,this.W=new Array(160)}f.inherits(P,A),_512=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(w,S){for(var $=this.W,N=0;N<32;N++)$[N]=w[S+N];for(;N<$.length;N+=2){var k=z($[N-4],$[N-3]),U=T($[N-4],$[N-3]),I=$[N-14],q=$[N-13],B=ne($[N-30],$[N-29]),H=ie($[N-30],$[N-29]),ce=$[N-32],be=$[N-31];$[N]=b(k,U,I,q,B,H,ce,be),$[N+1]=C(k,U,I,q,B,H,ce,be)}},P.prototype._update=function(w,S){this._prepareBlock(w,S);var $=this.W,N=this.h[0],k=this.h[1],U=this.h[2],I=this.h[3],q=this.h[4],B=this.h[5],H=this.h[6],ce=this.h[7],be=this.h[8],ve=this.h[9],Z=this.h[10],J=this.h[11],ae=this.h[12],X=this.h[13],Y=this.h[14],oe=this.h[15];d(this.k.length===$.length);for(var we=0;we<$.length;we+=2){var Se=Y,De=oe,qe=Q(be,ve),Ue=re(be,ve),Ne=F(be,ve,Z,J,ae),Be=L(be,ve,Z,J,ae,X),Qe=this.k[we],Le=this.k[we+1],ot=$[we],Ve=$[we+1],We=R(Se,De,qe,Ue,Ne,Be,Qe,Le,ot,Ve),it=O(Se,De,qe,Ue,Ne,Be,Qe,Le,ot,Ve);Se=W(N,k),De=G(N,k),qe=K(N,k,U,I,q),Ue=j(N,k,U,I,q,B);var Ke=x(Se,De,qe,Ue),Fe=E(Se,De,qe,Ue);Y=ae,oe=X,ae=Z,X=J,Z=be,J=ve,be=x(H,ce,We,it),ve=E(ce,ce,We,it),H=q,ce=B,q=U,B=I,U=N,I=k,N=x(We,it,Ke,Fe),k=E(We,it,Ke,Fe)}y(this.h,0,N,k),y(this.h,2,U,I),y(this.h,4,q,B),y(this.h,6,H,ce),y(this.h,8,be,ve),y(this.h,10,Z,J),y(this.h,12,ae,X),y(this.h,14,Y,oe)},P.prototype._digest=function(w){return w==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")};function F(D,w,S,$,N){var k=D&S^~D&N;return k<0&&(k+=4294967296),k}function L(D,w,S,$,N,k){var U=w&$^~w&k;return U<0&&(U+=4294967296),U}function K(D,w,S,$,N){var k=D&S^D&N^S&N;return k<0&&(k+=4294967296),k}function j(D,w,S,$,N,k){var U=w&$^w&k^$&k;return U<0&&(U+=4294967296),U}function W(D,w){var S=g(D,w,28),$=g(w,D,2),N=g(w,D,7),k=S^$^N;return k<0&&(k+=4294967296),k}function G(D,w){var S=m(D,w,28),$=m(w,D,2),N=m(w,D,7),k=S^$^N;return k<0&&(k+=4294967296),k}function Q(D,w){var S=g(D,w,14),$=g(D,w,18),N=g(w,D,9),k=S^$^N;return k<0&&(k+=4294967296),k}function re(D,w){var S=m(D,w,14),$=m(D,w,18),N=m(w,D,9),k=S^$^N;return k<0&&(k+=4294967296),k}function ne(D,w){var S=g(D,w,1),$=g(D,w,8),N=v(D,w,7),k=S^$^N;return k<0&&(k+=4294967296),k}function ie(D,w){var S=m(D,w,1),$=m(D,w,8),N=_(D,w,7),k=S^$^N;return k<0&&(k+=4294967296),k}function z(D,w){var S=g(D,w,19),$=g(w,D,29),N=v(D,w,6),k=S^$^N;return k<0&&(k+=4294967296),k}function T(D,w){var S=m(D,w,19),$=m(w,D,29),N=_(D,w,6),k=S^$^N;return k<0&&(k+=4294967296),k}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var f=requireUtils$2(),r=require_512();function d(){if(!(this instanceof d))return new d;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return f.inherits(d,r),_384=d,d.blockSize=1024,d.outSize=384,d.hmacStrength=192,d.padLength=128,d.prototype._digest=function(m){return m==="hex"?f.toHex32(this.h.slice(0,12),"big"):f.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha$1.sha1=require_1(),sha$1.sha224=require_224(),sha$1.sha256=require_256(),sha$1.sha384=require_384(),sha$1.sha512=require_512()),sha$1}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var f=requireUtils$2(),r=requireCommon$1(),d=f.rotl32,g=f.sum32,m=f.sum32_3,v=f.sum32_4,_=r.BlockHash;function y(){if(!(this instanceof y))return new y;_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}f.inherits(y,_),ripemd.ripemd160=y,y.blockSize=512,y.outSize=160,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(P,F){for(var L=this.h[0],K=this.h[1],j=this.h[2],W=this.h[3],G=this.h[4],Q=L,re=K,ne=j,ie=W,z=G,T=0;T<80;T++){var D=g(d(v(L,x(T,K,j,W),P[C[T]+F],E(T)),O[T]),G);L=G,G=W,W=d(j,10),j=K,K=D,D=g(d(v(Q,x(79-T,re,ne,ie),P[R[T]+F],b(T)),A[T]),z),Q=z,z=ie,ie=d(ne,10),ne=re,re=D}D=m(this.h[1],j,ie),this.h[1]=m(this.h[2],W,z),this.h[2]=m(this.h[3],G,Q),this.h[3]=m(this.h[4],L,re),this.h[4]=m(this.h[0],K,ne),this.h[0]=D},y.prototype._digest=function(P){return P==="hex"?f.toHex32(this.h,"little"):f.split32(this.h,"little")};function x(M,P,F,L){return M<=15?P^F^L:M<=31?P&F|~P&L:M<=47?(P|~F)^L:M<=63?P&L|F&~L:P^(F|~L)}function E(M){return M<=15?0:M<=31?1518500249:M<=47?1859775393:M<=63?2400959708:2840853838}function b(M){return M<=15?1352829926:M<=31?1548603684:M<=47?1836072691:M<=63?2053994217:0}var C=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],O=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var f=requireUtils$2(),r=requireMinimalisticAssert();function d(g,m,v){if(!(this instanceof d))return new d(g,m,v);this.Hash=g,this.blockSize=g.blockSize/8,this.outSize=g.outSize/8,this.inner=null,this.outer=null,this._init(f.toArray(m,v))}return hmac$1=d,d.prototype._init=function(m){m.length>this.blockSize&&(m=new this.Hash().update(m).digest()),r(m.length<=this.blockSize);for(var v=m.length;v<this.blockSize;v++)m.push(0);for(v=0;v<m.length;v++)m[v]^=54;for(this.inner=new this.Hash().update(m),v=0;v<m.length;v++)m[v]^=106;this.outer=new this.Hash().update(m)},d.prototype.update=function(m,v){return this.inner.update(m,v),this},d.prototype.digest=function(m){return this.outer.update(this.inner.digest()),this.outer.digest(m)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(f){var r=f;r.utils=requireUtils$2(),r.common=requireCommon$1(),r.sha=requireSha(),r.ripemd=requireRipemd(),r.hmac=requireHmac$1(),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(f){var r=f,d=requireHash(),g=requireCurve(),m=requireUtils$3(),v=m.assert;function _(E){E.type==="short"?this.curve=new g.short(E):E.type==="edwards"?this.curve=new g.edwards(E):this.curve=new g.mont(E),this.g=this.curve.g,this.n=this.curve.n,this.hash=E.hash,v(this.g.validate(),"Invalid curve"),v(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=_;function y(E,b){Object.defineProperty(r,E,{configurable:!0,enumerable:!0,get:function(){var C=new _(b);return Object.defineProperty(r,E,{configurable:!0,enumerable:!0,value:C}),C}})}y("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:d.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),y("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:d.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),y("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:d.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),y("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:d.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),y("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:d.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),y("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["9"]}),y("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var x;try{x=requireSecp256k1()}catch{x=void 0}y("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:d.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",x]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var f=requireHash(),r=requireUtils$4(),d=requireMinimalisticAssert();function g(m){if(!(this instanceof g))return new g(m);this.hash=m.hash,this.predResist=!!m.predResist,this.outLen=this.hash.outSize,this.minEntropy=m.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var v=r.toArray(m.entropy,m.entropyEnc||"hex"),_=r.toArray(m.nonce,m.nonceEnc||"hex"),y=r.toArray(m.pers,m.persEnc||"hex");d(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(v,_,y)}return hmacDrbg=g,g.prototype._init=function(v,_,y){var x=v.concat(_).concat(y);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var E=0;E<this.V.length;E++)this.K[E]=0,this.V[E]=1;this._update(x),this._reseed=1,this.reseedInterval=281474976710656},g.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},g.prototype._update=function(v){var _=this._hmac().update(this.V).update([0]);v&&(_=_.update(v)),this.K=_.digest(),this.V=this._hmac().update(this.V).digest(),v&&(this.K=this._hmac().update(this.V).update([1]).update(v).digest(),this.V=this._hmac().update(this.V).digest())},g.prototype.reseed=function(v,_,y,x){typeof _!="string"&&(x=y,y=_,_=null),v=r.toArray(v,_),y=r.toArray(y,x),d(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(v.concat(y||[])),this._reseed=1},g.prototype.generate=function(v,_,y,x){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof _!="string"&&(x=y,y=_,_=null),y&&(y=r.toArray(y,x||"hex"),this._update(y));for(var E=[];E.length<v;)this.V=this._hmac().update(this.V).digest(),E=E.concat(this.V);var b=E.slice(0,v);return this._update(y),this._reseed++,r.encode(b,_)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var f=requireBn$2(),r=requireUtils$3(),d=r.assert;function g(m,v){this.ec=m,this.priv=null,this.pub=null,v.priv&&this._importPrivate(v.priv,v.privEnc),v.pub&&this._importPublic(v.pub,v.pubEnc)}return key$1=g,g.fromPublic=function(v,_,y){return _ instanceof g?_:new g(v,{pub:_,pubEnc:y})},g.fromPrivate=function(v,_,y){return _ instanceof g?_:new g(v,{priv:_,privEnc:y})},g.prototype.validate=function(){var v=this.getPublic();return v.isInfinity()?{result:!1,reason:"Invalid public key"}:v.validate()?v.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},g.prototype.getPublic=function(v,_){return typeof v=="string"&&(_=v,v=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),_?this.pub.encode(_,v):this.pub},g.prototype.getPrivate=function(v){return v==="hex"?this.priv.toString(16,2):this.priv},g.prototype._importPrivate=function(v,_){this.priv=new f(v,_||16),this.priv=this.priv.umod(this.ec.curve.n)},g.prototype._importPublic=function(v,_){if(v.x||v.y){this.ec.curve.type==="mont"?d(v.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&d(v.x&&v.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(v.x,v.y);return}this.pub=this.ec.curve.decodePoint(v,_)},g.prototype.derive=function(v){return v.validate()||d(v.validate(),"public point not validated"),v.mul(this.priv).getX()},g.prototype.sign=function(v,_,y){return this.ec.sign(v,this,_,y)},g.prototype.verify=function(v,_,y){return this.ec.verify(v,_,this,void 0,y)},g.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var f=requireBn$2(),r=requireUtils$3(),d=r.assert;function g(x,E){if(x instanceof g)return x;this._importDER(x,E)||(d(x.r&&x.s,"Signature without r or s"),this.r=new f(x.r,16),this.s=new f(x.s,16),x.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=x.recoveryParam)}signature$1=g;function m(){this.place=0}function v(x,E){var b=x[E.place++];if(!(b&128))return b;var C=b&15;if(C===0||C>4||x[E.place]===0)return!1;for(var R=0,O=0,A=E.place;O<C;O++,A++)R<<=8,R|=x[A],R>>>=0;return R<=127?!1:(E.place=A,R)}function _(x){for(var E=0,b=x.length-1;!x[E]&&!(x[E+1]&128)&&E<b;)E++;return E===0?x:x.slice(E)}g.prototype._importDER=function(E,b){E=r.toArray(E,b);var C=new m;if(E[C.place++]!==48)return!1;var R=v(E,C);if(R===!1||R+C.place!==E.length||E[C.place++]!==2)return!1;var O=v(E,C);if(O===!1||E[C.place]&128)return!1;var A=E.slice(C.place,O+C.place);if(C.place+=O,E[C.place++]!==2)return!1;var M=v(E,C);if(M===!1||E.length!==M+C.place||E[C.place]&128)return!1;var P=E.slice(C.place,M+C.place);if(A[0]===0)if(A[1]&128)A=A.slice(1);else return!1;if(P[0]===0)if(P[1]&128)P=P.slice(1);else return!1;return this.r=new f(A),this.s=new f(P),this.recoveryParam=null,!0};function y(x,E){if(E<128){x.push(E);return}var b=1+(Math.log(E)/Math.LN2>>>3);for(x.push(b|128);--b;)x.push(E>>>(b<<3)&255);x.push(E)}return g.prototype.toDER=function(E){var b=this.r.toArray(),C=this.s.toArray();for(b[0]&128&&(b=[0].concat(b)),C[0]&128&&(C=[0].concat(C)),b=_(b),C=_(C);!C[0]&&!(C[1]&128);)C=C.slice(1);var R=[2];y(R,b.length),R=R.concat(b),R.push(2),y(R,C.length);var O=R.concat(C),A=[48];return y(A,O.length),A=A.concat(O),r.encode(A,E)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var f=requireBn$2(),r=requireHmacDrbg(),d=requireUtils$3(),g=requireCurves(),m=requireBrorand(),v=d.assert,_=requireKey$1(),y=requireSignature$1();function x(E){if(!(this instanceof x))return new x(E);typeof E=="string"&&(v(Object.prototype.hasOwnProperty.call(g,E),"Unknown curve "+E),E=g[E]),E instanceof g.PresetCurve&&(E={curve:E}),this.curve=E.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=E.curve.g,this.g.precompute(E.curve.n.bitLength()+1),this.hash=E.hash||E.curve.hash}return ec=x,x.prototype.keyPair=function(b){return new _(this,b)},x.prototype.keyFromPrivate=function(b,C){return _.fromPrivate(this,b,C)},x.prototype.keyFromPublic=function(b,C){return _.fromPublic(this,b,C)},x.prototype.genKeyPair=function(b){b||(b={});for(var C=new r({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||m(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),R=this.n.byteLength(),O=this.n.sub(new f(2));;){var A=new f(C.generate(R));if(!(A.cmp(O)>0))return A.iaddn(1),this.keyFromPrivate(A)}},x.prototype._truncateToN=function(b,C,R){var O;if(f.isBN(b)||typeof b=="number")b=new f(b,16),O=b.byteLength();else if(typeof b=="object")O=b.length,b=new f(b,16);else{var A=b.toString();O=A.length+1>>>1,b=new f(A,16)}typeof R!="number"&&(R=O*8);var M=R-this.n.bitLength();return M>0&&(b=b.ushrn(M)),!C&&b.cmp(this.n)>=0?b.sub(this.n):b},x.prototype.sign=function(b,C,R,O){if(typeof R=="object"&&(O=R,R=null),O||(O={}),typeof b!="string"&&typeof b!="number"&&!f.isBN(b)){v(typeof b=="object"&&b&&typeof b.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),v(b.length>>>0===b.length);for(var A=0;A<b.length;A++)v((b[A]&255)===b[A])}C=this.keyFromPrivate(C,R),b=this._truncateToN(b,!1,O.msgBitLength),v(!b.isNeg(),"Can not sign a negative message");var M=this.n.byteLength(),P=C.getPrivate().toArray("be",M),F=b.toArray("be",M);v(new f(F).eq(b),"Can not sign message");for(var L=new r({hash:this.hash,entropy:P,nonce:F,pers:O.pers,persEnc:O.persEnc||"utf8"}),K=this.n.sub(new f(1)),j=0;;j++){var W=O.k?O.k(j):new f(L.generate(this.n.byteLength()));if(W=this._truncateToN(W,!0),!(W.cmpn(1)<=0||W.cmp(K)>=0)){var G=this.g.mul(W);if(!G.isInfinity()){var Q=G.getX(),re=Q.umod(this.n);if(re.cmpn(0)!==0){var ne=W.invm(this.n).mul(re.mul(C.getPrivate()).iadd(b));if(ne=ne.umod(this.n),ne.cmpn(0)!==0){var ie=(G.getY().isOdd()?1:0)|(Q.cmp(re)!==0?2:0);return O.canonical&&ne.cmp(this.nh)>0&&(ne=this.n.sub(ne),ie^=1),new y({r:re,s:ne,recoveryParam:ie})}}}}}},x.prototype.verify=function(b,C,R,O,A){A||(A={}),b=this._truncateToN(b,!1,A.msgBitLength),R=this.keyFromPublic(R,O),C=new y(C,"hex");var M=C.r,P=C.s;if(M.cmpn(1)<0||M.cmp(this.n)>=0||P.cmpn(1)<0||P.cmp(this.n)>=0)return!1;var F=P.invm(this.n),L=F.mul(b).umod(this.n),K=F.mul(M).umod(this.n),j;return this.curve._maxwellTrick?(j=this.g.jmulAdd(L,R.getPublic(),K),j.isInfinity()?!1:j.eqXToP(M)):(j=this.g.mulAdd(L,R.getPublic(),K),j.isInfinity()?!1:j.getX().umod(this.n).cmp(M)===0)},x.prototype.recoverPubKey=function(E,b,C,R){v((3&C)===C,"The recovery param is more than two bits"),b=new y(b,R);var O=this.n,A=new f(E),M=b.r,P=b.s,F=C&1,L=C>>1;if(M.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");L?M=this.curve.pointFromX(M.add(this.curve.n),F):M=this.curve.pointFromX(M,F);var K=b.r.invm(O),j=O.sub(A).mul(K).umod(O),W=P.mul(K).umod(O);return this.g.mulAdd(j,M,W)},x.prototype.getKeyRecoveryParam=function(E,b,C,R){if(b=new y(b,R),b.recoveryParam!==null)return b.recoveryParam;for(var O=0;O<4;O++){var A;try{A=this.recoverPubKey(E,b,O)}catch{continue}if(A.eq(C))return O}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var f=requireUtils$3(),r=f.assert,d=f.parseBytes,g=f.cachedProperty;function m(v,_){this.eddsa=v,this._secret=d(_.secret),v.isPoint(_.pub)?this._pub=_.pub:this._pubBytes=d(_.pub)}return m.fromPublic=function(_,y){return y instanceof m?y:new m(_,{pub:y})},m.fromSecret=function(_,y){return y instanceof m?y:new m(_,{secret:y})},m.prototype.secret=function(){return this._secret},g(m,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),g(m,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),g(m,"privBytes",function(){var _=this.eddsa,y=this.hash(),x=_.encodingLength-1,E=y.slice(0,_.encodingLength);return E[0]&=248,E[x]&=127,E[x]|=64,E}),g(m,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),g(m,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),g(m,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),m.prototype.sign=function(_){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(_,this)},m.prototype.verify=function(_,y){return this.eddsa.verify(_,y,this)},m.prototype.getSecret=function(_){return r(this._secret,"KeyPair is public only"),f.encode(this.secret(),_)},m.prototype.getPublic=function(_){return f.encode(this.pubBytes(),_)},key=m,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var f=requireBn$2(),r=requireUtils$3(),d=r.assert,g=r.cachedProperty,m=r.parseBytes;function v(_,y){this.eddsa=_,typeof y!="object"&&(y=m(y)),Array.isArray(y)&&(d(y.length===_.encodingLength*2,"Signature has invalid size"),y={R:y.slice(0,_.encodingLength),S:y.slice(_.encodingLength)}),d(y.R&&y.S,"Signature without R or S"),_.isPoint(y.R)&&(this._R=y.R),y.S instanceof f&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}return g(v,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),g(v,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),g(v,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),g(v,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),v.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},v.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},signature=v,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var f=requireHash(),r=requireCurves(),d=requireUtils$3(),g=d.assert,m=d.parseBytes,v=requireKey(),_=requireSignature();function y(x){if(g(x==="ed25519","only tested with ed25519 so far"),!(this instanceof y))return new y(x);x=r[x].curve,this.curve=x,this.g=x.g,this.g.precompute(x.n.bitLength()+1),this.pointClass=x.point().constructor,this.encodingLength=Math.ceil(x.n.bitLength()/8),this.hash=f.sha512}return eddsa=y,y.prototype.sign=function(E,b){E=m(E);var C=this.keyFromSecret(b),R=this.hashInt(C.messagePrefix(),E),O=this.g.mul(R),A=this.encodePoint(O),M=this.hashInt(A,C.pubBytes(),E).mul(C.priv()),P=R.add(M).umod(this.curve.n);return this.makeSignature({R:O,S:P,Rencoded:A})},y.prototype.verify=function(E,b,C){if(E=m(E),b=this.makeSignature(b),b.S().gte(b.eddsa.curve.n)||b.S().isNeg())return!1;var R=this.keyFromPublic(C),O=this.hashInt(b.Rencoded(),R.pubBytes(),E),A=this.g.mul(b.S()),M=b.R().add(R.pub().mul(O));return M.eq(A)},y.prototype.hashInt=function(){for(var E=this.hash(),b=0;b<arguments.length;b++)E.update(arguments[b]);return d.intFromLE(E.digest()).umod(this.curve.n)},y.prototype.keyFromPublic=function(E){return v.fromPublic(this,E)},y.prototype.keyFromSecret=function(E){return v.fromSecret(this,E)},y.prototype.makeSignature=function(E){return E instanceof _?E:new _(this,E)},y.prototype.encodePoint=function(E){var b=E.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=E.getX().isOdd()?128:0,b},y.prototype.decodePoint=function(E){E=d.parseBytes(E);var b=E.length-1,C=E.slice(0,b).concat(E[b]&-129),R=(E[b]&128)!==0,O=d.intFromLE(C);return this.curve.pointFromY(O,R)},y.prototype.encodeInt=function(E){return E.toArray("le",this.encodingLength)},y.prototype.decodeInt=function(E){return d.intFromLE(E)},y.prototype.isPoint=function(E){return E instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(f){var r=f;r.version=require$$0$1.version,r.utils=requireUtils$3(),r.rand=requireBrorand(),r.curve=requireCurve(),r.curves=requireCurves(),r.ec=requireEc(),r.eddsa=requireEddsa()}(elliptic)),elliptic}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(f){(function(r,d){function g(D,w){if(!D)throw new Error(w||"Assertion failed")}function m(D,w){D.super_=w;var S=function(){};S.prototype=w.prototype,D.prototype=new S,D.prototype.constructor=D}function v(D,w,S){if(v.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((w==="le"||w==="be")&&(S=w,w=10),this._init(D||0,w||10,S||"be"))}typeof r=="object"?r.exports=v:d.BN=v,v.BN=v,v.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=require$$0$2.Buffer}catch{}v.isBN=function(w){return w instanceof v?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===v.wordSize&&Array.isArray(w.words)},v.max=function(w,S){return w.cmp(S)>0?w:S},v.min=function(w,S){return w.cmp(S)<0?w:S},v.prototype._init=function(w,S,$){if(typeof w=="number")return this._initNumber(w,S,$);if(typeof w=="object")return this._initArray(w,S,$);S==="hex"&&(S=16),g(S===(S|0)&&S>=2&&S<=36),w=w.toString().replace(/\s+/g,"");var N=0;w[0]==="-"&&(N++,this.negative=1),N<w.length&&(S===16?this._parseHex(w,N,$):(this._parseBase(w,S,N),$==="le"&&this._initArray(this.toArray(),S,$)))},v.prototype._initNumber=function(w,S,$){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(g(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),$==="le"&&this._initArray(this.toArray(),S,$)},v.prototype._initArray=function(w,S,$){if(g(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var k,U,I=0;if($==="be")for(N=w.length-1,k=0;N>=0;N-=3)U=w[N]|w[N-1]<<8|w[N-2]<<16,this.words[k]|=U<<I&67108863,this.words[k+1]=U>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);else if($==="le")for(N=0,k=0;N<w.length;N+=3)U=w[N]|w[N+1]<<8|w[N+2]<<16,this.words[k]|=U<<I&67108863,this.words[k+1]=U>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);return this._strip()};function y(D,w){var S=D.charCodeAt(w);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;g(!1,"Invalid character in "+D)}function x(D,w,S){var $=y(D,S);return S-1>=w&&($|=y(D,S-1)<<4),$}v.prototype._parseHex=function(w,S,$){this.length=Math.ceil((w.length-S)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var k=0,U=0,I;if($==="be")for(N=w.length-1;N>=S;N-=2)I=x(w,S,N)<<k,this.words[U]|=I&67108863,k>=18?(k-=18,U+=1,this.words[U]|=I>>>26):k+=8;else{var q=w.length-S;for(N=q%2===0?S+1:S;N<w.length;N+=2)I=x(w,S,N)<<k,this.words[U]|=I&67108863,k>=18?(k-=18,U+=1,this.words[U]|=I>>>26):k+=8}this._strip()};function E(D,w,S,$){for(var N=0,k=0,U=Math.min(D.length,S),I=w;I<U;I++){var q=D.charCodeAt(I)-48;N*=$,q>=49?k=q-49+10:q>=17?k=q-17+10:k=q,g(q>=0&&k<$,"Invalid character"),N+=k}return N}v.prototype._parseBase=function(w,S,$){this.words=[0],this.length=1;for(var N=0,k=1;k<=67108863;k*=S)N++;N--,k=k/S|0;for(var U=w.length-$,I=U%N,q=Math.min(U,U-I)+$,B=0,H=$;H<q;H+=N)B=E(w,H,H+N,S),this.imuln(k),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(I!==0){var ce=1;for(B=E(w,H,w.length,S),H=0;H<I;H++)ce*=S;this.imuln(ce),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},v.prototype.copy=function(w){w.words=new Array(this.length);for(var S=0;S<this.length;S++)w.words[S]=this.words[S];w.length=this.length,w.negative=this.negative,w.red=this.red};function b(D,w){D.words=w.words,D.length=w.length,D.negative=w.negative,D.red=w.red}if(v.prototype._move=function(w){b(w,this)},v.prototype.clone=function(){var w=new v(null);return this.copy(w),w},v.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},v.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{v.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{v.prototype.inspect=C}else v.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(w,S){w=w||10,S=S|0||1;var $;if(w===16||w==="hex"){$="";for(var N=0,k=0,U=0;U<this.length;U++){var I=this.words[U],q=((I<<N|k)&16777215).toString(16);k=I>>>24-N&16777215,N+=2,N>=26&&(N-=26,U--),k!==0||U!==this.length-1?$=R[6-q.length]+q+$:$=q+$}for(k!==0&&($=k.toString(16)+$);$.length%S!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}if(w===(w|0)&&w>=2&&w<=36){var B=O[w],H=A[w];$="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var be=ce.modrn(H).toString(w);ce=ce.idivn(H),ce.isZero()?$=be+$:$=R[B-be.length]+be+$}for(this.isZero()&&($="0"+$);$.length%S!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}g(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},v.prototype.toJSON=function(){return this.toString(16,2)},_&&(v.prototype.toBuffer=function(w,S){return this.toArrayLike(_,w,S)}),v.prototype.toArray=function(w,S){return this.toArrayLike(Array,w,S)};var M=function(w,S){return w.allocUnsafe?w.allocUnsafe(S):new w(S)};v.prototype.toArrayLike=function(w,S,$){this._strip();var N=this.byteLength(),k=$||Math.max(1,N);g(N<=k,"byte array longer than desired length"),g(k>0,"Requested array length <= 0");var U=M(w,k),I=S==="le"?"LE":"BE";return this["_toArrayLike"+I](U,N),U},v.prototype._toArrayLikeLE=function(w,S){for(var $=0,N=0,k=0,U=0;k<this.length;k++){var I=this.words[k]<<U|N;w[$++]=I&255,$<w.length&&(w[$++]=I>>8&255),$<w.length&&(w[$++]=I>>16&255),U===6?($<w.length&&(w[$++]=I>>24&255),N=0,U=0):(N=I>>>24,U+=2)}if($<w.length)for(w[$++]=N;$<w.length;)w[$++]=0},v.prototype._toArrayLikeBE=function(w,S){for(var $=w.length-1,N=0,k=0,U=0;k<this.length;k++){var I=this.words[k]<<U|N;w[$--]=I&255,$>=0&&(w[$--]=I>>8&255),$>=0&&(w[$--]=I>>16&255),U===6?($>=0&&(w[$--]=I>>24&255),N=0,U=0):(N=I>>>24,U+=2)}if($>=0)for(w[$--]=N;$>=0;)w[$--]=0},Math.clz32?v.prototype._countBits=function(w){return 32-Math.clz32(w)}:v.prototype._countBits=function(w){var S=w,$=0;return S>=4096&&($+=13,S>>>=13),S>=64&&($+=7,S>>>=7),S>=8&&($+=4,S>>>=4),S>=2&&($+=2,S>>>=2),$+S},v.prototype._zeroBits=function(w){if(w===0)return 26;var S=w,$=0;return S&8191||($+=13,S>>>=13),S&127||($+=7,S>>>=7),S&15||($+=4,S>>>=4),S&3||($+=2,S>>>=2),S&1||$++,$},v.prototype.bitLength=function(){var w=this.words[this.length-1],S=this._countBits(w);return(this.length-1)*26+S};function P(D){for(var w=new Array(D.bitLength()),S=0;S<w.length;S++){var $=S/26|0,N=S%26;w[S]=D.words[$]>>>N&1}return w}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,S=0;S<this.length;S++){var $=this._zeroBits(this.words[S]);if(w+=$,$!==26)break}return w},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},v.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]|w.words[S];return this._strip()},v.prototype.ior=function(w){return g((this.negative|w.negative)===0),this.iuor(w)},v.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},v.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},v.prototype.iuand=function(w){var S;this.length>w.length?S=w:S=this;for(var $=0;$<S.length;$++)this.words[$]=this.words[$]&w.words[$];return this.length=S.length,this._strip()},v.prototype.iand=function(w){return g((this.negative|w.negative)===0),this.iuand(w)},v.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},v.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},v.prototype.iuxor=function(w){var S,$;this.length>w.length?(S=this,$=w):(S=w,$=this);for(var N=0;N<$.length;N++)this.words[N]=S.words[N]^$.words[N];if(this!==S)for(;N<S.length;N++)this.words[N]=S.words[N];return this.length=S.length,this._strip()},v.prototype.ixor=function(w){return g((this.negative|w.negative)===0),this.iuxor(w)},v.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},v.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},v.prototype.inotn=function(w){g(typeof w=="number"&&w>=0);var S=Math.ceil(w/26)|0,$=w%26;this._expand(S),$>0&&S--;for(var N=0;N<S;N++)this.words[N]=~this.words[N]&67108863;return $>0&&(this.words[N]=~this.words[N]&67108863>>26-$),this._strip()},v.prototype.notn=function(w){return this.clone().inotn(w)},v.prototype.setn=function(w,S){g(typeof w=="number"&&w>=0);var $=w/26|0,N=w%26;return this._expand($+1),S?this.words[$]=this.words[$]|1<<N:this.words[$]=this.words[$]&~(1<<N),this._strip()},v.prototype.iadd=function(w){var S;if(this.negative!==0&&w.negative===0)return this.negative=0,S=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,S=this.isub(w),w.negative=1,S._normSign();var $,N;this.length>w.length?($=this,N=w):($=w,N=this);for(var k=0,U=0;U<N.length;U++)S=($.words[U]|0)+(N.words[U]|0)+k,this.words[U]=S&67108863,k=S>>>26;for(;k!==0&&U<$.length;U++)S=($.words[U]|0)+k,this.words[U]=S&67108863,k=S>>>26;if(this.length=$.length,k!==0)this.words[this.length]=k,this.length++;else if($!==this)for(;U<$.length;U++)this.words[U]=$.words[U];return this},v.prototype.add=function(w){var S;return w.negative!==0&&this.negative===0?(w.negative=0,S=this.sub(w),w.negative^=1,S):w.negative===0&&this.negative!==0?(this.negative=0,S=w.sub(this),this.negative=1,S):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},v.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var S=this.iadd(w);return w.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var $=this.cmp(w);if($===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,k;$>0?(N=this,k=w):(N=w,k=this);for(var U=0,I=0;I<k.length;I++)S=(N.words[I]|0)-(k.words[I]|0)+U,U=S>>26,this.words[I]=S&67108863;for(;U!==0&&I<N.length;I++)S=(N.words[I]|0)+U,U=S>>26,this.words[I]=S&67108863;if(U===0&&I<N.length&&N!==this)for(;I<N.length;I++)this.words[I]=N.words[I];return this.length=Math.max(this.length,I),N!==this&&(this.negative=1),this._strip()},v.prototype.sub=function(w){return this.clone().isub(w)};function F(D,w,S){S.negative=w.negative^D.negative;var $=D.length+w.length|0;S.length=$,$=$-1|0;var N=D.words[0]|0,k=w.words[0]|0,U=N*k,I=U&67108863,q=U/67108864|0;S.words[0]=I;for(var B=1;B<$;B++){for(var H=q>>>26,ce=q&67108863,be=Math.min(B,w.length-1),ve=Math.max(0,B-D.length+1);ve<=be;ve++){var Z=B-ve|0;N=D.words[Z]|0,k=w.words[ve]|0,U=N*k+ce,H+=U/67108864|0,ce=U&67108863}S.words[B]=ce|0,q=H|0}return q!==0?S.words[B]=q|0:S.length--,S._strip()}var L=function(w,S,$){var N=w.words,k=S.words,U=$.words,I=0,q,B,H,ce=N[0]|0,be=ce&8191,ve=ce>>>13,Z=N[1]|0,J=Z&8191,ae=Z>>>13,X=N[2]|0,Y=X&8191,oe=X>>>13,we=N[3]|0,Se=we&8191,De=we>>>13,qe=N[4]|0,Ue=qe&8191,Ne=qe>>>13,Be=N[5]|0,Qe=Be&8191,Le=Be>>>13,ot=N[6]|0,Ve=ot&8191,We=ot>>>13,it=N[7]|0,Ke=it&8191,Fe=it>>>13,Ye=N[8]|0,rt=Ye&8191,ue=Ye>>>13,ee=N[9]|0,te=ee&8191,de=ee>>>13,xe=k[0]|0,Oe=xe&8191,$e=xe>>>13,dt=k[1]|0,ut=dt&8191,et=dt>>>13,wt=k[2]|0,ht=wt&8191,yt=wt>>>13,It=k[3]|0,bt=It&8191,at=It>>>13,Tt=k[4]|0,xt=Tt&8191,st=Tt>>>13,Nt=k[5]|0,Et=Nt&8191,nt=Nt>>>13,Rt=k[6]|0,se=Rt&8191,le=Rt>>>13,he=k[7]|0,V=he&8191,pe=he>>>13,Re=k[8]|0,Me=Re&8191,Te=Re>>>13,ze=k[9]|0,Ze=ze&8191,Xe=ze>>>13;$.negative=w.negative^S.negative,$.length=19,q=Math.imul(be,Oe),B=Math.imul(be,$e),B=B+Math.imul(ve,Oe)|0,H=Math.imul(ve,$e);var qt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(qt>>>26)|0,qt&=67108863,q=Math.imul(J,Oe),B=Math.imul(J,$e),B=B+Math.imul(ae,Oe)|0,H=Math.imul(ae,$e),q=q+Math.imul(be,ut)|0,B=B+Math.imul(be,et)|0,B=B+Math.imul(ve,ut)|0,H=H+Math.imul(ve,et)|0;var pt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(pt>>>26)|0,pt&=67108863,q=Math.imul(Y,Oe),B=Math.imul(Y,$e),B=B+Math.imul(oe,Oe)|0,H=Math.imul(oe,$e),q=q+Math.imul(J,ut)|0,B=B+Math.imul(J,et)|0,B=B+Math.imul(ae,ut)|0,H=H+Math.imul(ae,et)|0,q=q+Math.imul(be,ht)|0,B=B+Math.imul(be,yt)|0,B=B+Math.imul(ve,ht)|0,H=H+Math.imul(ve,yt)|0;var At=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(At>>>26)|0,At&=67108863,q=Math.imul(Se,Oe),B=Math.imul(Se,$e),B=B+Math.imul(De,Oe)|0,H=Math.imul(De,$e),q=q+Math.imul(Y,ut)|0,B=B+Math.imul(Y,et)|0,B=B+Math.imul(oe,ut)|0,H=H+Math.imul(oe,et)|0,q=q+Math.imul(J,ht)|0,B=B+Math.imul(J,yt)|0,B=B+Math.imul(ae,ht)|0,H=H+Math.imul(ae,yt)|0,q=q+Math.imul(be,bt)|0,B=B+Math.imul(be,at)|0,B=B+Math.imul(ve,bt)|0,H=H+Math.imul(ve,at)|0;var Mt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,q=Math.imul(Ue,Oe),B=Math.imul(Ue,$e),B=B+Math.imul(Ne,Oe)|0,H=Math.imul(Ne,$e),q=q+Math.imul(Se,ut)|0,B=B+Math.imul(Se,et)|0,B=B+Math.imul(De,ut)|0,H=H+Math.imul(De,et)|0,q=q+Math.imul(Y,ht)|0,B=B+Math.imul(Y,yt)|0,B=B+Math.imul(oe,ht)|0,H=H+Math.imul(oe,yt)|0,q=q+Math.imul(J,bt)|0,B=B+Math.imul(J,at)|0,B=B+Math.imul(ae,bt)|0,H=H+Math.imul(ae,at)|0,q=q+Math.imul(be,xt)|0,B=B+Math.imul(be,st)|0,B=B+Math.imul(ve,xt)|0,H=H+Math.imul(ve,st)|0;var Bt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,q=Math.imul(Qe,Oe),B=Math.imul(Qe,$e),B=B+Math.imul(Le,Oe)|0,H=Math.imul(Le,$e),q=q+Math.imul(Ue,ut)|0,B=B+Math.imul(Ue,et)|0,B=B+Math.imul(Ne,ut)|0,H=H+Math.imul(Ne,et)|0,q=q+Math.imul(Se,ht)|0,B=B+Math.imul(Se,yt)|0,B=B+Math.imul(De,ht)|0,H=H+Math.imul(De,yt)|0,q=q+Math.imul(Y,bt)|0,B=B+Math.imul(Y,at)|0,B=B+Math.imul(oe,bt)|0,H=H+Math.imul(oe,at)|0,q=q+Math.imul(J,xt)|0,B=B+Math.imul(J,st)|0,B=B+Math.imul(ae,xt)|0,H=H+Math.imul(ae,st)|0,q=q+Math.imul(be,Et)|0,B=B+Math.imul(be,nt)|0,B=B+Math.imul(ve,Et)|0,H=H+Math.imul(ve,nt)|0;var $t=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+($t>>>26)|0,$t&=67108863,q=Math.imul(Ve,Oe),B=Math.imul(Ve,$e),B=B+Math.imul(We,Oe)|0,H=Math.imul(We,$e),q=q+Math.imul(Qe,ut)|0,B=B+Math.imul(Qe,et)|0,B=B+Math.imul(Le,ut)|0,H=H+Math.imul(Le,et)|0,q=q+Math.imul(Ue,ht)|0,B=B+Math.imul(Ue,yt)|0,B=B+Math.imul(Ne,ht)|0,H=H+Math.imul(Ne,yt)|0,q=q+Math.imul(Se,bt)|0,B=B+Math.imul(Se,at)|0,B=B+Math.imul(De,bt)|0,H=H+Math.imul(De,at)|0,q=q+Math.imul(Y,xt)|0,B=B+Math.imul(Y,st)|0,B=B+Math.imul(oe,xt)|0,H=H+Math.imul(oe,st)|0,q=q+Math.imul(J,Et)|0,B=B+Math.imul(J,nt)|0,B=B+Math.imul(ae,Et)|0,H=H+Math.imul(ae,nt)|0,q=q+Math.imul(be,se)|0,B=B+Math.imul(be,le)|0,B=B+Math.imul(ve,se)|0,H=H+Math.imul(ve,le)|0;var Ot=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,q=Math.imul(Ke,Oe),B=Math.imul(Ke,$e),B=B+Math.imul(Fe,Oe)|0,H=Math.imul(Fe,$e),q=q+Math.imul(Ve,ut)|0,B=B+Math.imul(Ve,et)|0,B=B+Math.imul(We,ut)|0,H=H+Math.imul(We,et)|0,q=q+Math.imul(Qe,ht)|0,B=B+Math.imul(Qe,yt)|0,B=B+Math.imul(Le,ht)|0,H=H+Math.imul(Le,yt)|0,q=q+Math.imul(Ue,bt)|0,B=B+Math.imul(Ue,at)|0,B=B+Math.imul(Ne,bt)|0,H=H+Math.imul(Ne,at)|0,q=q+Math.imul(Se,xt)|0,B=B+Math.imul(Se,st)|0,B=B+Math.imul(De,xt)|0,H=H+Math.imul(De,st)|0,q=q+Math.imul(Y,Et)|0,B=B+Math.imul(Y,nt)|0,B=B+Math.imul(oe,Et)|0,H=H+Math.imul(oe,nt)|0,q=q+Math.imul(J,se)|0,B=B+Math.imul(J,le)|0,B=B+Math.imul(ae,se)|0,H=H+Math.imul(ae,le)|0,q=q+Math.imul(be,V)|0,B=B+Math.imul(be,pe)|0,B=B+Math.imul(ve,V)|0,H=H+Math.imul(ve,pe)|0;var St=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(St>>>26)|0,St&=67108863,q=Math.imul(rt,Oe),B=Math.imul(rt,$e),B=B+Math.imul(ue,Oe)|0,H=Math.imul(ue,$e),q=q+Math.imul(Ke,ut)|0,B=B+Math.imul(Ke,et)|0,B=B+Math.imul(Fe,ut)|0,H=H+Math.imul(Fe,et)|0,q=q+Math.imul(Ve,ht)|0,B=B+Math.imul(Ve,yt)|0,B=B+Math.imul(We,ht)|0,H=H+Math.imul(We,yt)|0,q=q+Math.imul(Qe,bt)|0,B=B+Math.imul(Qe,at)|0,B=B+Math.imul(Le,bt)|0,H=H+Math.imul(Le,at)|0,q=q+Math.imul(Ue,xt)|0,B=B+Math.imul(Ue,st)|0,B=B+Math.imul(Ne,xt)|0,H=H+Math.imul(Ne,st)|0,q=q+Math.imul(Se,Et)|0,B=B+Math.imul(Se,nt)|0,B=B+Math.imul(De,Et)|0,H=H+Math.imul(De,nt)|0,q=q+Math.imul(Y,se)|0,B=B+Math.imul(Y,le)|0,B=B+Math.imul(oe,se)|0,H=H+Math.imul(oe,le)|0,q=q+Math.imul(J,V)|0,B=B+Math.imul(J,pe)|0,B=B+Math.imul(ae,V)|0,H=H+Math.imul(ae,pe)|0,q=q+Math.imul(be,Me)|0,B=B+Math.imul(be,Te)|0,B=B+Math.imul(ve,Me)|0,H=H+Math.imul(ve,Te)|0;var Dt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,q=Math.imul(te,Oe),B=Math.imul(te,$e),B=B+Math.imul(de,Oe)|0,H=Math.imul(de,$e),q=q+Math.imul(rt,ut)|0,B=B+Math.imul(rt,et)|0,B=B+Math.imul(ue,ut)|0,H=H+Math.imul(ue,et)|0,q=q+Math.imul(Ke,ht)|0,B=B+Math.imul(Ke,yt)|0,B=B+Math.imul(Fe,ht)|0,H=H+Math.imul(Fe,yt)|0,q=q+Math.imul(Ve,bt)|0,B=B+Math.imul(Ve,at)|0,B=B+Math.imul(We,bt)|0,H=H+Math.imul(We,at)|0,q=q+Math.imul(Qe,xt)|0,B=B+Math.imul(Qe,st)|0,B=B+Math.imul(Le,xt)|0,H=H+Math.imul(Le,st)|0,q=q+Math.imul(Ue,Et)|0,B=B+Math.imul(Ue,nt)|0,B=B+Math.imul(Ne,Et)|0,H=H+Math.imul(Ne,nt)|0,q=q+Math.imul(Se,se)|0,B=B+Math.imul(Se,le)|0,B=B+Math.imul(De,se)|0,H=H+Math.imul(De,le)|0,q=q+Math.imul(Y,V)|0,B=B+Math.imul(Y,pe)|0,B=B+Math.imul(oe,V)|0,H=H+Math.imul(oe,pe)|0,q=q+Math.imul(J,Me)|0,B=B+Math.imul(J,Te)|0,B=B+Math.imul(ae,Me)|0,H=H+Math.imul(ae,Te)|0,q=q+Math.imul(be,Ze)|0,B=B+Math.imul(be,Xe)|0,B=B+Math.imul(ve,Ze)|0,H=H+Math.imul(ve,Xe)|0;var lt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(lt>>>26)|0,lt&=67108863,q=Math.imul(te,ut),B=Math.imul(te,et),B=B+Math.imul(de,ut)|0,H=Math.imul(de,et),q=q+Math.imul(rt,ht)|0,B=B+Math.imul(rt,yt)|0,B=B+Math.imul(ue,ht)|0,H=H+Math.imul(ue,yt)|0,q=q+Math.imul(Ke,bt)|0,B=B+Math.imul(Ke,at)|0,B=B+Math.imul(Fe,bt)|0,H=H+Math.imul(Fe,at)|0,q=q+Math.imul(Ve,xt)|0,B=B+Math.imul(Ve,st)|0,B=B+Math.imul(We,xt)|0,H=H+Math.imul(We,st)|0,q=q+Math.imul(Qe,Et)|0,B=B+Math.imul(Qe,nt)|0,B=B+Math.imul(Le,Et)|0,H=H+Math.imul(Le,nt)|0,q=q+Math.imul(Ue,se)|0,B=B+Math.imul(Ue,le)|0,B=B+Math.imul(Ne,se)|0,H=H+Math.imul(Ne,le)|0,q=q+Math.imul(Se,V)|0,B=B+Math.imul(Se,pe)|0,B=B+Math.imul(De,V)|0,H=H+Math.imul(De,pe)|0,q=q+Math.imul(Y,Me)|0,B=B+Math.imul(Y,Te)|0,B=B+Math.imul(oe,Me)|0,H=H+Math.imul(oe,Te)|0,q=q+Math.imul(J,Ze)|0,B=B+Math.imul(J,Xe)|0,B=B+Math.imul(ae,Ze)|0,H=H+Math.imul(ae,Xe)|0;var _t=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(_t>>>26)|0,_t&=67108863,q=Math.imul(te,ht),B=Math.imul(te,yt),B=B+Math.imul(de,ht)|0,H=Math.imul(de,yt),q=q+Math.imul(rt,bt)|0,B=B+Math.imul(rt,at)|0,B=B+Math.imul(ue,bt)|0,H=H+Math.imul(ue,at)|0,q=q+Math.imul(Ke,xt)|0,B=B+Math.imul(Ke,st)|0,B=B+Math.imul(Fe,xt)|0,H=H+Math.imul(Fe,st)|0,q=q+Math.imul(Ve,Et)|0,B=B+Math.imul(Ve,nt)|0,B=B+Math.imul(We,Et)|0,H=H+Math.imul(We,nt)|0,q=q+Math.imul(Qe,se)|0,B=B+Math.imul(Qe,le)|0,B=B+Math.imul(Le,se)|0,H=H+Math.imul(Le,le)|0,q=q+Math.imul(Ue,V)|0,B=B+Math.imul(Ue,pe)|0,B=B+Math.imul(Ne,V)|0,H=H+Math.imul(Ne,pe)|0,q=q+Math.imul(Se,Me)|0,B=B+Math.imul(Se,Te)|0,B=B+Math.imul(De,Me)|0,H=H+Math.imul(De,Te)|0,q=q+Math.imul(Y,Ze)|0,B=B+Math.imul(Y,Xe)|0,B=B+Math.imul(oe,Ze)|0,H=H+Math.imul(oe,Xe)|0;var ct=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(ct>>>26)|0,ct&=67108863,q=Math.imul(te,bt),B=Math.imul(te,at),B=B+Math.imul(de,bt)|0,H=Math.imul(de,at),q=q+Math.imul(rt,xt)|0,B=B+Math.imul(rt,st)|0,B=B+Math.imul(ue,xt)|0,H=H+Math.imul(ue,st)|0,q=q+Math.imul(Ke,Et)|0,B=B+Math.imul(Ke,nt)|0,B=B+Math.imul(Fe,Et)|0,H=H+Math.imul(Fe,nt)|0,q=q+Math.imul(Ve,se)|0,B=B+Math.imul(Ve,le)|0,B=B+Math.imul(We,se)|0,H=H+Math.imul(We,le)|0,q=q+Math.imul(Qe,V)|0,B=B+Math.imul(Qe,pe)|0,B=B+Math.imul(Le,V)|0,H=H+Math.imul(Le,pe)|0,q=q+Math.imul(Ue,Me)|0,B=B+Math.imul(Ue,Te)|0,B=B+Math.imul(Ne,Me)|0,H=H+Math.imul(Ne,Te)|0,q=q+Math.imul(Se,Ze)|0,B=B+Math.imul(Se,Xe)|0,B=B+Math.imul(De,Ze)|0,H=H+Math.imul(De,Xe)|0;var vt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(vt>>>26)|0,vt&=67108863,q=Math.imul(te,xt),B=Math.imul(te,st),B=B+Math.imul(de,xt)|0,H=Math.imul(de,st),q=q+Math.imul(rt,Et)|0,B=B+Math.imul(rt,nt)|0,B=B+Math.imul(ue,Et)|0,H=H+Math.imul(ue,nt)|0,q=q+Math.imul(Ke,se)|0,B=B+Math.imul(Ke,le)|0,B=B+Math.imul(Fe,se)|0,H=H+Math.imul(Fe,le)|0,q=q+Math.imul(Ve,V)|0,B=B+Math.imul(Ve,pe)|0,B=B+Math.imul(We,V)|0,H=H+Math.imul(We,pe)|0,q=q+Math.imul(Qe,Me)|0,B=B+Math.imul(Qe,Te)|0,B=B+Math.imul(Le,Me)|0,H=H+Math.imul(Le,Te)|0,q=q+Math.imul(Ue,Ze)|0,B=B+Math.imul(Ue,Xe)|0,B=B+Math.imul(Ne,Ze)|0,H=H+Math.imul(Ne,Xe)|0;var gt=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(gt>>>26)|0,gt&=67108863,q=Math.imul(te,Et),B=Math.imul(te,nt),B=B+Math.imul(de,Et)|0,H=Math.imul(de,nt),q=q+Math.imul(rt,se)|0,B=B+Math.imul(rt,le)|0,B=B+Math.imul(ue,se)|0,H=H+Math.imul(ue,le)|0,q=q+Math.imul(Ke,V)|0,B=B+Math.imul(Ke,pe)|0,B=B+Math.imul(Fe,V)|0,H=H+Math.imul(Fe,pe)|0,q=q+Math.imul(Ve,Me)|0,B=B+Math.imul(Ve,Te)|0,B=B+Math.imul(We,Me)|0,H=H+Math.imul(We,Te)|0,q=q+Math.imul(Qe,Ze)|0,B=B+Math.imul(Qe,Xe)|0,B=B+Math.imul(Le,Ze)|0,H=H+Math.imul(Le,Xe)|0;var ft=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(ft>>>26)|0,ft&=67108863,q=Math.imul(te,se),B=Math.imul(te,le),B=B+Math.imul(de,se)|0,H=Math.imul(de,le),q=q+Math.imul(rt,V)|0,B=B+Math.imul(rt,pe)|0,B=B+Math.imul(ue,V)|0,H=H+Math.imul(ue,pe)|0,q=q+Math.imul(Ke,Me)|0,B=B+Math.imul(Ke,Te)|0,B=B+Math.imul(Fe,Me)|0,H=H+Math.imul(Fe,Te)|0,q=q+Math.imul(Ve,Ze)|0,B=B+Math.imul(Ve,Xe)|0,B=B+Math.imul(We,Ze)|0,H=H+Math.imul(We,Xe)|0;var Ie=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,q=Math.imul(te,V),B=Math.imul(te,pe),B=B+Math.imul(de,V)|0,H=Math.imul(de,pe),q=q+Math.imul(rt,Me)|0,B=B+Math.imul(rt,Te)|0,B=B+Math.imul(ue,Me)|0,H=H+Math.imul(ue,Te)|0,q=q+Math.imul(Ke,Ze)|0,B=B+Math.imul(Ke,Xe)|0,B=B+Math.imul(Fe,Ze)|0,H=H+Math.imul(Fe,Xe)|0;var ke=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(ke>>>26)|0,ke&=67108863,q=Math.imul(te,Me),B=Math.imul(te,Te),B=B+Math.imul(de,Me)|0,H=Math.imul(de,Te),q=q+Math.imul(rt,Ze)|0,B=B+Math.imul(rt,Xe)|0,B=B+Math.imul(ue,Ze)|0,H=H+Math.imul(ue,Xe)|0;var Je=(I+q|0)+((B&8191)<<13)|0;I=(H+(B>>>13)|0)+(Je>>>26)|0,Je&=67108863,q=Math.imul(te,Ze),B=Math.imul(te,Xe),B=B+Math.imul(de,Ze)|0,H=Math.imul(de,Xe);var fe=(I+q|0)+((B&8191)<<13)|0;return I=(H+(B>>>13)|0)+(fe>>>26)|0,fe&=67108863,U[0]=qt,U[1]=pt,U[2]=At,U[3]=Mt,U[4]=Bt,U[5]=$t,U[6]=Ot,U[7]=St,U[8]=Dt,U[9]=lt,U[10]=_t,U[11]=ct,U[12]=vt,U[13]=gt,U[14]=ft,U[15]=Ie,U[16]=ke,U[17]=Je,U[18]=fe,I!==0&&(U[19]=I,$.length++),$};Math.imul||(L=F);function K(D,w,S){S.negative=w.negative^D.negative,S.length=D.length+w.length;for(var $=0,N=0,k=0;k<S.length-1;k++){var U=N;N=0;for(var I=$&67108863,q=Math.min(k,w.length-1),B=Math.max(0,k-D.length+1);B<=q;B++){var H=k-B,ce=D.words[H]|0,be=w.words[B]|0,ve=ce*be,Z=ve&67108863;U=U+(ve/67108864|0)|0,Z=Z+I|0,I=Z&67108863,U=U+(Z>>>26)|0,N+=U>>>26,U&=67108863}S.words[k]=I,$=U,U=N}return $!==0?S.words[k]=$:S.length--,S._strip()}function j(D,w,S){return K(D,w,S)}v.prototype.mulTo=function(w,S){var $,N=this.length+w.length;return this.length===10&&w.length===10?$=L(this,w,S):N<63?$=F(this,w,S):N<1024?$=K(this,w,S):$=j(this,w,S),$},v.prototype.mul=function(w){var S=new v(null);return S.words=new Array(this.length+w.length),this.mulTo(w,S)},v.prototype.mulf=function(w){var S=new v(null);return S.words=new Array(this.length+w.length),j(this,w,S)},v.prototype.imul=function(w){return this.clone().mulTo(w,this)},v.prototype.imuln=function(w){var S=w<0;S&&(w=-w),g(typeof w=="number"),g(w<67108864);for(var $=0,N=0;N<this.length;N++){var k=(this.words[N]|0)*w,U=(k&67108863)+($&67108863);$>>=26,$+=k/67108864|0,$+=U>>>26,this.words[N]=U&67108863}return $!==0&&(this.words[N]=$,this.length++),S?this.ineg():this},v.prototype.muln=function(w){return this.clone().imuln(w)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(w){var S=P(w);if(S.length===0)return new v(1);for(var $=this,N=0;N<S.length&&S[N]===0;N++,$=$.sqr());if(++N<S.length)for(var k=$.sqr();N<S.length;N++,k=k.sqr())S[N]!==0&&($=$.mul(k));return $},v.prototype.iushln=function(w){g(typeof w=="number"&&w>=0);var S=w%26,$=(w-S)/26,N=67108863>>>26-S<<26-S,k;if(S!==0){var U=0;for(k=0;k<this.length;k++){var I=this.words[k]&N,q=(this.words[k]|0)-I<<S;this.words[k]=q|U,U=I>>>26-S}U&&(this.words[k]=U,this.length++)}if($!==0){for(k=this.length-1;k>=0;k--)this.words[k+$]=this.words[k];for(k=0;k<$;k++)this.words[k]=0;this.length+=$}return this._strip()},v.prototype.ishln=function(w){return g(this.negative===0),this.iushln(w)},v.prototype.iushrn=function(w,S,$){g(typeof w=="number"&&w>=0);var N;S?N=(S-S%26)/26:N=0;var k=w%26,U=Math.min((w-k)/26,this.length),I=67108863^67108863>>>k<<k,q=$;if(N-=U,N=Math.max(0,N),q){for(var B=0;B<U;B++)q.words[B]=this.words[B];q.length=U}if(U!==0)if(this.length>U)for(this.length-=U,B=0;B<this.length;B++)this.words[B]=this.words[B+U];else this.words[0]=0,this.length=1;var H=0;for(B=this.length-1;B>=0&&(H!==0||B>=N);B--){var ce=this.words[B]|0;this.words[B]=H<<26-k|ce>>>k,H=ce&I}return q&&H!==0&&(q.words[q.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},v.prototype.ishrn=function(w,S,$){return g(this.negative===0),this.iushrn(w,S,$)},v.prototype.shln=function(w){return this.clone().ishln(w)},v.prototype.ushln=function(w){return this.clone().iushln(w)},v.prototype.shrn=function(w){return this.clone().ishrn(w)},v.prototype.ushrn=function(w){return this.clone().iushrn(w)},v.prototype.testn=function(w){g(typeof w=="number"&&w>=0);var S=w%26,$=(w-S)/26,N=1<<S;if(this.length<=$)return!1;var k=this.words[$];return!!(k&N)},v.prototype.imaskn=function(w){g(typeof w=="number"&&w>=0);var S=w%26,$=(w-S)/26;if(g(this.negative===0,"imaskn works only with positive numbers"),this.length<=$)return this;if(S!==0&&$++,this.length=Math.min($,this.length),S!==0){var N=67108863^67108863>>>S<<S;this.words[this.length-1]&=N}return this._strip()},v.prototype.maskn=function(w){return this.clone().imaskn(w)},v.prototype.iaddn=function(w){return g(typeof w=="number"),g(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},v.prototype._iaddn=function(w){this.words[0]+=w;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},v.prototype.isubn=function(w){if(g(typeof w=="number"),g(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},v.prototype.addn=function(w){return this.clone().iaddn(w)},v.prototype.subn=function(w){return this.clone().isubn(w)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(w,S,$){var N=w.length+$,k;this._expand(N);var U,I=0;for(k=0;k<w.length;k++){U=(this.words[k+$]|0)+I;var q=(w.words[k]|0)*S;U-=q&67108863,I=(U>>26)-(q/67108864|0),this.words[k+$]=U&67108863}for(;k<this.length-$;k++)U=(this.words[k+$]|0)+I,I=U>>26,this.words[k+$]=U&67108863;if(I===0)return this._strip();for(g(I===-1),I=0,k=0;k<this.length;k++)U=-(this.words[k]|0)+I,I=U>>26,this.words[k]=U&67108863;return this.negative=1,this._strip()},v.prototype._wordDiv=function(w,S){var $=this.length-w.length,N=this.clone(),k=w,U=k.words[k.length-1]|0,I=this._countBits(U);$=26-I,$!==0&&(k=k.ushln($),N.iushln($),U=k.words[k.length-1]|0);var q=N.length-k.length,B;if(S!=="mod"){B=new v(null),B.length=q+1,B.words=new Array(B.length);for(var H=0;H<B.length;H++)B.words[H]=0}var ce=N.clone()._ishlnsubmul(k,1,q);ce.negative===0&&(N=ce,B&&(B.words[q]=1));for(var be=q-1;be>=0;be--){var ve=(N.words[k.length+be]|0)*67108864+(N.words[k.length+be-1]|0);for(ve=Math.min(ve/U|0,67108863),N._ishlnsubmul(k,ve,be);N.negative!==0;)ve--,N.negative=0,N._ishlnsubmul(k,1,be),N.isZero()||(N.negative^=1);B&&(B.words[be]=ve)}return B&&B._strip(),N._strip(),S!=="div"&&$!==0&&N.iushrn($),{div:B||null,mod:N}},v.prototype.divmod=function(w,S,$){if(g(!w.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var N,k,U;return this.negative!==0&&w.negative===0?(U=this.neg().divmod(w,S),S!=="mod"&&(N=U.div.neg()),S!=="div"&&(k=U.mod.neg(),$&&k.negative!==0&&k.iadd(w)),{div:N,mod:k}):this.negative===0&&w.negative!==0?(U=this.divmod(w.neg(),S),S!=="mod"&&(N=U.div.neg()),{div:N,mod:U.mod}):this.negative&w.negative?(U=this.neg().divmod(w.neg(),S),S!=="div"&&(k=U.mod.neg(),$&&k.negative!==0&&k.isub(w)),{div:U.div,mod:k}):w.length>this.length||this.cmp(w)<0?{div:new v(0),mod:this}:w.length===1?S==="div"?{div:this.divn(w.words[0]),mod:null}:S==="mod"?{div:null,mod:new v(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new v(this.modrn(w.words[0]))}:this._wordDiv(w,S)},v.prototype.div=function(w){return this.divmod(w,"div",!1).div},v.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},v.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},v.prototype.divRound=function(w){var S=this.divmod(w);if(S.mod.isZero())return S.div;var $=S.div.negative!==0?S.mod.isub(w):S.mod,N=w.ushrn(1),k=w.andln(1),U=$.cmp(N);return U<0||k===1&&U===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},v.prototype.modrn=function(w){var S=w<0;S&&(w=-w),g(w<=67108863);for(var $=(1<<26)%w,N=0,k=this.length-1;k>=0;k--)N=($*N+(this.words[k]|0))%w;return S?-N:N},v.prototype.modn=function(w){return this.modrn(w)},v.prototype.idivn=function(w){var S=w<0;S&&(w=-w),g(w<=67108863);for(var $=0,N=this.length-1;N>=0;N--){var k=(this.words[N]|0)+$*67108864;this.words[N]=k/w|0,$=k%w}return this._strip(),S?this.ineg():this},v.prototype.divn=function(w){return this.clone().idivn(w)},v.prototype.egcd=function(w){g(w.negative===0),g(!w.isZero());var S=this,$=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var N=new v(1),k=new v(0),U=new v(0),I=new v(1),q=0;S.isEven()&&$.isEven();)S.iushrn(1),$.iushrn(1),++q;for(var B=$.clone(),H=S.clone();!S.isZero();){for(var ce=0,be=1;!(S.words[0]&be)&&ce<26;++ce,be<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(N.isOdd()||k.isOdd())&&(N.iadd(B),k.isub(H)),N.iushrn(1),k.iushrn(1);for(var ve=0,Z=1;!($.words[0]&Z)&&ve<26;++ve,Z<<=1);if(ve>0)for($.iushrn(ve);ve-- >0;)(U.isOdd()||I.isOdd())&&(U.iadd(B),I.isub(H)),U.iushrn(1),I.iushrn(1);S.cmp($)>=0?(S.isub($),N.isub(U),k.isub(I)):($.isub(S),U.isub(N),I.isub(k))}return{a:U,b:I,gcd:$.iushln(q)}},v.prototype._invmp=function(w){g(w.negative===0),g(!w.isZero());var S=this,$=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var N=new v(1),k=new v(0),U=$.clone();S.cmpn(1)>0&&$.cmpn(1)>0;){for(var I=0,q=1;!(S.words[0]&q)&&I<26;++I,q<<=1);if(I>0)for(S.iushrn(I);I-- >0;)N.isOdd()&&N.iadd(U),N.iushrn(1);for(var B=0,H=1;!($.words[0]&H)&&B<26;++B,H<<=1);if(B>0)for($.iushrn(B);B-- >0;)k.isOdd()&&k.iadd(U),k.iushrn(1);S.cmp($)>=0?(S.isub($),N.isub(k)):($.isub(S),k.isub(N))}var ce;return S.cmpn(1)===0?ce=N:ce=k,ce.cmpn(0)<0&&ce.iadd(w),ce},v.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var S=this.clone(),$=w.clone();S.negative=0,$.negative=0;for(var N=0;S.isEven()&&$.isEven();N++)S.iushrn(1),$.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;$.isEven();)$.iushrn(1);var k=S.cmp($);if(k<0){var U=S;S=$,$=U}else if(k===0||$.cmpn(1)===0)break;S.isub($)}while(!0);return $.iushln(N)},v.prototype.invm=function(w){return this.egcd(w).a.umod(w)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(w){return this.words[0]&w},v.prototype.bincn=function(w){g(typeof w=="number");var S=w%26,$=(w-S)/26,N=1<<S;if(this.length<=$)return this._expand($+1),this.words[$]|=N,this;for(var k=N,U=$;k!==0&&U<this.length;U++){var I=this.words[U]|0;I+=k,k=I>>>26,I&=67108863,this.words[U]=I}return k!==0&&(this.words[U]=k,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(w){var S=w<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var $;if(this.length>1)$=1;else{S&&(w=-w),g(w<=67108863,"Number is too big");var N=this.words[0]|0;$=N===w?0:N<w?-1:1}return this.negative!==0?-$|0:$},v.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var S=this.ucmp(w);return this.negative!==0?-S|0:S},v.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var S=0,$=this.length-1;$>=0;$--){var N=this.words[$]|0,k=w.words[$]|0;if(N!==k){N<k?S=-1:N>k&&(S=1);break}}return S},v.prototype.gtn=function(w){return this.cmpn(w)===1},v.prototype.gt=function(w){return this.cmp(w)===1},v.prototype.gten=function(w){return this.cmpn(w)>=0},v.prototype.gte=function(w){return this.cmp(w)>=0},v.prototype.ltn=function(w){return this.cmpn(w)===-1},v.prototype.lt=function(w){return this.cmp(w)===-1},v.prototype.lten=function(w){return this.cmpn(w)<=0},v.prototype.lte=function(w){return this.cmp(w)<=0},v.prototype.eqn=function(w){return this.cmpn(w)===0},v.prototype.eq=function(w){return this.cmp(w)===0},v.red=function(w){return new z(w)},v.prototype.toRed=function(w){return g(!this.red,"Already a number in reduction context"),g(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},v.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(w){return this.red=w,this},v.prototype.forceRed=function(w){return g(!this.red,"Already a number in reduction context"),this._forceRed(w)},v.prototype.redAdd=function(w){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},v.prototype.redIAdd=function(w){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},v.prototype.redSub=function(w){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},v.prototype.redISub=function(w){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},v.prototype.redShl=function(w){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},v.prototype.redMul=function(w){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},v.prototype.redIMul=function(w){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},v.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(w){return g(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var W={k256:null,p224:null,p192:null,p25519:null};function G(D,w){this.name=D,this.p=new v(w,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var w=new v(null);return w.words=new Array(Math.ceil(this.n/13)),w},G.prototype.ireduce=function(w){var S=w,$;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),$=S.bitLength();while($>this.n);var N=$<this.n?-1:S.ucmp(this.p);return N===0?(S.words[0]=0,S.length=1):N>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},G.prototype.split=function(w,S){w.iushrn(this.n,0,S)},G.prototype.imulK=function(w){return w.imul(this.k)};function Q(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(Q,G),Q.prototype.split=function(w,S){for(var $=4194303,N=Math.min(w.length,9),k=0;k<N;k++)S.words[k]=w.words[k];if(S.length=N,w.length<=9){w.words[0]=0,w.length=1;return}var U=w.words[9];for(S.words[S.length++]=U&$,k=10;k<w.length;k++){var I=w.words[k]|0;w.words[k-10]=(I&$)<<4|U>>>22,U=I}U>>>=22,w.words[k-10]=U,U===0&&w.length>10?w.length-=10:w.length-=9},Q.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var S=0,$=0;$<w.length;$++){var N=w.words[$]|0;S+=N*977,w.words[$]=S&67108863,S=N*64+(S/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function re(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(re,G);function ne(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(ne,G);function ie(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(ie,G),ie.prototype.imulK=function(w){for(var S=0,$=0;$<w.length;$++){var N=(w.words[$]|0)*19+S,k=N&67108863;N>>>=26,w.words[$]=k,S=N}return S!==0&&(w.words[w.length++]=S),w},v._prime=function(w){if(W[w])return W[w];var S;if(w==="k256")S=new Q;else if(w==="p224")S=new re;else if(w==="p192")S=new ne;else if(w==="p25519")S=new ie;else throw new Error("Unknown prime "+w);return W[w]=S,S};function z(D){if(typeof D=="string"){var w=v._prime(D);this.m=w.p,this.prime=w}else g(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}z.prototype._verify1=function(w){g(w.negative===0,"red works only with positives"),g(w.red,"red works only with red numbers")},z.prototype._verify2=function(w,S){g((w.negative|S.negative)===0,"red works only with positives"),g(w.red&&w.red===S.red,"red works only with red numbers")},z.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(b(w,w.umod(this.m)._forceRed(this)),w)},z.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},z.prototype.add=function(w,S){this._verify2(w,S);var $=w.add(S);return $.cmp(this.m)>=0&&$.isub(this.m),$._forceRed(this)},z.prototype.iadd=function(w,S){this._verify2(w,S);var $=w.iadd(S);return $.cmp(this.m)>=0&&$.isub(this.m),$},z.prototype.sub=function(w,S){this._verify2(w,S);var $=w.sub(S);return $.cmpn(0)<0&&$.iadd(this.m),$._forceRed(this)},z.prototype.isub=function(w,S){this._verify2(w,S);var $=w.isub(S);return $.cmpn(0)<0&&$.iadd(this.m),$},z.prototype.shl=function(w,S){return this._verify1(w),this.imod(w.ushln(S))},z.prototype.imul=function(w,S){return this._verify2(w,S),this.imod(w.imul(S))},z.prototype.mul=function(w,S){return this._verify2(w,S),this.imod(w.mul(S))},z.prototype.isqr=function(w){return this.imul(w,w.clone())},z.prototype.sqr=function(w){return this.mul(w,w)},z.prototype.sqrt=function(w){if(w.isZero())return w.clone();var S=this.m.andln(3);if(g(S%2===1),S===3){var $=this.m.add(new v(1)).iushrn(2);return this.pow(w,$)}for(var N=this.m.subn(1),k=0;!N.isZero()&&N.andln(1)===0;)k++,N.iushrn(1);g(!N.isZero());var U=new v(1).toRed(this),I=U.redNeg(),q=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new v(2*B*B).toRed(this);this.pow(B,q).cmp(I)!==0;)B.redIAdd(I);for(var H=this.pow(B,N),ce=this.pow(w,N.addn(1).iushrn(1)),be=this.pow(w,N),ve=k;be.cmp(U)!==0;){for(var Z=be,J=0;Z.cmp(U)!==0;J++)Z=Z.redSqr();g(J<ve);var ae=this.pow(H,new v(1).iushln(ve-J-1));ce=ce.redMul(ae),H=ae.redSqr(),be=be.redMul(H),ve=J}return ce},z.prototype.invm=function(w){var S=w._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},z.prototype.pow=function(w,S){if(S.isZero())return new v(1).toRed(this);if(S.cmpn(1)===0)return w.clone();var $=4,N=new Array(1<<$);N[0]=new v(1).toRed(this),N[1]=w;for(var k=2;k<N.length;k++)N[k]=this.mul(N[k-1],w);var U=N[0],I=0,q=0,B=S.bitLength()%26;for(B===0&&(B=26),k=S.length-1;k>=0;k--){for(var H=S.words[k],ce=B-1;ce>=0;ce--){var be=H>>ce&1;if(U!==N[0]&&(U=this.sqr(U)),be===0&&I===0){q=0;continue}I<<=1,I|=be,q++,!(q!==$&&(k!==0||ce!==0))&&(U=this.mul(U,N[I]),q=0,I=0)}B=26}return U},z.prototype.convertTo=function(w){var S=w.umod(this.m);return S===w?S.clone():S},z.prototype.convertFrom=function(w){var S=w.clone();return S.red=null,S},v.mont=function(w){return new T(w)};function T(D){z.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(T,z),T.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},T.prototype.convertFrom=function(w){var S=this.imod(w.mul(this.rinv));return S.red=null,S},T.prototype.imul=function(w,S){if(w.isZero()||S.isZero())return w.words[0]=0,w.length=1,w;var $=w.imul(S),N=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=$.isub(N).iushrn(this.shift),U=k;return k.cmp(this.m)>=0?U=k.isub(this.m):k.cmpn(0)<0&&(U=k.iadd(this.m)),U._forceRed(this)},T.prototype.mul=function(w,S){if(w.isZero()||S.isZero())return new v(0)._forceRed(this);var $=w.mul(S),N=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=$.isub(N).iushrn(this.shift),U=k;return k.cmp(this.m)>=0?U=k.isub(this.m):k.cmpn(0)<0&&(U=k.iadd(this.m)),U._forceRed(this)},T.prototype.invm=function(w){var S=this.imod(w._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(f,commonjsGlobal)}(bn)),bn.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(f,r){if(f.indexOf)return f.indexOf(r);for(var d=0;d<f.length;d++)if(f[d]===r)return d;return-1},Object_keys=function(f){if(Object.keys)return Object.keys(f);var r=[];for(var d in f)r.push(d);return r},forEach=function(f,r){if(f.forEach)return f.forEach(r);for(var d=0;d<f.length;d++)r(f[d],d,f)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(f,r,d){Object.defineProperty(f,r,{writable:!0,enumerable:!1,configurable:!0,value:d})}}catch{return function(r,d,g){r[d]=g}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(r){if(!(this instanceof Script))return new Script(r);this.code=r};Script.prototype.runInContext=function(f){if(!(f instanceof Context))throw new TypeError("needs a 'context' argument.");var r=document.createElement("iframe");r.style||(r.style={}),r.style.display="none",document.body.appendChild(r);var d=r.contentWindow,g=d.eval,m=d.execScript;!g&&m&&(m.call(d,"null"),g=d.eval),forEach(Object_keys(f),function(y){d[y]=f[y]}),forEach(globals,function(y){f[y]&&(d[y]=f[y])});var v=Object_keys(d),_=g.call(d,this.code);return forEach(Object_keys(d),function(y){(y in f||indexOf(v,y)===-1)&&(f[y]=d[y])}),forEach(globals,function(y){y in f||defineProp(f,y,d[y])}),document.body.removeChild(r),_},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(f){var r=Script.createContext(f),d=this.runInContext(r);return f&&forEach(Object_keys(r),function(g){f[g]=r[g]}),d},forEach(Object_keys(Script.prototype),function(f){exports[f]=Script[f]=function(r){var d=Script(r);return d[f].apply(d,[].slice.call(arguments,1))}}),exports.isContext=function(f){return f instanceof Context},exports.createScript=function(f){return exports.Script(f)},exports.createContext=Script.createContext=function(f){var r=new Context;return typeof f=="object"&&forEach(Object_keys(f),function(d){r[d]=f[d]}),r}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(f){var r=requireAsn1$1(),d=requireInherits_browser(),g=f;g.define=function(_,y){return new m(_,y)};function m(v,_){this.name=v,this.body=_,this.decoders={},this.encoders={}}m.prototype._createNamed=function(_){var y;try{y=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{y=function(E){this._initNamed(E)}}return d(y,_),y.prototype._initNamed=function(E){_.call(this,E)},new y(this)},m.prototype._getDecoder=function(_){return _=_||"der",this.decoders.hasOwnProperty(_)||(this.decoders[_]=this._createNamed(r.decoders[_])),this.decoders[_]},m.prototype.decode=function(_,y,x){return this._getDecoder(y).decode(_,x)},m.prototype._getEncoder=function(_){return _=_||"der",this.encoders.hasOwnProperty(_)||(this.encoders[_]=this._createNamed(r.encoders[_])),this.encoders[_]},m.prototype.encode=function(_,y,x){return this._getEncoder(y).encode(_,x)}}(api)),api}var base$4={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var f=requireInherits_browser();function r(g){this._reporterState={obj:null,path:[],options:g||{},errors:[]}}reporter.Reporter=r,r.prototype.isError=function(m){return m instanceof d},r.prototype.save=function(){var m=this._reporterState;return{obj:m.obj,pathLen:m.path.length}},r.prototype.restore=function(m){var v=this._reporterState;v.obj=m.obj,v.path=v.path.slice(0,m.pathLen)},r.prototype.enterKey=function(m){return this._reporterState.path.push(m)},r.prototype.exitKey=function(m){var v=this._reporterState;v.path=v.path.slice(0,m-1)},r.prototype.leaveKey=function(m,v,_){var y=this._reporterState;this.exitKey(m),y.obj!==null&&(y.obj[v]=_)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var m=this._reporterState,v=m.obj;return m.obj={},v},r.prototype.leaveObject=function(m){var v=this._reporterState,_=v.obj;return v.obj=m,_},r.prototype.error=function(m){var v,_=this._reporterState,y=m instanceof d;if(y?v=m:v=new d(_.path.map(function(x){return"["+JSON.stringify(x)+"]"}).join(""),m.message||m,m.stack),!_.options.partial)throw v;return y||_.errors.push(v),v},r.prototype.wrapResult=function(m){var v=this._reporterState;return v.options.partial?{result:this.isError(m)?null:m,errors:v.errors}:m};function d(g,m){this.path=g,this.rethrow(m)}return f(d,Error),d.prototype.rethrow=function(m){if(this.message=m+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,d),!this.stack)try{throw new Error(this.message)}catch(v){this.stack=v.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var f=requireInherits_browser(),r=requireBase().Reporter,d=require$$0$2.Buffer;function g(v,_){if(r.call(this,_),!d.isBuffer(v)){this.error("Input not Buffer");return}this.base=v,this.offset=0,this.length=v.length}f(g,r),buffer.DecoderBuffer=g,g.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},g.prototype.restore=function(_){var y=new g(this.base);return y.offset=_.offset,y.length=this.offset,this.offset=_.offset,r.prototype.restore.call(this,_.reporter),y},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(_){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(_||"DecoderBuffer overrun")},g.prototype.skip=function(_,y){if(!(this.offset+_<=this.length))return this.error(y||"DecoderBuffer overrun");var x=new g(this.base);return x._reporterState=this._reporterState,x.offset=this.offset,x.length=this.offset+_,this.offset+=_,x},g.prototype.raw=function(_){return this.base.slice(_?_.offset:this.offset,this.length)};function m(v,_){if(Array.isArray(v))this.length=0,this.value=v.map(function(y){return y instanceof m||(y=new m(y,_)),this.length+=y.length,y},this);else if(typeof v=="number"){if(!(0<=v&&v<=255))return _.error("non-byte EncoderBuffer value");this.value=v,this.length=1}else if(typeof v=="string")this.value=v,this.length=d.byteLength(v);else if(d.isBuffer(v))this.value=v,this.length=v.length;else return _.error("Unsupported type: "+typeof v)}return buffer.EncoderBuffer=m,m.prototype.join=function(_,y){return _||(_=new d(this.length)),y||(y=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(x){x.join(_,y),y+=x.length}):(typeof this.value=="number"?_[y]=this.value:typeof this.value=="string"?_.write(this.value,y):d.isBuffer(this.value)&&this.value.copy(_,y),y+=this.length)),_},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var f=requireBase().Reporter,r=requireBase().EncoderBuffer,d=requireBase().DecoderBuffer,g=requireMinimalisticAssert(),m=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],v=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(m),_=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function y(E,b){var C={};this._baseState=C,C.enc=E,C.parent=b||null,C.children=null,C.tag=null,C.args=null,C.reverseArgs=null,C.choice=null,C.optional=!1,C.any=!1,C.obj=!1,C.use=null,C.useDecoder=null,C.key=null,C.default=null,C.explicit=null,C.implicit=null,C.contains=null,C.parent||(C.children=[],this._wrap())}node$1=y;var x=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return y.prototype.clone=function(){var b=this._baseState,C={};x.forEach(function(O){C[O]=b[O]});var R=new this.constructor(C.parent);return R._baseState=C,R},y.prototype._wrap=function(){var b=this._baseState;v.forEach(function(C){this[C]=function(){var O=new this.constructor(this);return b.children.push(O),O[C].apply(O,arguments)}},this)},y.prototype._init=function(b){var C=this._baseState;g(C.parent===null),b.call(this),C.children=C.children.filter(function(R){return R._baseState.parent===this},this),g.equal(C.children.length,1,"Root node can have only one child")},y.prototype._useArgs=function(b){var C=this._baseState,R=b.filter(function(O){return O instanceof this.constructor},this);b=b.filter(function(O){return!(O instanceof this.constructor)},this),R.length!==0&&(g(C.children===null),C.children=R,R.forEach(function(O){O._baseState.parent=this},this)),b.length!==0&&(g(C.args===null),C.args=b,C.reverseArgs=b.map(function(O){if(typeof O!="object"||O.constructor!==Object)return O;var A={};return Object.keys(O).forEach(function(M){M==(M|0)&&(M|=0);var P=O[M];A[P]=M}),A}))},_.forEach(function(E){y.prototype[E]=function(){var C=this._baseState;throw new Error(E+" not implemented for encoding: "+C.enc)}}),m.forEach(function(E){y.prototype[E]=function(){var C=this._baseState,R=Array.prototype.slice.call(arguments);return g(C.tag===null),C.tag=E,this._useArgs(R),this}}),y.prototype.use=function(b){g(b);var C=this._baseState;return g(C.use===null),C.use=b,this},y.prototype.optional=function(){var b=this._baseState;return b.optional=!0,this},y.prototype.def=function(b){var C=this._baseState;return g(C.default===null),C.default=b,C.optional=!0,this},y.prototype.explicit=function(b){var C=this._baseState;return g(C.explicit===null&&C.implicit===null),C.explicit=b,this},y.prototype.implicit=function(b){var C=this._baseState;return g(C.explicit===null&&C.implicit===null),C.implicit=b,this},y.prototype.obj=function(){var b=this._baseState,C=Array.prototype.slice.call(arguments);return b.obj=!0,C.length!==0&&this._useArgs(C),this},y.prototype.key=function(b){var C=this._baseState;return g(C.key===null),C.key=b,this},y.prototype.any=function(){var b=this._baseState;return b.any=!0,this},y.prototype.choice=function(b){var C=this._baseState;return g(C.choice===null),C.choice=b,this._useArgs(Object.keys(b).map(function(R){return b[R]})),this},y.prototype.contains=function(b){var C=this._baseState;return g(C.use===null),C.contains=b,this},y.prototype._decode=function(b,C){var R=this._baseState;if(R.parent===null)return b.wrapResult(R.children[0]._decode(b,C));var O=R.default,A=!0,M=null;if(R.key!==null&&(M=b.enterKey(R.key)),R.optional){var P=null;if(R.explicit!==null?P=R.explicit:R.implicit!==null?P=R.implicit:R.tag!==null&&(P=R.tag),P===null&&!R.any){var F=b.save();try{R.choice===null?this._decodeGeneric(R.tag,b,C):this._decodeChoice(b,C),A=!0}catch{A=!1}b.restore(F)}else if(A=this._peekTag(b,P,R.any),b.isError(A))return A}var L;if(R.obj&&A&&(L=b.enterObject()),A){if(R.explicit!==null){var K=this._decodeTag(b,R.explicit);if(b.isError(K))return K;b=K}var j=b.offset;if(R.use===null&&R.choice===null){if(R.any)var F=b.save();var W=this._decodeTag(b,R.implicit!==null?R.implicit:R.tag,R.any);if(b.isError(W))return W;R.any?O=b.raw(F):b=W}if(C&&C.track&&R.tag!==null&&C.track(b.path(),j,b.length,"tagged"),C&&C.track&&R.tag!==null&&C.track(b.path(),b.offset,b.length,"content"),R.any?O=O:R.choice===null?O=this._decodeGeneric(R.tag,b,C):O=this._decodeChoice(b,C),b.isError(O))return O;if(!R.any&&R.choice===null&&R.children!==null&&R.children.forEach(function(re){re._decode(b,C)}),R.contains&&(R.tag==="octstr"||R.tag==="bitstr")){var G=new d(O);O=this._getUse(R.contains,b._reporterState.obj)._decode(G,C)}}return R.obj&&A&&(O=b.leaveObject(L)),R.key!==null&&(O!==null||A===!0)?b.leaveKey(M,R.key,O):M!==null&&b.exitKey(M),O},y.prototype._decodeGeneric=function(b,C,R){var O=this._baseState;return b==="seq"||b==="set"?null:b==="seqof"||b==="setof"?this._decodeList(C,b,O.args[0],R):/str$/.test(b)?this._decodeStr(C,b,R):b==="objid"&&O.args?this._decodeObjid(C,O.args[0],O.args[1],R):b==="objid"?this._decodeObjid(C,null,null,R):b==="gentime"||b==="utctime"?this._decodeTime(C,b,R):b==="null_"?this._decodeNull(C,R):b==="bool"?this._decodeBool(C,R):b==="objDesc"?this._decodeStr(C,b,R):b==="int"||b==="enum"?this._decodeInt(C,O.args&&O.args[0],R):O.use!==null?this._getUse(O.use,C._reporterState.obj)._decode(C,R):C.error("unknown tag: "+b)},y.prototype._getUse=function(b,C){var R=this._baseState;return R.useDecoder=this._use(b,C),g(R.useDecoder._baseState.parent===null),R.useDecoder=R.useDecoder._baseState.children[0],R.implicit!==R.useDecoder._baseState.implicit&&(R.useDecoder=R.useDecoder.clone(),R.useDecoder._baseState.implicit=R.implicit),R.useDecoder},y.prototype._decodeChoice=function(b,C){var R=this._baseState,O=null,A=!1;return Object.keys(R.choice).some(function(M){var P=b.save(),F=R.choice[M];try{var L=F._decode(b,C);if(b.isError(L))return!1;O={type:M,value:L},A=!0}catch{return b.restore(P),!1}return!0},this),A?O:b.error("Choice not matched")},y.prototype._createEncoderBuffer=function(b){return new r(b,this.reporter)},y.prototype._encode=function(b,C,R){var O=this._baseState;if(!(O.default!==null&&O.default===b)){var A=this._encodeValue(b,C,R);if(A!==void 0&&!this._skipDefault(A,C,R))return A}},y.prototype._encodeValue=function(b,C,R){var O=this._baseState;if(O.parent===null)return O.children[0]._encode(b,C||new f);var F=null;if(this.reporter=C,O.optional&&b===void 0)if(O.default!==null)b=O.default;else return;var A=null,M=!1;if(O.any)F=this._createEncoderBuffer(b);else if(O.choice)F=this._encodeChoice(b,C);else if(O.contains)A=this._getUse(O.contains,R)._encode(b,C),M=!0;else if(O.children)A=O.children.map(function(j){if(j._baseState.tag==="null_")return j._encode(null,C,b);if(j._baseState.key===null)return C.error("Child should have a key");var W=C.enterKey(j._baseState.key);if(typeof b!="object")return C.error("Child expected, but input is not object");var G=j._encode(b[j._baseState.key],C,b);return C.leaveKey(W),G},this).filter(function(j){return j}),A=this._createEncoderBuffer(A);else if(O.tag==="seqof"||O.tag==="setof"){if(!(O.args&&O.args.length===1))return C.error("Too many args for : "+O.tag);if(!Array.isArray(b))return C.error("seqof/setof, but data is not Array");var P=this.clone();P._baseState.implicit=null,A=this._createEncoderBuffer(b.map(function(j){var W=this._baseState;return this._getUse(W.args[0],b)._encode(j,C)},P))}else O.use!==null?F=this._getUse(O.use,R)._encode(b,C):(A=this._encodePrimitive(O.tag,b),M=!0);var F;if(!O.any&&O.choice===null){var L=O.implicit!==null?O.implicit:O.tag,K=O.implicit===null?"universal":"context";L===null?O.use===null&&C.error("Tag could be omitted only for .use()"):O.use===null&&(F=this._encodeComposite(L,M,K,A))}return O.explicit!==null&&(F=this._encodeComposite(O.explicit,!1,"context",F)),F},y.prototype._encodeChoice=function(b,C){var R=this._baseState,O=R.choice[b.type];return O||g(!1,b.type+" not found in "+JSON.stringify(Object.keys(R.choice))),O._encode(b.value,C)},y.prototype._encodePrimitive=function(b,C){var R=this._baseState;if(/str$/.test(b))return this._encodeStr(C,b);if(b==="objid"&&R.args)return this._encodeObjid(C,R.reverseArgs[0],R.args[1]);if(b==="objid")return this._encodeObjid(C,null,null);if(b==="gentime"||b==="utctime")return this._encodeTime(C,b);if(b==="null_")return this._encodeNull();if(b==="int"||b==="enum")return this._encodeInt(C,R.args&&R.reverseArgs[0]);if(b==="bool")return this._encodeBool(C);if(b==="objDesc")return this._encodeStr(C,b);throw new Error("Unsupported tag: "+b)},y.prototype._isNumstr=function(b){return/^[0-9 ]*$/.test(b)},y.prototype._isPrintstr=function(b){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(b)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(f){var r=f;r.Reporter=requireReporter().Reporter,r.DecoderBuffer=requireBuffer().DecoderBuffer,r.EncoderBuffer=requireBuffer().EncoderBuffer,r.Node=requireNode()}(base$4)),base$4}var constants$3={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(f){var r=requireConstants();f.tagClass={0:"universal",1:"application",2:"context",3:"private"},f.tagClassByName=r._reverse(f.tagClass),f.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},f.tagByName=r._reverse(f.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(f){var r=f;r._reverse=function(g){var m={};return Object.keys(g).forEach(function(v){(v|0)==v&&(v=v|0);var _=g[v];m[_]=v}),m},r.der=requireDer$2()}(constants$3)),constants$3}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var f=requireInherits_browser(),r=requireAsn1$1(),d=r.base,g=r.bignum,m=r.constants.der;function v(E){this.enc="der",this.name=E.name,this.entity=E,this.tree=new _,this.tree._init(E.body)}der_1$1=v,v.prototype.decode=function(b,C){return b instanceof d.DecoderBuffer||(b=new d.DecoderBuffer(b,C)),this.tree._decode(b,C)};function _(E){d.Node.call(this,"der",E)}f(_,d.Node),_.prototype._peekTag=function(b,C,R){if(b.isEmpty())return!1;var O=b.save(),A=y(b,'Failed to peek tag: "'+C+'"');return b.isError(A)?A:(b.restore(O),A.tag===C||A.tagStr===C||A.tagStr+"of"===C||R)},_.prototype._decodeTag=function(b,C,R){var O=y(b,'Failed to decode tag of "'+C+'"');if(b.isError(O))return O;var A=x(b,O.primitive,'Failed to get length of "'+C+'"');if(b.isError(A))return A;if(!R&&O.tag!==C&&O.tagStr!==C&&O.tagStr+"of"!==C)return b.error('Failed to match tag: "'+C+'"');if(O.primitive||A!==null)return b.skip(A,'Failed to match body of: "'+C+'"');var M=b.save(),P=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(P)?P:(A=b.offset-M.offset,b.restore(M),b.skip(A,'Failed to match body of: "'+C+'"'))},_.prototype._skipUntilEnd=function(b,C){for(;;){var R=y(b,C);if(b.isError(R))return R;var O=x(b,R.primitive,C);if(b.isError(O))return O;var A;if(R.primitive||O!==null?A=b.skip(O):A=this._skipUntilEnd(b,C),b.isError(A))return A;if(R.tagStr==="end")break}},_.prototype._decodeList=function(b,C,R,O){for(var A=[];!b.isEmpty();){var M=this._peekTag(b,"end");if(b.isError(M))return M;var P=R.decode(b,"der",O);if(b.isError(P)&&M)break;A.push(P)}return A},_.prototype._decodeStr=function(b,C){if(C==="bitstr"){var R=b.readUInt8();return b.isError(R)?R:{unused:R,data:b.raw()}}else if(C==="bmpstr"){var O=b.raw();if(O.length%2===1)return b.error("Decoding of string type: bmpstr length mismatch");for(var A="",M=0;M<O.length/2;M++)A+=String.fromCharCode(O.readUInt16BE(M*2));return A}else if(C==="numstr"){var P=b.raw().toString("ascii");return this._isNumstr(P)?P:b.error("Decoding of string type: numstr unsupported characters")}else{if(C==="octstr")return b.raw();if(C==="objDesc")return b.raw();if(C==="printstr"){var F=b.raw().toString("ascii");return this._isPrintstr(F)?F:b.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(C)?b.raw().toString():b.error("Decoding of string type: "+C+" unsupported")}},_.prototype._decodeObjid=function(b,C,R){for(var O,A=[],M=0;!b.isEmpty();){var P=b.readUInt8();M<<=7,M|=P&127,P&128||(A.push(M),M=0)}P&128&&A.push(M);var F=A[0]/40|0,L=A[0]%40;if(R?O=A:O=[F,L].concat(A.slice(1)),C){var K=C[O.join(" ")];K===void 0&&(K=C[O.join(".")]),K!==void 0&&(O=K)}return O},_.prototype._decodeTime=function(b,C){var R=b.raw().toString();if(C==="gentime")var O=R.slice(0,4)|0,A=R.slice(4,6)|0,M=R.slice(6,8)|0,P=R.slice(8,10)|0,F=R.slice(10,12)|0,L=R.slice(12,14)|0;else if(C==="utctime"){var O=R.slice(0,2)|0,A=R.slice(2,4)|0,M=R.slice(4,6)|0,P=R.slice(6,8)|0,F=R.slice(8,10)|0,L=R.slice(10,12)|0;O<70?O=2e3+O:O=1900+O}else return b.error("Decoding "+C+" time is not supported yet");return Date.UTC(O,A-1,M,P,F,L,0)},_.prototype._decodeNull=function(b){return null},_.prototype._decodeBool=function(b){var C=b.readUInt8();return b.isError(C)?C:C!==0},_.prototype._decodeInt=function(b,C){var R=b.raw(),O=new g(R);return C&&(O=C[O.toString(10)]||O),O},_.prototype._use=function(b,C){return typeof b=="function"&&(b=b(C)),b._getDecoder("der").tree};function y(E,b){var C=E.readUInt8(b);if(E.isError(C))return C;var R=m.tagClass[C>>6],O=(C&32)===0;if((C&31)===31){var A=C;for(C=0;(A&128)===128;){if(A=E.readUInt8(b),E.isError(A))return A;C<<=7,C|=A&127}}else C&=31;var M=m.tag[C];return{cls:R,primitive:O,tag:C,tagStr:M}}function x(E,b,C){var R=E.readUInt8(C);if(E.isError(R))return R;if(!b&&R===128)return null;if(!(R&128))return R;var O=R&127;if(O>4)return E.error("length octect is too long");R=0;for(var A=0;A<O;A++){R<<=8;var M=E.readUInt8(C);if(E.isError(M))return M;R|=M}return R}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var f=requireInherits_browser(),r=require$$0$2.Buffer,d=requireDer$1();function g(m){d.call(this,m),this.enc="pem"}return f(g,d),pem$1=g,g.prototype.decode=function(v,_){for(var y=v.toString().split(/[\r\n]+/g),x=_.label.toUpperCase(),E=/^-----(BEGIN|END) ([^-]+)-----$/,b=-1,C=-1,R=0;R<y.length;R++){var O=y[R].match(E);if(O!==null&&O[2]===x)if(b===-1){if(O[1]!=="BEGIN")break;b=R}else{if(O[1]!=="END")break;C=R;break}}if(b===-1||C===-1)throw new Error("PEM section not found for: "+x);var A=y.slice(b+1,C).join("");A.replace(/[^a-z0-9\+\/=]+/gi,"");var M=new r(A,"base64");return d.prototype.decode.call(this,M,_)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(f){var r=f;r.der=requireDer$1(),r.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var f=requireInherits_browser(),r=require$$0$2.Buffer,d=requireAsn1$1(),g=d.base,m=d.constants.der;function v(E){this.enc="der",this.name=E.name,this.entity=E,this.tree=new _,this.tree._init(E.body)}der_1=v,v.prototype.encode=function(b,C){return this.tree._encode(b,C).join()};function _(E){g.Node.call(this,"der",E)}f(_,g.Node),_.prototype._encodeComposite=function(b,C,R,O){var A=x(b,C,R,this.reporter);if(O.length<128){var F=new r(2);return F[0]=A,F[1]=O.length,this._createEncoderBuffer([F,O])}for(var M=1,P=O.length;P>=256;P>>=8)M++;var F=new r(2+M);F[0]=A,F[1]=128|M;for(var P=1+M,L=O.length;L>0;P--,L>>=8)F[P]=L&255;return this._createEncoderBuffer([F,O])},_.prototype._encodeStr=function(b,C){if(C==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(C==="bmpstr"){for(var R=new r(b.length*2),O=0;O<b.length;O++)R.writeUInt16BE(b.charCodeAt(O),O*2);return this._createEncoderBuffer(R)}else return C==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):C==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(C)?this._createEncoderBuffer(b):C==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+C+" unsupported")},_.prototype._encodeObjid=function(b,C,R){if(typeof b=="string"){if(!C)return this.reporter.error("string objid given, but no values map found");if(!C.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=C[b].split(/[\s\.]+/g);for(var O=0;O<b.length;O++)b[O]|=0}else if(Array.isArray(b)){b=b.slice();for(var O=0;O<b.length;O++)b[O]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!R){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}for(var A=0,O=0;O<b.length;O++){var M=b[O];for(A++;M>=128;M>>=7)A++}for(var P=new r(A),F=P.length-1,O=b.length-1;O>=0;O--){var M=b[O];for(P[F--]=M&127;(M>>=7)>0;)P[F--]=128|M&127}return this._createEncoderBuffer(P)};function y(E){return E<10?"0"+E:E}_.prototype._encodeTime=function(b,C){var R,O=new Date(b);return C==="gentime"?R=[y(O.getFullYear()),y(O.getUTCMonth()+1),y(O.getUTCDate()),y(O.getUTCHours()),y(O.getUTCMinutes()),y(O.getUTCSeconds()),"Z"].join(""):C==="utctime"?R=[y(O.getFullYear()%100),y(O.getUTCMonth()+1),y(O.getUTCDate()),y(O.getUTCHours()),y(O.getUTCMinutes()),y(O.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+C+" time is not supported yet"),this._encodeStr(R,"octstr")},_.prototype._encodeNull=function(){return this._createEncoderBuffer("")},_.prototype._encodeInt=function(b,C){if(typeof b=="string"){if(!C)return this.reporter.error("String int or enum given, but no values map");if(!C.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=C[b]}if(typeof b!="number"&&!r.isBuffer(b)){var R=b.toArray();!b.sign&&R[0]&128&&R.unshift(0),b=new r(R)}if(r.isBuffer(b)){var O=b.length;b.length===0&&O++;var M=new r(O);return b.copy(M),b.length===0&&(M[0]=0),this._createEncoderBuffer(M)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);for(var O=1,A=b;A>=256;A>>=8)O++;for(var M=new Array(O),A=M.length-1;A>=0;A--)M[A]=b&255,b>>=8;return M[0]&128&&M.unshift(0),this._createEncoderBuffer(new r(M))},_.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},_.prototype._use=function(b,C){return typeof b=="function"&&(b=b(C)),b._getEncoder("der").tree},_.prototype._skipDefault=function(b,C,R){var O=this._baseState,A;if(O.default===null)return!1;var M=b.join();if(O.defaultBuffer===void 0&&(O.defaultBuffer=this._encodeValue(O.default,C,R).join()),M.length!==O.defaultBuffer.length)return!1;for(A=0;A<M.length;A++)if(M[A]!==O.defaultBuffer[A])return!1;return!0};function x(E,b,C,R){var O;if(E==="seqof"?E="seq":E==="setof"&&(E="set"),m.tagByName.hasOwnProperty(E))O=m.tagByName[E];else if(typeof E=="number"&&(E|0)===E)O=E;else return R.error("Unknown tag: "+E);return O>=31?R.error("Multi-octet tag encoding unsupported"):(b||(O|=32),O|=m.tagClassByName[C||"universal"]<<6,O)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var f=requireInherits_browser(),r=requireDer();function d(g){r.call(this,g),this.enc="pem"}return f(d,r),pem=d,d.prototype.encode=function(m,v){for(var _=r.prototype.encode.call(this,m),y=_.toString("base64"),x=["-----BEGIN "+v.label+"-----"],E=0;E<y.length;E+=64)x.push(y.slice(E,E+64));return x.push("-----END "+v.label+"-----"),x.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(f){var r=f;r.der=requireDer(),r.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(f){var r=f;r.bignum=requireBn$2(),r.define=requireApi().define,r.base=requireBase(),r.constants=requireConstants(),r.decoders=requireDecoders(),r.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var f=requireAsn1$1(),r=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),d=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),g=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),m=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(g),this.key("subjectPublicKey").bitstr())}),v=f.define("RelativeDistinguishedName",function(){this.setof(d)}),_=f.define("RDNSequence",function(){this.seqof(v)}),y=f.define("Name",function(){this.choice({rdnSequence:this.use(_)})}),x=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),E=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(g),this.key("issuer").use(y),this.key("validity").use(x),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(m),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(E).optional())}),C=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(g),this.key("signatureValue").bitstr())});return certificate=C,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var f=requireAsn1$1();asn1$1.certificate=requireCertificate();var r=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=r;var d=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=d;var g=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),m=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(g),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=m;var v=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(g),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=v;var _=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=_;var y=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=y,asn1$1.DSAparam=f.define("DSAparam",function(){this.int()});var x=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),E=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(x),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=E,asn1$1.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,d=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,g=requireEvp_bytestokey(),m=requireBrowser$6(),v=safeBufferExports.Buffer;return fixProc=function(_,y){var x=_.toString(),E=x.match(f),b;if(E){var R="aes"+E[1],O=v.from(E[2],"hex"),A=v.from(E[3].replace(/[\r\n]/g,""),"base64"),M=g(y,O.slice(0,8),parseInt(E[1],10)).key,P=[],F=m.createDecipheriv(R,M,O);P.push(F.update(A)),P.push(F.final()),b=v.concat(P)}else{var C=x.match(d);b=v.from(C[2].replace(/[\r\n]/g,""),"base64")}var L=x.match(r)[1];return{tag:L,data:b}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var f=requireAsn1(),r=require$$1$1,d=requireFixProc(),g=requireBrowser$6(),m=requireBrowser$7(),v=safeBufferExports.Buffer;function _(x,E){var b=x.algorithm.decrypt.kde.kdeparams.salt,C=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),R=r[x.algorithm.decrypt.cipher.algo.join(".")],O=x.algorithm.decrypt.cipher.iv,A=x.subjectPrivateKey,M=parseInt(R.split("-")[1],10)/8,P=m.pbkdf2Sync(E,b,C,M,"sha1"),F=g.createDecipheriv(R,P,O),L=[];return L.push(F.update(A)),L.push(F.final()),v.concat(L)}function y(x){var E;typeof x=="object"&&!v.isBuffer(x)&&(E=x.passphrase,x=x.key),typeof x=="string"&&(x=v.from(x));var b=d(x,E),C=b.tag,R=b.data,O,A;switch(C){case"CERTIFICATE":A=f.certificate.decode(R,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(A||(A=f.PublicKey.decode(R,"der")),O=A.algorithm.algorithm.join("."),O){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(A.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return A.subjectPrivateKey=A.subjectPublicKey,{type:"ec",data:A};case"1.2.840.10040.4.1":return A.algorithm.params.pub_key=f.DSAparam.decode(A.subjectPublicKey.data,"der"),{type:"dsa",data:A.algorithm.params};default:throw new Error("unknown key id "+O)}case"ENCRYPTED PRIVATE KEY":R=f.EncryptedPrivateKey.decode(R,"der"),R=_(R,E);case"PRIVATE KEY":switch(A=f.PrivateKey.decode(R,"der"),O=A.algorithm.algorithm.join("."),O){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(A.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:A.algorithm.curve,privateKey:f.ECPrivateKey.decode(A.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return A.algorithm.params.priv_key=f.DSAparam.decode(A.subjectPrivateKey,"der"),{type:"dsa",params:A.algorithm.params};default:throw new Error("unknown key id "+O)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(R,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(R,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(R,"der")};case"EC PRIVATE KEY":return R=f.ECPrivateKey.decode(R,"der"),{curve:R.parameters.value,privateKey:R.privateKey};default:throw new Error("unknown key type "+C)}}return y.signature=f.signature,parseAsn1=y,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var f=safeBufferExports.Buffer,r=requireBrowser$8(),d=requireBrowserifyRsa(),g=requireElliptic().ec,m=requireBn(),v=requireParseAsn1(),_=require$$4,y=1;function x(F,L,K,j,W){var G=v(L);if(G.curve){if(j!=="ecdsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");return E(F,G)}else if(G.type==="dsa"){if(j!=="dsa")throw new Error("wrong private key type");return b(F,G,K)}if(j!=="rsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");if(L.padding!==void 0&&L.padding!==y)throw new Error("illegal or unsupported padding mode");F=f.concat([W,F]);for(var Q=G.modulus.byteLength(),re=[0,1];F.length+re.length+1<Q;)re.push(255);re.push(0);for(var ne=-1;++ne<F.length;)re.push(F[ne]);var ie=d(re,G);return ie}function E(F,L){var K=_[L.curve.join(".")];if(!K)throw new Error("unknown curve "+L.curve.join("."));var j=new g(K),W=j.keyFromPrivate(L.privateKey),G=W.sign(F);return f.from(G.toDER())}function b(F,L,K){for(var j=L.params.priv_key,W=L.params.p,G=L.params.q,Q=L.params.g,re=new m(0),ne,ie=O(F,G).mod(G),z=!1,T=R(j,G,F,K);z===!1;)ne=M(G,T,K),re=P(Q,ne,W,G),z=ne.invm(G).imul(ie.add(j.mul(re))).mod(G),z.cmpn(0)===0&&(z=!1,re=new m(0));return C(re,z)}function C(F,L){F=F.toArray(),L=L.toArray(),F[0]&128&&(F=[0].concat(F)),L[0]&128&&(L=[0].concat(L));var K=F.length+L.length+4,j=[48,K,2,F.length];return j=j.concat(F,[2,L.length],L),f.from(j)}function R(F,L,K,j){if(F=f.from(F.toArray()),F.length<L.byteLength()){var W=f.alloc(L.byteLength()-F.length);F=f.concat([W,F])}var G=K.length,Q=A(K,L),re=f.alloc(G);re.fill(1);var ne=f.alloc(G);return ne=r(j,ne).update(re).update(f.from([0])).update(F).update(Q).digest(),re=r(j,ne).update(re).digest(),ne=r(j,ne).update(re).update(f.from([1])).update(F).update(Q).digest(),re=r(j,ne).update(re).digest(),{k:ne,v:re}}function O(F,L){var K=new m(F),j=(F.length<<3)-L.bitLength();return j>0&&K.ishrn(j),K}function A(F,L){F=O(F,L),F=F.mod(L);var K=f.from(F.toArray());if(K.length<L.byteLength()){var j=f.alloc(L.byteLength()-K.length);K=f.concat([j,K])}return K}function M(F,L,K){var j,W;do{for(j=f.alloc(0);j.length*8<F.bitLength();)L.v=r(K,L.k).update(L.v).digest(),j=f.concat([j,L.v]);W=O(j,F),L.k=r(K,L.k).update(L.v).update(f.from([0])).digest(),L.v=r(K,L.k).update(L.v).digest()}while(W.cmp(F)!==-1);return W}function P(F,L,K,j){return F.toRed(m.mont(K)).redPow(L).fromRed().mod(j)}return sign.exports=x,sign.exports.getKey=R,sign.exports.makeKey=M,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var f=safeBufferExports.Buffer,r=requireBn(),d=requireElliptic().ec,g=requireParseAsn1(),m=require$$4;function v(E,b,C,R,O){var A=g(C);if(A.type==="ec"){if(R!=="ecdsa"&&R!=="ecdsa/rsa")throw new Error("wrong public key type");return _(E,b,A)}else if(A.type==="dsa"){if(R!=="dsa")throw new Error("wrong public key type");return y(E,b,A)}if(R!=="rsa"&&R!=="ecdsa/rsa")throw new Error("wrong public key type");b=f.concat([O,b]);for(var M=A.modulus.byteLength(),P=[1],F=0;b.length+P.length+2<M;)P.push(255),F+=1;P.push(0);for(var L=-1;++L<b.length;)P.push(b[L]);P=f.from(P);var K=r.mont(A.modulus);E=new r(E).toRed(K),E=E.redPow(new r(A.publicExponent)),E=f.from(E.fromRed().toArray());var j=F<8?1:0;for(M=Math.min(E.length,P.length),E.length!==P.length&&(j=1),L=-1;++L<M;)j|=E[L]^P[L];return j===0}function _(E,b,C){var R=m[C.data.algorithm.curve.join(".")];if(!R)throw new Error("unknown curve "+C.data.algorithm.curve.join("."));var O=new d(R),A=C.data.subjectPrivateKey.data;return O.verify(b,E,A)}function y(E,b,C){var R=C.data.p,O=C.data.q,A=C.data.g,M=C.data.pub_key,P=g.signature.decode(E,"der"),F=P.s,L=P.r;x(F,O),x(L,O);var K=r.mont(R),j=F.invm(O),W=A.toRed(K).redPow(new r(b).mul(j).mod(O)).fromRed().mul(M.toRed(K).redPow(L.mul(j).mod(O)).fromRed()).mod(R).mod(O);return W.cmp(L)===0}function x(E,b){if(E.cmpn(0)<=0)throw new Error("invalid sig");if(E.cmp(b)>=0)throw new Error("invalid sig")}return verify_1=v,verify_1}var browser$4,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$4;hasRequiredBrowser$3=1;var f=safeBufferExports.Buffer,r=requireBrowser$9(),d=requireReadableBrowser(),g=requireInherits_browser(),m=requireSign(),v=requireVerify(),_=require$$6;Object.keys(_).forEach(function(C){_[C].id=f.from(_[C].id,"hex"),_[C.toLowerCase()]=_[C]});function y(C){d.Writable.call(this);var R=_[C];if(!R)throw new Error("Unknown message digest");this._hashType=R.hash,this._hash=r(R.hash),this._tag=R.id,this._signType=R.sign}g(y,d.Writable),y.prototype._write=function(R,O,A){this._hash.update(R),A()},y.prototype.update=function(R,O){return this._hash.update(typeof R=="string"?f.from(R,O):R),this},y.prototype.sign=function(R,O){this.end();var A=this._hash.digest(),M=m(A,R,this._hashType,this._signType,this._tag);return O?M.toString(O):M};function x(C){d.Writable.call(this);var R=_[C];if(!R)throw new Error("Unknown message digest");this._hash=r(R.hash),this._tag=R.id,this._signType=R.sign}g(x,d.Writable),x.prototype._write=function(R,O,A){this._hash.update(R),A()},x.prototype.update=function(R,O){return this._hash.update(typeof R=="string"?f.from(R,O):R),this},x.prototype.verify=function(R,O,A){var M=typeof O=="string"?f.from(O,A):O;this.end();var P=this._hash.digest();return v(M,P,R,this._signType,this._tag)};function E(C){return new y(C)}function b(C){return new x(C)}return browser$4={Sign:E,Verify:b,createSign:E,createVerify:b},browser$4}var browser$3,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$3;hasRequiredBrowser$2=1;var f=requireElliptic(),r=requireBn$2();browser$3=function(_){return new g(_)};var d={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};d.p224=d.secp224r1,d.p256=d.secp256r1=d.prime256v1,d.p192=d.secp192r1=d.prime192v1,d.p384=d.secp384r1,d.p521=d.secp521r1;function g(v){this.curveType=d[v],this.curveType||(this.curveType={name:v}),this.curve=new f.ec(this.curveType.name),this.keys=void 0}g.prototype.generateKeys=function(v,_){return this.keys=this.curve.genKeyPair(),this.getPublicKey(v,_)},g.prototype.computeSecret=function(v,_,y){_=_||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,_));var x=this.curve.keyFromPublic(v).getPublic(),E=x.mul(this.keys.getPrivate()).getX();return m(E,y,this.curveType.byteLength)},g.prototype.getPublicKey=function(v,_){var y=this.keys.getPublic(_==="compressed",!0);return _==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),m(y,v)},g.prototype.getPrivateKey=function(v){return m(this.keys.getPrivate(),v)},g.prototype.setPublicKey=function(v,_){return _=_||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,_)),this.keys._importPublic(v),this},g.prototype.setPrivateKey=function(v,_){_=_||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,_));var y=new r(v);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this};function m(v,_,y){Array.isArray(v)||(v=v.toArray());var x=new Buffer(v);if(y&&x.length<y){var E=new Buffer(y-x.length);E.fill(0),x=Buffer.concat([E,x])}return _?x.toString(_):x}return browser$3}var browser$2={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var f=requireBrowser$9(),r=safeBufferExports.Buffer;mgf=function(g,m){for(var v=r.alloc(0),_=0,y;v.length<m;)y=d(_++),v=r.concat([v,f("sha1").update(g).update(y).digest()]);return v.slice(0,m)};function d(g){var m=r.allocUnsafe(4);return m.writeUInt32BE(g,0),m}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(r,d){for(var g=r.length,m=-1;++m<g;)r[m]^=d[m];return r}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var f=requireBn$2(),r=safeBufferExports.Buffer;function d(g,m){return r.from(g.toRed(f.mont(m.modulus)).redPow(new f(m.publicExponent)).fromRed().toArray())}return withPublic_1=d,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var f=requireParseAsn1(),r=requireBrowser$b(),d=requireBrowser$9(),g=requireMgf(),m=requireXor(),v=requireBn$2(),_=requireWithPublic(),y=requireBrowserifyRsa(),x=safeBufferExports.Buffer;publicEncrypt=function(O,A,M){var P;O.padding?P=O.padding:M?P=1:P=4;var F=f(O),L;if(P===4)L=E(F,A);else if(P===1)L=b(F,A,M);else if(P===3){if(L=new v(A),L.cmp(F.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return M?y(L,F):_(L,F)};function E(R,O){var A=R.modulus.byteLength(),M=O.length,P=d("sha1").update(x.alloc(0)).digest(),F=P.length,L=2*F;if(M>A-L-2)throw new Error("message too long");var K=x.alloc(A-M-L-2),j=A-F-1,W=r(F),G=m(x.concat([P,K,x.alloc(1,1),O],j),g(W,j)),Q=m(W,g(G,F));return new v(x.concat([x.alloc(1),Q,G],A))}function b(R,O,A){var M=O.length,P=R.modulus.byteLength();if(M>P-11)throw new Error("message too long");var F;return A?F=x.alloc(P-M-3,255):F=C(P-M-3),new v(x.concat([x.from([0,A?1:2]),F,x.alloc(1),O],P))}function C(R){for(var O=x.allocUnsafe(R),A=0,M=r(R*2),P=0,F;A<R;)P===M.length&&(M=r(R*2),P=0),F=M[P++],F&&(O[A++]=F);return O}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var f=requireParseAsn1(),r=requireMgf(),d=requireXor(),g=requireBn$2(),m=requireBrowserifyRsa(),v=requireBrowser$9(),_=requireWithPublic(),y=safeBufferExports.Buffer;privateDecrypt=function(R,O,A){var M;R.padding?M=R.padding:A?M=1:M=4;var P=f(R),F=P.modulus.byteLength();if(O.length>F||new g(O).cmp(P.modulus)>=0)throw new Error("decryption error");var L;A?L=_(new g(O),P):L=m(O,P);var K=y.alloc(F-L.length);if(L=y.concat([K,L],F),M===4)return x(P,L);if(M===1)return E(P,L,A);if(M===3)return L;throw new Error("unknown padding")};function x(C,R){var O=C.modulus.byteLength(),A=v("sha1").update(y.alloc(0)).digest(),M=A.length;if(R[0]!==0)throw new Error("decryption error");var P=R.slice(1,M+1),F=R.slice(M+1),L=d(P,r(F,M)),K=d(F,r(L,O-M-1));if(b(A,K.slice(0,M)))throw new Error("decryption error");for(var j=M;K[j]===0;)j++;if(K[j++]!==1)throw new Error("decryption error");return K.slice(j)}function E(C,R,O){for(var A=R.slice(0,2),M=2,P=0;R[M++]!==0;)if(M>=R.length){P++;break}var F=R.slice(2,M-1);if((A.toString("hex")!=="0002"&&!O||A.toString("hex")!=="0001"&&O)&&P++,F.length<8&&P++,P)throw new Error("decryption error");return R.slice(M)}function b(C,R){C=y.from(C),R=y.from(R);var O=0,A=C.length;C.length!==R.length&&(O++,A=Math.min(C.length,R.length));for(var M=-1;++M<A;)O+=C[M]^R[M];return O}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(f){f.publicEncrypt=requirePublicEncrypt(),f.privateDecrypt=requirePrivateDecrypt(),f.privateEncrypt=function(d,g){return f.publicEncrypt(d,g,!0)},f.publicDecrypt=function(d,g){return f.privateDecrypt(d,g,!0)}}(browser$2)),browser$2}var browser$1={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1;hasRequiredBrowser=1;function f(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=safeBufferExports,d=requireBrowser$b(),g=r.Buffer,m=r.kMaxLength,v=commonjsGlobal.crypto||commonjsGlobal.msCrypto,_=Math.pow(2,32)-1;function y(R,O){if(typeof R!="number"||R!==R)throw new TypeError("offset must be a number");if(R>_||R<0)throw new TypeError("offset must be a uint32");if(R>m||R>O)throw new RangeError("offset out of range")}function x(R,O,A){if(typeof R!="number"||R!==R)throw new TypeError("size must be a number");if(R>_||R<0)throw new TypeError("size must be a uint32");if(R+O>A||R>m)throw new RangeError("buffer too small")}v&&v.getRandomValues||!process$1.browser?(browser$1.randomFill=E,browser$1.randomFillSync=C):(browser$1.randomFill=f,browser$1.randomFillSync=f);function E(R,O,A,M){if(!g.isBuffer(R)&&!(R instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof O=="function")M=O,O=0,A=R.length;else if(typeof A=="function")M=A,A=R.length-O;else if(typeof M!="function")throw new TypeError('"cb" argument must be a function');return y(O,R.length),x(A,O,R.length),b(R,O,A,M)}function b(R,O,A,M){if(process$1.browser){var P=R.buffer,F=new Uint8Array(P,O,A);if(v.getRandomValues(F),M){process$1.nextTick(function(){M(null,R)});return}return R}if(M){d(A,function(K,j){if(K)return M(K);j.copy(R,O),M(null,R)});return}var L=d(A);return L.copy(R,O),R}function C(R,O,A){if(typeof O>"u"&&(O=0),!g.isBuffer(R)&&!(R instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(O,R.length),A===void 0&&(A=R.length-O),x(A,O,R.length),b(R,O,A)}return browser$1}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var f=requireAlgos(),r=Object.keys(f),d=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);cryptoBrowserify.getHashes=function(){return d};var g=requireBrowser$7();cryptoBrowserify.pbkdf2=g.pbkdf2,cryptoBrowserify.pbkdf2Sync=g.pbkdf2Sync;var m=requireBrowser$5();cryptoBrowserify.Cipher=m.Cipher,cryptoBrowserify.createCipher=m.createCipher,cryptoBrowserify.Cipheriv=m.Cipheriv,cryptoBrowserify.createCipheriv=m.createCipheriv,cryptoBrowserify.Decipher=m.Decipher,cryptoBrowserify.createDecipher=m.createDecipher,cryptoBrowserify.Decipheriv=m.Decipheriv,cryptoBrowserify.createDecipheriv=m.createDecipheriv,cryptoBrowserify.getCiphers=m.getCiphers,cryptoBrowserify.listCiphers=m.listCiphers;var v=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=v.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=v.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=v.getDiffieHellman,cryptoBrowserify.createDiffieHellman=v.createDiffieHellman,cryptoBrowserify.DiffieHellman=v.DiffieHellman;var _=requireBrowser$3();cryptoBrowserify.createSign=_.createSign,cryptoBrowserify.Sign=_.Sign,cryptoBrowserify.createVerify=_.createVerify,cryptoBrowserify.Verify=_.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var y=requireBrowser$1();cryptoBrowserify.publicEncrypt=y.publicEncrypt,cryptoBrowserify.privateEncrypt=y.privateEncrypt,cryptoBrowserify.publicDecrypt=y.publicDecrypt,cryptoBrowserify.privateDecrypt=y.privateDecrypt;var x=requireBrowser();return cryptoBrowserify.randomFill=x.randomFill,cryptoBrowserify.randomFillSync=x.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(f){(function(r){var d=function(se){var le,he=new Float64Array(16);if(se)for(le=0;le<se.length;le++)he[le]=se[le];return he},g=function(){throw new Error("no PRNG")},m=new Uint8Array(16),v=new Uint8Array(32);v[0]=9;var _=d(),y=d([1]),x=d([56129,1]),E=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),C=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),R=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),O=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(se,le,he,V){se[le]=he>>24&255,se[le+1]=he>>16&255,se[le+2]=he>>8&255,se[le+3]=he&255,se[le+4]=V>>24&255,se[le+5]=V>>16&255,se[le+6]=V>>8&255,se[le+7]=V&255}function M(se,le,he,V,pe){var Re,Me=0;for(Re=0;Re<pe;Re++)Me|=se[le+Re]^he[V+Re];return(1&Me-1>>>8)-1}function P(se,le,he,V){return M(se,le,he,V,16)}function F(se,le,he,V){return M(se,le,he,V,32)}function L(se,le,he,V){for(var pe=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,Re=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,Me=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Te=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,ze=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,Ze=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,Xe=le[0]&255|(le[1]&255)<<8|(le[2]&255)<<16|(le[3]&255)<<24,qt=le[4]&255|(le[5]&255)<<8|(le[6]&255)<<16|(le[7]&255)<<24,pt=le[8]&255|(le[9]&255)<<8|(le[10]&255)<<16|(le[11]&255)<<24,At=le[12]&255|(le[13]&255)<<8|(le[14]&255)<<16|(le[15]&255)<<24,Mt=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,Bt=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,$t=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,Ot=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,St=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,Dt=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,lt=pe,_t=Re,ct=Me,vt=Te,gt=ze,ft=Ze,Ie=Xe,ke=qt,Je=pt,fe=At,ye=Mt,ge=Bt,Ee=$t,Ae=Ot,Ce=St,Pe=Dt,me,je=0;je<20;je+=2)me=lt+Ee|0,gt^=me<<7|me>>>25,me=gt+lt|0,Je^=me<<9|me>>>23,me=Je+gt|0,Ee^=me<<13|me>>>19,me=Ee+Je|0,lt^=me<<18|me>>>14,me=ft+_t|0,fe^=me<<7|me>>>25,me=fe+ft|0,Ae^=me<<9|me>>>23,me=Ae+fe|0,_t^=me<<13|me>>>19,me=_t+Ae|0,ft^=me<<18|me>>>14,me=ye+Ie|0,Ce^=me<<7|me>>>25,me=Ce+ye|0,ct^=me<<9|me>>>23,me=ct+Ce|0,Ie^=me<<13|me>>>19,me=Ie+ct|0,ye^=me<<18|me>>>14,me=Pe+ge|0,vt^=me<<7|me>>>25,me=vt+Pe|0,ke^=me<<9|me>>>23,me=ke+vt|0,ge^=me<<13|me>>>19,me=ge+ke|0,Pe^=me<<18|me>>>14,me=lt+vt|0,_t^=me<<7|me>>>25,me=_t+lt|0,ct^=me<<9|me>>>23,me=ct+_t|0,vt^=me<<13|me>>>19,me=vt+ct|0,lt^=me<<18|me>>>14,me=ft+gt|0,Ie^=me<<7|me>>>25,me=Ie+ft|0,ke^=me<<9|me>>>23,me=ke+Ie|0,gt^=me<<13|me>>>19,me=gt+ke|0,ft^=me<<18|me>>>14,me=ye+fe|0,ge^=me<<7|me>>>25,me=ge+ye|0,Je^=me<<9|me>>>23,me=Je+ge|0,fe^=me<<13|me>>>19,me=fe+Je|0,ye^=me<<18|me>>>14,me=Pe+Ce|0,Ee^=me<<7|me>>>25,me=Ee+Pe|0,Ae^=me<<9|me>>>23,me=Ae+Ee|0,Ce^=me<<13|me>>>19,me=Ce+Ae|0,Pe^=me<<18|me>>>14;lt=lt+pe|0,_t=_t+Re|0,ct=ct+Me|0,vt=vt+Te|0,gt=gt+ze|0,ft=ft+Ze|0,Ie=Ie+Xe|0,ke=ke+qt|0,Je=Je+pt|0,fe=fe+At|0,ye=ye+Mt|0,ge=ge+Bt|0,Ee=Ee+$t|0,Ae=Ae+Ot|0,Ce=Ce+St|0,Pe=Pe+Dt|0,se[0]=lt>>>0&255,se[1]=lt>>>8&255,se[2]=lt>>>16&255,se[3]=lt>>>24&255,se[4]=_t>>>0&255,se[5]=_t>>>8&255,se[6]=_t>>>16&255,se[7]=_t>>>24&255,se[8]=ct>>>0&255,se[9]=ct>>>8&255,se[10]=ct>>>16&255,se[11]=ct>>>24&255,se[12]=vt>>>0&255,se[13]=vt>>>8&255,se[14]=vt>>>16&255,se[15]=vt>>>24&255,se[16]=gt>>>0&255,se[17]=gt>>>8&255,se[18]=gt>>>16&255,se[19]=gt>>>24&255,se[20]=ft>>>0&255,se[21]=ft>>>8&255,se[22]=ft>>>16&255,se[23]=ft>>>24&255,se[24]=Ie>>>0&255,se[25]=Ie>>>8&255,se[26]=Ie>>>16&255,se[27]=Ie>>>24&255,se[28]=ke>>>0&255,se[29]=ke>>>8&255,se[30]=ke>>>16&255,se[31]=ke>>>24&255,se[32]=Je>>>0&255,se[33]=Je>>>8&255,se[34]=Je>>>16&255,se[35]=Je>>>24&255,se[36]=fe>>>0&255,se[37]=fe>>>8&255,se[38]=fe>>>16&255,se[39]=fe>>>24&255,se[40]=ye>>>0&255,se[41]=ye>>>8&255,se[42]=ye>>>16&255,se[43]=ye>>>24&255,se[44]=ge>>>0&255,se[45]=ge>>>8&255,se[46]=ge>>>16&255,se[47]=ge>>>24&255,se[48]=Ee>>>0&255,se[49]=Ee>>>8&255,se[50]=Ee>>>16&255,se[51]=Ee>>>24&255,se[52]=Ae>>>0&255,se[53]=Ae>>>8&255,se[54]=Ae>>>16&255,se[55]=Ae>>>24&255,se[56]=Ce>>>0&255,se[57]=Ce>>>8&255,se[58]=Ce>>>16&255,se[59]=Ce>>>24&255,se[60]=Pe>>>0&255,se[61]=Pe>>>8&255,se[62]=Pe>>>16&255,se[63]=Pe>>>24&255}function K(se,le,he,V){for(var pe=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,Re=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,Me=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Te=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,ze=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,Ze=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,Xe=le[0]&255|(le[1]&255)<<8|(le[2]&255)<<16|(le[3]&255)<<24,qt=le[4]&255|(le[5]&255)<<8|(le[6]&255)<<16|(le[7]&255)<<24,pt=le[8]&255|(le[9]&255)<<8|(le[10]&255)<<16|(le[11]&255)<<24,At=le[12]&255|(le[13]&255)<<8|(le[14]&255)<<16|(le[15]&255)<<24,Mt=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,Bt=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,$t=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,Ot=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,St=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,Dt=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,lt=pe,_t=Re,ct=Me,vt=Te,gt=ze,ft=Ze,Ie=Xe,ke=qt,Je=pt,fe=At,ye=Mt,ge=Bt,Ee=$t,Ae=Ot,Ce=St,Pe=Dt,me,je=0;je<20;je+=2)me=lt+Ee|0,gt^=me<<7|me>>>25,me=gt+lt|0,Je^=me<<9|me>>>23,me=Je+gt|0,Ee^=me<<13|me>>>19,me=Ee+Je|0,lt^=me<<18|me>>>14,me=ft+_t|0,fe^=me<<7|me>>>25,me=fe+ft|0,Ae^=me<<9|me>>>23,me=Ae+fe|0,_t^=me<<13|me>>>19,me=_t+Ae|0,ft^=me<<18|me>>>14,me=ye+Ie|0,Ce^=me<<7|me>>>25,me=Ce+ye|0,ct^=me<<9|me>>>23,me=ct+Ce|0,Ie^=me<<13|me>>>19,me=Ie+ct|0,ye^=me<<18|me>>>14,me=Pe+ge|0,vt^=me<<7|me>>>25,me=vt+Pe|0,ke^=me<<9|me>>>23,me=ke+vt|0,ge^=me<<13|me>>>19,me=ge+ke|0,Pe^=me<<18|me>>>14,me=lt+vt|0,_t^=me<<7|me>>>25,me=_t+lt|0,ct^=me<<9|me>>>23,me=ct+_t|0,vt^=me<<13|me>>>19,me=vt+ct|0,lt^=me<<18|me>>>14,me=ft+gt|0,Ie^=me<<7|me>>>25,me=Ie+ft|0,ke^=me<<9|me>>>23,me=ke+Ie|0,gt^=me<<13|me>>>19,me=gt+ke|0,ft^=me<<18|me>>>14,me=ye+fe|0,ge^=me<<7|me>>>25,me=ge+ye|0,Je^=me<<9|me>>>23,me=Je+ge|0,fe^=me<<13|me>>>19,me=fe+Je|0,ye^=me<<18|me>>>14,me=Pe+Ce|0,Ee^=me<<7|me>>>25,me=Ee+Pe|0,Ae^=me<<9|me>>>23,me=Ae+Ee|0,Ce^=me<<13|me>>>19,me=Ce+Ae|0,Pe^=me<<18|me>>>14;se[0]=lt>>>0&255,se[1]=lt>>>8&255,se[2]=lt>>>16&255,se[3]=lt>>>24&255,se[4]=ft>>>0&255,se[5]=ft>>>8&255,se[6]=ft>>>16&255,se[7]=ft>>>24&255,se[8]=ye>>>0&255,se[9]=ye>>>8&255,se[10]=ye>>>16&255,se[11]=ye>>>24&255,se[12]=Pe>>>0&255,se[13]=Pe>>>8&255,se[14]=Pe>>>16&255,se[15]=Pe>>>24&255,se[16]=Ie>>>0&255,se[17]=Ie>>>8&255,se[18]=Ie>>>16&255,se[19]=Ie>>>24&255,se[20]=ke>>>0&255,se[21]=ke>>>8&255,se[22]=ke>>>16&255,se[23]=ke>>>24&255,se[24]=Je>>>0&255,se[25]=Je>>>8&255,se[26]=Je>>>16&255,se[27]=Je>>>24&255,se[28]=fe>>>0&255,se[29]=fe>>>8&255,se[30]=fe>>>16&255,se[31]=fe>>>24&255}function j(se,le,he,V){L(se,le,he,V)}function W(se,le,he,V){K(se,le,he,V)}var G=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Q(se,le,he,V,pe,Re,Me){var Te=new Uint8Array(16),ze=new Uint8Array(64),Ze,Xe;for(Xe=0;Xe<16;Xe++)Te[Xe]=0;for(Xe=0;Xe<8;Xe++)Te[Xe]=Re[Xe];for(;pe>=64;){for(j(ze,Te,Me,G),Xe=0;Xe<64;Xe++)se[le+Xe]=he[V+Xe]^ze[Xe];for(Ze=1,Xe=8;Xe<16;Xe++)Ze=Ze+(Te[Xe]&255)|0,Te[Xe]=Ze&255,Ze>>>=8;pe-=64,le+=64,V+=64}if(pe>0)for(j(ze,Te,Me,G),Xe=0;Xe<pe;Xe++)se[le+Xe]=he[V+Xe]^ze[Xe];return 0}function re(se,le,he,V,pe){var Re=new Uint8Array(16),Me=new Uint8Array(64),Te,ze;for(ze=0;ze<16;ze++)Re[ze]=0;for(ze=0;ze<8;ze++)Re[ze]=V[ze];for(;he>=64;){for(j(Me,Re,pe,G),ze=0;ze<64;ze++)se[le+ze]=Me[ze];for(Te=1,ze=8;ze<16;ze++)Te=Te+(Re[ze]&255)|0,Re[ze]=Te&255,Te>>>=8;he-=64,le+=64}if(he>0)for(j(Me,Re,pe,G),ze=0;ze<he;ze++)se[le+ze]=Me[ze];return 0}function ne(se,le,he,V,pe){var Re=new Uint8Array(32);W(Re,V,pe,G);for(var Me=new Uint8Array(8),Te=0;Te<8;Te++)Me[Te]=V[Te+16];return re(se,le,he,Me,Re)}function ie(se,le,he,V,pe,Re,Me){var Te=new Uint8Array(32);W(Te,Re,Me,G);for(var ze=new Uint8Array(8),Ze=0;Ze<8;Ze++)ze[Ze]=Re[Ze+16];return Q(se,le,he,V,pe,ze,Te)}var z=function(se){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var le,he,V,pe,Re,Me,Te,ze;le=se[0]&255|(se[1]&255)<<8,this.r[0]=le&8191,he=se[2]&255|(se[3]&255)<<8,this.r[1]=(le>>>13|he<<3)&8191,V=se[4]&255|(se[5]&255)<<8,this.r[2]=(he>>>10|V<<6)&7939,pe=se[6]&255|(se[7]&255)<<8,this.r[3]=(V>>>7|pe<<9)&8191,Re=se[8]&255|(se[9]&255)<<8,this.r[4]=(pe>>>4|Re<<12)&255,this.r[5]=Re>>>1&8190,Me=se[10]&255|(se[11]&255)<<8,this.r[6]=(Re>>>14|Me<<2)&8191,Te=se[12]&255|(se[13]&255)<<8,this.r[7]=(Me>>>11|Te<<5)&8065,ze=se[14]&255|(se[15]&255)<<8,this.r[8]=(Te>>>8|ze<<8)&8191,this.r[9]=ze>>>5&127,this.pad[0]=se[16]&255|(se[17]&255)<<8,this.pad[1]=se[18]&255|(se[19]&255)<<8,this.pad[2]=se[20]&255|(se[21]&255)<<8,this.pad[3]=se[22]&255|(se[23]&255)<<8,this.pad[4]=se[24]&255|(se[25]&255)<<8,this.pad[5]=se[26]&255|(se[27]&255)<<8,this.pad[6]=se[28]&255|(se[29]&255)<<8,this.pad[7]=se[30]&255|(se[31]&255)<<8};z.prototype.blocks=function(se,le,he){for(var V=this.fin?0:2048,pe,Re,Me,Te,ze,Ze,Xe,qt,pt,At,Mt,Bt,$t,Ot,St,Dt,lt,_t,ct,vt=this.h[0],gt=this.h[1],ft=this.h[2],Ie=this.h[3],ke=this.h[4],Je=this.h[5],fe=this.h[6],ye=this.h[7],ge=this.h[8],Ee=this.h[9],Ae=this.r[0],Ce=this.r[1],Pe=this.r[2],me=this.r[3],je=this.r[4],He=this.r[5],Ge=this.r[6],tt=this.r[7],mt=this.r[8],Ct=this.r[9];he>=16;)pe=se[le+0]&255|(se[le+1]&255)<<8,vt+=pe&8191,Re=se[le+2]&255|(se[le+3]&255)<<8,gt+=(pe>>>13|Re<<3)&8191,Me=se[le+4]&255|(se[le+5]&255)<<8,ft+=(Re>>>10|Me<<6)&8191,Te=se[le+6]&255|(se[le+7]&255)<<8,Ie+=(Me>>>7|Te<<9)&8191,ze=se[le+8]&255|(se[le+9]&255)<<8,ke+=(Te>>>4|ze<<12)&8191,Je+=ze>>>1&8191,Ze=se[le+10]&255|(se[le+11]&255)<<8,fe+=(ze>>>14|Ze<<2)&8191,Xe=se[le+12]&255|(se[le+13]&255)<<8,ye+=(Ze>>>11|Xe<<5)&8191,qt=se[le+14]&255|(se[le+15]&255)<<8,ge+=(Xe>>>8|qt<<8)&8191,Ee+=qt>>>5|V,pt=0,At=pt,At+=vt*Ae,At+=gt*(5*Ct),At+=ft*(5*mt),At+=Ie*(5*tt),At+=ke*(5*Ge),pt=At>>>13,At&=8191,At+=Je*(5*He),At+=fe*(5*je),At+=ye*(5*me),At+=ge*(5*Pe),At+=Ee*(5*Ce),pt+=At>>>13,At&=8191,Mt=pt,Mt+=vt*Ce,Mt+=gt*Ae,Mt+=ft*(5*Ct),Mt+=Ie*(5*mt),Mt+=ke*(5*tt),pt=Mt>>>13,Mt&=8191,Mt+=Je*(5*Ge),Mt+=fe*(5*He),Mt+=ye*(5*je),Mt+=ge*(5*me),Mt+=Ee*(5*Pe),pt+=Mt>>>13,Mt&=8191,Bt=pt,Bt+=vt*Pe,Bt+=gt*Ce,Bt+=ft*Ae,Bt+=Ie*(5*Ct),Bt+=ke*(5*mt),pt=Bt>>>13,Bt&=8191,Bt+=Je*(5*tt),Bt+=fe*(5*Ge),Bt+=ye*(5*He),Bt+=ge*(5*je),Bt+=Ee*(5*me),pt+=Bt>>>13,Bt&=8191,$t=pt,$t+=vt*me,$t+=gt*Pe,$t+=ft*Ce,$t+=Ie*Ae,$t+=ke*(5*Ct),pt=$t>>>13,$t&=8191,$t+=Je*(5*mt),$t+=fe*(5*tt),$t+=ye*(5*Ge),$t+=ge*(5*He),$t+=Ee*(5*je),pt+=$t>>>13,$t&=8191,Ot=pt,Ot+=vt*je,Ot+=gt*me,Ot+=ft*Pe,Ot+=Ie*Ce,Ot+=ke*Ae,pt=Ot>>>13,Ot&=8191,Ot+=Je*(5*Ct),Ot+=fe*(5*mt),Ot+=ye*(5*tt),Ot+=ge*(5*Ge),Ot+=Ee*(5*He),pt+=Ot>>>13,Ot&=8191,St=pt,St+=vt*He,St+=gt*je,St+=ft*me,St+=Ie*Pe,St+=ke*Ce,pt=St>>>13,St&=8191,St+=Je*Ae,St+=fe*(5*Ct),St+=ye*(5*mt),St+=ge*(5*tt),St+=Ee*(5*Ge),pt+=St>>>13,St&=8191,Dt=pt,Dt+=vt*Ge,Dt+=gt*He,Dt+=ft*je,Dt+=Ie*me,Dt+=ke*Pe,pt=Dt>>>13,Dt&=8191,Dt+=Je*Ce,Dt+=fe*Ae,Dt+=ye*(5*Ct),Dt+=ge*(5*mt),Dt+=Ee*(5*tt),pt+=Dt>>>13,Dt&=8191,lt=pt,lt+=vt*tt,lt+=gt*Ge,lt+=ft*He,lt+=Ie*je,lt+=ke*me,pt=lt>>>13,lt&=8191,lt+=Je*Pe,lt+=fe*Ce,lt+=ye*Ae,lt+=ge*(5*Ct),lt+=Ee*(5*mt),pt+=lt>>>13,lt&=8191,_t=pt,_t+=vt*mt,_t+=gt*tt,_t+=ft*Ge,_t+=Ie*He,_t+=ke*je,pt=_t>>>13,_t&=8191,_t+=Je*me,_t+=fe*Pe,_t+=ye*Ce,_t+=ge*Ae,_t+=Ee*(5*Ct),pt+=_t>>>13,_t&=8191,ct=pt,ct+=vt*Ct,ct+=gt*mt,ct+=ft*tt,ct+=Ie*Ge,ct+=ke*He,pt=ct>>>13,ct&=8191,ct+=Je*je,ct+=fe*me,ct+=ye*Pe,ct+=ge*Ce,ct+=Ee*Ae,pt+=ct>>>13,ct&=8191,pt=(pt<<2)+pt|0,pt=pt+At|0,At=pt&8191,pt=pt>>>13,Mt+=pt,vt=At,gt=Mt,ft=Bt,Ie=$t,ke=Ot,Je=St,fe=Dt,ye=lt,ge=_t,Ee=ct,le+=16,he-=16;this.h[0]=vt,this.h[1]=gt,this.h[2]=ft,this.h[3]=Ie,this.h[4]=ke,this.h[5]=Je,this.h[6]=fe,this.h[7]=ye,this.h[8]=ge,this.h[9]=Ee},z.prototype.finish=function(se,le){var he=new Uint16Array(10),V,pe,Re,Me;if(this.leftover){for(Me=this.leftover,this.buffer[Me++]=1;Me<16;Me++)this.buffer[Me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(V=this.h[1]>>>13,this.h[1]&=8191,Me=2;Me<10;Me++)this.h[Me]+=V,V=this.h[Me]>>>13,this.h[Me]&=8191;for(this.h[0]+=V*5,V=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=V,V=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=V,he[0]=this.h[0]+5,V=he[0]>>>13,he[0]&=8191,Me=1;Me<10;Me++)he[Me]=this.h[Me]+V,V=he[Me]>>>13,he[Me]&=8191;for(he[9]-=8192,pe=(V^1)-1,Me=0;Me<10;Me++)he[Me]&=pe;for(pe=~pe,Me=0;Me<10;Me++)this.h[Me]=this.h[Me]&pe|he[Me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Re=this.h[0]+this.pad[0],this.h[0]=Re&65535,Me=1;Me<8;Me++)Re=(this.h[Me]+this.pad[Me]|0)+(Re>>>16)|0,this.h[Me]=Re&65535;se[le+0]=this.h[0]>>>0&255,se[le+1]=this.h[0]>>>8&255,se[le+2]=this.h[1]>>>0&255,se[le+3]=this.h[1]>>>8&255,se[le+4]=this.h[2]>>>0&255,se[le+5]=this.h[2]>>>8&255,se[le+6]=this.h[3]>>>0&255,se[le+7]=this.h[3]>>>8&255,se[le+8]=this.h[4]>>>0&255,se[le+9]=this.h[4]>>>8&255,se[le+10]=this.h[5]>>>0&255,se[le+11]=this.h[5]>>>8&255,se[le+12]=this.h[6]>>>0&255,se[le+13]=this.h[6]>>>8&255,se[le+14]=this.h[7]>>>0&255,se[le+15]=this.h[7]>>>8&255},z.prototype.update=function(se,le,he){var V,pe;if(this.leftover){for(pe=16-this.leftover,pe>he&&(pe=he),V=0;V<pe;V++)this.buffer[this.leftover+V]=se[le+V];if(he-=pe,le+=pe,this.leftover+=pe,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(he>=16&&(pe=he-he%16,this.blocks(se,le,pe),le+=pe,he-=pe),he){for(V=0;V<he;V++)this.buffer[this.leftover+V]=se[le+V];this.leftover+=he}};function T(se,le,he,V,pe,Re){var Me=new z(Re);return Me.update(he,V,pe),Me.finish(se,le),0}function D(se,le,he,V,pe,Re){var Me=new Uint8Array(16);return T(Me,0,he,V,pe,Re),P(se,le,Me,0)}function w(se,le,he,V,pe){var Re;if(he<32)return-1;for(ie(se,0,le,0,he,V,pe),T(se,16,se,32,he-32,se),Re=0;Re<16;Re++)se[Re]=0;return 0}function S(se,le,he,V,pe){var Re,Me=new Uint8Array(32);if(he<32||(ne(Me,0,32,V,pe),D(le,16,le,32,he-32,Me)!==0))return-1;for(ie(se,0,le,0,he,V,pe),Re=0;Re<32;Re++)se[Re]=0;return 0}function $(se,le){var he;for(he=0;he<16;he++)se[he]=le[he]|0}function N(se){var le,he,V=1;for(le=0;le<16;le++)he=se[le]+V+65535,V=Math.floor(he/65536),se[le]=he-V*65536;se[0]+=V-1+37*(V-1)}function k(se,le,he){for(var V,pe=~(he-1),Re=0;Re<16;Re++)V=pe&(se[Re]^le[Re]),se[Re]^=V,le[Re]^=V}function U(se,le){var he,V,pe,Re=d(),Me=d();for(he=0;he<16;he++)Me[he]=le[he];for(N(Me),N(Me),N(Me),V=0;V<2;V++){for(Re[0]=Me[0]-65517,he=1;he<15;he++)Re[he]=Me[he]-65535-(Re[he-1]>>16&1),Re[he-1]&=65535;Re[15]=Me[15]-32767-(Re[14]>>16&1),pe=Re[15]>>16&1,Re[14]&=65535,k(Me,Re,1-pe)}for(he=0;he<16;he++)se[2*he]=Me[he]&255,se[2*he+1]=Me[he]>>8}function I(se,le){var he=new Uint8Array(32),V=new Uint8Array(32);return U(he,se),U(V,le),F(he,0,V,0)}function q(se){var le=new Uint8Array(32);return U(le,se),le[0]&1}function B(se,le){var he;for(he=0;he<16;he++)se[he]=le[2*he]+(le[2*he+1]<<8);se[15]&=32767}function H(se,le,he){for(var V=0;V<16;V++)se[V]=le[V]+he[V]}function ce(se,le,he){for(var V=0;V<16;V++)se[V]=le[V]-he[V]}function be(se,le,he){var V,pe,Re=0,Me=0,Te=0,ze=0,Ze=0,Xe=0,qt=0,pt=0,At=0,Mt=0,Bt=0,$t=0,Ot=0,St=0,Dt=0,lt=0,_t=0,ct=0,vt=0,gt=0,ft=0,Ie=0,ke=0,Je=0,fe=0,ye=0,ge=0,Ee=0,Ae=0,Ce=0,Pe=0,me=he[0],je=he[1],He=he[2],Ge=he[3],tt=he[4],mt=he[5],Ct=he[6],Pt=he[7],kt=he[8],Ut=he[9],Ft=he[10],Lt=he[11],Kt=he[12],Wt=he[13],jt=he[14],Ht=he[15];V=le[0],Re+=V*me,Me+=V*je,Te+=V*He,ze+=V*Ge,Ze+=V*tt,Xe+=V*mt,qt+=V*Ct,pt+=V*Pt,At+=V*kt,Mt+=V*Ut,Bt+=V*Ft,$t+=V*Lt,Ot+=V*Kt,St+=V*Wt,Dt+=V*jt,lt+=V*Ht,V=le[1],Me+=V*me,Te+=V*je,ze+=V*He,Ze+=V*Ge,Xe+=V*tt,qt+=V*mt,pt+=V*Ct,At+=V*Pt,Mt+=V*kt,Bt+=V*Ut,$t+=V*Ft,Ot+=V*Lt,St+=V*Kt,Dt+=V*Wt,lt+=V*jt,_t+=V*Ht,V=le[2],Te+=V*me,ze+=V*je,Ze+=V*He,Xe+=V*Ge,qt+=V*tt,pt+=V*mt,At+=V*Ct,Mt+=V*Pt,Bt+=V*kt,$t+=V*Ut,Ot+=V*Ft,St+=V*Lt,Dt+=V*Kt,lt+=V*Wt,_t+=V*jt,ct+=V*Ht,V=le[3],ze+=V*me,Ze+=V*je,Xe+=V*He,qt+=V*Ge,pt+=V*tt,At+=V*mt,Mt+=V*Ct,Bt+=V*Pt,$t+=V*kt,Ot+=V*Ut,St+=V*Ft,Dt+=V*Lt,lt+=V*Kt,_t+=V*Wt,ct+=V*jt,vt+=V*Ht,V=le[4],Ze+=V*me,Xe+=V*je,qt+=V*He,pt+=V*Ge,At+=V*tt,Mt+=V*mt,Bt+=V*Ct,$t+=V*Pt,Ot+=V*kt,St+=V*Ut,Dt+=V*Ft,lt+=V*Lt,_t+=V*Kt,ct+=V*Wt,vt+=V*jt,gt+=V*Ht,V=le[5],Xe+=V*me,qt+=V*je,pt+=V*He,At+=V*Ge,Mt+=V*tt,Bt+=V*mt,$t+=V*Ct,Ot+=V*Pt,St+=V*kt,Dt+=V*Ut,lt+=V*Ft,_t+=V*Lt,ct+=V*Kt,vt+=V*Wt,gt+=V*jt,ft+=V*Ht,V=le[6],qt+=V*me,pt+=V*je,At+=V*He,Mt+=V*Ge,Bt+=V*tt,$t+=V*mt,Ot+=V*Ct,St+=V*Pt,Dt+=V*kt,lt+=V*Ut,_t+=V*Ft,ct+=V*Lt,vt+=V*Kt,gt+=V*Wt,ft+=V*jt,Ie+=V*Ht,V=le[7],pt+=V*me,At+=V*je,Mt+=V*He,Bt+=V*Ge,$t+=V*tt,Ot+=V*mt,St+=V*Ct,Dt+=V*Pt,lt+=V*kt,_t+=V*Ut,ct+=V*Ft,vt+=V*Lt,gt+=V*Kt,ft+=V*Wt,Ie+=V*jt,ke+=V*Ht,V=le[8],At+=V*me,Mt+=V*je,Bt+=V*He,$t+=V*Ge,Ot+=V*tt,St+=V*mt,Dt+=V*Ct,lt+=V*Pt,_t+=V*kt,ct+=V*Ut,vt+=V*Ft,gt+=V*Lt,ft+=V*Kt,Ie+=V*Wt,ke+=V*jt,Je+=V*Ht,V=le[9],Mt+=V*me,Bt+=V*je,$t+=V*He,Ot+=V*Ge,St+=V*tt,Dt+=V*mt,lt+=V*Ct,_t+=V*Pt,ct+=V*kt,vt+=V*Ut,gt+=V*Ft,ft+=V*Lt,Ie+=V*Kt,ke+=V*Wt,Je+=V*jt,fe+=V*Ht,V=le[10],Bt+=V*me,$t+=V*je,Ot+=V*He,St+=V*Ge,Dt+=V*tt,lt+=V*mt,_t+=V*Ct,ct+=V*Pt,vt+=V*kt,gt+=V*Ut,ft+=V*Ft,Ie+=V*Lt,ke+=V*Kt,Je+=V*Wt,fe+=V*jt,ye+=V*Ht,V=le[11],$t+=V*me,Ot+=V*je,St+=V*He,Dt+=V*Ge,lt+=V*tt,_t+=V*mt,ct+=V*Ct,vt+=V*Pt,gt+=V*kt,ft+=V*Ut,Ie+=V*Ft,ke+=V*Lt,Je+=V*Kt,fe+=V*Wt,ye+=V*jt,ge+=V*Ht,V=le[12],Ot+=V*me,St+=V*je,Dt+=V*He,lt+=V*Ge,_t+=V*tt,ct+=V*mt,vt+=V*Ct,gt+=V*Pt,ft+=V*kt,Ie+=V*Ut,ke+=V*Ft,Je+=V*Lt,fe+=V*Kt,ye+=V*Wt,ge+=V*jt,Ee+=V*Ht,V=le[13],St+=V*me,Dt+=V*je,lt+=V*He,_t+=V*Ge,ct+=V*tt,vt+=V*mt,gt+=V*Ct,ft+=V*Pt,Ie+=V*kt,ke+=V*Ut,Je+=V*Ft,fe+=V*Lt,ye+=V*Kt,ge+=V*Wt,Ee+=V*jt,Ae+=V*Ht,V=le[14],Dt+=V*me,lt+=V*je,_t+=V*He,ct+=V*Ge,vt+=V*tt,gt+=V*mt,ft+=V*Ct,Ie+=V*Pt,ke+=V*kt,Je+=V*Ut,fe+=V*Ft,ye+=V*Lt,ge+=V*Kt,Ee+=V*Wt,Ae+=V*jt,Ce+=V*Ht,V=le[15],lt+=V*me,_t+=V*je,ct+=V*He,vt+=V*Ge,gt+=V*tt,ft+=V*mt,Ie+=V*Ct,ke+=V*Pt,Je+=V*kt,fe+=V*Ut,ye+=V*Ft,ge+=V*Lt,Ee+=V*Kt,Ae+=V*Wt,Ce+=V*jt,Pe+=V*Ht,Re+=38*_t,Me+=38*ct,Te+=38*vt,ze+=38*gt,Ze+=38*ft,Xe+=38*Ie,qt+=38*ke,pt+=38*Je,At+=38*fe,Mt+=38*ye,Bt+=38*ge,$t+=38*Ee,Ot+=38*Ae,St+=38*Ce,Dt+=38*Pe,pe=1,V=Re+pe+65535,pe=Math.floor(V/65536),Re=V-pe*65536,V=Me+pe+65535,pe=Math.floor(V/65536),Me=V-pe*65536,V=Te+pe+65535,pe=Math.floor(V/65536),Te=V-pe*65536,V=ze+pe+65535,pe=Math.floor(V/65536),ze=V-pe*65536,V=Ze+pe+65535,pe=Math.floor(V/65536),Ze=V-pe*65536,V=Xe+pe+65535,pe=Math.floor(V/65536),Xe=V-pe*65536,V=qt+pe+65535,pe=Math.floor(V/65536),qt=V-pe*65536,V=pt+pe+65535,pe=Math.floor(V/65536),pt=V-pe*65536,V=At+pe+65535,pe=Math.floor(V/65536),At=V-pe*65536,V=Mt+pe+65535,pe=Math.floor(V/65536),Mt=V-pe*65536,V=Bt+pe+65535,pe=Math.floor(V/65536),Bt=V-pe*65536,V=$t+pe+65535,pe=Math.floor(V/65536),$t=V-pe*65536,V=Ot+pe+65535,pe=Math.floor(V/65536),Ot=V-pe*65536,V=St+pe+65535,pe=Math.floor(V/65536),St=V-pe*65536,V=Dt+pe+65535,pe=Math.floor(V/65536),Dt=V-pe*65536,V=lt+pe+65535,pe=Math.floor(V/65536),lt=V-pe*65536,Re+=pe-1+37*(pe-1),pe=1,V=Re+pe+65535,pe=Math.floor(V/65536),Re=V-pe*65536,V=Me+pe+65535,pe=Math.floor(V/65536),Me=V-pe*65536,V=Te+pe+65535,pe=Math.floor(V/65536),Te=V-pe*65536,V=ze+pe+65535,pe=Math.floor(V/65536),ze=V-pe*65536,V=Ze+pe+65535,pe=Math.floor(V/65536),Ze=V-pe*65536,V=Xe+pe+65535,pe=Math.floor(V/65536),Xe=V-pe*65536,V=qt+pe+65535,pe=Math.floor(V/65536),qt=V-pe*65536,V=pt+pe+65535,pe=Math.floor(V/65536),pt=V-pe*65536,V=At+pe+65535,pe=Math.floor(V/65536),At=V-pe*65536,V=Mt+pe+65535,pe=Math.floor(V/65536),Mt=V-pe*65536,V=Bt+pe+65535,pe=Math.floor(V/65536),Bt=V-pe*65536,V=$t+pe+65535,pe=Math.floor(V/65536),$t=V-pe*65536,V=Ot+pe+65535,pe=Math.floor(V/65536),Ot=V-pe*65536,V=St+pe+65535,pe=Math.floor(V/65536),St=V-pe*65536,V=Dt+pe+65535,pe=Math.floor(V/65536),Dt=V-pe*65536,V=lt+pe+65535,pe=Math.floor(V/65536),lt=V-pe*65536,Re+=pe-1+37*(pe-1),se[0]=Re,se[1]=Me,se[2]=Te,se[3]=ze,se[4]=Ze,se[5]=Xe,se[6]=qt,se[7]=pt,se[8]=At,se[9]=Mt,se[10]=Bt,se[11]=$t,se[12]=Ot,se[13]=St,se[14]=Dt,se[15]=lt}function ve(se,le){be(se,le,le)}function Z(se,le){var he=d(),V;for(V=0;V<16;V++)he[V]=le[V];for(V=253;V>=0;V--)ve(he,he),V!==2&&V!==4&&be(he,he,le);for(V=0;V<16;V++)se[V]=he[V]}function J(se,le){var he=d(),V;for(V=0;V<16;V++)he[V]=le[V];for(V=250;V>=0;V--)ve(he,he),V!==1&&be(he,he,le);for(V=0;V<16;V++)se[V]=he[V]}function ae(se,le,he){var V=new Uint8Array(32),pe=new Float64Array(80),Re,Me,Te=d(),ze=d(),Ze=d(),Xe=d(),qt=d(),pt=d();for(Me=0;Me<31;Me++)V[Me]=le[Me];for(V[31]=le[31]&127|64,V[0]&=248,B(pe,he),Me=0;Me<16;Me++)ze[Me]=pe[Me],Xe[Me]=Te[Me]=Ze[Me]=0;for(Te[0]=Xe[0]=1,Me=254;Me>=0;--Me)Re=V[Me>>>3]>>>(Me&7)&1,k(Te,ze,Re),k(Ze,Xe,Re),H(qt,Te,Ze),ce(Te,Te,Ze),H(Ze,ze,Xe),ce(ze,ze,Xe),ve(Xe,qt),ve(pt,Te),be(Te,Ze,Te),be(Ze,ze,qt),H(qt,Te,Ze),ce(Te,Te,Ze),ve(ze,Te),ce(Ze,Xe,pt),be(Te,Ze,x),H(Te,Te,Xe),be(Ze,Ze,Te),be(Te,Xe,pt),be(Xe,ze,pe),ve(ze,qt),k(Te,ze,Re),k(Ze,Xe,Re);for(Me=0;Me<16;Me++)pe[Me+16]=Te[Me],pe[Me+32]=Ze[Me],pe[Me+48]=ze[Me],pe[Me+64]=Xe[Me];var At=pe.subarray(32),Mt=pe.subarray(16);return Z(At,At),be(Mt,Mt,At),U(se,Mt),0}function X(se,le){return ae(se,le,v)}function Y(se,le){return g(le,32),X(se,le)}function oe(se,le,he){var V=new Uint8Array(32);return ae(V,he,le),W(se,m,V,G)}var we=w,Se=S;function De(se,le,he,V,pe,Re){var Me=new Uint8Array(32);return oe(Me,pe,Re),we(se,le,he,V,Me)}function qe(se,le,he,V,pe,Re){var Me=new Uint8Array(32);return oe(Me,pe,Re),Se(se,le,he,V,Me)}var Ue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ne(se,le,he,V){for(var pe=new Int32Array(16),Re=new Int32Array(16),Me,Te,ze,Ze,Xe,qt,pt,At,Mt,Bt,$t,Ot,St,Dt,lt,_t,ct,vt,gt,ft,Ie,ke,Je,fe,ye,ge,Ee=se[0],Ae=se[1],Ce=se[2],Pe=se[3],me=se[4],je=se[5],He=se[6],Ge=se[7],tt=le[0],mt=le[1],Ct=le[2],Pt=le[3],kt=le[4],Ut=le[5],Ft=le[6],Lt=le[7],Kt=0;V>=128;){for(gt=0;gt<16;gt++)ft=8*gt+Kt,pe[gt]=he[ft+0]<<24|he[ft+1]<<16|he[ft+2]<<8|he[ft+3],Re[gt]=he[ft+4]<<24|he[ft+5]<<16|he[ft+6]<<8|he[ft+7];for(gt=0;gt<80;gt++)if(Me=Ee,Te=Ae,ze=Ce,Ze=Pe,Xe=me,qt=je,pt=He,At=Ge,Mt=tt,Bt=mt,$t=Ct,Ot=Pt,St=kt,Dt=Ut,lt=Ft,_t=Lt,Ie=Ge,ke=Lt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=(me>>>14|kt<<18)^(me>>>18|kt<<14)^(kt>>>9|me<<23),ke=(kt>>>14|me<<18)^(kt>>>18|me<<14)^(me>>>9|kt<<23),Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,Ie=me&je^~me&He,ke=kt&Ut^~kt&Ft,Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,Ie=Ue[gt*2],ke=Ue[gt*2+1],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,Ie=pe[gt%16],ke=Re[gt%16],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,ct=ye&65535|ge<<16,vt=Je&65535|fe<<16,Ie=ct,ke=vt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=(Ee>>>28|tt<<4)^(tt>>>2|Ee<<30)^(tt>>>7|Ee<<25),ke=(tt>>>28|Ee<<4)^(Ee>>>2|tt<<30)^(Ee>>>7|tt<<25),Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,Ie=Ee&Ae^Ee&Ce^Ae&Ce,ke=tt&mt^tt&Ct^mt&Ct,Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,At=ye&65535|ge<<16,_t=Je&65535|fe<<16,Ie=Ze,ke=Ot,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=ct,ke=vt,Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,Ze=ye&65535|ge<<16,Ot=Je&65535|fe<<16,Ae=Me,Ce=Te,Pe=ze,me=Ze,je=Xe,He=qt,Ge=pt,Ee=At,mt=Mt,Ct=Bt,Pt=$t,kt=Ot,Ut=St,Ft=Dt,Lt=lt,tt=_t,gt%16===15)for(ft=0;ft<16;ft++)Ie=pe[ft],ke=Re[ft],Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=pe[(ft+9)%16],ke=Re[(ft+9)%16],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,ct=pe[(ft+1)%16],vt=Re[(ft+1)%16],Ie=(ct>>>1|vt<<31)^(ct>>>8|vt<<24)^ct>>>7,ke=(vt>>>1|ct<<31)^(vt>>>8|ct<<24)^(vt>>>7|ct<<25),Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,ct=pe[(ft+14)%16],vt=Re[(ft+14)%16],Ie=(ct>>>19|vt<<13)^(vt>>>29|ct<<3)^ct>>>6,ke=(vt>>>19|ct<<13)^(ct>>>29|vt<<3)^(vt>>>6|ct<<26),Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,pe[ft]=ye&65535|ge<<16,Re[ft]=Je&65535|fe<<16;Ie=Ee,ke=tt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[0],ke=le[0],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[0]=Ee=ye&65535|ge<<16,le[0]=tt=Je&65535|fe<<16,Ie=Ae,ke=mt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[1],ke=le[1],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[1]=Ae=ye&65535|ge<<16,le[1]=mt=Je&65535|fe<<16,Ie=Ce,ke=Ct,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[2],ke=le[2],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[2]=Ce=ye&65535|ge<<16,le[2]=Ct=Je&65535|fe<<16,Ie=Pe,ke=Pt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[3],ke=le[3],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[3]=Pe=ye&65535|ge<<16,le[3]=Pt=Je&65535|fe<<16,Ie=me,ke=kt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[4],ke=le[4],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[4]=me=ye&65535|ge<<16,le[4]=kt=Je&65535|fe<<16,Ie=je,ke=Ut,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[5],ke=le[5],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[5]=je=ye&65535|ge<<16,le[5]=Ut=Je&65535|fe<<16,Ie=He,ke=Ft,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[6],ke=le[6],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[6]=He=ye&65535|ge<<16,le[6]=Ft=Je&65535|fe<<16,Ie=Ge,ke=Lt,Je=ke&65535,fe=ke>>>16,ye=Ie&65535,ge=Ie>>>16,Ie=se[7],ke=le[7],Je+=ke&65535,fe+=ke>>>16,ye+=Ie&65535,ge+=Ie>>>16,fe+=Je>>>16,ye+=fe>>>16,ge+=ye>>>16,se[7]=Ge=ye&65535|ge<<16,le[7]=Lt=Je&65535|fe<<16,Kt+=128,V-=128}return V}function Be(se,le,he){var V=new Int32Array(8),pe=new Int32Array(8),Re=new Uint8Array(256),Me,Te=he;for(V[0]=1779033703,V[1]=3144134277,V[2]=1013904242,V[3]=2773480762,V[4]=1359893119,V[5]=2600822924,V[6]=528734635,V[7]=1541459225,pe[0]=4089235720,pe[1]=2227873595,pe[2]=4271175723,pe[3]=1595750129,pe[4]=2917565137,pe[5]=725511199,pe[6]=4215389547,pe[7]=327033209,Ne(V,pe,le,he),he%=128,Me=0;Me<he;Me++)Re[Me]=le[Te-he+Me];for(Re[he]=128,he=256-128*(he<112?1:0),Re[he-9]=0,A(Re,he-8,Te/536870912|0,Te<<3),Ne(V,pe,Re,he),Me=0;Me<8;Me++)A(se,8*Me,V[Me],pe[Me]);return 0}function Qe(se,le){var he=d(),V=d(),pe=d(),Re=d(),Me=d(),Te=d(),ze=d(),Ze=d(),Xe=d();ce(he,se[1],se[0]),ce(Xe,le[1],le[0]),be(he,he,Xe),H(V,se[0],se[1]),H(Xe,le[0],le[1]),be(V,V,Xe),be(pe,se[3],le[3]),be(pe,pe,b),be(Re,se[2],le[2]),H(Re,Re,Re),ce(Me,V,he),ce(Te,Re,pe),H(ze,Re,pe),H(Ze,V,he),be(se[0],Me,Te),be(se[1],Ze,ze),be(se[2],ze,Te),be(se[3],Me,Ze)}function Le(se,le,he){var V;for(V=0;V<4;V++)k(se[V],le[V],he)}function ot(se,le){var he=d(),V=d(),pe=d();Z(pe,le[2]),be(he,le[0],pe),be(V,le[1],pe),U(se,V),se[31]^=q(he)<<7}function Ve(se,le,he){var V,pe;for($(se[0],_),$(se[1],y),$(se[2],y),$(se[3],_),pe=255;pe>=0;--pe)V=he[pe/8|0]>>(pe&7)&1,Le(se,le,V),Qe(le,se),Qe(se,se),Le(se,le,V)}function We(se,le){var he=[d(),d(),d(),d()];$(he[0],C),$(he[1],R),$(he[2],y),be(he[3],C,R),Ve(se,he,le)}function it(se,le,he){var V=new Uint8Array(64),pe=[d(),d(),d(),d()],Re;for(he||g(le,32),Be(V,le,32),V[0]&=248,V[31]&=127,V[31]|=64,We(pe,V),ot(se,pe),Re=0;Re<32;Re++)le[Re+32]=se[Re];return 0}var Ke=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Fe(se,le){var he,V,pe,Re;for(V=63;V>=32;--V){for(he=0,pe=V-32,Re=V-12;pe<Re;++pe)le[pe]+=he-16*le[V]*Ke[pe-(V-32)],he=Math.floor((le[pe]+128)/256),le[pe]-=he*256;le[pe]+=he,le[V]=0}for(he=0,pe=0;pe<32;pe++)le[pe]+=he-(le[31]>>4)*Ke[pe],he=le[pe]>>8,le[pe]&=255;for(pe=0;pe<32;pe++)le[pe]-=he*Ke[pe];for(V=0;V<32;V++)le[V+1]+=le[V]>>8,se[V]=le[V]&255}function Ye(se){var le=new Float64Array(64),he;for(he=0;he<64;he++)le[he]=se[he];for(he=0;he<64;he++)se[he]=0;Fe(se,le)}function rt(se,le,he,V){var pe=new Uint8Array(64),Re=new Uint8Array(64),Me=new Uint8Array(64),Te,ze,Ze=new Float64Array(64),Xe=[d(),d(),d(),d()];Be(pe,V,32),pe[0]&=248,pe[31]&=127,pe[31]|=64;var qt=he+64;for(Te=0;Te<he;Te++)se[64+Te]=le[Te];for(Te=0;Te<32;Te++)se[32+Te]=pe[32+Te];for(Be(Me,se.subarray(32),he+32),Ye(Me),We(Xe,Me),ot(se,Xe),Te=32;Te<64;Te++)se[Te]=V[Te];for(Be(Re,se,he+64),Ye(Re),Te=0;Te<64;Te++)Ze[Te]=0;for(Te=0;Te<32;Te++)Ze[Te]=Me[Te];for(Te=0;Te<32;Te++)for(ze=0;ze<32;ze++)Ze[Te+ze]+=Re[Te]*pe[ze];return Fe(se.subarray(32),Ze),qt}function ue(se,le){var he=d(),V=d(),pe=d(),Re=d(),Me=d(),Te=d(),ze=d();return $(se[2],y),B(se[1],le),ve(pe,se[1]),be(Re,pe,E),ce(pe,pe,se[2]),H(Re,se[2],Re),ve(Me,Re),ve(Te,Me),be(ze,Te,Me),be(he,ze,pe),be(he,he,Re),J(he,he),be(he,he,pe),be(he,he,Re),be(he,he,Re),be(se[0],he,Re),ve(V,se[0]),be(V,V,Re),I(V,pe)&&be(se[0],se[0],O),ve(V,se[0]),be(V,V,Re),I(V,pe)?-1:(q(se[0])===le[31]>>7&&ce(se[0],_,se[0]),be(se[3],se[0],se[1]),0)}function ee(se,le,he,V){var pe,Re=new Uint8Array(32),Me=new Uint8Array(64),Te=[d(),d(),d(),d()],ze=[d(),d(),d(),d()];if(he<64||ue(ze,V))return-1;for(pe=0;pe<he;pe++)se[pe]=le[pe];for(pe=0;pe<32;pe++)se[pe+32]=V[pe];if(Be(Me,se,he),Ye(Me),Ve(Te,ze,Me),We(ze,le.subarray(32)),Qe(Te,ze),ot(Re,Te),he-=64,F(le,0,Re,0)){for(pe=0;pe<he;pe++)se[pe]=0;return-1}for(pe=0;pe<he;pe++)se[pe]=le[pe+64];return he}var te=32,de=24,xe=32,Oe=16,$e=32,dt=32,ut=32,et=32,wt=32,ht=de,yt=xe,It=Oe,bt=64,at=32,Tt=64,xt=32,st=64;r.lowlevel={crypto_core_hsalsa20:W,crypto_stream_xor:ie,crypto_stream:ne,crypto_stream_salsa20_xor:Q,crypto_stream_salsa20:re,crypto_onetimeauth:T,crypto_onetimeauth_verify:D,crypto_verify_16:P,crypto_verify_32:F,crypto_secretbox:w,crypto_secretbox_open:S,crypto_scalarmult:ae,crypto_scalarmult_base:X,crypto_box_beforenm:oe,crypto_box_afternm:we,crypto_box:De,crypto_box_open:qe,crypto_box_keypair:Y,crypto_hash:Be,crypto_sign:rt,crypto_sign_keypair:it,crypto_sign_open:ee,crypto_secretbox_KEYBYTES:te,crypto_secretbox_NONCEBYTES:de,crypto_secretbox_ZEROBYTES:xe,crypto_secretbox_BOXZEROBYTES:Oe,crypto_scalarmult_BYTES:$e,crypto_scalarmult_SCALARBYTES:dt,crypto_box_PUBLICKEYBYTES:ut,crypto_box_SECRETKEYBYTES:et,crypto_box_BEFORENMBYTES:wt,crypto_box_NONCEBYTES:ht,crypto_box_ZEROBYTES:yt,crypto_box_BOXZEROBYTES:It,crypto_sign_BYTES:bt,crypto_sign_PUBLICKEYBYTES:at,crypto_sign_SECRETKEYBYTES:Tt,crypto_sign_SEEDBYTES:xt,crypto_hash_BYTES:st,gf:d,D:E,L:Ke,pack25519:U,unpack25519:B,M:be,A:H,S:ve,Z:ce,pow2523:J,add:Qe,set25519:$,modL:Fe,scalarmult:Ve,scalarbase:We};function Nt(se,le){if(se.length!==te)throw new Error("bad key size");if(le.length!==de)throw new Error("bad nonce size")}function Et(se,le){if(se.length!==ut)throw new Error("bad public key size");if(le.length!==et)throw new Error("bad secret key size")}function nt(){for(var se=0;se<arguments.length;se++)if(!(arguments[se]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Rt(se){for(var le=0;le<se.length;le++)se[le]=0}r.randomBytes=function(se){var le=new Uint8Array(se);return g(le,se),le},r.secretbox=function(se,le,he){nt(se,le,he),Nt(he,le);for(var V=new Uint8Array(xe+se.length),pe=new Uint8Array(V.length),Re=0;Re<se.length;Re++)V[Re+xe]=se[Re];return w(pe,V,V.length,le,he),pe.subarray(Oe)},r.secretbox.open=function(se,le,he){nt(se,le,he),Nt(he,le);for(var V=new Uint8Array(Oe+se.length),pe=new Uint8Array(V.length),Re=0;Re<se.length;Re++)V[Re+Oe]=se[Re];return V.length<32||S(pe,V,V.length,le,he)!==0?null:pe.subarray(xe)},r.secretbox.keyLength=te,r.secretbox.nonceLength=de,r.secretbox.overheadLength=Oe,r.scalarMult=function(se,le){if(nt(se,le),se.length!==dt)throw new Error("bad n size");if(le.length!==$e)throw new Error("bad p size");var he=new Uint8Array($e);return ae(he,se,le),he},r.scalarMult.base=function(se){if(nt(se),se.length!==dt)throw new Error("bad n size");var le=new Uint8Array($e);return X(le,se),le},r.scalarMult.scalarLength=dt,r.scalarMult.groupElementLength=$e,r.box=function(se,le,he,V){var pe=r.box.before(he,V);return r.secretbox(se,le,pe)},r.box.before=function(se,le){nt(se,le),Et(se,le);var he=new Uint8Array(wt);return oe(he,se,le),he},r.box.after=r.secretbox,r.box.open=function(se,le,he,V){var pe=r.box.before(he,V);return r.secretbox.open(se,le,pe)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var se=new Uint8Array(ut),le=new Uint8Array(et);return Y(se,le),{publicKey:se,secretKey:le}},r.box.keyPair.fromSecretKey=function(se){if(nt(se),se.length!==et)throw new Error("bad secret key size");var le=new Uint8Array(ut);return X(le,se),{publicKey:le,secretKey:new Uint8Array(se)}},r.box.publicKeyLength=ut,r.box.secretKeyLength=et,r.box.sharedKeyLength=wt,r.box.nonceLength=ht,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(se,le){if(nt(se,le),le.length!==Tt)throw new Error("bad secret key size");var he=new Uint8Array(bt+se.length);return rt(he,se,se.length,le),he},r.sign.open=function(se,le){if(nt(se,le),le.length!==at)throw new Error("bad public key size");var he=new Uint8Array(se.length),V=ee(he,se,se.length,le);if(V<0)return null;for(var pe=new Uint8Array(V),Re=0;Re<pe.length;Re++)pe[Re]=he[Re];return pe},r.sign.detached=function(se,le){for(var he=r.sign(se,le),V=new Uint8Array(bt),pe=0;pe<V.length;pe++)V[pe]=he[pe];return V},r.sign.detached.verify=function(se,le,he){if(nt(se,le,he),le.length!==bt)throw new Error("bad signature size");if(he.length!==at)throw new Error("bad public key size");var V=new Uint8Array(bt+se.length),pe=new Uint8Array(bt+se.length),Re;for(Re=0;Re<bt;Re++)V[Re]=le[Re];for(Re=0;Re<se.length;Re++)V[Re+bt]=se[Re];return ee(pe,V,V.length,he)>=0},r.sign.keyPair=function(){var se=new Uint8Array(at),le=new Uint8Array(Tt);return it(se,le),{publicKey:se,secretKey:le}},r.sign.keyPair.fromSecretKey=function(se){if(nt(se),se.length!==Tt)throw new Error("bad secret key size");for(var le=new Uint8Array(at),he=0;he<le.length;he++)le[he]=se[32+he];return{publicKey:le,secretKey:new Uint8Array(se)}},r.sign.keyPair.fromSeed=function(se){if(nt(se),se.length!==xt)throw new Error("bad seed size");for(var le=new Uint8Array(at),he=new Uint8Array(Tt),V=0;V<32;V++)he[V]=se[V];return it(le,he,!0),{publicKey:le,secretKey:he}},r.sign.publicKeyLength=at,r.sign.secretKeyLength=Tt,r.sign.seedLength=xt,r.sign.signatureLength=bt,r.hash=function(se){nt(se);var le=new Uint8Array(st);return Be(le,se,se.length),le},r.hash.hashLength=st,r.verify=function(se,le){return nt(se,le),se.length===0||le.length===0||se.length!==le.length?!1:M(se,0,le,0,se.length)===0},r.setPRNG=function(se){g=se},function(){var se=typeof self<"u"?self.crypto||self.msCrypto:null;if(se&&se.getRandomValues){var le=65536;r.setPRNG(function(he,V){var pe,Re=new Uint8Array(V);for(pe=0;pe<V;pe+=le)se.getRandomValues(Re.subarray(pe,pe+Math.min(V-pe,le)));for(pe=0;pe<V;pe++)he[pe]=Re[pe];Rt(Re)})}else typeof commonjsRequire<"u"&&(se=requireCryptoBrowserify(),se&&se.randomBytes&&r.setPRNG(function(he,V){var pe,Re=se.randomBytes(V);for(pe=0;pe<V;pe++)he[pe]=Re[pe];Rt(Re)}))}()})(f.exports?f.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl=getDefaultExportFromCjs(naclFastExports);var utils$4={},naclUtil={exports:{}};(function(f){(function(r,d){f.exports?f.exports=d():(r.nacl||(r.nacl={}),r.nacl.util=d())})(commonjsGlobal,function(){var r={};function d(g){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(g))throw new TypeError("invalid encoding")}return r.decodeUTF8=function(g){if(typeof g!="string")throw new TypeError("expected string");var m,v=unescape(encodeURIComponent(g)),_=new Uint8Array(v.length);for(m=0;m<v.length;m++)_[m]=v.charCodeAt(m);return _},r.encodeUTF8=function(g){var m,v=[];for(m=0;m<g.length;m++)v.push(String.fromCharCode(g[m]));return decodeURIComponent(escape(v.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(r.encodeBase64=function(g){return Buffer.from(g).toString("base64")},r.decodeBase64=function(g){return d(g),new Uint8Array(Array.prototype.slice.call(Buffer.from(g,"base64"),0))}):(r.encodeBase64=function(g){return new Buffer(g).toString("base64")},r.decodeBase64=function(g){return d(g),new Uint8Array(Array.prototype.slice.call(new Buffer(g,"base64"),0))}):(r.encodeBase64=function(g){var m,v=[],_=g.length;for(m=0;m<_;m++)v.push(String.fromCharCode(g[m]));return btoa(v.join(""))},r.decodeBase64=function(g){d(g);var m,v=atob(g),_=new Uint8Array(v.length);for(m=0;m<v.length;m++)_[m]=v.charCodeAt(m);return _}),r})})(naclUtil);var naclUtilExports=naclUtil.exports;function base$3(f,r){if(f.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),g=0;g<d.length;g++)d[g]=255;for(var m=0;m<f.length;m++){var v=f.charAt(m),_=v.charCodeAt(0);if(d[_]!==255)throw new TypeError(v+" is ambiguous");d[_]=m}var y=f.length,x=f.charAt(0),E=Math.log(y)/Math.log(256),b=Math.log(256)/Math.log(y);function C(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var M=0,P=0,F=0,L=A.length;F!==L&&A[F]===0;)F++,M++;for(var K=(L-F)*b+1>>>0,j=new Uint8Array(K);F!==L;){for(var W=A[F],G=0,Q=K-1;(W!==0||G<P)&&Q!==-1;Q--,G++)W+=256*j[Q]>>>0,j[Q]=W%y>>>0,W=W/y>>>0;if(W!==0)throw new Error("Non-zero carry");P=G,F++}for(var re=K-P;re!==K&&j[re]===0;)re++;for(var ne=x.repeat(M);re<K;++re)ne+=f.charAt(j[re]);return ne}function R(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var M=0;if(A[M]!==" "){for(var P=0,F=0;A[M]===x;)P++,M++;for(var L=(A.length-M)*E+1>>>0,K=new Uint8Array(L);A[M];){var j=d[A.charCodeAt(M)];if(j===255)return;for(var W=0,G=L-1;(j!==0||W<F)&&G!==-1;G--,W++)j+=y*K[G]>>>0,K[G]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");F=W,M++}if(A[M]!==" "){for(var Q=L-F;Q!==L&&K[Q]===0;)Q++;for(var re=new Uint8Array(P+(L-Q)),ne=P;Q!==L;)re[ne++]=K[Q++];return re}}}function O(A){var M=R(A);if(M)return M;throw new Error(`Non-${r} character`)}return{encode:C,decodeUnsafe:R,decode:O}}var src$5=base$3,_brrp__multiformats_scope_baseX$1=src$5;const coerce$1=f=>{if(f instanceof Uint8Array&&f.constructor.name==="Uint8Array")return f;if(f instanceof ArrayBuffer)return new Uint8Array(f);if(ArrayBuffer.isView(f))return new Uint8Array(f.buffer,f.byteOffset,f.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=f=>new TextEncoder().encode(f),toString$3=f=>new TextDecoder().decode(f);let Encoder$1=class{constructor(r,d,g){this.name=r,this.prefix=d,this.baseEncode=g}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(r,d,g){if(this.name=r,this.prefix=d,d.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=d.codePointAt(0),this.baseDecode=g}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return or(this,r)}},ComposedDecoder$1=class{constructor(r){this.decoders=r}or(r){return or(this,r)}decode(r){const d=r[0],g=this.decoders[d];if(g)return g.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or=(f,r)=>new ComposedDecoder$1({...f.decoders||{[f.prefix]:f},...r.decoders||{[r.prefix]:r}});let Codec$1=class{constructor(r,d,g,m){this.name=r,this.prefix=d,this.baseEncode=g,this.baseDecode=m,this.encoder=new Encoder$1(r,d,g),this.decoder=new Decoder$1(r,d,m)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}};const from$2=({name:f,prefix:r,encode:d,decode:g})=>new Codec$1(f,r,d,g),baseX$1=({prefix:f,name:r,alphabet:d})=>{const{encode:g,decode:m}=_brrp__multiformats_scope_baseX$1(d,r);return from$2({prefix:f,name:r,encode:g,decode:v=>coerce$1(m(v))})},decode$7=(f,r,d,g)=>{const m={};for(let b=0;b<r.length;++b)m[r[b]]=b;let v=f.length;for(;f[v-1]==="=";)--v;const _=new Uint8Array(v*d/8|0);let y=0,x=0,E=0;for(let b=0;b<v;++b){const C=m[f[b]];if(C===void 0)throw new SyntaxError(`Non-${g} character`);x=x<<d|C,y+=d,y>=8&&(y-=8,_[E++]=255&x>>y)}if(y>=d||255&x<<8-y)throw new SyntaxError("Unexpected end of data");return _},encode$5=(f,r,d)=>{const g=r[r.length-1]==="=",m=(1<<d)-1;let v="",_=0,y=0;for(let x=0;x<f.length;++x)for(y=y<<8|f[x],_+=8;_>d;)_-=d,v+=r[m&y>>_];if(_&&(v+=r[m&y<<d-_]),g)for(;v.length*d&7;)v+="=";return v},rfc4648$1=({name:f,prefix:r,bitsPerChar:d,alphabet:g})=>from$2({prefix:r,name:f,encode(m){return encode$5(m,g,d)},decode(m){return decode$7(m,g,d,f)}}),identity$3=from$2({prefix:"\0",name:"identity",encode:f=>toString$3(f),decode:f=>fromString$1(f)}),identityBase$1=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$3},Symbol.toStringTag,{value:"Module"})),base2$2=rfc4648$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$3=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$2},Symbol.toStringTag,{value:"Module"})),base8$2=rfc4648$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$3=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$2},Symbol.toStringTag,{value:"Module"})),base10$2=baseX$1({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$3=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$2},Symbol.toStringTag,{value:"Module"})),base16$2=rfc4648$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$1=rfc4648$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$3=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$2,base16upper:base16upper$1},Symbol.toStringTag,{value:"Module"})),base32$2=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$1=rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$1=rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$1=rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$1=rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$1=rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$1=rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$1=rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$1=rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$3=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$2,base32hex:base32hex$1,base32hexpad:base32hexpad$1,base32hexpadupper:base32hexpadupper$1,base32hexupper:base32hexupper$1,base32pad:base32pad$1,base32padupper:base32padupper$1,base32upper:base32upper$1,base32z:base32z$1},Symbol.toStringTag,{value:"Module"})),base36$2=baseX$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$1=baseX$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$3=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$2,base36upper:base36upper$1},Symbol.toStringTag,{value:"Module"})),base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$1=baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$1=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$1,base58flickr:base58flickr$1},Symbol.toStringTag,{value:"Module"})),base64$2=rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$1=rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$1=rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$3=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$2,base64pad:base64pad$1,base64url:base64url$1,base64urlpad:base64urlpad$1},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((f,r,d)=>(f[d]=r,f),[]),alphabetCharsToBytes=alphabet.reduce((f,r,d)=>(f[r.codePointAt(0)]=d,f),[]);function encode$4(f){return f.reduce((r,d)=>(r+=alphabetBytesToChars[d],r),"")}function decode$6(f){const r=[];for(const d of f){const g=alphabetCharsToBytes[d.codePointAt(0)];if(g===void 0)throw new Error(`Non-base256emoji character: ${d}`);r.push(g)}return new Uint8Array(r)}const base256emoji=from$2({prefix:"",name:"base256emoji",encode:encode$4,decode:decode$6}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$1={...identityBase$1,...base2$3,...base8$3,...base10$3,...base16$3,...base32$3,...base36$3,...base58$1,...base64$3,...base256emoji$1};function allocUnsafe(f=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(f):new Uint8Array(f)}function createCodec(f,r,d,g){return{name:f,prefix:r,encoder:{name:f,prefix:r,encode:d},decoder:{decode:g}}}const string=createCodec("utf8","u",f=>"u"+new TextDecoder("utf8").decode(f),f=>new TextEncoder().encode(f.substring(1))),ascii=createCodec("ascii","a",f=>{let r="a";for(let d=0;d<f.length;d++)r+=String.fromCharCode(f[d]);return r},f=>{f=f.substring(1);const r=allocUnsafe(f.length);for(let d=0;d<f.length;d++)r[d]=f.charCodeAt(d);return r}),BASES={utf8:string,"utf-8":string,hex:bases$1.base16,latin1:ascii,ascii,binary:ascii,...bases$1};function toString$1(f,r="utf8"){const d=BASES[r];if(!d)throw new Error(`Unsupported encoding "${r}"`);return(r==="utf8"||r==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(f.buffer,f.byteOffset,f.byteLength).toString("utf8"):d.encoder.encode(f).substring(1)}const toString$2=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(toString$2);var sha256$2={},binary={},int={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});function r(y,x){var E=y>>>16&65535,b=y&65535,C=x>>>16&65535,R=x&65535;return b*R+(E*R+b*C<<16>>>0)|0}f.mul=Math.imul||r;function d(y,x){return y+x|0}f.add=d;function g(y,x){return y-x|0}f.sub=g;function m(y,x){return y<<x|y>>>32-x}f.rotl=m;function v(y,x){return y<<32-x|y>>>x}f.rotr=v;function _(y){return typeof y=="number"&&isFinite(y)&&Math.floor(y)===y}f.isInteger=Number.isInteger||_,f.MAX_SAFE_INTEGER=9007199254740991,f.isSafeInteger=function(y){return f.isInteger(y)&&y>=-f.MAX_SAFE_INTEGER&&y<=f.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(f,r){return r===void 0&&(r=0),(f[r+0]<<8|f[r+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(f,r){return r===void 0&&(r=0),(f[r+0]<<8|f[r+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(f,r){return r===void 0&&(r=0),(f[r+1]<<8|f[r])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(f,r){return r===void 0&&(r=0),(f[r+1]<<8|f[r])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(f,r,d){return r===void 0&&(r=new Uint8Array(2)),d===void 0&&(d=0),r[d+0]=f>>>8,r[d+1]=f>>>0,r}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(f,r,d){return r===void 0&&(r=new Uint8Array(2)),d===void 0&&(d=0),r[d+0]=f>>>0,r[d+1]=f>>>8,r}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(f,r){return r===void 0&&(r=0),f[r]<<24|f[r+1]<<16|f[r+2]<<8|f[r+3]}binary.readInt32BE=readInt32BE;function readUint32BE(f,r){return r===void 0&&(r=0),(f[r]<<24|f[r+1]<<16|f[r+2]<<8|f[r+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(f,r){return r===void 0&&(r=0),f[r+3]<<24|f[r+2]<<16|f[r+1]<<8|f[r]}binary.readInt32LE=readInt32LE;function readUint32LE(f,r){return r===void 0&&(r=0),(f[r+3]<<24|f[r+2]<<16|f[r+1]<<8|f[r])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(f,r,d){return r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0),r[d+0]=f>>>24,r[d+1]=f>>>16,r[d+2]=f>>>8,r[d+3]=f>>>0,r}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(f,r,d){return r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0),r[d+0]=f>>>0,r[d+1]=f>>>8,r[d+2]=f>>>16,r[d+3]=f>>>24,r}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(f,r){r===void 0&&(r=0);var d=readInt32BE(f,r),g=readInt32BE(f,r+4);return d*4294967296+g-(g>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(f,r){r===void 0&&(r=0);var d=readUint32BE(f,r),g=readUint32BE(f,r+4);return d*4294967296+g}binary.readUint64BE=readUint64BE;function readInt64LE(f,r){r===void 0&&(r=0);var d=readInt32LE(f,r),g=readInt32LE(f,r+4);return g*4294967296+d-(d>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(f,r){r===void 0&&(r=0);var d=readUint32LE(f,r),g=readUint32LE(f,r+4);return g*4294967296+d}binary.readUint64LE=readUint64LE;function writeUint64BE(f,r,d){return r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0),writeUint32BE(f/4294967296>>>0,r,d),writeUint32BE(f>>>0,r,d+4),r}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(f,r,d){return r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0),writeUint32LE(f>>>0,r,d),writeUint32LE(f/4294967296>>>0,r,d+4),r}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(f,r,d){if(d===void 0&&(d=0),f%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(f/8>r.length-d)throw new Error("readUintBE: array is too short for the given bitLength");for(var g=0,m=1,v=f/8+d-1;v>=d;v--)g+=r[v]*m,m*=256;return g}binary.readUintBE=readUintBE;function readUintLE(f,r,d){if(d===void 0&&(d=0),f%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(f/8>r.length-d)throw new Error("readUintLE: array is too short for the given bitLength");for(var g=0,m=1,v=d;v<d+f/8;v++)g+=r[v]*m,m*=256;return g}binary.readUintLE=readUintLE;function writeUintBE(f,r,d,g){if(d===void 0&&(d=new Uint8Array(f/8)),g===void 0&&(g=0),f%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(r))throw new Error("writeUintBE value must be an integer");for(var m=1,v=f/8+g-1;v>=g;v--)d[v]=r/m&255,m*=256;return d}binary.writeUintBE=writeUintBE;function writeUintLE(f,r,d,g){if(d===void 0&&(d=new Uint8Array(f/8)),g===void 0&&(g=0),f%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(r))throw new Error("writeUintLE value must be an integer");for(var m=1,v=g;v<g+f/8;v++)d[v]=r/m&255,m*=256;return d}binary.writeUintLE=writeUintLE;function readFloat32BE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat32(r)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat32(r,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat64(r)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat64(r,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(f,r,d){r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat32(d,f),r}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(f,r,d){r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat32(d,f,!0),r}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(f,r,d){r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat64(d,f),r}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(f,r,d){r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat64(d,f,!0),r}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(f){for(var r=0;r<f.length;r++)f[r]=0;return f}wipe$1.wipe=wipe;(function(f){Object.defineProperty(f,"__esModule",{value:!0});var r=binary,d=wipe$1;f.DIGEST_LENGTH=32,f.BLOCK_SIZE=64;var g=function(){function y(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return y.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},y.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},y.prototype.clean=function(){d.wipe(this._buffer),d.wipe(this._temp),this.reset()},y.prototype.update=function(x,E){if(E===void 0&&(E=x.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var b=0;if(this._bytesHashed+=E,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&E>0;)this._buffer[this._bufferLength++]=x[b++],E--;this._bufferLength===this.blockSize&&(v(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(E>=this.blockSize&&(b=v(this._temp,this._state,x,b,E),E%=this.blockSize);E>0;)this._buffer[this._bufferLength++]=x[b++],E--;return this},y.prototype.finish=function(x){if(!this._finished){var E=this._bytesHashed,b=this._bufferLength,C=E/536870912|0,R=E<<3,O=E%64<56?64:128;this._buffer[b]=128;for(var A=b+1;A<O-8;A++)this._buffer[A]=0;r.writeUint32BE(C,this._buffer,O-8),r.writeUint32BE(R,this._buffer,O-4),v(this._temp,this._state,this._buffer,0,O),this._finished=!0}for(var A=0;A<this.digestLength/4;A++)r.writeUint32BE(this._state[A],x,A*4);return this},y.prototype.digest=function(){var x=new Uint8Array(this.digestLength);return this.finish(x),x},y.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},y.prototype.restoreState=function(x){return this._state.set(x.state),this._bufferLength=x.bufferLength,x.buffer&&this._buffer.set(x.buffer),this._bytesHashed=x.bytesHashed,this._finished=!1,this},y.prototype.cleanSavedState=function(x){d.wipe(x.state),x.buffer&&d.wipe(x.buffer),x.bufferLength=0,x.bytesHashed=0},y}();f.SHA256=g;var m=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function v(y,x,E,b,C){for(;C>=64;){for(var R=x[0],O=x[1],A=x[2],M=x[3],P=x[4],F=x[5],L=x[6],K=x[7],j=0;j<16;j++){var W=b+j*4;y[j]=r.readUint32BE(E,W)}for(var j=16;j<64;j++){var G=y[j-2],Q=(G>>>17|G<<15)^(G>>>19|G<<13)^G>>>10;G=y[j-15];var re=(G>>>7|G<<25)^(G>>>18|G<<14)^G>>>3;y[j]=(Q+y[j-7]|0)+(re+y[j-16]|0)}for(var j=0;j<64;j++){var Q=(((P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&F^~P&L)|0)+(K+(m[j]+y[j]|0)|0)|0,re=((R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10))+(R&O^R&A^O&A)|0;K=L,L=F,F=P,P=M+Q|0,M=A,A=O,O=R,R=Q+re|0}x[0]+=R,x[1]+=O,x[2]+=A,x[3]+=M,x[4]+=P,x[5]+=F,x[6]+=L,x[7]+=K,b+=64,C-=64}return b}function _(y){var x=new g;x.update(y);var E=x.digest();return x.clean(),E}f.hash=_})(sha256$2);var safejson={},log$4={},report={},browserPonyfill$1={exports:{}};(function(f,r){var d=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal,g=function(){function v(){this.fetch=!1,this.DOMException=d.DOMException}return v.prototype=d,new v}();(function(v){(function(_){var y=typeof v<"u"&&v||typeof self<"u"&&self||typeof y<"u"&&y,x={searchParams:"URLSearchParams"in y,iterable:"Symbol"in y&&"iterator"in Symbol,blob:"FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in y,arrayBuffer:"ArrayBuffer"in y};function E(S){return S&&DataView.prototype.isPrototypeOf(S)}if(x.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],C=ArrayBuffer.isView||function(S){return S&&b.indexOf(Object.prototype.toString.call(S))>-1};function R(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function O(S){return typeof S!="string"&&(S=String(S)),S}function A(S){var $={next:function(){var N=S.shift();return{done:N===void 0,value:N}}};return x.iterable&&($[Symbol.iterator]=function(){return $}),$}function M(S){this.map={},S instanceof M?S.forEach(function($,N){this.append(N,$)},this):Array.isArray(S)?S.forEach(function($){this.append($[0],$[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function($){this.append($,S[$])},this)}M.prototype.append=function(S,$){S=R(S),$=O($);var N=this.map[S];this.map[S]=N?N+", "+$:$},M.prototype.delete=function(S){delete this.map[R(S)]},M.prototype.get=function(S){return S=R(S),this.has(S)?this.map[S]:null},M.prototype.has=function(S){return this.map.hasOwnProperty(R(S))},M.prototype.set=function(S,$){this.map[R(S)]=O($)},M.prototype.forEach=function(S,$){for(var N in this.map)this.map.hasOwnProperty(N)&&S.call($,this.map[N],N,this)},M.prototype.keys=function(){var S=[];return this.forEach(function($,N){S.push(N)}),A(S)},M.prototype.values=function(){var S=[];return this.forEach(function($){S.push($)}),A(S)},M.prototype.entries=function(){var S=[];return this.forEach(function($,N){S.push([N,$])}),A(S)},x.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function P(S){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}function F(S){return new Promise(function($,N){S.onload=function(){$(S.result)},S.onerror=function(){N(S.error)}})}function L(S){var $=new FileReader,N=F($);return $.readAsArrayBuffer(S),N}function K(S){var $=new FileReader,N=F($);return $.readAsText(S),N}function j(S){for(var $=new Uint8Array(S),N=new Array($.length),k=0;k<$.length;k++)N[k]=String.fromCharCode($[k]);return N.join("")}function W(S){if(S.slice)return S.slice(0);var $=new Uint8Array(S.byteLength);return $.set(new Uint8Array(S)),$.buffer}function G(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:x.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:x.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:x.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():x.arrayBuffer&&x.blob&&E(S)?(this._bodyArrayBuffer=W(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):x.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||C(S))?this._bodyArrayBuffer=W(S):this._bodyText=S=Object.prototype.toString.call(S):this._bodyText="",this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):x.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x.blob&&(this.blob=function(){var S=P(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=P(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(L)}),this.text=function(){var S=P(this);if(S)return S;if(this._bodyBlob)return K(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x.formData&&(this.formData=function(){return this.text().then(ie)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function re(S){var $=S.toUpperCase();return Q.indexOf($)>-1?$:S}function ne(S,$){if(!(this instanceof ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var N=$.body;if(S instanceof ne){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,$.headers||(this.headers=new M(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!N&&S._bodyInit!=null&&(N=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new M($.headers)),this.method=re($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ne.prototype.clone=function(){return new ne(this,{body:this._bodyInit})};function ie(S){var $=new FormData;return S.trim().split("&").forEach(function(N){if(N){var k=N.split("="),U=k.shift().replace(/\+/g," "),I=k.join("=").replace(/\+/g," ");$.append(decodeURIComponent(U),decodeURIComponent(I))}}),$}function z(S){var $=new M,N=S.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var U=k.split(":"),I=U.shift().trim();if(I){var q=U.join(":").trim();$.append(I,q)}}),$}G.call(ne.prototype);function T(S,$){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new M($.headers),this.url=$.url||"",this._initBody(S)}G.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},T.error=function(){var S=new T(null,{status:0,statusText:""});return S.type="error",S};var D=[301,302,303,307,308];T.redirect=function(S,$){if(D.indexOf($)===-1)throw new RangeError("Invalid status code");return new T(null,{status:$,headers:{location:S}})},_.DOMException=y.DOMException;try{new _.DOMException}catch{_.DOMException=function($,N){this.message=$,this.name=N;var k=Error($);this.stack=k.stack},_.DOMException.prototype=Object.create(Error.prototype),_.DOMException.prototype.constructor=_.DOMException}function w(S,$){return new Promise(function(N,k){var U=new ne(S,$);if(U.signal&&U.signal.aborted)return k(new _.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function q(){I.abort()}I.onload=function(){var H={status:I.status,statusText:I.statusText,headers:z(I.getAllResponseHeaders()||"")};H.url="responseURL"in I?I.responseURL:H.headers.get("X-Request-URL");var ce="response"in I?I.response:I.responseText;setTimeout(function(){N(new T(ce,H))},0)},I.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},I.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},I.onabort=function(){setTimeout(function(){k(new _.DOMException("Aborted","AbortError"))},0)};function B(H){try{return H===""&&y.location.href?y.location.href:H}catch{return H}}I.open(U.method,B(U.url),!0),U.credentials==="include"?I.withCredentials=!0:U.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&(x.blob?I.responseType="blob":x.arrayBuffer&&U.headers.get("Content-Type")&&U.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(I.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof M)?Object.getOwnPropertyNames($.headers).forEach(function(H){I.setRequestHeader(H,O($.headers[H]))}):U.headers.forEach(function(H,ce){I.setRequestHeader(ce,H)}),U.signal&&(U.signal.addEventListener("abort",q),I.onreadystatechange=function(){I.readyState===4&&U.signal.removeEventListener("abort",q)}),I.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return w.polyfill=!0,y.fetch||(y.fetch=w,y.Headers=M,y.Request=ne,y.Response=T),_.Headers=M,_.Request=ne,_.Response=T,_.fetch=w,_})({})})(g),g.fetch.ponyfill=!0,delete g.fetch.polyfill;var m=d.fetch?d:g;r=m.fetch,r.default=m.fetch,r.fetch=m.fetch,r.Headers=m.Headers,r.Request=m.Request,r.Response=m.Response,f.exports=r})(browserPonyfill$1,browserPonyfill$1.exports);var browserPonyfillExports$1=browserPonyfill$1.exports,url$1={},protocol={},error={},okxConnect_error={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_ERROR=f.STANDARD_ERROR_MAP=f.SERVER_ERROR_CODE_RANGE=f.RESERVED_ERROR_CODES=f.SERVER_ERROR=f.INTERNAL_ERROR=f.INVALID_PARAMS=f.METHOD_NOT_FOUND=f.INVALID_REQUEST=f.PARSE_ERROR=f.OKX_CONNECT_ERROR_CODES=f.OKXConnectError=void 0;class r extends Error{constructor(v,_){_==null&&(_=d(v)),super(_),this.code=v,this.message=`${r.prefix} ${_?`
`+_:""}`,Object.setPrototypeOf(this,r.prototype)}toJSON(){return{message:this.message,code:this.code}}}f.OKXConnectError=r,r.prefix="[OKX_CONNECT_SDK_ERROR]";function d(m){return m==g.UNKNOWN_ERROR?"unknown error":m==g.BAD_REQUEST_ERROR?"bad request error":m==g.ALREADY_CONNECTED_ERROR?"already connected error":m==g.NOT_CONNECTED_ERROR?"not connected error":m==g.UNKNOWN_APP_ERROR?"unknown app error":m==g.USER_REJECTS_ERROR?"user rejects error":m==g.METHOD_NOT_SUPPORTED?"method not supported":m==g.CONNECTION_ERROR?"connect error":m==g.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}var g;(function(m){m[m.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",m[m.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",m[m.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",m[m.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",m[m.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",m[m.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",m[m.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",m[m.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",m[m.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",m[m.CONNECTION_ERROR=700]="CONNECTION_ERROR"})(g||(f.OKX_CONNECT_ERROR_CODES=g={})),f.PARSE_ERROR="PARSE_ERROR",f.INVALID_REQUEST="INVALID_REQUEST",f.METHOD_NOT_FOUND="METHOD_NOT_FOUND",f.INVALID_PARAMS="INVALID_PARAMS",f.INTERNAL_ERROR="INTERNAL_ERROR",f.SERVER_ERROR="SERVER_ERROR",f.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],f.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],f.STANDARD_ERROR_MAP={[f.PARSE_ERROR]:{code:-32700,message:"Parse error"},[f.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[f.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[f.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[f.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[f.SERVER_ERROR]:{code:-32e3,message:"Server error"}},f.DEFAULT_ERROR=f.SERVER_ERROR})(okxConnect_error);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.OKX_CONNECT_ERROR_CODES=f.OKXConnectError=void 0;var r=okxConnect_error;Object.defineProperty(f,"OKXConnectError",{enumerable:!0,get:function(){return r.OKXConnectError}}),Object.defineProperty(f,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return r.OKX_CONNECT_ERROR_CODES}})})(error);var misc$2={};Object.defineProperty(misc$2,"__esModule",{value:!0});misc$2.NameSpaceKeyTron=misc$2.NameSpaceKeyCosmos=misc$2.NameSpaceKeyAptos=misc$2.NameSpaceKeyBtc=misc$2.NameSpaceKeySui=misc$2.NameSpaceKeyTON=misc$2.NameSpaceKeySOL=misc$2.NameSpaceKeyEip155=void 0;misc$2.NameSpaceKeyEip155="eip155";misc$2.NameSpaceKeySOL="solana";misc$2.NameSpaceKeyTON="ton";misc$2.NameSpaceKeySui="sui";misc$2.NameSpaceKeyBtc="btc";misc$2.NameSpaceKeyAptos="aptos";misc$2.NameSpaceKeyCosmos="cosmos";misc$2.NameSpaceKeyTron="tron";var constants$2={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.tgwalletAppName=f.tgwalletName=f.tonConnectSdkVersion=f.shortUniversalLink=f.standardDeeplink=f.downloadUrl=f.standardUniversalLink=f.okxDeeplink=void 0,f.getTestTwaUrl=r,f.getTestTgTwaUrl=d,f.okxDeeplink="okx://web3",f.standardUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",f.downloadUrl="https://www.okx.com/download",f.standardDeeplink=`${f.okxDeeplink}/wallet/connect`,f.shortUniversalLink="https://www.okx.com/ul/connect",f.tonConnectSdkVersion="1",f.tgwalletName="OKX_WALLET_BOT",f.tgwalletAppName="start";function r(){return window.okxTesttwaUrl}function d(){return window.okxTestTgtwaUrl}})(constants$2);var connect={},jsonRpc={},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(jsonRpc,"__esModule",{value:!0});jsonRpc.isJsonRpcPayload=isJsonRpcPayload;jsonRpc.isJsonRpcRequest=isJsonRpcRequest;jsonRpc.isJsonRpcResponse=isJsonRpcResponse;jsonRpc.isJsonRpcResult=isJsonRpcResult;jsonRpc.isJsonRpcError=isJsonRpcError;jsonRpc.payloadId=payloadId;jsonRpc.getBigIntRpcId=getBigIntRpcId;jsonRpc.formatJsonRpcRequest=formatJsonRpcRequest;jsonRpc.formatJsonRpcResult=formatJsonRpcResult;jsonRpc.formatJsonRpcError=formatJsonRpcError;jsonRpc.isReservedErrorCode=isReservedErrorCode;jsonRpc.getError=getError;jsonRpc.getErrorByCode=getErrorByCode;jsonRpc.formatErrorMessage=formatErrorMessage;jsonRpc.isHttpUrl=isHttpUrl;jsonRpc.isWsUrl=isWsUrl;jsonRpc.parseConnectionError=parseConnectionError;function isJsonRpcPayload(f){return typeof f=="object"&&"id"in f&&"jsonrpc"in f&&f.jsonrpc==="2.0"}function isJsonRpcRequest(f){return isJsonRpcPayload(f)&&"method"in f}function isJsonRpcResponse(f){return isJsonRpcPayload(f)&&(isJsonRpcResult(f)||isJsonRpcError(f))}function isJsonRpcResult(f){return"result"in f}function isJsonRpcError(f){return"error"in f}const okx_connect_error_1=okxConnect_error,tweetnacl_1$2=__importDefault$5(naclFastExports);class IncrementalRandomGenerator{constructor(r){this.i=1,r?this.initialValue=tweetnacl_1$2.default.randomBytes(r/8)[0]:this.initialValue=0}getNextValue(){return this.initialValue+this.i++}}const uint8Generator=new IncrementalRandomGenerator(8),uint16Generator=new IncrementalRandomGenerator(16);function payloadId(){const f=Date.now()*1e3,r=uint8Generator.getNextValue();return f+r}function getBigIntRpcId(){const f=BigInt(Date.now())*BigInt(1e6),r=BigInt(uint16Generator.getNextValue());return f+r}function formatJsonRpcRequest(f,r,d){return{id:d||payloadId(),jsonrpc:"2.0",method:f,params:r}}function formatJsonRpcResult(f,r){return{id:f,jsonrpc:"2.0",result:r}}function formatJsonRpcError(f,r,d){return{id:f,jsonrpc:"2.0",error:formatErrorMessage(r,d)}}function isReservedErrorCode(f){return okx_connect_error_1.RESERVED_ERROR_CODES.includes(f)}function getError(f){return Object.keys(okx_connect_error_1.STANDARD_ERROR_MAP).includes(f)?okx_connect_error_1.STANDARD_ERROR_MAP[f]:okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR]}function getErrorByCode(f){const r=Object.values(okx_connect_error_1.STANDARD_ERROR_MAP).find(d=>d.code===f);return r||okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR]}function formatErrorMessage(f,r){return typeof f>"u"?getError(okx_connect_error_1.INTERNAL_ERROR):(typeof f=="string"&&(f=Object.assign(Object.assign({},getError(okx_connect_error_1.SERVER_ERROR)),{message:f})),typeof r<"u"&&(f.data=r),isReservedErrorCode(f.code)&&(f=getErrorByCode(f.code)),f)}function getUrlProtocol(f){const r=f.match(new RegExp(/^\w+:/,"gi"));if(!(!r||!r.length))return r[0]}function matchRegexProtocol(f,r){const d=getUrlProtocol(f);return typeof d>"u"?!1:new RegExp(r).test(d)}function isHttpUrl(f){return matchRegexProtocol(f,"^https?:")}function isWsUrl(f){return matchRegexProtocol(f,"^wss?:")}function parseConnectionError(f,r,d){return f.message.includes("getaddrinfo ENOTFOUND")||f.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${d} RPC url at ${r}`):f}var engine$1={},eventemitter3={exports:{}};(function(f){var r=Object.prototype.hasOwnProperty,d="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(d=!1));function m(x,E,b){this.fn=x,this.context=E,this.once=b||!1}function v(x,E,b,C,R){if(typeof b!="function")throw new TypeError("The listener must be a function");var O=new m(b,C||x,R),A=d?d+E:E;return x._events[A]?x._events[A].fn?x._events[A]=[x._events[A],O]:x._events[A].push(O):(x._events[A]=O,x._eventsCount++),x}function _(x,E){--x._eventsCount===0?x._events=new g:delete x._events[E]}function y(){this._events=new g,this._eventsCount=0}y.prototype.eventNames=function(){var E=[],b,C;if(this._eventsCount===0)return E;for(C in b=this._events)r.call(b,C)&&E.push(d?C.slice(1):C);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(b)):E},y.prototype.listeners=function(E){var b=d?d+E:E,C=this._events[b];if(!C)return[];if(C.fn)return[C.fn];for(var R=0,O=C.length,A=new Array(O);R<O;R++)A[R]=C[R].fn;return A},y.prototype.listenerCount=function(E){var b=d?d+E:E,C=this._events[b];return C?C.fn?1:C.length:0},y.prototype.emit=function(E,b,C,R,O,A){var M=d?d+E:E;if(!this._events[M])return!1;var P=this._events[M],F=arguments.length,L,K;if(P.fn){switch(P.once&&this.removeListener(E,P.fn,void 0,!0),F){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,b),!0;case 3:return P.fn.call(P.context,b,C),!0;case 4:return P.fn.call(P.context,b,C,R),!0;case 5:return P.fn.call(P.context,b,C,R,O),!0;case 6:return P.fn.call(P.context,b,C,R,O,A),!0}for(K=1,L=new Array(F-1);K<F;K++)L[K-1]=arguments[K];P.fn.apply(P.context,L)}else{var j=P.length,W;for(K=0;K<j;K++)switch(P[K].once&&this.removeListener(E,P[K].fn,void 0,!0),F){case 1:P[K].fn.call(P[K].context);break;case 2:P[K].fn.call(P[K].context,b);break;case 3:P[K].fn.call(P[K].context,b,C);break;case 4:P[K].fn.call(P[K].context,b,C,R);break;default:if(!L)for(W=1,L=new Array(F-1);W<F;W++)L[W-1]=arguments[W];P[K].fn.apply(P[K].context,L)}}return!0},y.prototype.on=function(E,b,C){return v(this,E,b,C,!1)},y.prototype.once=function(E,b,C){return v(this,E,b,C,!0)},y.prototype.removeListener=function(E,b,C,R){var O=d?d+E:E;if(!this._events[O])return this;if(!b)return _(this,O),this;var A=this._events[O];if(A.fn)A.fn===b&&(!R||A.once)&&(!C||A.context===C)&&_(this,O);else{for(var M=0,P=[],F=A.length;M<F;M++)(A[M].fn!==b||R&&!A[M].once||C&&A[M].context!==C)&&P.push(A[M]);P.length?this._events[O]=P.length===1?P[0]:P:_(this,O)}return this},y.prototype.removeAllListeners=function(E){var b;return E?(b=d?d+E:E,this._events[b]&&_(this,b)):(this._events=new g,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=d,y.EventEmitter=y,f.exports=y})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const e$1=getDefaultExportFromCjs(eventemitter3Exports);var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(engine$1,"__esModule",{value:!0});engine$1.IEngine=engine$1.ISignClient=engine$1.ISignClientEvents=engine$1.IEngineEvents=void 0;const eventemitter3_1$6=__importDefault$4(eventemitter3Exports);class IEngineEvents extends eventemitter3_1$6.default{constructor(){super()}}engine$1.IEngineEvents=IEngineEvents;class ISignClientEvents extends eventemitter3_1$6.default{constructor(){super()}}engine$1.ISignClientEvents=ISignClientEvents;class ISignClient{constructor(r){this.data=r}}engine$1.ISignClient=ISignClient;class IEngine{constructor(r){this.client=r}}engine$1.IEngine=IEngine;var ton$1={},connectWallet={};Object.defineProperty(connectWallet,"__esModule",{value:!0});connectWallet.TONCHAIN=void 0;var TONCHAIN;(function(f){f.MAINNET="-239"})(TONCHAIN||(connectWallet.TONCHAIN=TONCHAIN={}));var connectEvent={};Object.defineProperty(connectEvent,"__esModule",{value:!0});connectEvent.CONNECT_ITEM_ERROR_CODES=void 0;var CONNECT_ITEM_ERROR_CODES;(function(f){f[f.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",f[f.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_ITEM_ERROR_CODES||(connectEvent.CONNECT_ITEM_ERROR_CODES=CONNECT_ITEM_ERROR_CODES={}));(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.CONNECT_ITEM_ERROR_CODES=f.TONCHAIN=void 0;var r=connectWallet;Object.defineProperty(f,"TONCHAIN",{enumerable:!0,get:function(){return r.TONCHAIN}});var d=connectEvent;Object.defineProperty(f,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return d.CONNECT_ITEM_ERROR_CODES}})})(ton$1);var walletInfo={};Object.defineProperty(walletInfo,"__esModule",{value:!0});walletInfo.creatOKXWalletInfo=creatOKXWalletInfo;walletInfo.creatOKXMiniAppWalletInfo=creatOKXMiniAppWalletInfo;const constants_1$f=constants$2;function creatOKXWalletInfo(){return{appName:"okxAppWallet",name:"OKX Wallet",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:constants_1$f.downloadUrl,universalLink:constants_1$f.standardUniversalLink,deepLink:constants_1$f.standardDeeplink,platforms:["ios","android"]}}function creatOKXMiniAppWalletInfo(){return{appName:"okxMiniApp",name:"OKX Mini Wallet",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:constants_1$f.downloadUrl,universalLink:`https://t.me/${constants_1$f.tgwalletName}/start`,deepLink:"",platforms:["ios","android","macos","windows"]}}(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,y,x,E){E===void 0&&(E=x);var b=Object.getOwnPropertyDescriptor(y,x);(!b||("get"in b?!y.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return y[x]}}),Object.defineProperty(_,E,b)}:function(_,y,x,E){E===void 0&&(E=x),_[E]=y[x]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(_,y){for(var x in _)x!=="default"&&!Object.prototype.hasOwnProperty.call(y,x)&&r(y,_,x)};Object.defineProperty(f,"__esModule",{value:!0}),f.creatOKXMiniAppWalletInfo=f.creatOKXWalletInfo=f.ISignClientEvents=f.IEngine=f.IEngineEvents=f.ISignClient=f.getBigIntRpcId=f.formatJsonRpcRequest=f.isJsonRpcError=f.isJsonRpcResponse=f.parseConnectionError=f.isHttpUrl=f.formatJsonRpcError=void 0;var g=jsonRpc;Object.defineProperty(f,"formatJsonRpcError",{enumerable:!0,get:function(){return g.formatJsonRpcError}}),Object.defineProperty(f,"isHttpUrl",{enumerable:!0,get:function(){return g.isHttpUrl}}),Object.defineProperty(f,"parseConnectionError",{enumerable:!0,get:function(){return g.parseConnectionError}}),Object.defineProperty(f,"isJsonRpcResponse",{enumerable:!0,get:function(){return g.isJsonRpcResponse}}),Object.defineProperty(f,"isJsonRpcError",{enumerable:!0,get:function(){return g.isJsonRpcError}}),Object.defineProperty(f,"formatJsonRpcRequest",{enumerable:!0,get:function(){return g.formatJsonRpcRequest}}),Object.defineProperty(f,"getBigIntRpcId",{enumerable:!0,get:function(){return g.getBigIntRpcId}});var m=engine$1;Object.defineProperty(f,"ISignClient",{enumerable:!0,get:function(){return m.ISignClient}}),Object.defineProperty(f,"IEngineEvents",{enumerable:!0,get:function(){return m.IEngineEvents}}),Object.defineProperty(f,"IEngine",{enumerable:!0,get:function(){return m.IEngine}}),Object.defineProperty(f,"ISignClientEvents",{enumerable:!0,get:function(){return m.ISignClientEvents}}),d(ton$1,f);var v=walletInfo;Object.defineProperty(f,"creatOKXWalletInfo",{enumerable:!0,get:function(){return v.creatOKXWalletInfo}}),Object.defineProperty(f,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return v.creatOKXMiniAppWalletInfo}})})(connect);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(v,_,y,x){x===void 0&&(x=y);var E=Object.getOwnPropertyDescriptor(_,y);(!E||("get"in E?!_.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return _[y]}}),Object.defineProperty(v,x,E)}:function(v,_,y,x){x===void 0&&(x=y),v[x]=_[y]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(v,_){for(var y in v)y!=="default"&&!Object.prototype.hasOwnProperty.call(_,y)&&r(_,v,y)};Object.defineProperty(f,"__esModule",{value:!0}),f.downloadUrl=f.okxDeeplink=f.tonConnectSdkVersion=f.standardDeeplink=f.standardUniversalLink=f.NameSpaceKeyTron=f.NameSpaceKeyCosmos=f.NameSpaceKeyAptos=f.NameSpaceKeyBtc=f.NameSpaceKeySui=f.NameSpaceKeyTON=f.NameSpaceKeySOL=f.NameSpaceKeyEip155=void 0,d(error,f);var g=misc$2;Object.defineProperty(f,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return g.NameSpaceKeyEip155}}),Object.defineProperty(f,"NameSpaceKeySOL",{enumerable:!0,get:function(){return g.NameSpaceKeySOL}}),Object.defineProperty(f,"NameSpaceKeyTON",{enumerable:!0,get:function(){return g.NameSpaceKeyTON}}),Object.defineProperty(f,"NameSpaceKeySui",{enumerable:!0,get:function(){return g.NameSpaceKeySui}}),Object.defineProperty(f,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return g.NameSpaceKeyBtc}}),Object.defineProperty(f,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return g.NameSpaceKeyAptos}}),Object.defineProperty(f,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return g.NameSpaceKeyCosmos}}),Object.defineProperty(f,"NameSpaceKeyTron",{enumerable:!0,get:function(){return g.NameSpaceKeyTron}});var m=constants$2;Object.defineProperty(f,"standardUniversalLink",{enumerable:!0,get:function(){return m.standardUniversalLink}}),Object.defineProperty(f,"standardDeeplink",{enumerable:!0,get:function(){return m.standardDeeplink}}),Object.defineProperty(f,"tonConnectSdkVersion",{enumerable:!0,get:function(){return m.tonConnectSdkVersion}}),Object.defineProperty(f,"okxDeeplink",{enumerable:!0,get:function(){return m.okxDeeplink}}),Object.defineProperty(f,"downloadUrl",{enumerable:!0,get:function(){return m.downloadUrl}}),d(connect,f)})(protocol);var tmaApi={},webApi={},uaParser={exports:{}};(function(f,r){(function(d,g){var m="1.0.39",v="",_="?",y="function",x="undefined",E="object",b="string",C="major",R="model",O="name",A="type",M="vendor",P="version",F="architecture",L="console",K="mobile",j="tablet",W="smarttv",G="wearable",Q="embedded",re=500,ne="Amazon",ie="Apple",z="ASUS",T="BlackBerry",D="Browser",w="Chrome",S="Edge",$="Firefox",N="Google",k="Huawei",U="LG",I="Microsoft",q="Motorola",B="Opera",H="Samsung",ce="Sharp",be="Sony",ve="Xiaomi",Z="Zebra",J="Facebook",ae="Chromium OS",X="Mac OS",Y=" Browser",oe=function(Ke,Fe){var Ye={};for(var rt in Ke)Fe[rt]&&Fe[rt].length%2===0?Ye[rt]=Fe[rt].concat(Ke[rt]):Ye[rt]=Ke[rt];return Ye},we=function(Ke){for(var Fe={},Ye=0;Ye<Ke.length;Ye++)Fe[Ke[Ye].toUpperCase()]=Ke[Ye];return Fe},Se=function(Ke,Fe){return typeof Ke===b?De(Fe).indexOf(De(Ke))!==-1:!1},De=function(Ke){return Ke.toLowerCase()},qe=function(Ke){return typeof Ke===b?Ke.replace(/[^\d\.]/g,v).split(".")[0]:g},Ue=function(Ke,Fe){if(typeof Ke===b)return Ke=Ke.replace(/^\s\s*/,v),typeof Fe===x?Ke:Ke.substring(0,re)},Ne=function(Ke,Fe){for(var Ye=0,rt,ue,ee,te,de,xe;Ye<Fe.length&&!de;){var Oe=Fe[Ye],$e=Fe[Ye+1];for(rt=ue=0;rt<Oe.length&&!de&&Oe[rt];)if(de=Oe[rt++].exec(Ke),de)for(ee=0;ee<$e.length;ee++)xe=de[++ue],te=$e[ee],typeof te===E&&te.length>0?te.length===2?typeof te[1]==y?this[te[0]]=te[1].call(this,xe):this[te[0]]=te[1]:te.length===3?typeof te[1]===y&&!(te[1].exec&&te[1].test)?this[te[0]]=xe?te[1].call(this,xe,te[2]):g:this[te[0]]=xe?xe.replace(te[1],te[2]):g:te.length===4&&(this[te[0]]=xe?te[3].call(this,xe.replace(te[1],te[2])):g):this[te]=xe||g;Ye+=2}},Be=function(Ke,Fe){for(var Ye in Fe)if(typeof Fe[Ye]===E&&Fe[Ye].length>0){for(var rt=0;rt<Fe[Ye].length;rt++)if(Se(Fe[Ye][rt],Ke))return Ye===_?g:Ye}else if(Se(Fe[Ye],Ke))return Ye===_?g:Ye;return Fe.hasOwnProperty("*")?Fe["*"]:Ke},Qe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Le={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ot={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[P,[O,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[P,[O,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[O,P],[/opios[\/ ]+([\w\.]+)/i],[P,[O,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[P,[O,B+" GX"]],[/\bopr\/([\w\.]+)/i],[P,[O,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[P,[O,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[O,P],[/quark(?:pc)?\/([-\w\.]+)/i],[P,[O,"Quark"]],[/\bddg\/([\w\.]+)/i],[P,[O,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[P,[O,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[P,[O,"WeChat"]],[/konqueror\/([\w\.]+)/i],[P,[O,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[P,[O,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[P,[O,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[P,[O,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[O,/(.+)/,"$1 Secure "+D],P],[/\bfocus\/([\w\.]+)/i],[P,[O,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[P,[O,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[P,[O,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[P,[O,"Dolphin"]],[/coast\/([\w\.]+)/i],[P,[O,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[P,[O,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[P,[O,$]],[/\bqihu|(qi?ho?o?|360)browser/i],[[O,"360"+Y]],[/\b(qq)\/([\w\.]+)/i],[[O,/(.+)/,"$1Browser"],P],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[O,/(.+)/,"$1"+Y],P],[/samsungbrowser\/([\w\.]+)/i],[P,[O,H+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[O,/_/g," "],P],[/metasr[\/ ]?([\d\.]+)/i],[P,[O,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[O,"Sogou Mobile"],P],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[O,P],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[O],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[O,J],P],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[O,P],[/\bgsa\/([\w\.]+) .*safari\//i],[P,[O,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[P,[O,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[P,[O,w+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[O,w+" WebView"],P],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[P,[O,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[O,P],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[P,[O,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[P,O],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[O,[P,Be,Qe]],[/(webkit|khtml)\/([\w\.]+)/i],[O,P],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[O,"Netscape"],P],[/(wolvic)\/([\w\.]+)/i],[O,P],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[P,[O,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[O,[P,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[O,[P,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[F,"amd64"]],[/(ia32(?=;))/i],[[F,De]],[/((?:i[346]|x)86)[;\)]/i],[[F,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[F,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[F,"armhf"]],[/windows (ce|mobile); ppc;/i],[[F,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[F,/ower/,v,De]],[/(sun4\w)[;\)]/i],[[F,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[F,De]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[R,[M,H],[A,j]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[R,[M,H],[A,K]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[R,[M,ie],[A,K]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[R,[M,ie],[A,j]],[/(macintosh);/i],[R,[M,ie]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[R,[M,ce],[A,K]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[R,[M,k],[A,j]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[R,[M,k],[A,K]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[R,/_/g," "],[M,ve],[A,K]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[R,/_/g," "],[M,ve],[A,j]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[R,[M,"OPPO"],[A,K]],[/\b(opd2\d{3}a?) bui/i],[R,[M,"OPPO"],[A,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[R,[M,"Vivo"],[A,K]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[R,[M,"Realme"],[A,K]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[R,[M,q],[A,K]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[R,[M,q],[A,j]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[R,[M,U],[A,j]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[R,[M,U],[A,K]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[R,[M,"Lenovo"],[A,j]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[R,/_/g," "],[M,"Nokia"],[A,K]],[/(pixel c)\b/i],[R,[M,N],[A,j]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[R,[M,N],[A,K]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[R,[M,be],[A,K]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[R,"Xperia Tablet"],[M,be],[A,j]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[R,[M,"OnePlus"],[A,K]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[R,[M,ne],[A,j]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[R,/(.+)/g,"Fire Phone $1"],[M,ne],[A,K]],[/(playbook);[-\w\),; ]+(rim)/i],[R,M,[A,j]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[R,[M,T],[A,K]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[R,[M,z],[A,j]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[R,[M,z],[A,K]],[/(nexus 9)/i],[R,[M,"HTC"],[A,j]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[M,[R,/_/g," "],[A,K]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[R,[M,"TCL"],[A,j]],[/(itel) ((\w+))/i],[[M,De],R,[A,Be,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[R,[M,"Acer"],[A,j]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[R,[M,"Meizu"],[A,K]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[R,[M,"Ulefone"],[A,K]],[/droid.+; (a(?:015|06[35]|142p?))/i],[R,[M,"Nothing"],[A,K]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[M,R,[A,K]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[M,R,[A,j]],[/(surface duo)/i],[R,[M,I],[A,j]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[R,[M,"Fairphone"],[A,K]],[/(u304aa)/i],[R,[M,"AT&T"],[A,K]],[/\bsie-(\w*)/i],[R,[M,"Siemens"],[A,K]],[/\b(rct\w+) b/i],[R,[M,"RCA"],[A,j]],[/\b(venue[\d ]{2,7}) b/i],[R,[M,"Dell"],[A,j]],[/\b(q(?:mv|ta)\w+) b/i],[R,[M,"Verizon"],[A,j]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[R,[M,"Barnes & Noble"],[A,j]],[/\b(tm\d{3}\w+) b/i],[R,[M,"NuVision"],[A,j]],[/\b(k88) b/i],[R,[M,"ZTE"],[A,j]],[/\b(nx\d{3}j) b/i],[R,[M,"ZTE"],[A,K]],[/\b(gen\d{3}) b.+49h/i],[R,[M,"Swiss"],[A,K]],[/\b(zur\d{3}) b/i],[R,[M,"Swiss"],[A,j]],[/\b((zeki)?tb.*\b) b/i],[R,[M,"Zeki"],[A,j]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[M,"Dragon Touch"],R,[A,j]],[/\b(ns-?\w{0,9}) b/i],[R,[M,"Insignia"],[A,j]],[/\b((nxa|next)-?\w{0,9}) b/i],[R,[M,"NextBook"],[A,j]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[M,"Voice"],R,[A,K]],[/\b(lvtel\-)?(v1[12]) b/i],[[M,"LvTel"],R,[A,K]],[/\b(ph-1) /i],[R,[M,"Essential"],[A,K]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[R,[M,"Envizen"],[A,j]],[/\b(trio[-\w\. ]+) b/i],[R,[M,"MachSpeed"],[A,j]],[/\btu_(1491) b/i],[R,[M,"Rotor"],[A,j]],[/(shield[\w ]+) b/i],[R,[M,"Nvidia"],[A,j]],[/(sprint) (\w+)/i],[M,R,[A,K]],[/(kin\.[onetw]{3})/i],[[R,/\./g," "],[M,I],[A,K]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[R,[M,Z],[A,j]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[R,[M,Z],[A,K]],[/smart-tv.+(samsung)/i],[M,[A,W]],[/hbbtv.+maple;(\d+)/i],[[R,/^/,"SmartTV"],[M,H],[A,W]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[M,U],[A,W]],[/(apple) ?tv/i],[M,[R,ie+" TV"],[A,W]],[/crkey/i],[[R,w+"cast"],[M,N],[A,W]],[/droid.+aft(\w+)( bui|\))/i],[R,[M,ne],[A,W]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[R,[M,ce],[A,W]],[/(bravia[\w ]+)( bui|\))/i],[R,[M,be],[A,W]],[/(mitv-\w{5}) bui/i],[R,[M,ve],[A,W]],[/Hbbtv.*(technisat) (.*);/i],[M,R,[A,W]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[M,Ue],[R,Ue],[A,W]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[A,W]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[M,R,[A,L]],[/droid.+; (shield) bui/i],[R,[M,"Nvidia"],[A,L]],[/(playstation [345portablevi]+)/i],[R,[M,be],[A,L]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[R,[M,I],[A,L]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[R,[M,H],[A,G]],[/((pebble))app/i],[M,R,[A,G]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[R,[M,ie],[A,G]],[/droid.+; (glass) \d/i],[R,[M,N],[A,G]],[/droid.+; (wt63?0{2,3})\)/i],[R,[M,Z],[A,G]],[/(quest( \d| pro)?)/i],[R,[M,J],[A,G]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[M,[A,Q]],[/(aeobc)\b/i],[R,[M,ne],[A,Q]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[R,[A,K]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[R,[A,j]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[A,j]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[A,K]],[/(android[-\w\. ]{0,9});.+buil/i],[R,[M,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[P,[O,S+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[P,[O,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[O,P],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[P,O]],os:[[/microsoft (windows) (vista|xp)/i],[O,P],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[O,[P,Be,Le]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[P,Be,Le],[O,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[P,/_/g,"."],[O,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[O,X],[P,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[P,O],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[O,P],[/\(bb(10);/i],[P,[O,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[P,[O,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[P,[O,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[P,[O,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[P,[O,"watchOS"]],[/crkey\/([\d\.]+)/i],[P,[O,w+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[O,ae],P],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[O,P],[/(sunos) ?([\w\.\d]*)/i],[[O,"Solaris"],P],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[O,P]]},Ve=function(Ke,Fe){if(typeof Ke===E&&(Fe=Ke,Ke=g),!(this instanceof Ve))return new Ve(Ke,Fe).getResult();var Ye=typeof d!==x&&d.navigator?d.navigator:g,rt=Ke||(Ye&&Ye.userAgent?Ye.userAgent:v),ue=Ye&&Ye.userAgentData?Ye.userAgentData:g,ee=Fe?oe(ot,Fe):ot,te=Ye&&Ye.userAgent==rt;return this.getBrowser=function(){var de={};return de[O]=g,de[P]=g,Ne.call(de,rt,ee.browser),de[C]=qe(de[P]),te&&Ye&&Ye.brave&&typeof Ye.brave.isBrave==y&&(de[O]="Brave"),de},this.getCPU=function(){var de={};return de[F]=g,Ne.call(de,rt,ee.cpu),de},this.getDevice=function(){var de={};return de[M]=g,de[R]=g,de[A]=g,Ne.call(de,rt,ee.device),te&&!de[A]&&ue&&ue.mobile&&(de[A]=K),te&&de[R]=="Macintosh"&&Ye&&typeof Ye.standalone!==x&&Ye.maxTouchPoints&&Ye.maxTouchPoints>2&&(de[R]="iPad",de[A]=j),de},this.getEngine=function(){var de={};return de[O]=g,de[P]=g,Ne.call(de,rt,ee.engine),de},this.getOS=function(){var de={};return de[O]=g,de[P]=g,Ne.call(de,rt,ee.os),te&&!de[O]&&ue&&ue.platform&&ue.platform!="Unknown"&&(de[O]=ue.platform.replace(/chrome os/i,ae).replace(/macos/i,X)),de},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return rt},this.setUA=function(de){return rt=typeof de===b&&de.length>re?Ue(de,re):de,this},this.setUA(rt),this};Ve.VERSION=m,Ve.BROWSER=we([O,P,C]),Ve.CPU=we([F]),Ve.DEVICE=we([R,M,A,L,K,W,j,G,Q]),Ve.ENGINE=Ve.OS=we([O,P]),f.exports&&(r=f.exports=Ve),r.UAParser=Ve;var We=typeof d!==x&&(d.jQuery||d.Zepto);if(We&&!We.ua){var it=new Ve;We.ua=it.getResult(),We.ua.get=function(){return it.getUA()},We.ua.set=function(Ke){it.setUA(Ke);var Fe=it.getResult();for(var Ye in Fe)We.ua[Ye]=Fe[Ye]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports;const UAParser=getDefaultExportFromCjs(uaParserExports);var hasRequiredWebApi;function requireWebApi(){if(hasRequiredWebApi)return webApi;hasRequiredWebApi=1;var f=commonjsGlobal&&commonjsGlobal.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(webApi,"__esModule",{value:!0}),webApi.openLink=g,webApi.openLinkBlank=m,webApi.openDeeplinkWithFallback=v,webApi.isMobileUserAgent=_,webApi.getUserAgent=y,webApi.isOS=x,webApi.isBrowser=E;const r=f(uaParserExports),d=requireLog();function g(b,C="_self"){(0,d.logDebug)("openLink",b,C),window.open(b,C,"noopener noreferrer")}function m(b){g(b,"_blank")}function v(b,C){const R=()=>{E("safari")||x("android")&&E("firefox")||C()},O=setTimeout(()=>R(),500);window.addEventListener("blur",()=>clearTimeout(O),{once:!0}),g(b,"_self")}function _(){let b=!1;return function(C){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(C)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(C.slice(0,4)))&&(b=!0)}(navigator.userAgent||navigator.vendor||window.opera),b}function y(){var b,C,R;const O=new r.default().getResult(),A=(b=O.os.name)===null||b===void 0?void 0:b.toLowerCase(),M=(C=O.device.model)===null||C===void 0?void 0:C.toLowerCase();let P;switch(!0){case M==="ipad":P="ipad";break;case A==="ios":P="ios";break;case A==="android":P="android";break;case A==="mac os":P="macos";break;case A==="linux":P="linux";break;case(A==null?void 0:A.includes("windows")):P="windows";break}const F=(R=O.browser.name)===null||R===void 0?void 0:R.toLowerCase();let L;switch(!0){case F==="chrome":L="chrome";break;case F==="firefox":L="firefox";break;case(F==null?void 0:F.includes("safari")):L="safari";break;case(F==null?void 0:F.includes("opera")):L="opera";break}return{os:P,browser:L}}function x(...b){return b.includes(y().os)}function E(...b){return b.includes(y().browser)}return webApi}var hasRequiredTmaApi;function requireTmaApi(){if(hasRequiredTmaApi)return tmaApi;hasRequiredTmaApi=1;var f,r,d,g,m,v,_;Object.defineProperty(tmaApi,"__esModule",{value:!0}),tmaApi.isTmaPlatform=A,tmaApi.isInTMA=M,tmaApi.isInTelegramBrowser=P,tmaApi.sendExpand=F,tmaApi.sendOpenTelegramLink=L,tmaApi.versionCompare=re;const y=requireUrl(),x=requireLog(),E=protocol,b=requireWebApi();let C={};try{let ie=location.hash.toString();C=W(ie)}catch{}let R="unknown";if(C!=null&&C.tgWebAppPlatform&&(R=(f=C.tgWebAppPlatform)!==null&&f!==void 0?f:"unknown"),R==="unknown"){const ie=(0,y.getWindow)();R=(g=(d=(r=ie==null?void 0:ie.Telegram)===null||r===void 0?void 0:r.WebApp)===null||d===void 0?void 0:d.platform)!==null&&g!==void 0?g:"unknown"}let O="6.0";if(C!=null&&C.tgWebAppVersion&&(O=C.tgWebAppVersion),!O){const ie=(0,y.getWindow)();O=(_=(v=(m=ie==null?void 0:ie.Telegram)===null||m===void 0?void 0:m.WebApp)===null||v===void 0?void 0:v.version)!==null&&_!==void 0?_:"6.0"}function A(...ie){return ie.includes(R)}function M(){var ie;return R!=="unknown"||!!(!((ie=(0,y.getWindow)())===null||ie===void 0)&&ie.TelegramWebviewProxy)}function P(){var ie;const z=!!(!((ie=(0,y.getWindow)())===null||ie===void 0)&&ie.TelegramWebview);return(M()||z)&&R==="unknown"}function F(){j("web_app_expand",{})}function L(ie,z){const T=new URL(ie);if(T.protocol!=="http:"&&T.protocol!=="https:"){if(z)return z();throw new E.OKXConnectError(E.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${T}`)}if(T.hostname!=="t.me"){if(z)return z();throw new E.OKXConnectError(E.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${T}`)}const D=T.pathname+T.search;K()||ne("6.1")?j("web_app_open_tg_link",{path_full:D}):(0,b.openLinkBlank)("https://t.me"+D)}function K(){try{const ie=(0,y.getWindow)();return ie?ie.parent!=null&&ie!==ie.parent:!1}catch{return!1}}function j(ie,z){try{const T=(0,y.getWindow)();if(!T)throw new E.OKXConnectError(E.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(T.TelegramWebviewProxy!==void 0)(0,x.logDebug)("postEvent",ie,z),T.TelegramWebviewProxy.postEvent(ie,JSON.stringify(z));else if(T.external&&"notify"in T.external)(0,x.logDebug)("postEvent",ie,z),T.external.notify(JSON.stringify({eventType:ie,eventData:z}));else if(K()){const D="*",w=JSON.stringify({eventType:ie,eventData:z});(0,x.logDebug)("postEvent",ie,z),T.parent.postMessage(w,D)}else throw new E.OKXConnectError(E.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA")}catch(T){(0,x.logError)(`Can't post event to parent window: ${T}`)}}function W(ie){ie=ie.replace(/^#/,"");let z={};if(!ie.length)return z;if(ie.indexOf("=")<0&&ie.indexOf("?")<0)return z._path=G(ie),z;let T=ie.indexOf("?");if(T>=0){let w=ie.substr(0,T);z._path=G(w),ie=ie.substr(T+1)}let D=Q(ie);for(let w in D)z[w]=D[w];return z}function G(ie){try{return ie=ie.replace(/\+/g,"%20"),decodeURIComponent(ie)}catch{return ie}}function Q(ie){let z={};if(!ie.length)return z;let T=ie.split("&"),D,w,S,$;for(D=0;D<T.length;D++)w=T[D].split("="),S=G(w[0]),$=w[1]==null?null:G(w[1]),z[S]=$;return z}function re(ie,z){typeof ie!="string"&&(ie=""),typeof z!="string"&&(z="");let T=ie.replace(/^\s+|\s+$/g,"").split("."),D=z.replace(/^\s+|\s+$/g,"").split("."),w,S,$,N;for(w=Math.max(T.length,D.length),S=0;S<w;S++)if($=parseInt(T[S])||0,N=parseInt(D[S])||0,$!==N)return $>N?1:-1;return 0}function ne(ie){return re(O,ie)>=0}return tmaApi}var hasRequiredUrl;function requireUrl(){if(hasRequiredUrl)return url$1;hasRequiredUrl=1;var f,r,d,g;Object.defineProperty(url$1,"__esModule",{value:!0}),url$1.removeUrlLastSlash=E,url$1.addPathToUrl=b,url$1.getUniversalLink=C,url$1.openOKXDeeplink=R,url$1.openOKXUniversalLink=O,url$1.openOKXDeeplinkWithFallback=A,url$1.getWindow=M,url$1.isTelegramUrl=P,url$1.encodeTelegramUrlParameters=F,url$1.encodeConnectParams=L,url$1.encodeTWAConnectURLParams=K,url$1.getAppWalletDeepLink=j,url$1.getAppWalletShortDeepLink=W,url$1.getTelegramWalletTWAUrl=G,url$1.openOKXTMAWalletlinkWithFallback=Q,url$1.isInTMA=D,url$1.isInTelegramBrowser=w,url$1.getOKXLink=S;const m=protocol,v=requireLog(),_=constants$2,y=requireUtils(),x=requireTmaApi();function E($){return $.slice(-1)==="/"?$.slice(0,-1):$}function b($,N){return E($)+"/"+N}function C($,N=!1){console.log("getUniversalLink deeplinkUrl:",$,", useStandardUniversalLink:",N);const k=`${m.standardDeeplink}?param=`;if(!N&&$.startsWith(k)){const U=$.replace(k,"");(0,v.logDebug)("getUniversalLink cleanUrl:",U);const I=encodeURIComponent(U);return(0,v.logDebug)("getUniversalLink standardUniversalLink:",m.standardUniversalLink),(0,v.logDebug)("getUniversalLink `${shortUniversalLink}?param=${deeplinkEncodeUrl}`:",`${_.shortUniversalLink}?param=${I}`),`${_.shortUniversalLink}?param=${I}`}else{if(!N&&$==m.standardDeeplink)return(0,v.logDebug)("getUniversalLink shortUniversalLink:",_.shortUniversalLink),_.shortUniversalLink;{const U=encodeURIComponent($);return console.log("getUniversalLink standardUniversalLink:",m.standardUniversalLink),`${m.standardUniversalLink}?deeplink=${U}`}}}function R($){var N;const k=C($),U=!!(!((N=M())===null||N===void 0)&&N.TelegramWebviewProxy);console.log("openOKXDeeplink fullUrl:",k),(0,y.isIos)()?O(k):U?window.open($,"_blank"):window.location.href=$}function O($){(0,y.isIos)()?D()?window.open($,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window!=null&&window.okxLogDebug?window.open($,"_blank"):window.open($,"_self"),console.log("windowOpen[after]: ",Date.now())):window.open($,"_blank")}function A($){var N;const k=C($),U=!!(!((N=M())===null||N===void 0)&&N.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",k);let I=!1;const q=3e3,B=m.standardUniversalLink;if(console.log("openOKXDeeplinkWithFallback standardUniversalLink:",m.standardUniversalLink),(0,y.isIos)())U?window.open(k,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window!=null&&window.okxLogDebug?window.open(k,"_blank"):window.open(k,"_self"),console.log("windowOpen[after]: ",Date.now()));else{let ce=null;var H=()=>{I||(ce?ce.open(B,"_self"):window.open(B,"_blank"))};U?ce=window.open($,"_blank"):window.location.href=$,setTimeout(H,q),window.addEventListener("blur",()=>{I=!0},{once:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(I=!0)})}}function M(){if(typeof window<"u")return window}function P($){if(!$)return!1;const N=new URL($);return N.protocol==="tg:"||N.hostname==="t.me"}function F($){let N=$;return N=N.replace(/\./g,"%2E"),N=N.replace(/-/g,"%2D"),N=N.replace(/_/g,"%5F"),N=N.replace(/&/g,"-"),N=N.replace(/=/g,"__"),N=N.replace(/%/g,"--"),N}function L($){const N=JSON.stringify($);(0,v.logDebug)("url encodeConnectParams connectRequestStr ",N);const k=new TextEncoder().encode(N),U=btoa(String.fromCharCode(...k));return(0,v.logDebug)("url encodeConnectParams base64Encoded ",U),U}function K($){const N=JSON.stringify({topic:$.topic,clientId:$.clientId});(0,v.logDebug)("url encodeConnectParams connectRequestStr",N);const k=new TextEncoder().encode(N);return btoa(String.fromCharCode(...k))}function j($){return`${m.standardDeeplink}?param=${$}`}function W($,N){return`${_.shortUniversalLink}?topic=${$}${(0,y.getLastSixMd5Hash)(N)}`}function G($,N){let k={okxconnect:"",redirect:"",extraparams:""};$&&(k.okxconnect=$),N&&(k.redirect=N);let U=JSON.stringify(k);const I=new TextEncoder().encode(U),q=btoa(String.fromCharCode(...I)),B=(0,y.toSafeBase64FromBase64)(q);return(0,v.logDebug)("[TWA] open link:",k,q),$||N?D()?(0,_.getTestTgTwaUrl)()?`${(0,_.getTestTgTwaUrl)()}?startapp=${B}`:`https://t.me/${_.tgwalletName}/start?startapp=${B}`:(0,_.getTestTwaUrl)()?`${(0,_.getTestTwaUrl)()}?tgWebAppStartParam=${B}`:`tg://resolve?domain=${_.tgwalletName}&appname=${_.tgwalletAppName}&startapp=${B}`:D()?(0,_.getTestTgTwaUrl)()?`${(0,_.getTestTgTwaUrl)()}`:`https://t.me/${_.tgwalletName}/start`:(0,_.getTestTwaUrl)()?`${(0,_.getTestTwaUrl)()}`:`tg://resolve?domain=${_.tgwalletName}&appname=${_.tgwalletAppName}`}function Q($){var N,k,U,I,q;(0,v.logDebug)("[TWA] open link:",$,"isInTMA ==> ",D()),D()?!((k=(N=M())===null||N===void 0?void 0:N.Telegram)===null||k===void 0)&&k.WebApp?(q=(I=(U=M())===null||U===void 0?void 0:U.Telegram)===null||I===void 0?void 0:I.WebApp)===null||q===void 0||q.openTelegramLink($):(0,x.sendOpenTelegramLink)($):(0,_.getTestTwaUrl)()?window.open($,"_blank"):window.open($,"_self")}function re($){try{return $=$.replace(/\+/g,"%20"),decodeURIComponent($)}catch{return $}}function ne($){let N={};if(!$.length)return N;let k=$.split("&"),U,I,q,B;for(U=0;U<k.length;U++)I=k[U].split("="),q=re(I[0]),B=I[1]==null?null:re(I[1]),N[q]=B;return N}function ie($){$=$.replace(/^#/,"");let N={};if(!$.length)return N;if($.indexOf("=")<0&&$.indexOf("?")<0)return N._path=re($),N;let k=$.indexOf("?");if(k>=0){let I=$.substr(0,k);N._path=re(I),$=$.substr(k+1)}let U=ne($);for(let I in U)N[I]=U[I];return N}let z={};try{let $=location.hash.toString();z=ie($)}catch{}let T="unknown";if(z!=null&&z.tgWebAppPlatform&&(T=(f=z.tgWebAppPlatform)!==null&&f!==void 0?f:"unknown"),T==="unknown"){const $=M();T=(g=(d=(r=$==null?void 0:$.Telegram)===null||r===void 0?void 0:r.WebApp)===null||d===void 0?void 0:d.platform)!==null&&g!==void 0?g:"unknown"}function D(){var $;return T!=="unknown"||!!(!(($=M())===null||$===void 0)&&$.TelegramWebviewProxy)}function w(){var $;const N=!!(!(($=M())===null||$===void 0)&&$.TelegramWebview);return(D()||N)&&T==="unknown"}function S($,N=!1,k){if((0,v.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify($)}  useMini=> ${N}  tmaReturnUrl==> ${k}`),N){var U=K($);return G(U,k??"back")}else{if((0,y.useShortLink)())return W($.topic,$.clientId);{const I=L($);return`${m.standardDeeplink}?param=${I}`}}}return url$1}var utils$3={},callForSuccess$1={},__awaiter$o=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(callForSuccess$1,"__esModule",{value:!0});callForSuccess$1.callForSuccess=callForSuccess;callForSuccess$1.delay=delay;function callForSuccess(f,r){return __awaiter$o(this,void 0,void 0,function*(){var d,g;const m=(d=r==null?void 0:r.attempts)!==null&&d!==void 0?d:3,v=(g=r==null?void 0:r.delayMs)!==null&&g!==void 0?g:800;if(typeof f!="function")throw new Error(`Expected a function, got ${typeof f}`);let _=0,y;for(;_<m;)try{return yield f()}catch(x){y=x,_++,_<m&&(yield delay(v))}throw y})}function delay(f,r){return __awaiter$o(this,void 0,void 0,function*(){return new Promise((d,g)=>{var m,v;if(!((m=r==null?void 0:r.signal)===null||m===void 0)&&m.aborted){g(new Error("Delay aborted"));return}const _=setTimeout(()=>d(),f);(v=r==null?void 0:r.signal)===null||v===void 0||v.addEventListener("abort",()=>{clearTimeout(_),g(new Error("Delay aborted"))})})})}var reportconstants={};Object.defineProperty(reportconstants,"__esModule",{value:!0});reportconstants.Report_WalletType_Key=reportconstants.Report_Proceed_QRCode_Click=reportconstants.Report_ChooseType_Download_Click=reportconstants.Report_ChooseType_ConnectWallet_Click=reportconstants.Report_Proceed_Retry_Click=reportconstants.Report_ChooseType_ConnectWallet_View=reportconstants.Report_Loading_ConnectWallet_View=reportconstants.Report_Proceed_QRCode_View=reportconstants.Report_Proceed_Proceed_View=void 0;reportconstants.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View";reportconstants.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View";reportconstants.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View";reportconstants.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View";reportconstants.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click";reportconstants.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click";reportconstants.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click";reportconstants.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click";reportconstants.Report_WalletType_Key="wallet_type";var request={};Object.defineProperty(request,"__esModule",{value:!0});request.checkMetaData=checkMetaData;const protocol_1$2=protocol;function checkMetaData(f){if(!f)throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!f.name)throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");if(!f.icon)throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"icon is required");return!0}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(C,R,O,A){A===void 0&&(A=O);var M=Object.getOwnPropertyDescriptor(R,O);(!M||("get"in M?!R.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return R[O]}}),Object.defineProperty(C,A,M)}:function(C,R,O,A){A===void 0&&(A=O),C[A]=R[O]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(C,R){for(var O in C)O!=="default"&&!Object.prototype.hasOwnProperty.call(R,O)&&r(R,C,O)};Object.defineProperty(f,"__esModule",{value:!0}),f.checkMetaData=f.versionCompare=f.isBrowser=f.isOS=f.isMobileUserAgent=f.openDeeplinkWithFallback=f.openLinkBlank=f.openLink=f.useShortLink=f.toSafeBase64FromBase64=f.isValidObject=f.isIos=f.base64decode=f.base64encode=f.splitToUint8Arrays=f.concatUint8Arrays=f.toHexString=f.hexToByteArray=f.getOKXLink=f.openOKXUniversalLink=f.getAppWalletShortDeepLink=f.encodeTWAConnectURLParams=f.encodeConnectParams=f.openOKXTMAWalletlinkWithFallback=f.getTelegramWalletTWAUrl=f.getAppWalletDeepLink=f.encodeTelegramUrlParameters=f.isTelegramUrl=f.openOKXDeeplinkWithFallback=f.openOKXDeeplink=f.getUniversalLink=f.safeJsonStringify=f.safeJsonParse=f.getDefaultReporter=f.reportEvent=f.reportLog=f.logWarning=f.logError=f.logDebug=f.callForSuccess=void 0;var g=callForSuccess$1;Object.defineProperty(f,"callForSuccess",{enumerable:!0,get:function(){return g.callForSuccess}});var m=requireLog();Object.defineProperty(f,"logDebug",{enumerable:!0,get:function(){return m.logDebug}}),Object.defineProperty(f,"logError",{enumerable:!0,get:function(){return m.logError}}),Object.defineProperty(f,"logWarning",{enumerable:!0,get:function(){return m.logWarning}}),Object.defineProperty(f,"reportLog",{enumerable:!0,get:function(){return m.reportLog}}),Object.defineProperty(f,"reportEvent",{enumerable:!0,get:function(){return m.reportEvent}}),Object.defineProperty(f,"getDefaultReporter",{enumerable:!0,get:function(){return m.getDefaultReporter}}),d(reportconstants,f),d(requireReport(),f);var v=requireSafejson();Object.defineProperty(f,"safeJsonParse",{enumerable:!0,get:function(){return v.safeJsonParse}}),Object.defineProperty(f,"safeJsonStringify",{enumerable:!0,get:function(){return v.safeJsonStringify}});var _=requireUrl();Object.defineProperty(f,"getUniversalLink",{enumerable:!0,get:function(){return _.getUniversalLink}}),Object.defineProperty(f,"openOKXDeeplink",{enumerable:!0,get:function(){return _.openOKXDeeplink}}),Object.defineProperty(f,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return _.openOKXDeeplinkWithFallback}}),Object.defineProperty(f,"isTelegramUrl",{enumerable:!0,get:function(){return _.isTelegramUrl}}),Object.defineProperty(f,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return _.encodeTelegramUrlParameters}}),Object.defineProperty(f,"getAppWalletDeepLink",{enumerable:!0,get:function(){return _.getAppWalletDeepLink}}),Object.defineProperty(f,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return _.getTelegramWalletTWAUrl}}),Object.defineProperty(f,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return _.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(f,"encodeConnectParams",{enumerable:!0,get:function(){return _.encodeConnectParams}}),Object.defineProperty(f,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return _.encodeTWAConnectURLParams}}),Object.defineProperty(f,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return _.getAppWalletShortDeepLink}}),Object.defineProperty(f,"openOKXUniversalLink",{enumerable:!0,get:function(){return _.openOKXUniversalLink}}),Object.defineProperty(f,"getOKXLink",{enumerable:!0,get:function(){return _.getOKXLink}});var y=requireUtils();Object.defineProperty(f,"hexToByteArray",{enumerable:!0,get:function(){return y.hexToByteArray}}),Object.defineProperty(f,"toHexString",{enumerable:!0,get:function(){return y.toHexString}}),Object.defineProperty(f,"concatUint8Arrays",{enumerable:!0,get:function(){return y.concatUint8Arrays}}),Object.defineProperty(f,"splitToUint8Arrays",{enumerable:!0,get:function(){return y.splitToUint8Arrays}}),Object.defineProperty(f,"base64encode",{enumerable:!0,get:function(){return y.base64encode}}),Object.defineProperty(f,"base64decode",{enumerable:!0,get:function(){return y.base64decode}}),Object.defineProperty(f,"isIos",{enumerable:!0,get:function(){return y.isIos}}),Object.defineProperty(f,"isValidObject",{enumerable:!0,get:function(){return y.isValidObject}}),Object.defineProperty(f,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return y.toSafeBase64FromBase64}}),Object.defineProperty(f,"useShortLink",{enumerable:!0,get:function(){return y.useShortLink}});var x=requireWebApi();Object.defineProperty(f,"openLink",{enumerable:!0,get:function(){return x.openLink}}),Object.defineProperty(f,"openLinkBlank",{enumerable:!0,get:function(){return x.openLinkBlank}}),Object.defineProperty(f,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return x.openDeeplinkWithFallback}}),Object.defineProperty(f,"isMobileUserAgent",{enumerable:!0,get:function(){return x.isMobileUserAgent}}),Object.defineProperty(f,"isOS",{enumerable:!0,get:function(){return x.isOS}}),Object.defineProperty(f,"isBrowser",{enumerable:!0,get:function(){return x.isBrowser}});var E=requireTmaApi();Object.defineProperty(f,"versionCompare",{enumerable:!0,get:function(){return E.versionCompare}});var b=request;Object.defineProperty(f,"checkMetaData",{enumerable:!0,get:function(){return b.checkMetaData}})}(utils$3)),utils$3}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(f,r){(function(d){f.exports=d()})(function(){return function d(g,m,v){function _(E,b){if(!m[E]){if(!g[E]){var C=typeof commonjsRequire=="function"&&commonjsRequire;if(!b&&C)return C(E,!0);if(y)return y(E,!0);var R=new Error("Cannot find module '"+E+"'");throw R.code="MODULE_NOT_FOUND",R}var O=m[E]={exports:{}};g[E][0].call(O.exports,function(A){var M=g[E][1][A];return _(M||A)},O,O.exports,d,g,m,v)}return m[E].exports}for(var y=typeof commonjsRequire=="function"&&commonjsRequire,x=0;x<v.length;x++)_(v[x]);return _}({1:[function(d,g,m){(function(v){var _=v.MutationObserver||v.WebKitMutationObserver,y;if(_){var x=0,E=new _(A),b=v.document.createTextNode("");E.observe(b,{characterData:!0}),y=function(){b.data=x=++x%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var C=new v.MessageChannel;C.port1.onmessage=A,y=function(){C.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?y=function(){var P=v.document.createElement("script");P.onreadystatechange=function(){A(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},v.document.documentElement.appendChild(P)}:y=function(){setTimeout(A,0)};var R,O=[];function A(){R=!0;for(var P,F,L=O.length;L;){for(F=O,O=[],P=-1;++P<L;)F[P]();L=O.length}R=!1}g.exports=M;function M(P){O.push(P)===1&&!R&&y()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(d,g,m){var v=d(1);function _(){}var y={},x=["REJECTED"],E=["FULFILLED"],b=["PENDING"];g.exports=C;function C(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,W!==_&&M(this,W)}C.prototype.catch=function(W){return this.then(null,W)},C.prototype.then=function(W,G){if(typeof W!="function"&&this.state===E||typeof G!="function"&&this.state===x)return this;var Q=new this.constructor(_);if(this.state!==b){var re=this.state===E?W:G;O(Q,re,this.outcome)}else this.queue.push(new R(Q,W,G));return Q};function R(W,G,Q){this.promise=W,typeof G=="function"&&(this.onFulfilled=G,this.callFulfilled=this.otherCallFulfilled),typeof Q=="function"&&(this.onRejected=Q,this.callRejected=this.otherCallRejected)}R.prototype.callFulfilled=function(W){y.resolve(this.promise,W)},R.prototype.otherCallFulfilled=function(W){O(this.promise,this.onFulfilled,W)},R.prototype.callRejected=function(W){y.reject(this.promise,W)},R.prototype.otherCallRejected=function(W){O(this.promise,this.onRejected,W)};function O(W,G,Q){v(function(){var re;try{re=G(Q)}catch(ne){return y.reject(W,ne)}re===W?y.reject(W,new TypeError("Cannot resolve promise with itself")):y.resolve(W,re)})}y.resolve=function(W,G){var Q=P(A,G);if(Q.status==="error")return y.reject(W,Q.value);var re=Q.value;if(re)M(W,re);else{W.state=E,W.outcome=G;for(var ne=-1,ie=W.queue.length;++ne<ie;)W.queue[ne].callFulfilled(G)}return W},y.reject=function(W,G){W.state=x,W.outcome=G;for(var Q=-1,re=W.queue.length;++Q<re;)W.queue[Q].callRejected(G);return W};function A(W){var G=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof G=="function")return function(){G.apply(W,arguments)}}function M(W,G){var Q=!1;function re(T){Q||(Q=!0,y.reject(W,T))}function ne(T){Q||(Q=!0,y.resolve(W,T))}function ie(){G(ne,re)}var z=P(ie);z.status==="error"&&re(z.value)}function P(W,G){var Q={};try{Q.value=W(G),Q.status="success"}catch(re){Q.status="error",Q.value=re}return Q}C.resolve=F;function F(W){return W instanceof this?W:y.resolve(new this(_),W)}C.reject=L;function L(W){var G=new this(_);return y.reject(G,W)}C.all=K;function K(W){var G=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=W.length,re=!1;if(!Q)return this.resolve([]);for(var ne=new Array(Q),ie=0,z=-1,T=new this(_);++z<Q;)D(W[z],z);return T;function D(w,S){G.resolve(w).then($,function(N){re||(re=!0,y.reject(T,N))});function $(N){ne[S]=N,++ie===Q&&!re&&(re=!0,y.resolve(T,ne))}}}C.race=j;function j(W){var G=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=W.length,re=!1;if(!Q)return this.resolve([]);for(var ne=-1,ie=new this(_);++ne<Q;)z(W[ne]);return ie;function z(T){G.resolve(T).then(function(D){re||(re=!0,y.resolve(ie,D))},function(D){re||(re=!0,y.reject(ie,D))})}}},{1:1}],3:[function(d,g,m){(function(v){typeof v.Promise!="function"&&(v.Promise=d(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(d,g,m){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe};function _(fe,ye){if(!(fe instanceof ye))throw new TypeError("Cannot call a class as a function")}function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var x=y();function E(){try{if(!x||!x.open)return!1;var fe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!fe||ye)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function b(fe,ye){fe=fe||[],ye=ye||{};try{return new Blob(fe,ye)}catch(Ce){if(Ce.name!=="TypeError")throw Ce;for(var ge=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ee=new ge,Ae=0;Ae<fe.length;Ae+=1)Ee.append(fe[Ae]);return Ee.getBlob(ye.type)}}typeof Promise>"u"&&d(3);var C=Promise;function R(fe,ye){ye&&fe.then(function(ge){ye(null,ge)},function(ge){ye(ge)})}function O(fe,ye,ge){typeof ye=="function"&&fe.then(ye),typeof ge=="function"&&fe.catch(ge)}function A(fe){return typeof fe!="string"&&(console.warn(fe+" used as a key, but it is not a string."),fe=String(fe)),fe}function M(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",F=void 0,L={},K=Object.prototype.toString,j="readonly",W="readwrite";function G(fe){for(var ye=fe.length,ge=new ArrayBuffer(ye),Ee=new Uint8Array(ge),Ae=0;Ae<ye;Ae++)Ee[Ae]=fe.charCodeAt(Ae);return ge}function Q(fe){return new C(function(ye){var ge=fe.transaction(P,W),Ee=b([""]);ge.objectStore(P).put(Ee,"key"),ge.onabort=function(Ae){Ae.preventDefault(),Ae.stopPropagation(),ye(!1)},ge.oncomplete=function(){var Ae=navigator.userAgent.match(/Chrome\/(\d+)/),Ce=navigator.userAgent.match(/Edge\//);ye(Ce||!Ae||parseInt(Ae[1],10)>=43)}}).catch(function(){return!1})}function re(fe){return typeof F=="boolean"?C.resolve(F):Q(fe).then(function(ye){return F=ye,F})}function ne(fe){var ye=L[fe.name],ge={};ge.promise=new C(function(Ee,Ae){ge.resolve=Ee,ge.reject=Ae}),ye.deferredOperations.push(ge),ye.dbReady?ye.dbReady=ye.dbReady.then(function(){return ge.promise}):ye.dbReady=ge.promise}function ie(fe){var ye=L[fe.name],ge=ye.deferredOperations.pop();if(ge)return ge.resolve(),ge.promise}function z(fe,ye){var ge=L[fe.name],Ee=ge.deferredOperations.pop();if(Ee)return Ee.reject(ye),Ee.promise}function T(fe,ye){return new C(function(ge,Ee){if(L[fe.name]=L[fe.name]||B(),fe.db)if(ye)ne(fe),fe.db.close();else return ge(fe.db);var Ae=[fe.name];ye&&Ae.push(fe.version);var Ce=x.open.apply(x,Ae);ye&&(Ce.onupgradeneeded=function(Pe){var me=Ce.result;try{me.createObjectStore(fe.storeName),Pe.oldVersion<=1&&me.createObjectStore(P)}catch(je){if(je.name==="ConstraintError")console.warn('The database "'+fe.name+'" has been upgraded from version '+Pe.oldVersion+" to version "+Pe.newVersion+', but the storage "'+fe.storeName+'" already exists.');else throw je}}),Ce.onerror=function(Pe){Pe.preventDefault(),Ee(Ce.error)},Ce.onsuccess=function(){var Pe=Ce.result;Pe.onversionchange=function(me){me.target.close()},ge(Pe),ie(fe)}})}function D(fe){return T(fe,!1)}function w(fe){return T(fe,!0)}function S(fe,ye){if(!fe.db)return!0;var ge=!fe.db.objectStoreNames.contains(fe.storeName),Ee=fe.version<fe.db.version,Ae=fe.version>fe.db.version;if(Ee&&(fe.version!==ye&&console.warn('The database "'+fe.name+`" can't be downgraded from version `+fe.db.version+" to version "+fe.version+"."),fe.version=fe.db.version),Ae||ge){if(ge){var Ce=fe.db.version+1;Ce>fe.version&&(fe.version=Ce)}return!0}return!1}function $(fe){return new C(function(ye,ge){var Ee=new FileReader;Ee.onerror=ge,Ee.onloadend=function(Ae){var Ce=btoa(Ae.target.result||"");ye({__local_forage_encoded_blob:!0,data:Ce,type:fe.type})},Ee.readAsBinaryString(fe)})}function N(fe){var ye=G(atob(fe.data));return b([ye],{type:fe.type})}function k(fe){return fe&&fe.__local_forage_encoded_blob}function U(fe){var ye=this,ge=ye._initReady().then(function(){var Ee=L[ye._dbInfo.name];if(Ee&&Ee.dbReady)return Ee.dbReady});return O(ge,fe,fe),ge}function I(fe){ne(fe);for(var ye=L[fe.name],ge=ye.forages,Ee=0;Ee<ge.length;Ee++){var Ae=ge[Ee];Ae._dbInfo.db&&(Ae._dbInfo.db.close(),Ae._dbInfo.db=null)}return fe.db=null,D(fe).then(function(Ce){return fe.db=Ce,S(fe)?w(fe):Ce}).then(function(Ce){fe.db=ye.db=Ce;for(var Pe=0;Pe<ge.length;Pe++)ge[Pe]._dbInfo.db=Ce}).catch(function(Ce){throw z(fe,Ce),Ce})}function q(fe,ye,ge,Ee){Ee===void 0&&(Ee=1);try{var Ae=fe.db.transaction(fe.storeName,ye);ge(null,Ae)}catch(Ce){if(Ee>0&&(!fe.db||Ce.name==="InvalidStateError"||Ce.name==="NotFoundError"))return C.resolve().then(function(){if(!fe.db||Ce.name==="NotFoundError"&&!fe.db.objectStoreNames.contains(fe.storeName)&&fe.version<=fe.db.version)return fe.db&&(fe.version=fe.db.version+1),w(fe)}).then(function(){return I(fe).then(function(){q(fe,ye,ge,Ee-1)})}).catch(ge);ge(Ce)}}function B(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function H(fe){var ye=this,ge={db:null};if(fe)for(var Ee in fe)ge[Ee]=fe[Ee];var Ae=L[ge.name];Ae||(Ae=B(),L[ge.name]=Ae),Ae.forages.push(ye),ye._initReady||(ye._initReady=ye.ready,ye.ready=U);var Ce=[];function Pe(){return C.resolve()}for(var me=0;me<Ae.forages.length;me++){var je=Ae.forages[me];je!==ye&&Ce.push(je._initReady().catch(Pe))}var He=Ae.forages.slice(0);return C.all(Ce).then(function(){return ge.db=Ae.db,D(ge)}).then(function(Ge){return ge.db=Ge,S(ge,ye._defaultConfig.version)?w(ge):Ge}).then(function(Ge){ge.db=Ae.db=Ge,ye._dbInfo=ge;for(var tt=0;tt<He.length;tt++){var mt=He[tt];mt!==ye&&(mt._dbInfo.db=ge.db,mt._dbInfo.version=ge.version)}})}function ce(fe,ye){var ge=this;fe=A(fe);var Ee=new C(function(Ae,Ce){ge.ready().then(function(){q(ge._dbInfo,j,function(Pe,me){if(Pe)return Ce(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),He=je.get(fe);He.onsuccess=function(){var Ge=He.result;Ge===void 0&&(Ge=null),k(Ge)&&(Ge=N(Ge)),Ae(Ge)},He.onerror=function(){Ce(He.error)}}catch(Ge){Ce(Ge)}})}).catch(Ce)});return R(Ee,ye),Ee}function be(fe,ye){var ge=this,Ee=new C(function(Ae,Ce){ge.ready().then(function(){q(ge._dbInfo,j,function(Pe,me){if(Pe)return Ce(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),He=je.openCursor(),Ge=1;He.onsuccess=function(){var tt=He.result;if(tt){var mt=tt.value;k(mt)&&(mt=N(mt));var Ct=fe(mt,tt.key,Ge++);Ct!==void 0?Ae(Ct):tt.continue()}else Ae()},He.onerror=function(){Ce(He.error)}}catch(tt){Ce(tt)}})}).catch(Ce)});return R(Ee,ye),Ee}function ve(fe,ye,ge){var Ee=this;fe=A(fe);var Ae=new C(function(Ce,Pe){var me;Ee.ready().then(function(){return me=Ee._dbInfo,K.call(ye)==="[object Blob]"?re(me.db).then(function(je){return je?ye:$(ye)}):ye}).then(function(je){q(Ee._dbInfo,W,function(He,Ge){if(He)return Pe(He);try{var tt=Ge.objectStore(Ee._dbInfo.storeName);je===null&&(je=void 0);var mt=tt.put(je,fe);Ge.oncomplete=function(){je===void 0&&(je=null),Ce(je)},Ge.onabort=Ge.onerror=function(){var Ct=mt.error?mt.error:mt.transaction.error;Pe(Ct)}}catch(Ct){Pe(Ct)}})}).catch(Pe)});return R(Ae,ge),Ae}function Z(fe,ye){var ge=this;fe=A(fe);var Ee=new C(function(Ae,Ce){ge.ready().then(function(){q(ge._dbInfo,W,function(Pe,me){if(Pe)return Ce(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),He=je.delete(fe);me.oncomplete=function(){Ae()},me.onerror=function(){Ce(He.error)},me.onabort=function(){var Ge=He.error?He.error:He.transaction.error;Ce(Ge)}}catch(Ge){Ce(Ge)}})}).catch(Ce)});return R(Ee,ye),Ee}function J(fe){var ye=this,ge=new C(function(Ee,Ae){ye.ready().then(function(){q(ye._dbInfo,W,function(Ce,Pe){if(Ce)return Ae(Ce);try{var me=Pe.objectStore(ye._dbInfo.storeName),je=me.clear();Pe.oncomplete=function(){Ee()},Pe.onabort=Pe.onerror=function(){var He=je.error?je.error:je.transaction.error;Ae(He)}}catch(He){Ae(He)}})}).catch(Ae)});return R(ge,fe),ge}function ae(fe){var ye=this,ge=new C(function(Ee,Ae){ye.ready().then(function(){q(ye._dbInfo,j,function(Ce,Pe){if(Ce)return Ae(Ce);try{var me=Pe.objectStore(ye._dbInfo.storeName),je=me.count();je.onsuccess=function(){Ee(je.result)},je.onerror=function(){Ae(je.error)}}catch(He){Ae(He)}})}).catch(Ae)});return R(ge,fe),ge}function X(fe,ye){var ge=this,Ee=new C(function(Ae,Ce){if(fe<0){Ae(null);return}ge.ready().then(function(){q(ge._dbInfo,j,function(Pe,me){if(Pe)return Ce(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),He=!1,Ge=je.openKeyCursor();Ge.onsuccess=function(){var tt=Ge.result;if(!tt){Ae(null);return}fe===0||He?Ae(tt.key):(He=!0,tt.advance(fe))},Ge.onerror=function(){Ce(Ge.error)}}catch(tt){Ce(tt)}})}).catch(Ce)});return R(Ee,ye),Ee}function Y(fe){var ye=this,ge=new C(function(Ee,Ae){ye.ready().then(function(){q(ye._dbInfo,j,function(Ce,Pe){if(Ce)return Ae(Ce);try{var me=Pe.objectStore(ye._dbInfo.storeName),je=me.openKeyCursor(),He=[];je.onsuccess=function(){var Ge=je.result;if(!Ge){Ee(He);return}He.push(Ge.key),Ge.continue()},je.onerror=function(){Ae(je.error)}}catch(Ge){Ae(Ge)}})}).catch(Ae)});return R(ge,fe),ge}function oe(fe,ye){ye=M.apply(this,arguments);var ge=this.config();fe=typeof fe!="function"&&fe||{},fe.name||(fe.name=fe.name||ge.name,fe.storeName=fe.storeName||ge.storeName);var Ee=this,Ae;if(!fe.name)Ae=C.reject("Invalid arguments");else{var Ce=fe.name===ge.name&&Ee._dbInfo.db,Pe=Ce?C.resolve(Ee._dbInfo.db):D(fe).then(function(me){var je=L[fe.name],He=je.forages;je.db=me;for(var Ge=0;Ge<He.length;Ge++)He[Ge]._dbInfo.db=me;return me});fe.storeName?Ae=Pe.then(function(me){if(me.objectStoreNames.contains(fe.storeName)){var je=me.version+1;ne(fe);var He=L[fe.name],Ge=He.forages;me.close();for(var tt=0;tt<Ge.length;tt++){var mt=Ge[tt];mt._dbInfo.db=null,mt._dbInfo.version=je}var Ct=new C(function(Pt,kt){var Ut=x.open(fe.name,je);Ut.onerror=function(Ft){var Lt=Ut.result;Lt.close(),kt(Ft)},Ut.onupgradeneeded=function(){var Ft=Ut.result;Ft.deleteObjectStore(fe.storeName)},Ut.onsuccess=function(){var Ft=Ut.result;Ft.close(),Pt(Ft)}});return Ct.then(function(Pt){He.db=Pt;for(var kt=0;kt<Ge.length;kt++){var Ut=Ge[kt];Ut._dbInfo.db=Pt,ie(Ut._dbInfo)}}).catch(function(Pt){throw(z(fe,Pt)||C.resolve()).catch(function(){}),Pt})}}):Ae=Pe.then(function(me){ne(fe);var je=L[fe.name],He=je.forages;me.close();for(var Ge=0;Ge<He.length;Ge++){var tt=He[Ge];tt._dbInfo.db=null}var mt=new C(function(Ct,Pt){var kt=x.deleteDatabase(fe.name);kt.onerror=function(){var Ut=kt.result;Ut&&Ut.close(),Pt(kt.error)},kt.onblocked=function(){console.warn('dropInstance blocked for database "'+fe.name+'" until all open connections are closed')},kt.onsuccess=function(){var Ut=kt.result;Ut&&Ut.close(),Ct(Ut)}});return mt.then(function(Ct){je.db=Ct;for(var Pt=0;Pt<He.length;Pt++){var kt=He[Pt];ie(kt._dbInfo)}}).catch(function(Ct){throw(z(fe,Ct)||C.resolve()).catch(function(){}),Ct})})}return R(Ae,ye),Ae}var we={_driver:"asyncStorage",_initStorage:H,_support:E(),iterate:be,getItem:ce,setItem:ve,removeItem:Z,clear:J,length:ae,key:X,keys:Y,dropInstance:oe};function Se(){return typeof openDatabase=="function"}var De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe="~~local_forage_type~",Ue=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Be=Ne.length,Qe="arbf",Le="blob",ot="si08",Ve="ui08",We="uic8",it="si16",Ke="si32",Fe="ur16",Ye="ui32",rt="fl32",ue="fl64",ee=Be+Qe.length,te=Object.prototype.toString;function de(fe){var ye=fe.length*.75,ge=fe.length,Ee,Ae=0,Ce,Pe,me,je;fe[fe.length-1]==="="&&(ye--,fe[fe.length-2]==="="&&ye--);var He=new ArrayBuffer(ye),Ge=new Uint8Array(He);for(Ee=0;Ee<ge;Ee+=4)Ce=De.indexOf(fe[Ee]),Pe=De.indexOf(fe[Ee+1]),me=De.indexOf(fe[Ee+2]),je=De.indexOf(fe[Ee+3]),Ge[Ae++]=Ce<<2|Pe>>4,Ge[Ae++]=(Pe&15)<<4|me>>2,Ge[Ae++]=(me&3)<<6|je&63;return He}function xe(fe){var ye=new Uint8Array(fe),ge="",Ee;for(Ee=0;Ee<ye.length;Ee+=3)ge+=De[ye[Ee]>>2],ge+=De[(ye[Ee]&3)<<4|ye[Ee+1]>>4],ge+=De[(ye[Ee+1]&15)<<2|ye[Ee+2]>>6],ge+=De[ye[Ee+2]&63];return ye.length%3===2?ge=ge.substring(0,ge.length-1)+"=":ye.length%3===1&&(ge=ge.substring(0,ge.length-2)+"=="),ge}function Oe(fe,ye){var ge="";if(fe&&(ge=te.call(fe)),fe&&(ge==="[object ArrayBuffer]"||fe.buffer&&te.call(fe.buffer)==="[object ArrayBuffer]")){var Ee,Ae=Ne;fe instanceof ArrayBuffer?(Ee=fe,Ae+=Qe):(Ee=fe.buffer,ge==="[object Int8Array]"?Ae+=ot:ge==="[object Uint8Array]"?Ae+=Ve:ge==="[object Uint8ClampedArray]"?Ae+=We:ge==="[object Int16Array]"?Ae+=it:ge==="[object Uint16Array]"?Ae+=Fe:ge==="[object Int32Array]"?Ae+=Ke:ge==="[object Uint32Array]"?Ae+=Ye:ge==="[object Float32Array]"?Ae+=rt:ge==="[object Float64Array]"?Ae+=ue:ye(new Error("Failed to get type for BinaryArray"))),ye(Ae+xe(Ee))}else if(ge==="[object Blob]"){var Ce=new FileReader;Ce.onload=function(){var Pe=qe+fe.type+"~"+xe(this.result);ye(Ne+Le+Pe)},Ce.readAsArrayBuffer(fe)}else try{ye(JSON.stringify(fe))}catch(Pe){console.error("Couldn't convert value into a JSON string: ",fe),ye(null,Pe)}}function $e(fe){if(fe.substring(0,Be)!==Ne)return JSON.parse(fe);var ye=fe.substring(ee),ge=fe.substring(Be,ee),Ee;if(ge===Le&&Ue.test(ye)){var Ae=ye.match(Ue);Ee=Ae[1],ye=ye.substring(Ae[0].length)}var Ce=de(ye);switch(ge){case Qe:return Ce;case Le:return b([Ce],{type:Ee});case ot:return new Int8Array(Ce);case Ve:return new Uint8Array(Ce);case We:return new Uint8ClampedArray(Ce);case it:return new Int16Array(Ce);case Fe:return new Uint16Array(Ce);case Ke:return new Int32Array(Ce);case Ye:return new Uint32Array(Ce);case rt:return new Float32Array(Ce);case ue:return new Float64Array(Ce);default:throw new Error("Unkown type: "+ge)}}var dt={serialize:Oe,deserialize:$e,stringToBuffer:de,bufferToString:xe};function ut(fe,ye,ge,Ee){fe.executeSql("CREATE TABLE IF NOT EXISTS "+ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ge,Ee)}function et(fe){var ye=this,ge={db:null};if(fe)for(var Ee in fe)ge[Ee]=typeof fe[Ee]!="string"?fe[Ee].toString():fe[Ee];var Ae=new C(function(Ce,Pe){try{ge.db=openDatabase(ge.name,String(ge.version),ge.description,ge.size)}catch(me){return Pe(me)}ge.db.transaction(function(me){ut(me,ge,function(){ye._dbInfo=ge,Ce()},function(je,He){Pe(He)})},Pe)});return ge.serializer=dt,Ae}function wt(fe,ye,ge,Ee,Ae,Ce){fe.executeSql(ge,Ee,Ae,function(Pe,me){me.code===me.SYNTAX_ERR?Pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ye.storeName],function(je,He){He.rows.length?Ce(je,me):ut(je,ye,function(){je.executeSql(ge,Ee,Ae,Ce)},Ce)},Ce):Ce(Pe,me)},Ce)}function ht(fe,ye){var ge=this;fe=A(fe);var Ee=new C(function(Ae,Ce){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"SELECT * FROM "+Pe.storeName+" WHERE key = ? LIMIT 1",[fe],function(je,He){var Ge=He.rows.length?He.rows.item(0).value:null;Ge&&(Ge=Pe.serializer.deserialize(Ge)),Ae(Ge)},function(je,He){Ce(He)})})}).catch(Ce)});return R(Ee,ye),Ee}function yt(fe,ye){var ge=this,Ee=new C(function(Ae,Ce){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"SELECT * FROM "+Pe.storeName,[],function(je,He){for(var Ge=He.rows,tt=Ge.length,mt=0;mt<tt;mt++){var Ct=Ge.item(mt),Pt=Ct.value;if(Pt&&(Pt=Pe.serializer.deserialize(Pt)),Pt=fe(Pt,Ct.key,mt+1),Pt!==void 0){Ae(Pt);return}}Ae()},function(je,He){Ce(He)})})}).catch(Ce)});return R(Ee,ye),Ee}function It(fe,ye,ge,Ee){var Ae=this;fe=A(fe);var Ce=new C(function(Pe,me){Ae.ready().then(function(){ye===void 0&&(ye=null);var je=ye,He=Ae._dbInfo;He.serializer.serialize(ye,function(Ge,tt){tt?me(tt):He.db.transaction(function(mt){wt(mt,He,"INSERT OR REPLACE INTO "+He.storeName+" (key, value) VALUES (?, ?)",[fe,Ge],function(){Pe(je)},function(Ct,Pt){me(Pt)})},function(mt){if(mt.code===mt.QUOTA_ERR){if(Ee>0){Pe(It.apply(Ae,[fe,je,ge,Ee-1]));return}me(mt)}})})}).catch(me)});return R(Ce,ge),Ce}function bt(fe,ye,ge){return It.apply(this,[fe,ye,ge,1])}function at(fe,ye){var ge=this;fe=A(fe);var Ee=new C(function(Ae,Ce){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"DELETE FROM "+Pe.storeName+" WHERE key = ?",[fe],function(){Ae()},function(je,He){Ce(He)})})}).catch(Ce)});return R(Ee,ye),Ee}function Tt(fe){var ye=this,ge=new C(function(Ee,Ae){ye.ready().then(function(){var Ce=ye._dbInfo;Ce.db.transaction(function(Pe){wt(Pe,Ce,"DELETE FROM "+Ce.storeName,[],function(){Ee()},function(me,je){Ae(je)})})}).catch(Ae)});return R(ge,fe),ge}function xt(fe){var ye=this,ge=new C(function(Ee,Ae){ye.ready().then(function(){var Ce=ye._dbInfo;Ce.db.transaction(function(Pe){wt(Pe,Ce,"SELECT COUNT(key) as c FROM "+Ce.storeName,[],function(me,je){var He=je.rows.item(0).c;Ee(He)},function(me,je){Ae(je)})})}).catch(Ae)});return R(ge,fe),ge}function st(fe,ye){var ge=this,Ee=new C(function(Ae,Ce){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"SELECT key FROM "+Pe.storeName+" WHERE id = ? LIMIT 1",[fe+1],function(je,He){var Ge=He.rows.length?He.rows.item(0).key:null;Ae(Ge)},function(je,He){Ce(He)})})}).catch(Ce)});return R(Ee,ye),Ee}function Nt(fe){var ye=this,ge=new C(function(Ee,Ae){ye.ready().then(function(){var Ce=ye._dbInfo;Ce.db.transaction(function(Pe){wt(Pe,Ce,"SELECT key FROM "+Ce.storeName,[],function(me,je){for(var He=[],Ge=0;Ge<je.rows.length;Ge++)He.push(je.rows.item(Ge).key);Ee(He)},function(me,je){Ae(je)})})}).catch(Ae)});return R(ge,fe),ge}function Et(fe){return new C(function(ye,ge){fe.transaction(function(Ee){Ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ae,Ce){for(var Pe=[],me=0;me<Ce.rows.length;me++)Pe.push(Ce.rows.item(me).name);ye({db:fe,storeNames:Pe})},function(Ae,Ce){ge(Ce)})},function(Ee){ge(Ee)})})}function nt(fe,ye){ye=M.apply(this,arguments);var ge=this.config();fe=typeof fe!="function"&&fe||{},fe.name||(fe.name=fe.name||ge.name,fe.storeName=fe.storeName||ge.storeName);var Ee=this,Ae;return fe.name?Ae=new C(function(Ce){var Pe;fe.name===ge.name?Pe=Ee._dbInfo.db:Pe=openDatabase(fe.name,"","",0),fe.storeName?Ce({db:Pe,storeNames:[fe.storeName]}):Ce(Et(Pe))}).then(function(Ce){return new C(function(Pe,me){Ce.db.transaction(function(je){function He(Ct){return new C(function(Pt,kt){je.executeSql("DROP TABLE IF EXISTS "+Ct,[],function(){Pt()},function(Ut,Ft){kt(Ft)})})}for(var Ge=[],tt=0,mt=Ce.storeNames.length;tt<mt;tt++)Ge.push(He(Ce.storeNames[tt]));C.all(Ge).then(function(){Pe()}).catch(function(Ct){me(Ct)})},function(je){me(je)})})}):Ae=C.reject("Invalid arguments"),R(Ae,ye),Ae}var Rt={_driver:"webSQLStorage",_initStorage:et,_support:Se(),iterate:yt,getItem:ht,setItem:bt,removeItem:at,clear:Tt,length:xt,key:st,keys:Nt,dropInstance:nt};function se(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function le(fe,ye){var ge=fe.name+"/";return fe.storeName!==ye.storeName&&(ge+=fe.storeName+"/"),ge}function he(){var fe="_localforage_support_test";try{return localStorage.setItem(fe,!0),localStorage.removeItem(fe),!1}catch{return!0}}function V(){return!he()||localStorage.length>0}function pe(fe){var ye=this,ge={};if(fe)for(var Ee in fe)ge[Ee]=fe[Ee];return ge.keyPrefix=le(fe,ye._defaultConfig),V()?(ye._dbInfo=ge,ge.serializer=dt,C.resolve()):C.reject()}function Re(fe){var ye=this,ge=ye.ready().then(function(){for(var Ee=ye._dbInfo.keyPrefix,Ae=localStorage.length-1;Ae>=0;Ae--){var Ce=localStorage.key(Ae);Ce.indexOf(Ee)===0&&localStorage.removeItem(Ce)}});return R(ge,fe),ge}function Me(fe,ye){var ge=this;fe=A(fe);var Ee=ge.ready().then(function(){var Ae=ge._dbInfo,Ce=localStorage.getItem(Ae.keyPrefix+fe);return Ce&&(Ce=Ae.serializer.deserialize(Ce)),Ce});return R(Ee,ye),Ee}function Te(fe,ye){var ge=this,Ee=ge.ready().then(function(){for(var Ae=ge._dbInfo,Ce=Ae.keyPrefix,Pe=Ce.length,me=localStorage.length,je=1,He=0;He<me;He++){var Ge=localStorage.key(He);if(Ge.indexOf(Ce)===0){var tt=localStorage.getItem(Ge);if(tt&&(tt=Ae.serializer.deserialize(tt)),tt=fe(tt,Ge.substring(Pe),je++),tt!==void 0)return tt}}});return R(Ee,ye),Ee}function ze(fe,ye){var ge=this,Ee=ge.ready().then(function(){var Ae=ge._dbInfo,Ce;try{Ce=localStorage.key(fe)}catch{Ce=null}return Ce&&(Ce=Ce.substring(Ae.keyPrefix.length)),Ce});return R(Ee,ye),Ee}function Ze(fe){var ye=this,ge=ye.ready().then(function(){for(var Ee=ye._dbInfo,Ae=localStorage.length,Ce=[],Pe=0;Pe<Ae;Pe++){var me=localStorage.key(Pe);me.indexOf(Ee.keyPrefix)===0&&Ce.push(me.substring(Ee.keyPrefix.length))}return Ce});return R(ge,fe),ge}function Xe(fe){var ye=this,ge=ye.keys().then(function(Ee){return Ee.length});return R(ge,fe),ge}function qt(fe,ye){var ge=this;fe=A(fe);var Ee=ge.ready().then(function(){var Ae=ge._dbInfo;localStorage.removeItem(Ae.keyPrefix+fe)});return R(Ee,ye),Ee}function pt(fe,ye,ge){var Ee=this;fe=A(fe);var Ae=Ee.ready().then(function(){ye===void 0&&(ye=null);var Ce=ye;return new C(function(Pe,me){var je=Ee._dbInfo;je.serializer.serialize(ye,function(He,Ge){if(Ge)me(Ge);else try{localStorage.setItem(je.keyPrefix+fe,He),Pe(Ce)}catch(tt){(tt.name==="QuotaExceededError"||tt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&me(tt),me(tt)}})})});return R(Ae,ge),Ae}function At(fe,ye){if(ye=M.apply(this,arguments),fe=typeof fe!="function"&&fe||{},!fe.name){var ge=this.config();fe.name=fe.name||ge.name,fe.storeName=fe.storeName||ge.storeName}var Ee=this,Ae;return fe.name?Ae=new C(function(Ce){fe.storeName?Ce(le(fe,Ee._defaultConfig)):Ce(fe.name+"/")}).then(function(Ce){for(var Pe=localStorage.length-1;Pe>=0;Pe--){var me=localStorage.key(Pe);me.indexOf(Ce)===0&&localStorage.removeItem(me)}}):Ae=C.reject("Invalid arguments"),R(Ae,ye),Ae}var Mt={_driver:"localStorageWrapper",_initStorage:pe,_support:se(),iterate:Te,getItem:Me,setItem:pt,removeItem:qt,clear:Re,length:Xe,key:ze,keys:Ze,dropInstance:At},Bt=function(ye,ge){return ye===ge||typeof ye=="number"&&typeof ge=="number"&&isNaN(ye)&&isNaN(ge)},$t=function(ye,ge){for(var Ee=ye.length,Ae=0;Ae<Ee;){if(Bt(ye[Ae],ge))return!0;Ae++}return!1},Ot=Array.isArray||function(fe){return Object.prototype.toString.call(fe)==="[object Array]"},St={},Dt={},lt={INDEXEDDB:we,WEBSQL:Rt,LOCALSTORAGE:Mt},_t=[lt.INDEXEDDB._driver,lt.WEBSQL._driver,lt.LOCALSTORAGE._driver],ct=["dropInstance"],vt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ct),gt={description:"",driver:_t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(fe,ye){fe[ye]=function(){var ge=arguments;return fe.ready().then(function(){return fe[ye].apply(fe,ge)})}}function Ie(){for(var fe=1;fe<arguments.length;fe++){var ye=arguments[fe];if(ye)for(var ge in ye)ye.hasOwnProperty(ge)&&(Ot(ye[ge])?arguments[0][ge]=ye[ge].slice():arguments[0][ge]=ye[ge])}return arguments[0]}var ke=function(){function fe(ye){_(this,fe);for(var ge in lt)if(lt.hasOwnProperty(ge)){var Ee=lt[ge],Ae=Ee._driver;this[ge]=Ae,St[Ae]||this.defineDriver(Ee)}this._defaultConfig=Ie({},gt),this._config=Ie({},this._defaultConfig,ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return fe.prototype.config=function(ge){if((typeof ge>"u"?"undefined":v(ge))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ee in ge){if(Ee==="storeName"&&(ge[Ee]=ge[Ee].replace(/\W/g,"_")),Ee==="version"&&typeof ge[Ee]!="number")return new Error("Database version must be a number.");this._config[Ee]=ge[Ee]}return"driver"in ge&&ge.driver?this.setDriver(this._config.driver):!0}else return typeof ge=="string"?this._config[ge]:this._config},fe.prototype.defineDriver=function(ge,Ee,Ae){var Ce=new C(function(Pe,me){try{var je=ge._driver,He=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ge._driver){me(He);return}for(var Ge=vt.concat("_initStorage"),tt=0,mt=Ge.length;tt<mt;tt++){var Ct=Ge[tt],Pt=!$t(ct,Ct);if((Pt||ge[Ct])&&typeof ge[Ct]!="function"){me(He);return}}var kt=function(){for(var Lt=function(zt){return function(){var Gt=new Error("Method "+zt+" is not implemented by the current driver"),Xt=C.reject(Gt);return R(Xt,arguments[arguments.length-1]),Xt}},Kt=0,Wt=ct.length;Kt<Wt;Kt++){var jt=ct[Kt];ge[jt]||(ge[jt]=Lt(jt))}};kt();var Ut=function(Lt){St[je]&&console.info("Redefining LocalForage driver: "+je),St[je]=ge,Dt[je]=Lt,Pe()};"_support"in ge?ge._support&&typeof ge._support=="function"?ge._support().then(Ut,me):Ut(!!ge._support):Ut(!0)}catch(Ft){me(Ft)}});return O(Ce,Ee,Ae),Ce},fe.prototype.driver=function(){return this._driver||null},fe.prototype.getDriver=function(ge,Ee,Ae){var Ce=St[ge]?C.resolve(St[ge]):C.reject(new Error("Driver not found."));return O(Ce,Ee,Ae),Ce},fe.prototype.getSerializer=function(ge){var Ee=C.resolve(dt);return O(Ee,ge),Ee},fe.prototype.ready=function(ge){var Ee=this,Ae=Ee._driverSet.then(function(){return Ee._ready===null&&(Ee._ready=Ee._initDriver()),Ee._ready});return O(Ae,ge,ge),Ae},fe.prototype.setDriver=function(ge,Ee,Ae){var Ce=this;Ot(ge)||(ge=[ge]);var Pe=this._getSupportedDrivers(ge);function me(){Ce._config.driver=Ce.driver()}function je(tt){return Ce._extend(tt),me(),Ce._ready=Ce._initStorage(Ce._config),Ce._ready}function He(tt){return function(){var mt=0;function Ct(){for(;mt<tt.length;){var Pt=tt[mt];return mt++,Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(Pt).then(je).catch(Ct)}me();var kt=new Error("No available storage method found.");return Ce._driverSet=C.reject(kt),Ce._driverSet}return Ct()}}var Ge=this._driverSet!==null?this._driverSet.catch(function(){return C.resolve()}):C.resolve();return this._driverSet=Ge.then(function(){var tt=Pe[0];return Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(tt).then(function(mt){Ce._driver=mt._driver,me(),Ce._wrapLibraryMethodsWithReady(),Ce._initDriver=He(Pe)})}).catch(function(){me();var tt=new Error("No available storage method found.");return Ce._driverSet=C.reject(tt),Ce._driverSet}),O(this._driverSet,Ee,Ae),this._driverSet},fe.prototype.supports=function(ge){return!!Dt[ge]},fe.prototype._extend=function(ge){Ie(this,ge)},fe.prototype._getSupportedDrivers=function(ge){for(var Ee=[],Ae=0,Ce=ge.length;Ae<Ce;Ae++){var Pe=ge[Ae];this.supports(Pe)&&Ee.push(Pe)}return Ee},fe.prototype._wrapLibraryMethodsWithReady=function(){for(var ge=0,Ee=vt.length;ge<Ee;ge++)ft(this,vt[ge])},fe.prototype.createInstance=function(ge){return new fe(ge)},fe}(),Je=new ke;g.exports=Je},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports,hasRequiredReport;function requireReport(){return hasRequiredReport||(hasRequiredReport=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__awaiter||function(L,K,j,W){function G(Q){return Q instanceof j?Q:new j(function(re){re(Q)})}return new(j||(j=Promise))(function(Q,re){function ne(T){try{z(W.next(T))}catch(D){re(D)}}function ie(T){try{z(W.throw(T))}catch(D){re(D)}}function z(T){T.done?Q(T.value):G(T.value).then(ne,ie)}z((W=W.apply(L,K||[])).next())})},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(f,"__esModule",{value:!0}),f.OKXReporter=f.OKXReportSide=f.OKXReportType=f.versionStr=void 0;const g=d(browserPonyfillExports$1),m=requireLog(),v=requireUrl(),_=requireUtils$1(),y=d(localforageExports),x=d(naclFastExports);f.versionStr="1.5.6";const E=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],b="OKX_RP_CK",C="OKX_RP_UUID_CK",R=100,M={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};f.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},f.OKXReportSide={DAPP:"dapp",WALLET:"wallet"};const P=(L,...K)=>r(void 0,[L,...K],void 0,function*(j,W={},G=5e3){for(const Q of j)try{const re=new AbortController,ne=re.signal,ie=(0,g.default)(Q,Object.assign(Object.assign({},W),{signal:ne})),z=new Promise((D,w)=>setTimeout(()=>{re.abort(),w(new Error("Request timed out"))},G)),T=yield Promise.race([ie,z]);if(T.ok)return T;if(T.status==502)return console.error("Fetch error status 502",Q),T}catch(re){console.error(`Fetch error for ${Q}:`,re)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")});class F{constructor(){this.currentSide=f.OKXReportSide.DAPP,this.currentVersion=f.versionStr,this.storage=y.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,_.toHexString)(x.default.randomBytes(16))}configVersionAndSide(K,j,W){this.currentVersion=K,this.currentSide=j,this.appName=W}get recordCacheKey(){return b+"@"+this.appName}get reportPlatform(){return(0,_.isMobileUserAgent)()?(0,_.isIos)()?"iOS":"android":"pc"}beginReport(){return r(this,void 0,void 0,function*(){this.startErrorCatching();let K=yield this.storage.getItem(this.recordCacheKey),j=yield this.storage.getItem(C);j?this.currentUUID=j:this.storage.setItem(C,this.currentUUID),K&&(this.recordList=K,(0,m.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())})}startErrorCatching(){(0,v.getWindow)()&&(0,m.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(K){return r(this,void 0,void 0,function*(){return new Promise((j,W)=>r(this,void 0,void 0,function*(){try{const G=JSON.stringify(K);(0,m.logDebug)("[REPORT] record: ",G);const Q=yield P(E,Object.assign(Object.assign({},M),{body:G}));(0,m.logDebug)("[REPORT] get rsp:",Q),Q&&Q.status&&Q.status==200?(this.recordList=this.recordList.filter(re=>re.timestamp!=K.timestamp||re.content!=K.content),yield this.storage.setItem(this.recordCacheKey,this.recordList),j(!0)):W(!1)}catch(G){(0,m.logDebug)("send record error:",G),j(!0)}}))})}sendRecordContent(K,j,W){return r(this,void 0,void 0,function*(){var G,Q,re,ne;let ie=(G=(0,v.getWindow)())===null||G===void 0?void 0:G.location.pathname,z=(Q=(0,v.getWindow)())===null||Q===void 0?void 0:Q.location.origin;ie&&z&&(z=z+ie);let T=(re=(0,v.getWindow)())===null||re===void 0?void 0:re.navigator.language,D=(ne=(0,v.getWindow)())===null||ne===void 0?void 0:ne.navigator.userAgent,w=this.reportPlatform,S={uuid:this.currentUUID,version:this.currentVersion,content:K,action:W,side:this.currentSide,timestamp:new Date().getTime(),url:z,lang:T,type:j,platform:w,"user-agent":D};yield this.markRecordItem(S),yield this.sendRecord(S)})}sendCachedRecords(){return r(this,void 0,void 0,function*(){return new Promise((K,j)=>r(this,void 0,void 0,function*(){let W=this.recordList.map(G=>this.sendRecord(G));(0,m.logDebug)("[REPORT] submit & clean recorded caches begin @",new Date().toUTCString()),Promise.allSettled(W).then(G=>{(0,m.logDebug)("[REPORT] submit & clean recorded caches ends @",new Date().toUTCString());let Q=[];G.forEach((re,ne)=>{re.status=="rejected"&&Q.push(ne)}),this.recordList=this.recordList.filter((re,ne)=>!Q.includes(ne)),this.storage.setItem(this.recordCacheKey,this.recordList).then(function(re){K()}).catch(function(re){j(re)})})}))})}markRecordItem(K){return r(this,void 0,void 0,function*(){if(this.recordList.push(K),this.recordList.length>R){let j=this.recordList.length-R;this.recordList.splice(0,j)}return new Promise((j,W)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then(function(G){j(K)}).catch(function(G){W(G)})})})}markRecord(K,j,W,G){return r(this,void 0,void 0,function*(){var Q,re,ne,ie;let z=(Q=(0,v.getWindow)())===null||Q===void 0?void 0:Q.location.pathname,T=(re=(0,v.getWindow)())===null||re===void 0?void 0:re.location.origin;z&&T&&(T=T+z);let D=(ne=(0,v.getWindow)())===null||ne===void 0?void 0:ne.navigator.language,w=this.reportPlatform,S=(ie=(0,v.getWindow)())===null||ie===void 0?void 0:ie.navigator.userAgent,$={uuid:this.currentUUID,version:this.currentVersion,content:K,action:W,side:G,timestamp:new Date().getTime(),url:T,lang:D,type:j,platform:w,"user-agent":S};return yield this.markRecordItem($)})}}f.OKXReporter=F}(report)),report}const name$2="@okxconnect/core",version$1="1.5.6",description="OKX Connect core",main="./src/index.js",keywords=["OKXConnect","OKX Connect"],scripts={build:"npx tsc",local:"yarn install && npx tsc",remove:"rm -rf ./src  && rm -rf ./node_modules"},author="OKX Wallet",license="MIT",dependencies={"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0",eventemitter3:"^5.0.1",isutf8:"^4.0.0",localforage:"^1.10.0",multiformats:"9.4.2",process:"^0.11.10",tweetnacl:"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35",uint8arrays:"3.1.0"},devDependencies={"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36",assert:"^2.1.0",eslint:"^9.7.0",events:"^3.3.0",jest:"^29.7.0","ts-loader":"^9.5.1",typescript:"^5.5.2"},require$$1={name:name$2,version:version$1,description,main,keywords,scripts,author,license,dependencies,devDependencies};var hasRequiredLog;function requireLog(){if(hasRequiredLog)return log$4;hasRequiredLog=1;var f=commonjsGlobal&&commonjsGlobal.__awaiter||function(O,A,M,P){function F(L){return L instanceof M?L:new M(function(K){K(L)})}return new(M||(M=Promise))(function(L,K){function j(Q){try{G(P.next(Q))}catch(re){K(re)}}function W(Q){try{G(P.throw(Q))}catch(re){K(re)}}function G(Q){Q.done?L(Q.value):F(Q.value).then(j,W)}G((P=P.apply(O,A||[])).next())})};Object.defineProperty(log$4,"__esModule",{value:!0}),log$4.getDefaultReporter=v,log$4.logDebug=x,log$4.logError=E,log$4.logWarning=b,log$4.reportEvent=C,log$4.reportLog=R;const r=!1,d=!1,g=requireReport(),m=new g.OKXReporter;function v(){return m}const y=require$$1.version;function x(...O){if(typeof console<"u")try{(r||window!=null&&window.okxLogDebug)&&console.log(`[OKX_CONNECT_SDK] ${y} `,...O)}catch{}}function E(...O){if(typeof console<"u")try{if((r||window!=null&&window.okxLogDebug)&&console.error(`[OKX_CONNECT_SDK] ${y} `,...O),d||!r){let A="";A+=[...O].reduce((M,P)=>{typeof P=="string"?M+=","+P:typeof P=="object"&&(M+=JSON.stringify(P))}),m.sendRecordContent(A,g.OKXReportType.LOG,"")}}catch{}}function b(...O){if(typeof console<"u")try{(r||window!=null&&window.okxLogDebug)&&console.warn(`[OKX_CONNECT_SDK] ${y} `,...O)}catch{}}function C(O,A,M){return f(this,void 0,void 0,function*(){yield m.sendRecordContent(M,O,A)})}function R(O){return f(this,arguments,void 0,function*(A,M="default"){})}return log$4}var hasRequiredSafejson;function requireSafejson(){if(hasRequiredSafejson)return safejson;hasRequiredSafejson=1,Object.defineProperty(safejson,"__esModule",{value:!0}),safejson.safeJsonParse=g,safejson.safeJsonStringify=m;const f=requireLog(),r=v=>JSON.stringify(v,(_,y)=>typeof y=="bigint"?y.toString()+"n":y),d=v=>{const _=/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,y=v.replace(_,(x,E)=>`:"${E}n"`);try{return JSON.parse(y,(x,E)=>typeof E=="string"&&E.match(/^\d+n$/)?BigInt(E.substring(0,E.length-1)):E)}catch{return JSON.parse(v)}};function g(v){if(typeof v!="string")throw(0,f.logDebug)(v),new Error(`Cannot safe json parse value of type ${typeof v}`);try{return d(v)}catch(_){return console.error("safeJsonParse error:",_),v}}function m(v){return typeof v=="string"?v:r(v)||""}return safejson}var stringUtils={};function base$2(f,r){if(f.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),g=0;g<d.length;g++)d[g]=255;for(var m=0;m<f.length;m++){var v=f.charAt(m),_=v.charCodeAt(0);if(d[_]!==255)throw new TypeError(v+" is ambiguous");d[_]=m}var y=f.length,x=f.charAt(0),E=Math.log(y)/Math.log(256),b=Math.log(256)/Math.log(y);function C(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var M=0,P=0,F=0,L=A.length;F!==L&&A[F]===0;)F++,M++;for(var K=(L-F)*b+1>>>0,j=new Uint8Array(K);F!==L;){for(var W=A[F],G=0,Q=K-1;(W!==0||G<P)&&Q!==-1;Q--,G++)W+=256*j[Q]>>>0,j[Q]=W%y>>>0,W=W/y>>>0;if(W!==0)throw new Error("Non-zero carry");P=G,F++}for(var re=K-P;re!==K&&j[re]===0;)re++;for(var ne=x.repeat(M);re<K;++re)ne+=f.charAt(j[re]);return ne}function R(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var M=0;if(A[M]!==" "){for(var P=0,F=0;A[M]===x;)P++,M++;for(var L=(A.length-M)*E+1>>>0,K=new Uint8Array(L);A[M];){var j=d[A.charCodeAt(M)];if(j===255)return;for(var W=0,G=L-1;(j!==0||W<F)&&G!==-1;G--,W++)j+=y*K[G]>>>0,K[G]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");F=W,M++}if(A[M]!==" "){for(var Q=L-F;Q!==L&&K[Q]===0;)Q++;for(var re=new Uint8Array(P+(L-Q)),ne=P;Q!==L;)re[ne++]=K[Q++];return re}}}function O(A){var M=R(A);if(M)return M;throw new Error(`Non-${r} character`)}return{encode:C,decodeUnsafe:R,decode:O}}var src$4=base$2,_brrp__multiformats_scope_baseX=src$4;const empty=new Uint8Array(0),toHex=f=>f.reduce((r,d)=>r+d.toString(16).padStart(2,"0"),""),fromHex=f=>{const r=f.match(/../g);return r?new Uint8Array(r.map(d=>parseInt(d,16))):empty},equals$1=(f,r)=>{if(f===r)return!0;if(f.byteLength!==r.byteLength)return!1;for(let d=0;d<f.byteLength;d++)if(f[d]!==r[d])return!1;return!0},coerce=f=>{if(f instanceof Uint8Array&&f.constructor.name==="Uint8Array")return f;if(f instanceof ArrayBuffer)return new Uint8Array(f);if(ArrayBuffer.isView(f))return new Uint8Array(f.buffer,f.byteOffset,f.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=f=>f instanceof ArrayBuffer||ArrayBuffer.isView(f),fromString=f=>new TextEncoder().encode(f),toString=f=>new TextDecoder().decode(f),bytes=Object.freeze(Object.defineProperty({__proto__:null,coerce,empty,equals:equals$1,fromHex,fromString,isBinary,toHex,toString},Symbol.toStringTag,{value:"Module"}));class Encoder{constructor(r,d,g){this.name=r,this.prefix=d,this.baseEncode=g}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(r,d,g){this.name=r,this.prefix=d,this.baseDecode=g}decode(r){if(typeof r=="string")switch(r[0]){case this.prefix:return this.baseDecode(r.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(r){const d={[this.prefix]:this,...r.decoders||{[r.prefix]:r}};return new ComposedDecoder(d)}}class ComposedDecoder{constructor(r){this.decoders=r}or(r){const d=r.decoders||{[r.prefix]:r};return new ComposedDecoder({...this.decoders,...d})}decode(r){const d=r[0],g=this.decoders[d];if(g)return g.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class Codec{constructor(r,d,g,m){this.name=r,this.prefix=d,this.baseEncode=g,this.baseDecode=m,this.encoder=new Encoder(r,d,g),this.decoder=new Decoder(r,d,m)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const from$1=({name:f,prefix:r,encode:d,decode:g})=>new Codec(f,r,d,g),baseX=({prefix:f,name:r,alphabet:d})=>{const{encode:g,decode:m}=_brrp__multiformats_scope_baseX(d,r);return from$1({prefix:f,name:r,encode:g,decode:v=>coerce(m(v))})},decode$5=(f,r,d,g)=>{const m={};for(let b=0;b<r.length;++b)m[r[b]]=b;let v=f.length;for(;f[v-1]==="=";)--v;const _=new Uint8Array(v*d/8|0);let y=0,x=0,E=0;for(let b=0;b<v;++b){const C=m[f[b]];if(C===void 0)throw new SyntaxError(`Non-${g} character`);x=x<<d|C,y+=d,y>=8&&(y-=8,_[E++]=255&x>>y)}if(y>=d||255&x<<8-y)throw new SyntaxError("Unexpected end of data");return _},encode$3=(f,r,d)=>{const g=r[r.length-1]==="=",m=(1<<d)-1;let v="",_=0,y=0;for(let x=0;x<f.length;++x)for(y=y<<8|f[x],_+=8;_>d;)_-=d,v+=r[m&y>>_];if(_&&(v+=r[m&y<<d-_]),g)for(;v.length*d&7;)v+="=";return v},rfc4648=({name:f,prefix:r,bitsPerChar:d,alphabet:g})=>from$1({prefix:r,name:f,encode(m){return encode$3(m,g,d)},decode(m){return decode$5(m,g,d,f)}}),identity$2=from$1({prefix:"\0",name:"identity",encode:f=>toString(f),decode:f=>fromString(f)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"}));var encode_1=encode$2,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$2(f,r,d){r=r||[],d=d||0;for(var g=d;f>=INT;)r[d++]=f&255|MSB,f/=128;for(;f&MSBALL;)r[d++]=f&255|MSB,f>>>=7;return r[d]=f|0,encode$2.bytes=d-g+1,r}var decode$4=read,MSB$1=128,REST$1=127;function read(f,g){var d=0,g=g||0,m=0,v=g,_,y=f.length;do{if(v>=y)throw read.bytes=0,new RangeError("Could not decode varint");_=f[v++],d+=m<28?(_&REST$1)<<m:(_&REST$1)*Math.pow(2,m),m+=7}while(_>=MSB$1);return read.bytes=v-g,d}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(f){return f<N1?1:f<N2?2:f<N3?3:f<N4?4:f<N5?5:f<N6?6:f<N7?7:f<N8?8:f<N9?9:10},varint$1={encode:encode_1,decode:decode$4,encodingLength:length},_brrp_varint=varint$1;const decode$3=f=>[_brrp_varint.decode(f),_brrp_varint.decode.bytes],encodeTo=(f,r,d=0)=>(_brrp_varint.encode(f,r,d),r),encodingLength=f=>_brrp_varint.encodingLength(f),varint=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$3,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(f,r)=>{const d=r.byteLength,g=encodingLength(f),m=g+encodingLength(d),v=new Uint8Array(m+d);return encodeTo(f,v,0),encodeTo(d,v,g),v.set(r,m),new Digest(f,d,r,v)},decode$2=f=>{const r=coerce(f),[d,g]=decode$3(r),[m,v]=decode$3(r.subarray(g)),_=r.subarray(g+v);if(_.byteLength!==m)throw new Error("Incorrect length");return new Digest(d,m,_,r)},equals=(f,r)=>f===r?!0:f.code===r.code&&f.size===r.size&&equals$1(f.bytes,r.bytes);class Digest{constructor(r,d,g,m){this.code=r,this.size=d,this.digest=g,this.bytes=m}}const digest=Object.freeze(Object.defineProperty({__proto__:null,Digest,create,decode:decode$2,equals},Symbol.toStringTag,{value:"Module"})),from=({name:f,code:r,encode:d})=>new Hasher(f,r,d);class Hasher{constructor(r,d,g){this.name=r,this.code=d,this.encode=g}async digest(r){if(r instanceof Uint8Array){const d=await this.encode(r);return create(this.code,d)}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,Hasher,from},Symbol.toStringTag,{value:"Module"})),sha=f=>async r=>new Uint8Array(await crypto.subtle.digest(f,r)),sha256$1=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512$2=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$1,sha512:sha512$2},Symbol.toStringTag,{value:"Module"})),identity=from({name:"identity",code:0,encode:f=>coerce(f)}),identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),raw=f=>coerce(f),{name:name$1,code:code$1,encode:encode$1,decode:decode$1}={name:"raw",code:85,decode:raw,encode:raw},raw$1=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$1,encode:encode$1,name:name$1},Symbol.toStringTag,{value:"Module"})),{name,code,encode,decode}={name:"json",code:512,encode:f=>new TextEncoder().encode(JSON.stringify(f)),decode:f=>JSON.parse(new TextDecoder().decode(f))},json=Object.freeze(Object.defineProperty({__proto__:null,code,decode,encode,name},Symbol.toStringTag,{value:"Module"}));class CID{constructor(r,d,g,m){this.code=d,this.version=r,this.multihash=g,this.bytes=m,this.byteOffset=m.byteOffset,this.byteLength=m.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:r,multihash:d}=this;if(r!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(d.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(d)}}}toV1(){switch(this.version){case 0:{const{code:r,digest:d}=this.multihash,g=create(r,d);return CID.createV1(this.code,g)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(r){return r&&this.code===r.code&&this.version===r.version&&equals(this.multihash,r.multihash)}toString(r){const{bytes:d,version:g,_baseCache:m}=this;switch(g){case 0:return toStringV0(d,m,r||base58btc.encoder);default:return toStringV1(d,m,r||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(r){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(r&&(r[cidSymbol]||r.asCID===r))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(r){if(r instanceof CID)return r;if(r!=null&&r.asCID===r){const{version:d,code:g,multihash:m,bytes:v}=r;return new CID(d,g,m,v||encodeCID(d,g,m.bytes))}else if(r!=null&&r[cidSymbol]===!0){const{version:d,multihash:g,code:m}=r,v=decode$2(g);return CID.create(d,m,v)}else return null}static create(r,d,g){if(typeof d!="number")throw new Error("String codecs are no longer supported");switch(r){case 0:{if(d!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(r,d,g,g.bytes)}case 1:{const m=encodeCID(r,d,g.bytes);return new CID(r,d,g,m)}default:throw new Error("Invalid version")}}static createV0(r){return CID.create(0,DAG_PB_CODE,r)}static createV1(r,d){return CID.create(1,r,d)}static decode(r){const[d,g]=CID.decodeFirst(r);if(g.length)throw new Error("Incorrect length");return d}static decodeFirst(r){const d=CID.inspectBytes(r),g=d.size-d.multihashSize,m=coerce(r.subarray(g,g+d.multihashSize));if(m.byteLength!==d.multihashSize)throw new Error("Incorrect length");const v=m.subarray(d.multihashSize-d.digestSize),_=new Digest(d.multihashCode,d.digestSize,v,m);return[d.version===0?CID.createV0(_):CID.createV1(d.codec,_),r.subarray(d.size)]}static inspectBytes(r){let d=0;const g=()=>{const[C,R]=decode$3(r.subarray(d));return d+=R,C};let m=g(),v=DAG_PB_CODE;if(m===18?(m=0,d=0):m===1&&(v=g()),m!==0&&m!==1)throw new RangeError(`Invalid CID version ${m}`);const _=d,y=g(),x=g(),E=d+x,b=E-_;return{version:m,codec:v,multihashCode:y,digestSize:x,multihashSize:b,size:E}}static parse(r,d){const[g,m]=parseCIDtoBytes(r,d),v=CID.decode(m);return v._baseCache.set(g,r),v}}const parseCIDtoBytes=(f,r)=>{switch(f[0]){case"Q":{const d=r||base58btc;return[base58btc.prefix,d.decode(`${base58btc.prefix}${f}`)]}case base58btc.prefix:{const d=r||base58btc;return[base58btc.prefix,d.decode(f)]}case base32.prefix:{const d=r||base32;return[base32.prefix,d.decode(f)]}default:{if(r==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[f[0],r.decode(f)]}}},toStringV0=(f,r,d)=>{const{prefix:g}=d;if(g!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${d.name} encoding`);const m=r.get(g);if(m==null){const v=d.encode(f).slice(1);return r.set(g,v),v}else return m},toStringV1=(f,r,d)=>{const{prefix:g}=d,m=r.get(g);if(m==null){const v=d.encode(f);return r.set(g,v),v}else return m},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(f,r,d)=>{const g=encodingLength(f),m=g+encodingLength(r),v=new Uint8Array(m+d.byteLength);return encodeTo(f,v,0),encodeTo(r,v,g),v.set(d,m),v},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(f,r)=>{if(f.test(version))console.warn(r);else throw new Error(r)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1},hashes={...sha2,...identity$1},codecs={raw:raw$1,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID,bases,bytes,codecs,digest,hasher,hashes,varint},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(basics);var hasRequiredStringUtils;function requireStringUtils(){if(hasRequiredStringUtils)return stringUtils;hasRequiredStringUtils=1,Object.defineProperty(stringUtils,"__esModule",{value:!0}),stringUtils.okxfromString=d,stringUtils.okxtoString=g,stringUtils.alloc=m,stringUtils.allocUnsafe=v;const f=require$$0,r=requireLog();function d(b,C="utf8"){const R=E[C];if((0,r.logDebug)("okxfromstring ====> "),!R)throw new Error(`Unsupported encoding "${C}"`);return R.decoder.decode(`${R.prefix}${b}`)}function g(b,C="utf8"){const R=E[C];if((0,r.logDebug)("okxtoString ====> "),!R)throw new Error(`Unsupported encoding "${C}"`);return R.encoder.encode(b).substring(1)}function m(b=0){return new Uint8Array(b)}function v(b=0){return new Uint8Array(b)}function _(b,C,R,O){return{name:b,prefix:C,encoder:{name:b,prefix:C,encode:R},decoder:{decode:O}}}const y=_("utf8","u",b=>"u"+new TextDecoder("utf8").decode(b),b=>new TextEncoder().encode(b.substring(1))),x=_("ascii","a",b=>{let C="a";for(let R=0;R<b.length;R++){let O=b[R];O&&String.fromCharCode(O)&&(C+=String.fromCharCode(O))}return C},b=>{b=b.substring(1);const C=v(b.length);for(let R=0;R<b.length;R++)C[R]=b.charCodeAt(R);return C}),E=Object.assign({utf8:y,"utf-8":y,hex:f.bases.base16,latin1:x,ascii:x,binary:x},f.bases);return stringUtils}var cryptoJs={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(f,r){(function(d,g){f.exports=g()})(commonjsGlobal,function(){var d=d||function(g,m){var v;if(typeof window<"u"&&window.crypto&&(v=window.crypto),typeof self<"u"&&self.crypto&&(v=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(v=globalThis.crypto),!v&&typeof window<"u"&&window.msCrypto&&(v=window.msCrypto),!v&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(v=commonjsGlobal.crypto),!v&&typeof commonjsRequire=="function")try{v=requireCryptoBrowserify()}catch{}var _=function(){if(v){if(typeof v.getRandomValues=="function")try{return v.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof v.randomBytes=="function")try{return v.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},y=Object.create||function(){function L(){}return function(K){var j;return L.prototype=K,j=new L,L.prototype=null,j}}(),x={},E=x.lib={},b=E.Base=function(){return{extend:function(L){var K=y(this);return L&&K.mixIn(L),(!K.hasOwnProperty("init")||this.init===K.init)&&(K.init=function(){K.$super.init.apply(this,arguments)}),K.init.prototype=K,K.$super=this,K},create:function(){var L=this.extend();return L.init.apply(L,arguments),L},init:function(){},mixIn:function(L){for(var K in L)L.hasOwnProperty(K)&&(this[K]=L[K]);L.hasOwnProperty("toString")&&(this.toString=L.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),C=E.WordArray=b.extend({init:function(L,K){L=this.words=L||[],K!=m?this.sigBytes=K:this.sigBytes=L.length*4},toString:function(L){return(L||O).stringify(this)},concat:function(L){var K=this.words,j=L.words,W=this.sigBytes,G=L.sigBytes;if(this.clamp(),W%4)for(var Q=0;Q<G;Q++){var re=j[Q>>>2]>>>24-Q%4*8&255;K[W+Q>>>2]|=re<<24-(W+Q)%4*8}else for(var ne=0;ne<G;ne+=4)K[W+ne>>>2]=j[ne>>>2];return this.sigBytes+=G,this},clamp:function(){var L=this.words,K=this.sigBytes;L[K>>>2]&=4294967295<<32-K%4*8,L.length=g.ceil(K/4)},clone:function(){var L=b.clone.call(this);return L.words=this.words.slice(0),L},random:function(L){for(var K=[],j=0;j<L;j+=4)K.push(_());return new C.init(K,L)}}),R=x.enc={},O=R.Hex={stringify:function(L){for(var K=L.words,j=L.sigBytes,W=[],G=0;G<j;G++){var Q=K[G>>>2]>>>24-G%4*8&255;W.push((Q>>>4).toString(16)),W.push((Q&15).toString(16))}return W.join("")},parse:function(L){for(var K=L.length,j=[],W=0;W<K;W+=2)j[W>>>3]|=parseInt(L.substr(W,2),16)<<24-W%8*4;return new C.init(j,K/2)}},A=R.Latin1={stringify:function(L){for(var K=L.words,j=L.sigBytes,W=[],G=0;G<j;G++){var Q=K[G>>>2]>>>24-G%4*8&255;W.push(String.fromCharCode(Q))}return W.join("")},parse:function(L){for(var K=L.length,j=[],W=0;W<K;W++)j[W>>>2]|=(L.charCodeAt(W)&255)<<24-W%4*8;return new C.init(j,K)}},M=R.Utf8={stringify:function(L){try{return decodeURIComponent(escape(A.stringify(L)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(L){return A.parse(unescape(encodeURIComponent(L)))}},P=E.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new C.init,this._nDataBytes=0},_append:function(L){typeof L=="string"&&(L=M.parse(L)),this._data.concat(L),this._nDataBytes+=L.sigBytes},_process:function(L){var K,j=this._data,W=j.words,G=j.sigBytes,Q=this.blockSize,re=Q*4,ne=G/re;L?ne=g.ceil(ne):ne=g.max((ne|0)-this._minBufferSize,0);var ie=ne*Q,z=g.min(ie*4,G);if(ie){for(var T=0;T<ie;T+=Q)this._doProcessBlock(W,T);K=W.splice(0,ie),j.sigBytes-=z}return new C.init(K,z)},clone:function(){var L=b.clone.call(this);return L._data=this._data.clone(),L},_minBufferSize:0});E.Hasher=P.extend({cfg:b.extend(),init:function(L){this.cfg=this.cfg.extend(L),this.reset()},reset:function(){P.reset.call(this),this._doReset()},update:function(L){return this._append(L),this._process(),this},finalize:function(L){L&&this._append(L);var K=this._doFinalize();return K},blockSize:16,_createHelper:function(L){return function(K,j){return new L.init(j).finalize(K)}},_createHmacHelper:function(L){return function(K,j){return new F.HMAC.init(L,j).finalize(K)}}});var F=x.algo={};return x}(Math);return d})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(g){var m=d,v=m.lib,_=v.Base,y=v.WordArray,x=m.x64={};x.Word=_.extend({init:function(E,b){this.high=E,this.low=b}}),x.WordArray=_.extend({init:function(E,b){E=this.words=E||[],b!=g?this.sigBytes=b:this.sigBytes=E.length*8},toX32:function(){for(var E=this.words,b=E.length,C=[],R=0;R<b;R++){var O=E[R];C.push(O.high),C.push(O.low)}return y.create(C,this.sigBytes)},clone:function(){for(var E=_.clone.call(this),b=E.words=this.words.slice(0),C=b.length,R=0;R<C;R++)b[R]=b[R].clone();return E}})}(),d})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){if(typeof ArrayBuffer=="function"){var g=d,m=g.lib,v=m.WordArray,_=v.init,y=v.init=function(x){if(x instanceof ArrayBuffer&&(x=new Uint8Array(x)),(x instanceof Int8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)&&(x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)),x instanceof Uint8Array){for(var E=x.byteLength,b=[],C=0;C<E;C++)b[C>>>2]|=x[C]<<24-C%4*8;_.call(this,b,E)}else _.apply(this,arguments)};y.prototype=v}}(),d.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.WordArray,_=g.enc;_.Utf16=_.Utf16BE={stringify:function(x){for(var E=x.words,b=x.sigBytes,C=[],R=0;R<b;R+=2){var O=E[R>>>2]>>>16-R%4*8&65535;C.push(String.fromCharCode(O))}return C.join("")},parse:function(x){for(var E=x.length,b=[],C=0;C<E;C++)b[C>>>1]|=x.charCodeAt(C)<<16-C%2*16;return v.create(b,E*2)}},_.Utf16LE={stringify:function(x){for(var E=x.words,b=x.sigBytes,C=[],R=0;R<b;R+=2){var O=y(E[R>>>2]>>>16-R%4*8&65535);C.push(String.fromCharCode(O))}return C.join("")},parse:function(x){for(var E=x.length,b=[],C=0;C<E;C++)b[C>>>1]|=y(x.charCodeAt(C)<<16-C%2*16);return v.create(b,E*2)}};function y(x){return x<<8&4278255360|x>>>8&16711935}}(),d.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.WordArray,_=g.enc;_.Base64={stringify:function(x){var E=x.words,b=x.sigBytes,C=this._map;x.clamp();for(var R=[],O=0;O<b;O+=3)for(var A=E[O>>>2]>>>24-O%4*8&255,M=E[O+1>>>2]>>>24-(O+1)%4*8&255,P=E[O+2>>>2]>>>24-(O+2)%4*8&255,F=A<<16|M<<8|P,L=0;L<4&&O+L*.75<b;L++)R.push(C.charAt(F>>>6*(3-L)&63));var K=C.charAt(64);if(K)for(;R.length%4;)R.push(K);return R.join("")},parse:function(x){var E=x.length,b=this._map,C=this._reverseMap;if(!C){C=this._reverseMap=[];for(var R=0;R<b.length;R++)C[b.charCodeAt(R)]=R}var O=b.charAt(64);if(O){var A=x.indexOf(O);A!==-1&&(E=A)}return y(x,E,C)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function y(x,E,b){for(var C=[],R=0,O=0;O<E;O++)if(O%4){var A=b[x.charCodeAt(O-1)]<<O%4*2,M=b[x.charCodeAt(O)]>>>6-O%4*2,P=A|M;C[R>>>2]|=P<<24-R%4*8,R++}return v.create(C,R)}}(),d.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.WordArray,_=g.enc;_.Base64url={stringify:function(x,E){E===void 0&&(E=!0);var b=x.words,C=x.sigBytes,R=E?this._safe_map:this._map;x.clamp();for(var O=[],A=0;A<C;A+=3)for(var M=b[A>>>2]>>>24-A%4*8&255,P=b[A+1>>>2]>>>24-(A+1)%4*8&255,F=b[A+2>>>2]>>>24-(A+2)%4*8&255,L=M<<16|P<<8|F,K=0;K<4&&A+K*.75<C;K++)O.push(R.charAt(L>>>6*(3-K)&63));var j=R.charAt(64);if(j)for(;O.length%4;)O.push(j);return O.join("")},parse:function(x,E){E===void 0&&(E=!0);var b=x.length,C=E?this._safe_map:this._map,R=this._reverseMap;if(!R){R=this._reverseMap=[];for(var O=0;O<C.length;O++)R[C.charCodeAt(O)]=O}var A=C.charAt(64);if(A){var M=x.indexOf(A);M!==-1&&(b=M)}return y(x,b,R)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function y(x,E,b){for(var C=[],R=0,O=0;O<E;O++)if(O%4){var A=b[x.charCodeAt(O-1)]<<O%4*2,M=b[x.charCodeAt(O)]>>>6-O%4*2,P=A|M;C[R>>>2]|=P<<24-R%4*8,R++}return v.create(C,R)}}(),d.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(g){var m=d,v=m.lib,_=v.WordArray,y=v.Hasher,x=m.algo,E=[];(function(){for(var M=0;M<64;M++)E[M]=g.abs(g.sin(M+1))*4294967296|0})();var b=x.MD5=y.extend({_doReset:function(){this._hash=new _.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,P){for(var F=0;F<16;F++){var L=P+F,K=M[L];M[L]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}var j=this._hash.words,W=M[P+0],G=M[P+1],Q=M[P+2],re=M[P+3],ne=M[P+4],ie=M[P+5],z=M[P+6],T=M[P+7],D=M[P+8],w=M[P+9],S=M[P+10],$=M[P+11],N=M[P+12],k=M[P+13],U=M[P+14],I=M[P+15],q=j[0],B=j[1],H=j[2],ce=j[3];q=C(q,B,H,ce,W,7,E[0]),ce=C(ce,q,B,H,G,12,E[1]),H=C(H,ce,q,B,Q,17,E[2]),B=C(B,H,ce,q,re,22,E[3]),q=C(q,B,H,ce,ne,7,E[4]),ce=C(ce,q,B,H,ie,12,E[5]),H=C(H,ce,q,B,z,17,E[6]),B=C(B,H,ce,q,T,22,E[7]),q=C(q,B,H,ce,D,7,E[8]),ce=C(ce,q,B,H,w,12,E[9]),H=C(H,ce,q,B,S,17,E[10]),B=C(B,H,ce,q,$,22,E[11]),q=C(q,B,H,ce,N,7,E[12]),ce=C(ce,q,B,H,k,12,E[13]),H=C(H,ce,q,B,U,17,E[14]),B=C(B,H,ce,q,I,22,E[15]),q=R(q,B,H,ce,G,5,E[16]),ce=R(ce,q,B,H,z,9,E[17]),H=R(H,ce,q,B,$,14,E[18]),B=R(B,H,ce,q,W,20,E[19]),q=R(q,B,H,ce,ie,5,E[20]),ce=R(ce,q,B,H,S,9,E[21]),H=R(H,ce,q,B,I,14,E[22]),B=R(B,H,ce,q,ne,20,E[23]),q=R(q,B,H,ce,w,5,E[24]),ce=R(ce,q,B,H,U,9,E[25]),H=R(H,ce,q,B,re,14,E[26]),B=R(B,H,ce,q,D,20,E[27]),q=R(q,B,H,ce,k,5,E[28]),ce=R(ce,q,B,H,Q,9,E[29]),H=R(H,ce,q,B,T,14,E[30]),B=R(B,H,ce,q,N,20,E[31]),q=O(q,B,H,ce,ie,4,E[32]),ce=O(ce,q,B,H,D,11,E[33]),H=O(H,ce,q,B,$,16,E[34]),B=O(B,H,ce,q,U,23,E[35]),q=O(q,B,H,ce,G,4,E[36]),ce=O(ce,q,B,H,ne,11,E[37]),H=O(H,ce,q,B,T,16,E[38]),B=O(B,H,ce,q,S,23,E[39]),q=O(q,B,H,ce,k,4,E[40]),ce=O(ce,q,B,H,W,11,E[41]),H=O(H,ce,q,B,re,16,E[42]),B=O(B,H,ce,q,z,23,E[43]),q=O(q,B,H,ce,w,4,E[44]),ce=O(ce,q,B,H,N,11,E[45]),H=O(H,ce,q,B,I,16,E[46]),B=O(B,H,ce,q,Q,23,E[47]),q=A(q,B,H,ce,W,6,E[48]),ce=A(ce,q,B,H,T,10,E[49]),H=A(H,ce,q,B,U,15,E[50]),B=A(B,H,ce,q,ie,21,E[51]),q=A(q,B,H,ce,N,6,E[52]),ce=A(ce,q,B,H,re,10,E[53]),H=A(H,ce,q,B,S,15,E[54]),B=A(B,H,ce,q,G,21,E[55]),q=A(q,B,H,ce,D,6,E[56]),ce=A(ce,q,B,H,I,10,E[57]),H=A(H,ce,q,B,z,15,E[58]),B=A(B,H,ce,q,k,21,E[59]),q=A(q,B,H,ce,ne,6,E[60]),ce=A(ce,q,B,H,$,10,E[61]),H=A(H,ce,q,B,Q,15,E[62]),B=A(B,H,ce,q,w,21,E[63]),j[0]=j[0]+q|0,j[1]=j[1]+B|0,j[2]=j[2]+H|0,j[3]=j[3]+ce|0},_doFinalize:function(){var M=this._data,P=M.words,F=this._nDataBytes*8,L=M.sigBytes*8;P[L>>>5]|=128<<24-L%32;var K=g.floor(F/4294967296),j=F;P[(L+64>>>9<<4)+15]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,P[(L+64>>>9<<4)+14]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,M.sigBytes=(P.length+1)*4,this._process();for(var W=this._hash,G=W.words,Q=0;Q<4;Q++){var re=G[Q];G[Q]=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360}return W},clone:function(){var M=y.clone.call(this);return M._hash=this._hash.clone(),M}});function C(M,P,F,L,K,j,W){var G=M+(P&F|~P&L)+K+W;return(G<<j|G>>>32-j)+P}function R(M,P,F,L,K,j,W){var G=M+(P&L|F&~L)+K+W;return(G<<j|G>>>32-j)+P}function O(M,P,F,L,K,j,W){var G=M+(P^F^L)+K+W;return(G<<j|G>>>32-j)+P}function A(M,P,F,L,K,j,W){var G=M+(F^(P|~L))+K+W;return(G<<j|G>>>32-j)+P}m.MD5=y._createHelper(b),m.HmacMD5=y._createHmacHelper(b)}(Math),d.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.WordArray,_=m.Hasher,y=g.algo,x=[],E=y.SHA1=_.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,C){for(var R=this._hash.words,O=R[0],A=R[1],M=R[2],P=R[3],F=R[4],L=0;L<80;L++){if(L<16)x[L]=b[C+L]|0;else{var K=x[L-3]^x[L-8]^x[L-14]^x[L-16];x[L]=K<<1|K>>>31}var j=(O<<5|O>>>27)+F+x[L];L<20?j+=(A&M|~A&P)+1518500249:L<40?j+=(A^M^P)+1859775393:L<60?j+=(A&M|A&P|M&P)-1894007588:j+=(A^M^P)-899497514,F=P,P=M,M=A<<30|A>>>2,A=O,O=j}R[0]=R[0]+O|0,R[1]=R[1]+A|0,R[2]=R[2]+M|0,R[3]=R[3]+P|0,R[4]=R[4]+F|0},_doFinalize:function(){var b=this._data,C=b.words,R=this._nDataBytes*8,O=b.sigBytes*8;return C[O>>>5]|=128<<24-O%32,C[(O+64>>>9<<4)+14]=Math.floor(R/4294967296),C[(O+64>>>9<<4)+15]=R,b.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var b=_.clone.call(this);return b._hash=this._hash.clone(),b}});g.SHA1=_._createHelper(E),g.HmacSHA1=_._createHmacHelper(E)}(),d.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(g){var m=d,v=m.lib,_=v.WordArray,y=v.Hasher,x=m.algo,E=[],b=[];(function(){function O(F){for(var L=g.sqrt(F),K=2;K<=L;K++)if(!(F%K))return!1;return!0}function A(F){return(F-(F|0))*4294967296|0}for(var M=2,P=0;P<64;)O(M)&&(P<8&&(E[P]=A(g.pow(M,1/2))),b[P]=A(g.pow(M,1/3)),P++),M++})();var C=[],R=x.SHA256=y.extend({_doReset:function(){this._hash=new _.init(E.slice(0))},_doProcessBlock:function(O,A){for(var M=this._hash.words,P=M[0],F=M[1],L=M[2],K=M[3],j=M[4],W=M[5],G=M[6],Q=M[7],re=0;re<64;re++){if(re<16)C[re]=O[A+re]|0;else{var ne=C[re-15],ie=(ne<<25|ne>>>7)^(ne<<14|ne>>>18)^ne>>>3,z=C[re-2],T=(z<<15|z>>>17)^(z<<13|z>>>19)^z>>>10;C[re]=ie+C[re-7]+T+C[re-16]}var D=j&W^~j&G,w=P&F^P&L^F&L,S=(P<<30|P>>>2)^(P<<19|P>>>13)^(P<<10|P>>>22),$=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),N=Q+$+D+b[re]+C[re],k=S+w;Q=G,G=W,W=j,j=K+N|0,K=L,L=F,F=P,P=N+k|0}M[0]=M[0]+P|0,M[1]=M[1]+F|0,M[2]=M[2]+L|0,M[3]=M[3]+K|0,M[4]=M[4]+j|0,M[5]=M[5]+W|0,M[6]=M[6]+G|0,M[7]=M[7]+Q|0},_doFinalize:function(){var O=this._data,A=O.words,M=this._nDataBytes*8,P=O.sigBytes*8;return A[P>>>5]|=128<<24-P%32,A[(P+64>>>9<<4)+14]=g.floor(M/4294967296),A[(P+64>>>9<<4)+15]=M,O.sigBytes=A.length*4,this._process(),this._hash},clone:function(){var O=y.clone.call(this);return O._hash=this._hash.clone(),O}});m.SHA256=y._createHelper(R),m.HmacSHA256=y._createHmacHelper(R)}(Math),d.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireSha256())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.WordArray,_=g.algo,y=_.SHA256,x=_.SHA224=y.extend({_doReset:function(){this._hash=new v.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var E=y._doFinalize.call(this);return E.sigBytes-=4,E}});g.SHA224=y._createHelper(x),g.HmacSHA224=y._createHmacHelper(x)}(),d.SHA224})}(sha224)),sha224.exports}var sha512$1={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireX64Core())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.Hasher,_=g.x64,y=_.Word,x=_.WordArray,E=g.algo;function b(){return y.create.apply(y,arguments)}var C=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],R=[];(function(){for(var A=0;A<80;A++)R[A]=b()})();var O=E.SHA512=v.extend({_doReset:function(){this._hash=new x.init([new y.init(1779033703,4089235720),new y.init(3144134277,2227873595),new y.init(1013904242,4271175723),new y.init(2773480762,1595750129),new y.init(1359893119,2917565137),new y.init(2600822924,725511199),new y.init(528734635,4215389547),new y.init(1541459225,327033209)])},_doProcessBlock:function(A,M){for(var P=this._hash.words,F=P[0],L=P[1],K=P[2],j=P[3],W=P[4],G=P[5],Q=P[6],re=P[7],ne=F.high,ie=F.low,z=L.high,T=L.low,D=K.high,w=K.low,S=j.high,$=j.low,N=W.high,k=W.low,U=G.high,I=G.low,q=Q.high,B=Q.low,H=re.high,ce=re.low,be=ne,ve=ie,Z=z,J=T,ae=D,X=w,Y=S,oe=$,we=N,Se=k,De=U,qe=I,Ue=q,Ne=B,Be=H,Qe=ce,Le=0;Le<80;Le++){var ot,Ve,We=R[Le];if(Le<16)Ve=We.high=A[M+Le*2]|0,ot=We.low=A[M+Le*2+1]|0;else{var it=R[Le-15],Ke=it.high,Fe=it.low,Ye=(Ke>>>1|Fe<<31)^(Ke>>>8|Fe<<24)^Ke>>>7,rt=(Fe>>>1|Ke<<31)^(Fe>>>8|Ke<<24)^(Fe>>>7|Ke<<25),ue=R[Le-2],ee=ue.high,te=ue.low,de=(ee>>>19|te<<13)^(ee<<3|te>>>29)^ee>>>6,xe=(te>>>19|ee<<13)^(te<<3|ee>>>29)^(te>>>6|ee<<26),Oe=R[Le-7],$e=Oe.high,dt=Oe.low,ut=R[Le-16],et=ut.high,wt=ut.low;ot=rt+dt,Ve=Ye+$e+(ot>>>0<rt>>>0?1:0),ot=ot+xe,Ve=Ve+de+(ot>>>0<xe>>>0?1:0),ot=ot+wt,Ve=Ve+et+(ot>>>0<wt>>>0?1:0),We.high=Ve,We.low=ot}var ht=we&De^~we&Ue,yt=Se&qe^~Se&Ne,It=be&Z^be&ae^Z&ae,bt=ve&J^ve&X^J&X,at=(be>>>28|ve<<4)^(be<<30|ve>>>2)^(be<<25|ve>>>7),Tt=(ve>>>28|be<<4)^(ve<<30|be>>>2)^(ve<<25|be>>>7),xt=(we>>>14|Se<<18)^(we>>>18|Se<<14)^(we<<23|Se>>>9),st=(Se>>>14|we<<18)^(Se>>>18|we<<14)^(Se<<23|we>>>9),Nt=C[Le],Et=Nt.high,nt=Nt.low,Rt=Qe+st,se=Be+xt+(Rt>>>0<Qe>>>0?1:0),Rt=Rt+yt,se=se+ht+(Rt>>>0<yt>>>0?1:0),Rt=Rt+nt,se=se+Et+(Rt>>>0<nt>>>0?1:0),Rt=Rt+ot,se=se+Ve+(Rt>>>0<ot>>>0?1:0),le=Tt+bt,he=at+It+(le>>>0<Tt>>>0?1:0);Be=Ue,Qe=Ne,Ue=De,Ne=qe,De=we,qe=Se,Se=oe+Rt|0,we=Y+se+(Se>>>0<oe>>>0?1:0)|0,Y=ae,oe=X,ae=Z,X=J,Z=be,J=ve,ve=Rt+le|0,be=se+he+(ve>>>0<Rt>>>0?1:0)|0}ie=F.low=ie+ve,F.high=ne+be+(ie>>>0<ve>>>0?1:0),T=L.low=T+J,L.high=z+Z+(T>>>0<J>>>0?1:0),w=K.low=w+X,K.high=D+ae+(w>>>0<X>>>0?1:0),$=j.low=$+oe,j.high=S+Y+($>>>0<oe>>>0?1:0),k=W.low=k+Se,W.high=N+we+(k>>>0<Se>>>0?1:0),I=G.low=I+qe,G.high=U+De+(I>>>0<qe>>>0?1:0),B=Q.low=B+Ne,Q.high=q+Ue+(B>>>0<Ne>>>0?1:0),ce=re.low=ce+Qe,re.high=H+Be+(ce>>>0<Qe>>>0?1:0)},_doFinalize:function(){var A=this._data,M=A.words,P=this._nDataBytes*8,F=A.sigBytes*8;M[F>>>5]|=128<<24-F%32,M[(F+128>>>10<<5)+30]=Math.floor(P/4294967296),M[(F+128>>>10<<5)+31]=P,A.sigBytes=M.length*4,this._process();var L=this._hash.toX32();return L},clone:function(){var A=v.clone.call(this);return A._hash=this._hash.clone(),A},blockSize:1024/32});g.SHA512=v._createHelper(O),g.HmacSHA512=v._createHmacHelper(O)}(),d.SHA512})}(sha512$1)),sha512$1.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(d){return function(){var g=d,m=g.x64,v=m.Word,_=m.WordArray,y=g.algo,x=y.SHA512,E=y.SHA384=x.extend({_doReset:function(){this._hash=new _.init([new v.init(3418070365,3238371032),new v.init(1654270250,914150663),new v.init(2438529370,812702999),new v.init(355462360,4144912697),new v.init(1731405415,4290775857),new v.init(2394180231,1750603025),new v.init(3675008525,1694076839),new v.init(1203062813,3204075428)])},_doFinalize:function(){var b=x._doFinalize.call(this);return b.sigBytes-=16,b}});g.SHA384=x._createHelper(E),g.HmacSHA384=x._createHmacHelper(E)}(),d.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireX64Core())})(commonjsGlobal,function(d){return function(g){var m=d,v=m.lib,_=v.WordArray,y=v.Hasher,x=m.x64,E=x.Word,b=m.algo,C=[],R=[],O=[];(function(){for(var P=1,F=0,L=0;L<24;L++){C[P+5*F]=(L+1)*(L+2)/2%64;var K=F%5,j=(2*P+3*F)%5;P=K,F=j}for(var P=0;P<5;P++)for(var F=0;F<5;F++)R[P+5*F]=F+(2*P+3*F)%5*5;for(var W=1,G=0;G<24;G++){for(var Q=0,re=0,ne=0;ne<7;ne++){if(W&1){var ie=(1<<ne)-1;ie<32?re^=1<<ie:Q^=1<<ie-32}W&128?W=W<<1^113:W<<=1}O[G]=E.create(Q,re)}})();var A=[];(function(){for(var P=0;P<25;P++)A[P]=E.create()})();var M=b.SHA3=y.extend({cfg:y.cfg.extend({outputLength:512}),_doReset:function(){for(var P=this._state=[],F=0;F<25;F++)P[F]=new E.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(P,F){for(var L=this._state,K=this.blockSize/2,j=0;j<K;j++){var W=P[F+2*j],G=P[F+2*j+1];W=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360;var Q=L[j];Q.high^=G,Q.low^=W}for(var re=0;re<24;re++){for(var ne=0;ne<5;ne++){for(var ie=0,z=0,T=0;T<5;T++){var Q=L[ne+5*T];ie^=Q.high,z^=Q.low}var D=A[ne];D.high=ie,D.low=z}for(var ne=0;ne<5;ne++)for(var w=A[(ne+4)%5],S=A[(ne+1)%5],$=S.high,N=S.low,ie=w.high^($<<1|N>>>31),z=w.low^(N<<1|$>>>31),T=0;T<5;T++){var Q=L[ne+5*T];Q.high^=ie,Q.low^=z}for(var k=1;k<25;k++){var ie,z,Q=L[k],U=Q.high,I=Q.low,q=C[k];q<32?(ie=U<<q|I>>>32-q,z=I<<q|U>>>32-q):(ie=I<<q-32|U>>>64-q,z=U<<q-32|I>>>64-q);var B=A[R[k]];B.high=ie,B.low=z}var H=A[0],ce=L[0];H.high=ce.high,H.low=ce.low;for(var ne=0;ne<5;ne++)for(var T=0;T<5;T++){var k=ne+5*T,Q=L[k],be=A[k],ve=A[(ne+1)%5+5*T],Z=A[(ne+2)%5+5*T];Q.high=be.high^~ve.high&Z.high,Q.low=be.low^~ve.low&Z.low}var Q=L[0],J=O[re];Q.high^=J.high,Q.low^=J.low}},_doFinalize:function(){var P=this._data,F=P.words;this._nDataBytes*8;var L=P.sigBytes*8,K=this.blockSize*32;F[L>>>5]|=1<<24-L%32,F[(g.ceil((L+1)/K)*K>>>5)-1]|=128,P.sigBytes=F.length*4,this._process();for(var j=this._state,W=this.cfg.outputLength/8,G=W/8,Q=[],re=0;re<G;re++){var ne=j[re],ie=ne.high,z=ne.low;ie=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,Q.push(z),Q.push(ie)}return new _.init(Q,W)},clone:function(){for(var P=y.clone.call(this),F=P._state=this._state.slice(0),L=0;L<25;L++)F[L]=F[L].clone();return P}});m.SHA3=y._createHelper(M),m.HmacSHA3=y._createHmacHelper(M)}(Math),d.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(g){var m=d,v=m.lib,_=v.WordArray,y=v.Hasher,x=m.algo,E=_.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=_.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),C=_.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),R=_.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),O=_.create([0,1518500249,1859775393,2400959708,2840853838]),A=_.create([1352829926,1548603684,1836072691,2053994217,0]),M=x.RIPEMD160=y.extend({_doReset:function(){this._hash=_.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(G,Q){for(var re=0;re<16;re++){var ne=Q+re,ie=G[ne];G[ne]=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360}var z=this._hash.words,T=O.words,D=A.words,w=E.words,S=b.words,$=C.words,N=R.words,k,U,I,q,B,H,ce,be,ve,Z;H=k=z[0],ce=U=z[1],be=I=z[2],ve=q=z[3],Z=B=z[4];for(var J,re=0;re<80;re+=1)J=k+G[Q+w[re]]|0,re<16?J+=P(U,I,q)+T[0]:re<32?J+=F(U,I,q)+T[1]:re<48?J+=L(U,I,q)+T[2]:re<64?J+=K(U,I,q)+T[3]:J+=j(U,I,q)+T[4],J=J|0,J=W(J,$[re]),J=J+B|0,k=B,B=q,q=W(I,10),I=U,U=J,J=H+G[Q+S[re]]|0,re<16?J+=j(ce,be,ve)+D[0]:re<32?J+=K(ce,be,ve)+D[1]:re<48?J+=L(ce,be,ve)+D[2]:re<64?J+=F(ce,be,ve)+D[3]:J+=P(ce,be,ve)+D[4],J=J|0,J=W(J,N[re]),J=J+Z|0,H=Z,Z=ve,ve=W(be,10),be=ce,ce=J;J=z[1]+I+ve|0,z[1]=z[2]+q+Z|0,z[2]=z[3]+B+H|0,z[3]=z[4]+k+ce|0,z[4]=z[0]+U+be|0,z[0]=J},_doFinalize:function(){var G=this._data,Q=G.words,re=this._nDataBytes*8,ne=G.sigBytes*8;Q[ne>>>5]|=128<<24-ne%32,Q[(ne+64>>>9<<4)+14]=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360,G.sigBytes=(Q.length+1)*4,this._process();for(var ie=this._hash,z=ie.words,T=0;T<5;T++){var D=z[T];z[T]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return ie},clone:function(){var G=y.clone.call(this);return G._hash=this._hash.clone(),G}});function P(G,Q,re){return G^Q^re}function F(G,Q,re){return G&Q|~G&re}function L(G,Q,re){return(G|~Q)^re}function K(G,Q,re){return G&re|Q&~re}function j(G,Q,re){return G^(Q|~re)}function W(G,Q){return G<<Q|G>>>32-Q}m.RIPEMD160=y._createHelper(M),m.HmacRIPEMD160=y._createHmacHelper(M)}(),d.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){(function(){var g=d,m=g.lib,v=m.Base,_=g.enc,y=_.Utf8,x=g.algo;x.HMAC=v.extend({init:function(E,b){E=this._hasher=new E.init,typeof b=="string"&&(b=y.parse(b));var C=E.blockSize,R=C*4;b.sigBytes>R&&(b=E.finalize(b)),b.clamp();for(var O=this._oKey=b.clone(),A=this._iKey=b.clone(),M=O.words,P=A.words,F=0;F<C;F++)M[F]^=1549556828,P[F]^=909522486;O.sigBytes=A.sigBytes=R,this.reset()},reset:function(){var E=this._hasher;E.reset(),E.update(this._iKey)},update:function(E){return this._hasher.update(E),this},finalize:function(E){var b=this._hasher,C=b.finalize(E);b.reset();var R=b.finalize(this._oKey.clone().concat(C));return R}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.Base,_=m.WordArray,y=g.algo,x=y.SHA256,E=y.HMAC,b=y.PBKDF2=v.extend({cfg:v.extend({keySize:128/32,hasher:x,iterations:25e4}),init:function(C){this.cfg=this.cfg.extend(C)},compute:function(C,R){for(var O=this.cfg,A=E.create(O.hasher,C),M=_.create(),P=_.create([1]),F=M.words,L=P.words,K=O.keySize,j=O.iterations;F.length<K;){var W=A.update(R).finalize(P);A.reset();for(var G=W.words,Q=G.length,re=W,ne=1;ne<j;ne++){re=A.finalize(re),A.reset();for(var ie=re.words,z=0;z<Q;z++)G[z]^=ie[z]}M.concat(W),L[0]++}return M.sigBytes=K*4,M}});g.PBKDF2=function(C,R,O){return b.create(O).compute(C,R)}}(),d.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.Base,_=m.WordArray,y=g.algo,x=y.MD5,E=y.EvpKDF=v.extend({cfg:v.extend({keySize:128/32,hasher:x,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,C){for(var R,O=this.cfg,A=O.hasher.create(),M=_.create(),P=M.words,F=O.keySize,L=O.iterations;P.length<F;){R&&A.update(R),R=A.update(b).finalize(C),A.reset();for(var K=1;K<L;K++)R=A.finalize(R),A.reset();M.concat(R)}return M.sigBytes=F*4,M}});g.EvpKDF=function(b,C,R){return E.create(R).compute(b,C)}}(),d.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEvpkdf())})(commonjsGlobal,function(d){d.lib.Cipher||function(g){var m=d,v=m.lib,_=v.Base,y=v.WordArray,x=v.BufferedBlockAlgorithm,E=m.enc;E.Utf8;var b=E.Base64,C=m.algo,R=C.EvpKDF,O=v.Cipher=x.extend({cfg:_.extend(),createEncryptor:function(ie,z){return this.create(this._ENC_XFORM_MODE,ie,z)},createDecryptor:function(ie,z){return this.create(this._DEC_XFORM_MODE,ie,z)},init:function(ie,z,T){this.cfg=this.cfg.extend(T),this._xformMode=ie,this._key=z,this.reset()},reset:function(){x.reset.call(this),this._doReset()},process:function(ie){return this._append(ie),this._process()},finalize:function(ie){ie&&this._append(ie);var z=this._doFinalize();return z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function ie(z){return typeof z=="string"?ne:G}return function(z){return{encrypt:function(T,D,w){return ie(D).encrypt(z,T,D,w)},decrypt:function(T,D,w){return ie(D).decrypt(z,T,D,w)}}}}()});v.StreamCipher=O.extend({_doFinalize:function(){var ie=this._process(!0);return ie},blockSize:1});var A=m.mode={},M=v.BlockCipherMode=_.extend({createEncryptor:function(ie,z){return this.Encryptor.create(ie,z)},createDecryptor:function(ie,z){return this.Decryptor.create(ie,z)},init:function(ie,z){this._cipher=ie,this._iv=z}}),P=A.CBC=function(){var ie=M.extend();ie.Encryptor=ie.extend({processBlock:function(T,D){var w=this._cipher,S=w.blockSize;z.call(this,T,D,S),w.encryptBlock(T,D),this._prevBlock=T.slice(D,D+S)}}),ie.Decryptor=ie.extend({processBlock:function(T,D){var w=this._cipher,S=w.blockSize,$=T.slice(D,D+S);w.decryptBlock(T,D),z.call(this,T,D,S),this._prevBlock=$}});function z(T,D,w){var S,$=this._iv;$?(S=$,this._iv=g):S=this._prevBlock;for(var N=0;N<w;N++)T[D+N]^=S[N]}return ie}(),F=m.pad={},L=F.Pkcs7={pad:function(ie,z){for(var T=z*4,D=T-ie.sigBytes%T,w=D<<24|D<<16|D<<8|D,S=[],$=0;$<D;$+=4)S.push(w);var N=y.create(S,D);ie.concat(N)},unpad:function(ie){var z=ie.words[ie.sigBytes-1>>>2]&255;ie.sigBytes-=z}};v.BlockCipher=O.extend({cfg:O.cfg.extend({mode:P,padding:L}),reset:function(){var ie;O.reset.call(this);var z=this.cfg,T=z.iv,D=z.mode;this._xformMode==this._ENC_XFORM_MODE?ie=D.createEncryptor:(ie=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ie?this._mode.init(this,T&&T.words):(this._mode=ie.call(D,this,T&&T.words),this._mode.__creator=ie)},_doProcessBlock:function(ie,z){this._mode.processBlock(ie,z)},_doFinalize:function(){var ie,z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(z.pad(this._data,this.blockSize),ie=this._process(!0)):(ie=this._process(!0),z.unpad(ie)),ie},blockSize:128/32});var K=v.CipherParams=_.extend({init:function(ie){this.mixIn(ie)},toString:function(ie){return(ie||this.formatter).stringify(this)}}),j=m.format={},W=j.OpenSSL={stringify:function(ie){var z,T=ie.ciphertext,D=ie.salt;return D?z=y.create([1398893684,1701076831]).concat(D).concat(T):z=T,z.toString(b)},parse:function(ie){var z,T=b.parse(ie),D=T.words;return D[0]==1398893684&&D[1]==1701076831&&(z=y.create(D.slice(2,4)),D.splice(0,4),T.sigBytes-=16),K.create({ciphertext:T,salt:z})}},G=v.SerializableCipher=_.extend({cfg:_.extend({format:W}),encrypt:function(ie,z,T,D){D=this.cfg.extend(D);var w=ie.createEncryptor(T,D),S=w.finalize(z),$=w.cfg;return K.create({ciphertext:S,key:T,iv:$.iv,algorithm:ie,mode:$.mode,padding:$.padding,blockSize:ie.blockSize,formatter:D.format})},decrypt:function(ie,z,T,D){D=this.cfg.extend(D),z=this._parse(z,D.format);var w=ie.createDecryptor(T,D).finalize(z.ciphertext);return w},_parse:function(ie,z){return typeof ie=="string"?z.parse(ie,this):ie}}),Q=m.kdf={},re=Q.OpenSSL={execute:function(ie,z,T,D,w){if(D||(D=y.random(64/8)),w)var S=R.create({keySize:z+T,hasher:w}).compute(ie,D);else var S=R.create({keySize:z+T}).compute(ie,D);var $=y.create(S.words.slice(z),T*4);return S.sigBytes=z*4,K.create({key:S,iv:$,salt:D})}},ne=v.PasswordBasedCipher=G.extend({cfg:G.cfg.extend({kdf:re}),encrypt:function(ie,z,T,D){D=this.cfg.extend(D);var w=D.kdf.execute(T,ie.keySize,ie.ivSize,D.salt,D.hasher);D.iv=w.iv;var S=G.encrypt.call(this,ie,z,w.key,D);return S.mixIn(w),S},decrypt:function(ie,z,T,D){D=this.cfg.extend(D),z=this._parse(z,D.format);var w=D.kdf.execute(T,ie.keySize,ie.ivSize,z.salt,D.hasher);D.iv=w.iv;var S=G.decrypt.call(this,ie,z,w.key,D);return S}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.CFB=function(){var g=d.lib.BlockCipherMode.extend();g.Encryptor=g.extend({processBlock:function(v,_){var y=this._cipher,x=y.blockSize;m.call(this,v,_,x,y),this._prevBlock=v.slice(_,_+x)}}),g.Decryptor=g.extend({processBlock:function(v,_){var y=this._cipher,x=y.blockSize,E=v.slice(_,_+x);m.call(this,v,_,x,y),this._prevBlock=E}});function m(v,_,y,x){var E,b=this._iv;b?(E=b.slice(0),this._iv=void 0):E=this._prevBlock,x.encryptBlock(E,0);for(var C=0;C<y;C++)v[_+C]^=E[C]}return g}(),d.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.CTR=function(){var g=d.lib.BlockCipherMode.extend(),m=g.Encryptor=g.extend({processBlock:function(v,_){var y=this._cipher,x=y.blockSize,E=this._iv,b=this._counter;E&&(b=this._counter=E.slice(0),this._iv=void 0);var C=b.slice(0);y.encryptBlock(C,0),b[x-1]=b[x-1]+1|0;for(var R=0;R<x;R++)v[_+R]^=C[R]}});return g.Decryptor=m,g}(),d.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return d.mode.CTRGladman=function(){var g=d.lib.BlockCipherMode.extend();function m(y){if((y>>24&255)===255){var x=y>>16&255,E=y>>8&255,b=y&255;x===255?(x=0,E===255?(E=0,b===255?b=0:++b):++E):++x,y=0,y+=x<<16,y+=E<<8,y+=b}else y+=1<<24;return y}function v(y){return(y[0]=m(y[0]))===0&&(y[1]=m(y[1])),y}var _=g.Encryptor=g.extend({processBlock:function(y,x){var E=this._cipher,b=E.blockSize,C=this._iv,R=this._counter;C&&(R=this._counter=C.slice(0),this._iv=void 0),v(R);var O=R.slice(0);E.encryptBlock(O,0);for(var A=0;A<b;A++)y[x+A]^=O[A]}});return g.Decryptor=_,g}(),d.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.OFB=function(){var g=d.lib.BlockCipherMode.extend(),m=g.Encryptor=g.extend({processBlock:function(v,_){var y=this._cipher,x=y.blockSize,E=this._iv,b=this._keystream;E&&(b=this._keystream=E.slice(0),this._iv=void 0),y.encryptBlock(b,0);for(var C=0;C<x;C++)v[_+C]^=b[C]}});return g.Decryptor=m,g}(),d.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.ECB=function(){var g=d.lib.BlockCipherMode.extend();return g.Encryptor=g.extend({processBlock:function(m,v){this._cipher.encryptBlock(m,v)}}),g.Decryptor=g.extend({processBlock:function(m,v){this._cipher.decryptBlock(m,v)}}),g}(),d.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.AnsiX923={pad:function(g,m){var v=g.sigBytes,_=m*4,y=_-v%_,x=v+y-1;g.clamp(),g.words[x>>>2]|=y<<24-x%4*8,g.sigBytes+=y},unpad:function(g){var m=g.words[g.sigBytes-1>>>2]&255;g.sigBytes-=m}},d.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.Iso10126={pad:function(g,m){var v=m*4,_=v-g.sigBytes%v;g.concat(d.lib.WordArray.random(_-1)).concat(d.lib.WordArray.create([_<<24],1))},unpad:function(g){var m=g.words[g.sigBytes-1>>>2]&255;g.sigBytes-=m}},d.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.Iso97971={pad:function(g,m){g.concat(d.lib.WordArray.create([2147483648],1)),d.pad.ZeroPadding.pad(g,m)},unpad:function(g){d.pad.ZeroPadding.unpad(g),g.sigBytes--}},d.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.ZeroPadding={pad:function(g,m){var v=m*4;g.clamp(),g.sigBytes+=v-(g.sigBytes%v||v)},unpad:function(g){for(var m=g.words,v=g.sigBytes-1,v=g.sigBytes-1;v>=0;v--)if(m[v>>>2]>>>24-v%4*8&255){g.sigBytes=v+1;break}}},d.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.NoPadding={pad:function(){},unpad:function(){}},d.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return function(g){var m=d,v=m.lib,_=v.CipherParams,y=m.enc,x=y.Hex,E=m.format;E.Hex={stringify:function(b){return b.ciphertext.toString(x)},parse:function(b){var C=x.parse(b);return _.create({ciphertext:C})}}}(),d.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.BlockCipher,_=g.algo,y=[],x=[],E=[],b=[],C=[],R=[],O=[],A=[],M=[],P=[];(function(){for(var K=[],j=0;j<256;j++)j<128?K[j]=j<<1:K[j]=j<<1^283;for(var W=0,G=0,j=0;j<256;j++){var Q=G^G<<1^G<<2^G<<3^G<<4;Q=Q>>>8^Q&255^99,y[W]=Q,x[Q]=W;var re=K[W],ne=K[re],ie=K[ne],z=K[Q]*257^Q*16843008;E[W]=z<<24|z>>>8,b[W]=z<<16|z>>>16,C[W]=z<<8|z>>>24,R[W]=z;var z=ie*16843009^ne*65537^re*257^W*16843008;O[Q]=z<<24|z>>>8,A[Q]=z<<16|z>>>16,M[Q]=z<<8|z>>>24,P[Q]=z,W?(W=re^K[K[K[ie^re]]],G^=K[K[G]]):W=G=1}})();var F=[0,1,2,4,8,16,32,64,128,27,54],L=_.AES=v.extend({_doReset:function(){var K;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var j=this._keyPriorReset=this._key,W=j.words,G=j.sigBytes/4,Q=this._nRounds=G+6,re=(Q+1)*4,ne=this._keySchedule=[],ie=0;ie<re;ie++)ie<G?ne[ie]=W[ie]:(K=ne[ie-1],ie%G?G>6&&ie%G==4&&(K=y[K>>>24]<<24|y[K>>>16&255]<<16|y[K>>>8&255]<<8|y[K&255]):(K=K<<8|K>>>24,K=y[K>>>24]<<24|y[K>>>16&255]<<16|y[K>>>8&255]<<8|y[K&255],K^=F[ie/G|0]<<24),ne[ie]=ne[ie-G]^K);for(var z=this._invKeySchedule=[],T=0;T<re;T++){var ie=re-T;if(T%4)var K=ne[ie];else var K=ne[ie-4];T<4||ie<=4?z[T]=K:z[T]=O[y[K>>>24]]^A[y[K>>>16&255]]^M[y[K>>>8&255]]^P[y[K&255]]}}},encryptBlock:function(K,j){this._doCryptBlock(K,j,this._keySchedule,E,b,C,R,y)},decryptBlock:function(K,j){var W=K[j+1];K[j+1]=K[j+3],K[j+3]=W,this._doCryptBlock(K,j,this._invKeySchedule,O,A,M,P,x);var W=K[j+1];K[j+1]=K[j+3],K[j+3]=W},_doCryptBlock:function(K,j,W,G,Q,re,ne,ie){for(var z=this._nRounds,T=K[j]^W[0],D=K[j+1]^W[1],w=K[j+2]^W[2],S=K[j+3]^W[3],$=4,N=1;N<z;N++){var k=G[T>>>24]^Q[D>>>16&255]^re[w>>>8&255]^ne[S&255]^W[$++],U=G[D>>>24]^Q[w>>>16&255]^re[S>>>8&255]^ne[T&255]^W[$++],I=G[w>>>24]^Q[S>>>16&255]^re[T>>>8&255]^ne[D&255]^W[$++],q=G[S>>>24]^Q[T>>>16&255]^re[D>>>8&255]^ne[w&255]^W[$++];T=k,D=U,w=I,S=q}var k=(ie[T>>>24]<<24|ie[D>>>16&255]<<16|ie[w>>>8&255]<<8|ie[S&255])^W[$++],U=(ie[D>>>24]<<24|ie[w>>>16&255]<<16|ie[S>>>8&255]<<8|ie[T&255])^W[$++],I=(ie[w>>>24]<<24|ie[S>>>16&255]<<16|ie[T>>>8&255]<<8|ie[D&255])^W[$++],q=(ie[S>>>24]<<24|ie[T>>>16&255]<<16|ie[D>>>8&255]<<8|ie[w&255])^W[$++];K[j]=k,K[j+1]=U,K[j+2]=I,K[j+3]=q},keySize:256/32});g.AES=v._createHelper(L)}(),d.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.WordArray,_=m.BlockCipher,y=g.algo,x=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],E=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],C=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],R=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],O=y.DES=_.extend({_doReset:function(){for(var F=this._key,L=F.words,K=[],j=0;j<56;j++){var W=x[j]-1;K[j]=L[W>>>5]>>>31-W%32&1}for(var G=this._subKeys=[],Q=0;Q<16;Q++){for(var re=G[Q]=[],ne=b[Q],j=0;j<24;j++)re[j/6|0]|=K[(E[j]-1+ne)%28]<<31-j%6,re[4+(j/6|0)]|=K[28+(E[j+24]-1+ne)%28]<<31-j%6;re[0]=re[0]<<1|re[0]>>>31;for(var j=1;j<7;j++)re[j]=re[j]>>>(j-1)*4+3;re[7]=re[7]<<5|re[7]>>>27}for(var ie=this._invSubKeys=[],j=0;j<16;j++)ie[j]=G[15-j]},encryptBlock:function(F,L){this._doCryptBlock(F,L,this._subKeys)},decryptBlock:function(F,L){this._doCryptBlock(F,L,this._invSubKeys)},_doCryptBlock:function(F,L,K){this._lBlock=F[L],this._rBlock=F[L+1],A.call(this,4,252645135),A.call(this,16,65535),M.call(this,2,858993459),M.call(this,8,16711935),A.call(this,1,1431655765);for(var j=0;j<16;j++){for(var W=K[j],G=this._lBlock,Q=this._rBlock,re=0,ne=0;ne<8;ne++)re|=C[ne][((Q^W[ne])&R[ne])>>>0];this._lBlock=Q,this._rBlock=G^re}var ie=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ie,A.call(this,1,1431655765),M.call(this,8,16711935),M.call(this,2,858993459),A.call(this,16,65535),A.call(this,4,252645135),F[L]=this._lBlock,F[L+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function A(F,L){var K=(this._lBlock>>>F^this._rBlock)&L;this._rBlock^=K,this._lBlock^=K<<F}function M(F,L){var K=(this._rBlock>>>F^this._lBlock)&L;this._lBlock^=K,this._rBlock^=K<<F}g.DES=_._createHelper(O);var P=y.TripleDES=_.extend({_doReset:function(){var F=this._key,L=F.words;if(L.length!==2&&L.length!==4&&L.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var K=L.slice(0,2),j=L.length<4?L.slice(0,2):L.slice(2,4),W=L.length<6?L.slice(0,2):L.slice(4,6);this._des1=O.createEncryptor(v.create(K)),this._des2=O.createEncryptor(v.create(j)),this._des3=O.createEncryptor(v.create(W))},encryptBlock:function(F,L){this._des1.encryptBlock(F,L),this._des2.decryptBlock(F,L),this._des3.encryptBlock(F,L)},decryptBlock:function(F,L){this._des3.decryptBlock(F,L),this._des2.encryptBlock(F,L),this._des1.decryptBlock(F,L)},keySize:192/32,ivSize:64/32,blockSize:64/32});g.TripleDES=_._createHelper(P)}(),d.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.StreamCipher,_=g.algo,y=_.RC4=v.extend({_doReset:function(){for(var b=this._key,C=b.words,R=b.sigBytes,O=this._S=[],A=0;A<256;A++)O[A]=A;for(var A=0,M=0;A<256;A++){var P=A%R,F=C[P>>>2]>>>24-P%4*8&255;M=(M+O[A]+F)%256;var L=O[A];O[A]=O[M],O[M]=L}this._i=this._j=0},_doProcessBlock:function(b,C){b[C]^=x.call(this)},keySize:256/32,ivSize:0});function x(){for(var b=this._S,C=this._i,R=this._j,O=0,A=0;A<4;A++){C=(C+1)%256,R=(R+b[C])%256;var M=b[C];b[C]=b[R],b[R]=M,O|=b[(b[C]+b[R])%256]<<24-A*8}return this._i=C,this._j=R,O}g.RC4=v._createHelper(y);var E=_.RC4Drop=y.extend({cfg:y.cfg.extend({drop:192}),_doReset:function(){y._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)x.call(this)}});g.RC4Drop=v._createHelper(E)}(),d.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.StreamCipher,_=g.algo,y=[],x=[],E=[],b=_.Rabbit=v.extend({_doReset:function(){for(var R=this._key.words,O=this.cfg.iv,A=0;A<4;A++)R[A]=(R[A]<<8|R[A]>>>24)&16711935|(R[A]<<24|R[A]>>>8)&4278255360;var M=this._X=[R[0],R[3]<<16|R[2]>>>16,R[1],R[0]<<16|R[3]>>>16,R[2],R[1]<<16|R[0]>>>16,R[3],R[2]<<16|R[1]>>>16],P=this._C=[R[2]<<16|R[2]>>>16,R[0]&4294901760|R[1]&65535,R[3]<<16|R[3]>>>16,R[1]&4294901760|R[2]&65535,R[0]<<16|R[0]>>>16,R[2]&4294901760|R[3]&65535,R[1]<<16|R[1]>>>16,R[3]&4294901760|R[0]&65535];this._b=0;for(var A=0;A<4;A++)C.call(this);for(var A=0;A<8;A++)P[A]^=M[A+4&7];if(O){var F=O.words,L=F[0],K=F[1],j=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,W=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,G=j>>>16|W&4294901760,Q=W<<16|j&65535;P[0]^=j,P[1]^=G,P[2]^=W,P[3]^=Q,P[4]^=j,P[5]^=G,P[6]^=W,P[7]^=Q;for(var A=0;A<4;A++)C.call(this)}},_doProcessBlock:function(R,O){var A=this._X;C.call(this),y[0]=A[0]^A[5]>>>16^A[3]<<16,y[1]=A[2]^A[7]>>>16^A[5]<<16,y[2]=A[4]^A[1]>>>16^A[7]<<16,y[3]=A[6]^A[3]>>>16^A[1]<<16;for(var M=0;M<4;M++)y[M]=(y[M]<<8|y[M]>>>24)&16711935|(y[M]<<24|y[M]>>>8)&4278255360,R[O+M]^=y[M]},blockSize:128/32,ivSize:64/32});function C(){for(var R=this._X,O=this._C,A=0;A<8;A++)x[A]=O[A];O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<x[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<x[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<x[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<x[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<x[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<x[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<x[6]>>>0?1:0)|0,this._b=O[7]>>>0<x[7]>>>0?1:0;for(var A=0;A<8;A++){var M=R[A]+O[A],P=M&65535,F=M>>>16,L=((P*P>>>17)+P*F>>>15)+F*F,K=((M&4294901760)*M|0)+((M&65535)*M|0);E[A]=L^K}R[0]=E[0]+(E[7]<<16|E[7]>>>16)+(E[6]<<16|E[6]>>>16)|0,R[1]=E[1]+(E[0]<<8|E[0]>>>24)+E[7]|0,R[2]=E[2]+(E[1]<<16|E[1]>>>16)+(E[0]<<16|E[0]>>>16)|0,R[3]=E[3]+(E[2]<<8|E[2]>>>24)+E[1]|0,R[4]=E[4]+(E[3]<<16|E[3]>>>16)+(E[2]<<16|E[2]>>>16)|0,R[5]=E[5]+(E[4]<<8|E[4]>>>24)+E[3]|0,R[6]=E[6]+(E[5]<<16|E[5]>>>16)+(E[4]<<16|E[4]>>>16)|0,R[7]=E[7]+(E[6]<<8|E[6]>>>24)+E[5]|0}g.Rabbit=v._createHelper(b)}(),d.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.StreamCipher,_=g.algo,y=[],x=[],E=[],b=_.RabbitLegacy=v.extend({_doReset:function(){var R=this._key.words,O=this.cfg.iv,A=this._X=[R[0],R[3]<<16|R[2]>>>16,R[1],R[0]<<16|R[3]>>>16,R[2],R[1]<<16|R[0]>>>16,R[3],R[2]<<16|R[1]>>>16],M=this._C=[R[2]<<16|R[2]>>>16,R[0]&4294901760|R[1]&65535,R[3]<<16|R[3]>>>16,R[1]&4294901760|R[2]&65535,R[0]<<16|R[0]>>>16,R[2]&4294901760|R[3]&65535,R[1]<<16|R[1]>>>16,R[3]&4294901760|R[0]&65535];this._b=0;for(var P=0;P<4;P++)C.call(this);for(var P=0;P<8;P++)M[P]^=A[P+4&7];if(O){var F=O.words,L=F[0],K=F[1],j=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,W=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,G=j>>>16|W&4294901760,Q=W<<16|j&65535;M[0]^=j,M[1]^=G,M[2]^=W,M[3]^=Q,M[4]^=j,M[5]^=G,M[6]^=W,M[7]^=Q;for(var P=0;P<4;P++)C.call(this)}},_doProcessBlock:function(R,O){var A=this._X;C.call(this),y[0]=A[0]^A[5]>>>16^A[3]<<16,y[1]=A[2]^A[7]>>>16^A[5]<<16,y[2]=A[4]^A[1]>>>16^A[7]<<16,y[3]=A[6]^A[3]>>>16^A[1]<<16;for(var M=0;M<4;M++)y[M]=(y[M]<<8|y[M]>>>24)&16711935|(y[M]<<24|y[M]>>>8)&4278255360,R[O+M]^=y[M]},blockSize:128/32,ivSize:64/32});function C(){for(var R=this._X,O=this._C,A=0;A<8;A++)x[A]=O[A];O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<x[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<x[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<x[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<x[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<x[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<x[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<x[6]>>>0?1:0)|0,this._b=O[7]>>>0<x[7]>>>0?1:0;for(var A=0;A<8;A++){var M=R[A]+O[A],P=M&65535,F=M>>>16,L=((P*P>>>17)+P*F>>>15)+F*F,K=((M&4294901760)*M|0)+((M&65535)*M|0);E[A]=L^K}R[0]=E[0]+(E[7]<<16|E[7]>>>16)+(E[6]<<16|E[6]>>>16)|0,R[1]=E[1]+(E[0]<<8|E[0]>>>24)+E[7]|0,R[2]=E[2]+(E[1]<<16|E[1]>>>16)+(E[0]<<16|E[0]>>>16)|0,R[3]=E[3]+(E[2]<<8|E[2]>>>24)+E[1]|0,R[4]=E[4]+(E[3]<<16|E[3]>>>16)+(E[2]<<16|E[2]>>>16)|0,R[5]=E[5]+(E[4]<<8|E[4]>>>24)+E[3]|0,R[6]=E[6]+(E[5]<<16|E[5]>>>16)+(E[4]<<16|E[4]>>>16)|0,R[7]=E[7]+(E[6]<<8|E[6]>>>24)+E[5]|0}g.RabbitLegacy=v._createHelper(b)}(),d.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,m=g.lib,v=m.BlockCipher,_=g.algo;const y=16,x=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],E=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function C(P,F){let L=F>>24&255,K=F>>16&255,j=F>>8&255,W=F&255,G=P.sbox[0][L]+P.sbox[1][K];return G=G^P.sbox[2][j],G=G+P.sbox[3][W],G}function R(P,F,L){let K=F,j=L,W;for(let G=0;G<y;++G)K=K^P.pbox[G],j=C(P,K)^j,W=K,K=j,j=W;return W=K,K=j,j=W,j=j^P.pbox[y],K=K^P.pbox[y+1],{left:K,right:j}}function O(P,F,L){let K=F,j=L,W;for(let G=y+1;G>1;--G)K=K^P.pbox[G],j=C(P,K)^j,W=K,K=j,j=W;return W=K,K=j,j=W,j=j^P.pbox[1],K=K^P.pbox[0],{left:K,right:j}}function A(P,F,L){for(let Q=0;Q<4;Q++){P.sbox[Q]=[];for(let re=0;re<256;re++)P.sbox[Q][re]=E[Q][re]}let K=0;for(let Q=0;Q<y+2;Q++)P.pbox[Q]=x[Q]^F[K],K++,K>=L&&(K=0);let j=0,W=0,G=0;for(let Q=0;Q<y+2;Q+=2)G=R(P,j,W),j=G.left,W=G.right,P.pbox[Q]=j,P.pbox[Q+1]=W;for(let Q=0;Q<4;Q++)for(let re=0;re<256;re+=2)G=R(P,j,W),j=G.left,W=G.right,P.sbox[Q][re]=j,P.sbox[Q][re+1]=W;return!0}var M=_.Blowfish=v.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var P=this._keyPriorReset=this._key,F=P.words,L=P.sigBytes/4;A(b,F,L)}},encryptBlock:function(P,F){var L=R(b,P[F],P[F+1]);P[F]=L.left,P[F+1]=L.right},decryptBlock:function(P,F){var L=O(b,P[F],P[F+1]);P[F]=L.left,P[F+1]=L.right},blockSize:64/32,keySize:128/32,ivSize:64/32});g.Blowfish=v._createHelper(M)}(),d.Blowfish})}(blowfish)),blowfish.exports}(function(f,r){(function(d,g,m){f.exports=g(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal,function(d){return d})})(cryptoJs);var cryptoJsExports=cryptoJs.exports,hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(f,"__esModule",{value:!0}),f.isValidObject=f.RANDOM_LENGTH=f.isBrowser=f.resolveLocalStorage=f.hasLocalStorage=f.hasBuiltInWebSocket=f.resolveWebSocketImplementation=void 0,f.hexToByteArray=C,f.toHexString=R,f.concatUint8Arrays=O,f.splitToUint8Arrays=A,f.base64encode=F,f.base64decode=L,f.checkWSUrl=K,f.hashKey=ne,f.generateRandomBytes32=ie,f.generateTopic=z,f.isIos=D,f.getLastSixMd5Hash=w,f.toSafeBase64FromBase64=S,f.useShortLink=$;const d=r(naclFastExports),g=r(naclUtilExports),m=require$$2$1,v=sha256$2,_=requireSafejson(),y=requireLog(),x=requireStringUtils(),E=r(cryptoJsExports),b="base16";function C(N){if(N.length%2!==0)throw new Error(`Cannot convert ${N} to bytesArray`);const k=new Uint8Array(N.length/2);for(let U=0;U<N.length;U+=2)k[U/2]=parseInt(N.slice(U,U+2),16);return k}function R(N){let k="";return N.forEach(U=>{k+=("0"+(U&255).toString(16)).slice(-2)}),k}function O(N,k){const U=new Uint8Array(N.length+k.length);return U.set(N),U.set(k,N.length),U}function A(N,k){if(k>=N.length)throw new Error("Index is out of buffer");const U=N.slice(0,k),I=N.slice(k);return[U,I]}function M(N,k){const U=g.default.encodeBase64(N);return k?encodeURIComponent(U):U}function P(N,k){return k&&(N=decodeURIComponent(N)),g.default.decodeBase64(N)}function F(N,k){let U;return N instanceof Uint8Array?U=N:(typeof N!="string"&&(N=(0,_.safeJsonStringify)(N)),U=g.default.decodeUTF8(N)),M(U,k)}function L(N,k){const U=P(N,k);return{toString(){return g.default.encodeUTF8(U)},toObject(){try{return(0,_.safeJsonParse)(g.default.encodeUTF8(U))}catch{return null}},toUint8Array(){return U}}}function K(N){const k=N.match(new RegExp(/^\w+:/,"gi"));if(!k||!k.length)return!1;let U=k[0];return U===void 0?!1:new RegExp("^wss?:").test(U)}const j=()=>typeof WebSocket<"u"?WebSocket:typeof commonjsGlobal<"u"&&typeof commonjsGlobal.WebSocket<"u"?commonjsGlobal.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;f.resolveWebSocketImplementation=j;const W=()=>typeof WebSocket<"u"||typeof commonjsGlobal<"u"&&typeof commonjsGlobal.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";f.hasBuiltInWebSocket=W;const G=()=>typeof commonjsGlobal<"u"&&typeof commonjsGlobal.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";f.hasLocalStorage=G;const Q=()=>typeof commonjsGlobal<"u"&&typeof commonjsGlobal.localStorage<"u"?commonjsGlobal.localStorage:typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;f.resolveLocalStorage=Q;const re=()=>typeof window<"u";f.isBrowser=re,f.RANDOM_LENGTH=32;function ne(N,k=b){(0,y.logDebug)(`hash key called ${N}`);const U=(0,v.hash)((0,x.okxfromString)(N,k));return(0,m.toString)(U,k)}function ie(){return d.default.randomBytes(f.RANDOM_LENGTH)}function z(){let N=ie();return(0,y.logDebug)(`generate topic called ${N}`),ne((0,m.toString)(N,b))}const T=N=>Object.getPrototypeOf(N)===Object.prototype&&Object.keys(N).length;f.isValidObject=T;function D(){const N=navigator.userAgent,k=navigator.maxTouchPoints||0,U=/iPad|iPhone|iPod/.test(N)&&!window.MSStream,I=N.includes("Mac")&&k>1;return(0,y.logDebug)(`utils isIos >>>isIOSDevice: ${U}    >> isIPadOS: ${I}`),U||I}function w(N){return E.default.MD5(N).toString().slice(-6)}function S(N){return N.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $(){return!!window.useShortLink}}(utils$4)),utils$4}var __createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var m=Object.getOwnPropertyDescriptor(r,d);(!m||("get"in m?!r.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,m)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(g[g.length]=m);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),m=0;m<g.length;m++)g[m]!=="default"&&__createBinding$3(d,r,g[m]);return __setModuleDefault$3(d,r),d}}(),__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(storage,"__esModule",{value:!0});storage.Storage=void 0;const storageconstants_1$3=storageconstants,tweetnacl_1$1=__importDefault$3(naclFastExports),utils_1$e=requireUtils(),utils_2$3=requireUtils$1(),log$3=__importStar$3(requireLog()),utils_3=requireUtils$1(),crypto_js_1=cryptoJsExports;class Storage{constructor(r,d=void 0){const g=(0,utils_1$e.resolveLocalStorage)();log$3.logDebug("------ update before cache ------"),d&&this.checkAndUpgradeCache(d,r),this.storeKey="",this.cipherIV="",this.subKey=r,log$3.logDebug("--------get current local storage --------"),log$3.logDebug(g);const m=g.getItem(Storage.cacheKey+r);if(typeof m>"u"||m===null){log$3.logDebug("with no cache"),this.cache={};return}if(log$3.logDebug(m),(m==null?void 0:m.length)>0){var v=(0,utils_2$3.safeJsonParse)(m);this.cache=v}log$3.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||this.cache==null)&&(this.cache={})}checkAndUpgradeCache(r,d){if(r&&r.length>0&&d&&d.length>0){log$3.logDebug("--------get current local storage --------"),log$3.logDebug(localStorage);const g=localStorage.getItem(Storage.cacheKey+r);if(typeof g>"u"||g===null){log$3.logDebug("no pre cache content");return}log$3.logDebug(g),(g==null?void 0:g.length)>0&&(log$3.logDebug("write in cache content: ",r,"->",d),localStorage.setItem(Storage.cacheKey+d,g),log$3.logDebug("clean in cache content: ",r),localStorage.removeItem(Storage.cacheKey+r))}else log$3.logDebug("no pre cache key:",r)}saveContent(r,d,g="-"){let m={id:g,timestamp:Date.now().toString(),content:r};this.saveItem(m,d)}saveItem(r,d){let g=Storage.cacheKey+this.subKey;const m=(0,utils_1$e.resolveLocalStorage)();log$3.logDebug(this.cache),log$3.logDebug(`get cache obj: ${this.cache}, ${d}, ${r}`),this.cache[d]=r;let v=(0,utils_2$3.safeJsonStringify)(this.cache);log$3.logDebug(`STORAGE: ${d} @ ${this.cache}`),m.setItem(g,v)}getItem(r){return log$3.logDebug(`STORAGE >> getItem: ${r} @ ${this.cache}`),this.cache[r]}getCachedPBKDF2InfoKey(){var r,d,g,m;if(this.storeKey.length>0&&((r=this.cipherIV)===null||r===void 0?void 0:r.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let y=(d=this.getItem(storageconstants_1$3.OKXCONNECTOR_STORAGER_CRYPTO_SALT))===null||d===void 0?void 0:d.content;y||(y=(0,utils_1$e.toHexString)(tweetnacl_1$1.default.randomBytes(24)),this.saveContent(y,storageconstants_1$3.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let x=(g=this.getItem(storageconstants_1$3.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))===null||g===void 0?void 0:g.content;x||(x=(0,utils_1$e.toHexString)(tweetnacl_1$1.default.randomBytes(32)),this.saveContent(x,storageconstants_1$3.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let E=(m=this.getItem(storageconstants_1$3.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))===null||m===void 0?void 0:m.content;if(!E){let b=tweetnacl_1$1.default.randomBytes(16);E=(0,utils_1$e.toHexString)(b),this.saveContent(E,storageconstants_1$3.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=E,this.storeKey=(0,crypto_js_1.PBKDF2)(x,y,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(r,d){(0,utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let g=this.getCachedPBKDF2InfoKey();(0,utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var m=crypto_js_1.AES.encrypt(r,g.pw).toString();this.saveContent(m,d),(0,utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(r){(0,utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let d=this.getItem(r);if(d&&d.content){let g=this.getCachedPBKDF2InfoKey();(0,utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let m=crypto_js_1.AES.decrypt(d.content,g.pw).toString(crypto_js_1.enc.Utf8);return(0,utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),m}return null}clearCache(r=void 0){if(r===void 0){this.cache={};let d=Storage.cacheKey+this.subKey;localStorage.setItem(d,"")}else{let d=Storage.cacheKey+this.subKey;const g=(0,utils_1$e.resolveLocalStorage)();log$3.logDebug(this.cache),this.cache[r]=null;let m=(0,utils_2$3.safeJsonStringify)(this.cache);log$3.logDebug(`STORAGE: clean key ${r} @ ${this.cache}`),g.setItem(d,m)}}}storage.Storage=Storage;Storage.cacheKey="OKXStorageKey";var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var m=Object.getOwnPropertyDescriptor(r,d);(!m||("get"in m?!r.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,m)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(g[g.length]=m);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),m=0;m<g.length;m++)g[m]!=="default"&&__createBinding$2(d,r,g[m]);return __setModuleDefault$2(d,r),d}}(),__awaiter$n=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(connect$1,"__esModule",{value:!0});connect$1.OKXWalletConnector=void 0;const constants_1$e=constants$5,storageconstants_1$2=storageconstants,storage_1$2=storage,utils_1$d=requireUtils$1(),utils_2$2=requireUtils(),eventemitter3_1$5=eventemitter3Exports,log$2=__importStar$2(requireLog()),protocol_1$1=protocol,WS=(0,utils_2$2.resolveWebSocketImplementation)();class OKXWalletConnector{constructor(r){if(this.events=new eventemitter3_1$5.EventEmitter,this.state=constants_1$e.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,utils_2$2.checkWSUrl)(r))throw new Error(`CONNECTOR: invalid url ${r}`);this.url=r,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new storage_1$2.Storage(storageconstants_1$2.OKXCONNECTOR_CACHE_KEY+storageconstants_1$2.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==constants_1$e.ConnectorState.Connecting}onPayload(r){if(!(typeof r.data>"u")){if(log$2.logDebug("get received data"),log$2.logDebug(r),typeof r.data=="string"&&r.data==="pong"){log$2.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);return}this.events.emit("payload",r.data)}}onClose(r){var d;log$2.logDebug("socket get closed: ",(d=this.socket)===null||d===void 0?void 0:d.url,r.code),this.socket=void 0,this.events.emit("close",r)}onError(r,d){const g={id:r,msg:d.toString()};this.events.emit("payload",g)}onopen(r){r.onmessage=d=>this.onPayload(d),r.onclose=d=>this.onClose(d),this.socket=r,this.state=constants_1$e.ConnectorState.Connected,this.events.emit("open")}emitError(r){this.events.emit("fail",r)}heartbeat(){return __awaiter$n(this,void 0,void 0,function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state!=constants_1$e.ConnectorState.Connected&&this.state!=constants_1$e.ConnectorState.OnError){log$2.logDebug("heart beat close");return}if(!this.socket){if(log$2.logDebug("socket not exist"),this.state==constants_1$e.ConnectorState.Connected||this.state==constants_1$e.ConnectorState.OnError){log$2.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{log$2.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}if(this.socket.readyState!==WebSocket.OPEN){if(log$2.logDebug("socket not ready"),this.state==constants_1$e.ConnectorState.Connected||this.state==constants_1$e.ConnectorState.OnError){log$2.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{log$2.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}log$2.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)})}registOpen(r=this.url,d=!1){if(!(0,utils_2$2.checkWSUrl)(r))throw new Error(`CONNECTOR: invalid url ${r}`);return this.url=r,d||log$2.logDebug("Connection connect:",this.url,new Date().toUTCString()),this.state=constants_1$e.ConnectorState.Connecting,new URLSearchParams(r).get("origin"),new Promise((g,m)=>{const v=new WS(r,[]);log$2.logDebug("Connection connect Begin:",this.url,new Date().toUTCString()),this.startTimeOutTimer(v),(0,utils_2$2.hasBuiltInWebSocket)()?(log$2.logDebug("Add socket error handler"),v.onerror=()=>{m(new Error("socket error")),v.close()}):(log$2.logDebug("Add socket error handler"),v.on("error",()=>{m(new Error("socket error")),v.close()})),v.onopen=()=>{log$2.logDebug("socket opened"),this.resetTimeOutTimer(constants_1$e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(v),this.heartbeat(),g(v)}})}checkMaxRetry(){return log$2.logDebug("current retry count:",this.retryCount,"of",constants_1$e.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>constants_1$e.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return __awaiter$n(this,void 0,void 0,function*(){if(this.checkMaxRetry())log$2.logDebug("Max Connection retry ",this.retryCount,new Date().toUTCString());else{this.retryCount+=1;let r=this.getNextSelectUrl();return log$2.logDebug("Connection retry:",r,new Date().toUTCString()),this.registOpen(r,!0)}})}startTimeOutTimer(r){this.connectionTimeoutTimer&&this.resetTimeOutTimer(constants_1$e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=r,this.connectionTimeoutTimer=setTimeout(()=>{this.pendingSocket&&this.resetTimeOutTimer(constants_1$e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)},this.timeOutLimit)}resetTimeOutTimer(r){var d;r!=constants_1$e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED&&((d=this.pendingSocket)===null||d===void 0||d.close(r)),this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),storageconstants_1$2.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%constants_1$e.OKXCONNECTOR_WS_URL_LIST.length,constants_1$e.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return __awaiter$n(this,void 0,void 0,function*(){if(document.visibilityState==="visible"&&(log$2.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==constants_1$e.ConnectorState.Connected&&typeof this.socket>"u")){log$2.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{log$2.logError("regist open failed")}return}})}tryRegistOpen(){return __awaiter$n(this,arguments,void 0,function*(r=this.url){if(this.connecting)return log$2.logDebug("tryRegistOpen => connecting state"),new Promise((g,m)=>{this.events.once("fail",v=>(log$2.logDebug("tryRegistOpen => connecting fail listener",v),m(v))),this.events.once("open",()=>typeof this.socket>"u"?m(new Error("Connect lost")):g(this.socket))});log$2.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let d=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{log$2.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,d),yield this.registOpen(r,d)}catch(g){log$2.logDebug("tryRegistOpen => registOpen failed",g),this.retryCount+=1,r=this.getNextSelectUrl(),d=!0}if(log$2.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw log$2.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=constants_1$e.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new protocol_1$1.OKXConnectError(protocol_1$1.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")})}connect(){return __awaiter$n(this,void 0,void 0,function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(r){throw log$2.logDebug("connect => failed to connect",r),r}})}disconnect(){return __awaiter$n(this,void 0,void 0,function*(){return this.state=constants_1$e.ConnectorState.Disconnected,new Promise((r,d)=>{if(typeof this.socket>"u"){r();return}this.socket.onclose=g=>{this.onClose(g),r()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)})})}currentStatus(){return{state:this.state,url:this.url}}addListener(r,d,g,m){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=v=>{var _;log$2.logDebug(`<<< get payload ${v}`);let y=(0,utils_1$d.safeJsonParse)(v);if(y.params&&y.params.data){let x=(_=y.params.data)===null||_===void 0?void 0:_.message;if(x)try{let E=d(x);E===void 0?(log$2.logDebug("CONNECT: decrypt undefined"),m(r,"Decrypt undefined")):g(r,E)}catch(E){log$2.logDebug(`CONNECT: decrypt failed: ${E}`),m(r,E.message)}}},this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=v=>{v?(log$2.logDebug(`CONNECT failed: ${v}`),m(r,v.message)):m(r,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(r){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=d=>__awaiter$n(this,void 0,void 0,function*(){log$2.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${d}`);let g=(0,utils_1$d.safeJsonParse)(d);yield r(g)}),this.events.on("payload",this.payloadHandler)}once(r,d){this.events.once(r,d)}off(r,d){this.events.off(r,d)}removeListener(r,d){this.events.removeListener(r,d)}send(r,d){return __awaiter$n(this,void 0,void 0,function*(){try{typeof this.socket>"u"&&(log$2.logDebug(`>>> send payload undefined ${d}`),yield r()),log$2.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0,utils_1$d.safeJsonStringify)(d)}`),this.socket&&this.socket.send((0,utils_1$d.safeJsonStringify)(d))}catch(g){this.onError(d.id,g)}})}getMsgPayloadFromHistory(r){return __awaiter$n(this,void 0,void 0,function*(){if(typeof r>"u")return;let d={params:{data:r}},g=(0,utils_1$d.safeJsonStringify)(r);log$2.logDebug("get received data from history"),log$2.logDebug(g),g=(0,utils_1$d.safeJsonStringify)(d),this.events.emit("payload",g)})}onOpen(r){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>__awaiter$n(this,void 0,void 0,function*(){log$2.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `),yield r()}),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}connect$1.OKXWalletConnector=OKXWalletConnector;var connectionManager={},commands={};Object.defineProperty(commands,"__esModule",{value:!0});commands.CONNECT_METHOD_BATCH_FETCHMSG=commands.CONNECT_METHOD_FETCHMSG=commands.CONNECT_METHOD_RECEIVE=commands.CONNECT_METHOD_UNSUB=commands.CONNECT_METHOD_SUB=commands.CONNECT_METHOD_PUBLISH=commands.CONNECT_METHOD_LOGIN=commands.CONNECT_METHOD_PUSH=void 0;commands.CONNECT_METHOD_PUSH="push";commands.CONNECT_METHOD_LOGIN="login";commands.CONNECT_METHOD_PUBLISH="publish";commands.CONNECT_METHOD_SUB="subscribe";commands.CONNECT_METHOD_UNSUB="unsubscribe";commands.CONNECT_METHOD_RECEIVE="receive";commands.CONNECT_METHOD_FETCHMSG="fetchMessages";commands.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages";var jwtconstants={};Object.defineProperty(jwtconstants,"__esModule",{value:!0});jwtconstants.OKXCONNECTOR_JWT_TTL=jwtconstants.OKXCONNECTOR_JWT_WALLET_SIDE=jwtconstants.OKXCONNECTOR_JWT_SIDE=void 0;jwtconstants.OKXCONNECTOR_JWT_SIDE="wallet";jwtconstants.OKXCONNECTOR_JWT_WALLET_SIDE="dapp";jwtconstants.OKXCONNECTOR_JWT_TTL=864e5;var crypto$1={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.SessionCrypto=void 0;const tweetnacl_1=__importDefault$2(naclFastExports),utils_1$c=requireUtils();class SessionCrypto{constructor(r=void 0){this.nonceLength=24,this.sessionKeyPair=r?this.createKeypairFromString(r):this.createKeypair()}createKeypair(){return tweetnacl_1.default.box.keyPair()}createKeypairFromString(r){return{publicKey:(0,utils_1$c.hexToByteArray)(r.publicKey),secretKey:(0,utils_1$c.hexToByteArray)(r.secretKey)}}createNonce(){return tweetnacl_1.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(r,d){const g=new TextEncoder().encode(r),m=this.createNonce(),v=tweetnacl_1.default.box(g,m,(0,utils_1$c.hexToByteArray)(d),this.keyPair.secretKey);let _=(0,utils_1$c.concatUint8Arrays)(m,v);var y=(0,utils_1$c.toHexString)(_),x=new TextEncoder().encode(y);return(0,utils_1$c.base64encode)(x,!1)}encryptWallet(r,d){const g=new TextEncoder().encode(r),m=this.createNonce(),v=tweetnacl_1.default.box(g,m,(0,utils_1$c.hexToByteArray)(d),this.keyPair.secretKey);let _=(0,utils_1$c.concatUint8Arrays)(m,v);return(0,utils_1$c.base64encode)(_,!1)}decrypt(r,d){let m=(0,utils_1$c.base64decode)(r,!0).toUint8Array();const[v,_]=(0,utils_1$c.splitToUint8Arrays)(m,this.nonceLength),y=tweetnacl_1.default.box.open(_,v,(0,utils_1$c.hexToByteArray)(d),this.keyPair.secretKey);if(!y)throw new Error(`Decryption error: 
 message: ${r.toString()} 
 sender pubkey: ${d.toString()} 
 keypair pubkey: ${(0,utils_1$c.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,utils_1$c.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(y)}decryptWallet(r,d){let g=(0,utils_1$c.base64decode)(r,!0),m=(0,utils_1$c.hexToByteArray)(g.toString());const[v,_]=(0,utils_1$c.splitToUint8Arrays)(m,this.nonceLength),y=tweetnacl_1.default.box.open(_,v,(0,utils_1$c.hexToByteArray)(d),this.keyPair.secretKey);if(!y)throw new Error(`Decryption error: 
 message: ${r.toString()} 
 sender pubkey: ${d.toString()} 
 keypair pubkey: ${(0,utils_1$c.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,utils_1$c.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(y)}stringifyKeypair(){return{publicKey:(0,utils_1$c.toHexString)(this.keyPair.publicKey),secretKey:(0,utils_1$c.toHexString)(this.keyPair.secretKey)}}}crypto$1.SessionCrypto=SessionCrypto;var jwt={},ed25519={},random={},system={},browser={};Object.defineProperty(browser,"__esModule",{value:!0});browser.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const r=typeof self<"u"?self.crypto||self.msCrypto:null;r&&r.getRandomValues!==void 0&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const d=new Uint8Array(r);for(let g=0;g<d.length;g+=QUOTA)this._crypto.getRandomValues(d.subarray(g,g+Math.min(d.length-g,QUOTA)));return d}}browser.BrowserRandomSource=BrowserRandomSource;var node={};Object.defineProperty(node,"__esModule",{value:!0});node.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const r=requireCryptoBrowserify();r&&r.randomBytes&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let d=this._crypto.randomBytes(r);if(d.length!==r)throw new Error("NodeRandomSource: got fewer bytes than requested");const g=new Uint8Array(r);for(let m=0;m<g.length;m++)g[m]=d[m];return(0,wipe_1.wipe)(d),g}}node.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser,node_1=node;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(r){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(r)}}system.SystemRandomSource=SystemRandomSource;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.randomStringForEntropy=f.randomString=f.randomUint32=f.randomBytes=f.defaultRandomSource=void 0;const r=system,d=binary,g=wipe$1;f.defaultRandomSource=new r.SystemRandomSource;function m(E,b=f.defaultRandomSource){return b.randomBytes(E)}f.randomBytes=m;function v(E=f.defaultRandomSource){const b=m(4,E),C=(0,d.readUint32LE)(b);return(0,g.wipe)(b),C}f.randomUint32=v;const _="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function y(E,b=_,C=f.defaultRandomSource){if(b.length<2)throw new Error("randomString charset is too short");if(b.length>256)throw new Error("randomString charset is too long");let R="";const O=b.length,A=256-256%O;for(;E>0;){const M=m(Math.ceil(E*256/A),C);for(let P=0;P<M.length&&E>0;P++){const F=M[P];F<A&&(R+=b.charAt(F%O),E--)}(0,g.wipe)(M)}return R}f.randomString=y;function x(E,b=_,C=f.defaultRandomSource){const R=Math.ceil(E/(Math.log(b.length)/Math.LN2));return y(R,b,C)}f.randomStringForEntropy=x})(random);var sha512={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});var r=binary,d=wipe$1;f.DIGEST_LENGTH=64,f.BLOCK_SIZE=128;var g=function(){function y(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return y.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},y.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},y.prototype.clean=function(){d.wipe(this._buffer),d.wipe(this._tempHi),d.wipe(this._tempLo),this.reset()},y.prototype.update=function(x,E){if(E===void 0&&(E=x.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var b=0;if(this._bytesHashed+=E,this._bufferLength>0){for(;this._bufferLength<f.BLOCK_SIZE&&E>0;)this._buffer[this._bufferLength++]=x[b++],E--;this._bufferLength===this.blockSize&&(v(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(E>=this.blockSize&&(b=v(this._tempHi,this._tempLo,this._stateHi,this._stateLo,x,b,E),E%=this.blockSize);E>0;)this._buffer[this._bufferLength++]=x[b++],E--;return this},y.prototype.finish=function(x){if(!this._finished){var E=this._bytesHashed,b=this._bufferLength,C=E/536870912|0,R=E<<3,O=E%128<112?128:256;this._buffer[b]=128;for(var A=b+1;A<O-8;A++)this._buffer[A]=0;r.writeUint32BE(C,this._buffer,O-8),r.writeUint32BE(R,this._buffer,O-4),v(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,O),this._finished=!0}for(var A=0;A<this.digestLength/8;A++)r.writeUint32BE(this._stateHi[A],x,A*8),r.writeUint32BE(this._stateLo[A],x,A*8+4);return this},y.prototype.digest=function(){var x=new Uint8Array(this.digestLength);return this.finish(x),x},y.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},y.prototype.restoreState=function(x){return this._stateHi.set(x.stateHi),this._stateLo.set(x.stateLo),this._bufferLength=x.bufferLength,x.buffer&&this._buffer.set(x.buffer),this._bytesHashed=x.bytesHashed,this._finished=!1,this},y.prototype.cleanSavedState=function(x){d.wipe(x.stateHi),d.wipe(x.stateLo),x.buffer&&d.wipe(x.buffer),x.bufferLength=0,x.bytesHashed=0},y}();f.SHA512=g;var m=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function v(y,x,E,b,C,R,O){for(var A=E[0],M=E[1],P=E[2],F=E[3],L=E[4],K=E[5],j=E[6],W=E[7],G=b[0],Q=b[1],re=b[2],ne=b[3],ie=b[4],z=b[5],T=b[6],D=b[7],w,S,$,N,k,U,I,q;O>=128;){for(var B=0;B<16;B++){var H=8*B+R;y[B]=r.readUint32BE(C,H),x[B]=r.readUint32BE(C,H+4)}for(var B=0;B<80;B++){var ce=A,be=M,ve=P,Z=F,J=L,ae=K,X=j,Y=W,oe=G,we=Q,Se=re,De=ne,qe=ie,Ue=z,Ne=T,Be=D;if(w=W,S=D,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=(L>>>14|ie<<18)^(L>>>18|ie<<14)^(ie>>>9|L<<23),S=(ie>>>14|L<<18)^(ie>>>18|L<<14)^(L>>>9|ie<<23),k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,w=L&K^~L&j,S=ie&z^~ie&T,k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,w=m[B*2],S=m[B*2+1],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,w=y[B%16],S=x[B%16],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,$=I&65535|q<<16,N=k&65535|U<<16,w=$,S=N,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=(A>>>28|G<<4)^(G>>>2|A<<30)^(G>>>7|A<<25),S=(G>>>28|A<<4)^(A>>>2|G<<30)^(A>>>7|G<<25),k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,w=A&M^A&P^M&P,S=G&Q^G&re^Q&re,k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,Y=I&65535|q<<16,Be=k&65535|U<<16,w=Z,S=De,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=$,S=N,k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,Z=I&65535|q<<16,De=k&65535|U<<16,M=ce,P=be,F=ve,L=Z,K=J,j=ae,W=X,A=Y,Q=oe,re=we,ne=Se,ie=De,z=qe,T=Ue,D=Ne,G=Be,B%16===15)for(var H=0;H<16;H++)w=y[H],S=x[H],k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=y[(H+9)%16],S=x[(H+9)%16],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,$=y[(H+1)%16],N=x[(H+1)%16],w=($>>>1|N<<31)^($>>>8|N<<24)^$>>>7,S=(N>>>1|$<<31)^(N>>>8|$<<24)^(N>>>7|$<<25),k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,$=y[(H+14)%16],N=x[(H+14)%16],w=($>>>19|N<<13)^(N>>>29|$<<3)^$>>>6,S=(N>>>19|$<<13)^($>>>29|N<<3)^(N>>>6|$<<26),k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,y[H]=I&65535|q<<16,x[H]=k&65535|U<<16}w=A,S=G,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[0],S=b[0],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[0]=A=I&65535|q<<16,b[0]=G=k&65535|U<<16,w=M,S=Q,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[1],S=b[1],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[1]=M=I&65535|q<<16,b[1]=Q=k&65535|U<<16,w=P,S=re,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[2],S=b[2],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[2]=P=I&65535|q<<16,b[2]=re=k&65535|U<<16,w=F,S=ne,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[3],S=b[3],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[3]=F=I&65535|q<<16,b[3]=ne=k&65535|U<<16,w=L,S=ie,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[4],S=b[4],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[4]=L=I&65535|q<<16,b[4]=ie=k&65535|U<<16,w=K,S=z,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[5],S=b[5],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[5]=K=I&65535|q<<16,b[5]=z=k&65535|U<<16,w=j,S=T,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[6],S=b[6],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[6]=j=I&65535|q<<16,b[6]=T=k&65535|U<<16,w=W,S=D,k=S&65535,U=S>>>16,I=w&65535,q=w>>>16,w=E[7],S=b[7],k+=S&65535,U+=S>>>16,I+=w&65535,q+=w>>>16,U+=k>>>16,I+=U>>>16,q+=I>>>16,E[7]=W=I&65535|q<<16,b[7]=D=k&65535|U<<16,R+=128,O-=128}return R}function _(y){var x=new g;x.update(y);var E=x.digest();return x.clean(),E}f.hash=_})(sha512);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.convertSecretKeyToX25519=f.convertPublicKeyToX25519=f.verify=f.sign=f.extractPublicKeyFromSecretKey=f.generateKeyPair=f.generateKeyPairFromSeed=f.SEED_LENGTH=f.SECRET_KEY_LENGTH=f.PUBLIC_KEY_LENGTH=f.SIGNATURE_LENGTH=void 0;const r=random,d=sha512,g=wipe$1;f.SIGNATURE_LENGTH=64,f.PUBLIC_KEY_LENGTH=32,f.SECRET_KEY_LENGTH=64,f.SEED_LENGTH=32;function m(Z){const J=new Float64Array(16);if(Z)for(let ae=0;ae<Z.length;ae++)J[ae]=Z[ae];return J}const v=new Uint8Array(32);v[0]=9;const _=m(),y=m([1]),x=m([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),E=m([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=m([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),C=m([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),R=m([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(Z,J){for(let ae=0;ae<16;ae++)Z[ae]=J[ae]|0}function A(Z){let J=1;for(let ae=0;ae<16;ae++){let X=Z[ae]+J+65535;J=Math.floor(X/65536),Z[ae]=X-J*65536}Z[0]+=J-1+37*(J-1)}function M(Z,J,ae){const X=~(ae-1);for(let Y=0;Y<16;Y++){const oe=X&(Z[Y]^J[Y]);Z[Y]^=oe,J[Y]^=oe}}function P(Z,J){const ae=m(),X=m();for(let Y=0;Y<16;Y++)X[Y]=J[Y];A(X),A(X),A(X);for(let Y=0;Y<2;Y++){ae[0]=X[0]-65517;for(let we=1;we<15;we++)ae[we]=X[we]-65535-(ae[we-1]>>16&1),ae[we-1]&=65535;ae[15]=X[15]-32767-(ae[14]>>16&1);const oe=ae[15]>>16&1;ae[14]&=65535,M(X,ae,1-oe)}for(let Y=0;Y<16;Y++)Z[2*Y]=X[Y]&255,Z[2*Y+1]=X[Y]>>8}function F(Z,J){let ae=0;for(let X=0;X<32;X++)ae|=Z[X]^J[X];return(1&ae-1>>>8)-1}function L(Z,J){const ae=new Uint8Array(32),X=new Uint8Array(32);return P(ae,Z),P(X,J),F(ae,X)}function K(Z){const J=new Uint8Array(32);return P(J,Z),J[0]&1}function j(Z,J){for(let ae=0;ae<16;ae++)Z[ae]=J[2*ae]+(J[2*ae+1]<<8);Z[15]&=32767}function W(Z,J,ae){for(let X=0;X<16;X++)Z[X]=J[X]+ae[X]}function G(Z,J,ae){for(let X=0;X<16;X++)Z[X]=J[X]-ae[X]}function Q(Z,J,ae){let X,Y,oe=0,we=0,Se=0,De=0,qe=0,Ue=0,Ne=0,Be=0,Qe=0,Le=0,ot=0,Ve=0,We=0,it=0,Ke=0,Fe=0,Ye=0,rt=0,ue=0,ee=0,te=0,de=0,xe=0,Oe=0,$e=0,dt=0,ut=0,et=0,wt=0,ht=0,yt=0,It=ae[0],bt=ae[1],at=ae[2],Tt=ae[3],xt=ae[4],st=ae[5],Nt=ae[6],Et=ae[7],nt=ae[8],Rt=ae[9],se=ae[10],le=ae[11],he=ae[12],V=ae[13],pe=ae[14],Re=ae[15];X=J[0],oe+=X*It,we+=X*bt,Se+=X*at,De+=X*Tt,qe+=X*xt,Ue+=X*st,Ne+=X*Nt,Be+=X*Et,Qe+=X*nt,Le+=X*Rt,ot+=X*se,Ve+=X*le,We+=X*he,it+=X*V,Ke+=X*pe,Fe+=X*Re,X=J[1],we+=X*It,Se+=X*bt,De+=X*at,qe+=X*Tt,Ue+=X*xt,Ne+=X*st,Be+=X*Nt,Qe+=X*Et,Le+=X*nt,ot+=X*Rt,Ve+=X*se,We+=X*le,it+=X*he,Ke+=X*V,Fe+=X*pe,Ye+=X*Re,X=J[2],Se+=X*It,De+=X*bt,qe+=X*at,Ue+=X*Tt,Ne+=X*xt,Be+=X*st,Qe+=X*Nt,Le+=X*Et,ot+=X*nt,Ve+=X*Rt,We+=X*se,it+=X*le,Ke+=X*he,Fe+=X*V,Ye+=X*pe,rt+=X*Re,X=J[3],De+=X*It,qe+=X*bt,Ue+=X*at,Ne+=X*Tt,Be+=X*xt,Qe+=X*st,Le+=X*Nt,ot+=X*Et,Ve+=X*nt,We+=X*Rt,it+=X*se,Ke+=X*le,Fe+=X*he,Ye+=X*V,rt+=X*pe,ue+=X*Re,X=J[4],qe+=X*It,Ue+=X*bt,Ne+=X*at,Be+=X*Tt,Qe+=X*xt,Le+=X*st,ot+=X*Nt,Ve+=X*Et,We+=X*nt,it+=X*Rt,Ke+=X*se,Fe+=X*le,Ye+=X*he,rt+=X*V,ue+=X*pe,ee+=X*Re,X=J[5],Ue+=X*It,Ne+=X*bt,Be+=X*at,Qe+=X*Tt,Le+=X*xt,ot+=X*st,Ve+=X*Nt,We+=X*Et,it+=X*nt,Ke+=X*Rt,Fe+=X*se,Ye+=X*le,rt+=X*he,ue+=X*V,ee+=X*pe,te+=X*Re,X=J[6],Ne+=X*It,Be+=X*bt,Qe+=X*at,Le+=X*Tt,ot+=X*xt,Ve+=X*st,We+=X*Nt,it+=X*Et,Ke+=X*nt,Fe+=X*Rt,Ye+=X*se,rt+=X*le,ue+=X*he,ee+=X*V,te+=X*pe,de+=X*Re,X=J[7],Be+=X*It,Qe+=X*bt,Le+=X*at,ot+=X*Tt,Ve+=X*xt,We+=X*st,it+=X*Nt,Ke+=X*Et,Fe+=X*nt,Ye+=X*Rt,rt+=X*se,ue+=X*le,ee+=X*he,te+=X*V,de+=X*pe,xe+=X*Re,X=J[8],Qe+=X*It,Le+=X*bt,ot+=X*at,Ve+=X*Tt,We+=X*xt,it+=X*st,Ke+=X*Nt,Fe+=X*Et,Ye+=X*nt,rt+=X*Rt,ue+=X*se,ee+=X*le,te+=X*he,de+=X*V,xe+=X*pe,Oe+=X*Re,X=J[9],Le+=X*It,ot+=X*bt,Ve+=X*at,We+=X*Tt,it+=X*xt,Ke+=X*st,Fe+=X*Nt,Ye+=X*Et,rt+=X*nt,ue+=X*Rt,ee+=X*se,te+=X*le,de+=X*he,xe+=X*V,Oe+=X*pe,$e+=X*Re,X=J[10],ot+=X*It,Ve+=X*bt,We+=X*at,it+=X*Tt,Ke+=X*xt,Fe+=X*st,Ye+=X*Nt,rt+=X*Et,ue+=X*nt,ee+=X*Rt,te+=X*se,de+=X*le,xe+=X*he,Oe+=X*V,$e+=X*pe,dt+=X*Re,X=J[11],Ve+=X*It,We+=X*bt,it+=X*at,Ke+=X*Tt,Fe+=X*xt,Ye+=X*st,rt+=X*Nt,ue+=X*Et,ee+=X*nt,te+=X*Rt,de+=X*se,xe+=X*le,Oe+=X*he,$e+=X*V,dt+=X*pe,ut+=X*Re,X=J[12],We+=X*It,it+=X*bt,Ke+=X*at,Fe+=X*Tt,Ye+=X*xt,rt+=X*st,ue+=X*Nt,ee+=X*Et,te+=X*nt,de+=X*Rt,xe+=X*se,Oe+=X*le,$e+=X*he,dt+=X*V,ut+=X*pe,et+=X*Re,X=J[13],it+=X*It,Ke+=X*bt,Fe+=X*at,Ye+=X*Tt,rt+=X*xt,ue+=X*st,ee+=X*Nt,te+=X*Et,de+=X*nt,xe+=X*Rt,Oe+=X*se,$e+=X*le,dt+=X*he,ut+=X*V,et+=X*pe,wt+=X*Re,X=J[14],Ke+=X*It,Fe+=X*bt,Ye+=X*at,rt+=X*Tt,ue+=X*xt,ee+=X*st,te+=X*Nt,de+=X*Et,xe+=X*nt,Oe+=X*Rt,$e+=X*se,dt+=X*le,ut+=X*he,et+=X*V,wt+=X*pe,ht+=X*Re,X=J[15],Fe+=X*It,Ye+=X*bt,rt+=X*at,ue+=X*Tt,ee+=X*xt,te+=X*st,de+=X*Nt,xe+=X*Et,Oe+=X*nt,$e+=X*Rt,dt+=X*se,ut+=X*le,et+=X*he,wt+=X*V,ht+=X*pe,yt+=X*Re,oe+=38*Ye,we+=38*rt,Se+=38*ue,De+=38*ee,qe+=38*te,Ue+=38*de,Ne+=38*xe,Be+=38*Oe,Qe+=38*$e,Le+=38*dt,ot+=38*ut,Ve+=38*et,We+=38*wt,it+=38*ht,Ke+=38*yt,Y=1,X=oe+Y+65535,Y=Math.floor(X/65536),oe=X-Y*65536,X=we+Y+65535,Y=Math.floor(X/65536),we=X-Y*65536,X=Se+Y+65535,Y=Math.floor(X/65536),Se=X-Y*65536,X=De+Y+65535,Y=Math.floor(X/65536),De=X-Y*65536,X=qe+Y+65535,Y=Math.floor(X/65536),qe=X-Y*65536,X=Ue+Y+65535,Y=Math.floor(X/65536),Ue=X-Y*65536,X=Ne+Y+65535,Y=Math.floor(X/65536),Ne=X-Y*65536,X=Be+Y+65535,Y=Math.floor(X/65536),Be=X-Y*65536,X=Qe+Y+65535,Y=Math.floor(X/65536),Qe=X-Y*65536,X=Le+Y+65535,Y=Math.floor(X/65536),Le=X-Y*65536,X=ot+Y+65535,Y=Math.floor(X/65536),ot=X-Y*65536,X=Ve+Y+65535,Y=Math.floor(X/65536),Ve=X-Y*65536,X=We+Y+65535,Y=Math.floor(X/65536),We=X-Y*65536,X=it+Y+65535,Y=Math.floor(X/65536),it=X-Y*65536,X=Ke+Y+65535,Y=Math.floor(X/65536),Ke=X-Y*65536,X=Fe+Y+65535,Y=Math.floor(X/65536),Fe=X-Y*65536,oe+=Y-1+37*(Y-1),Y=1,X=oe+Y+65535,Y=Math.floor(X/65536),oe=X-Y*65536,X=we+Y+65535,Y=Math.floor(X/65536),we=X-Y*65536,X=Se+Y+65535,Y=Math.floor(X/65536),Se=X-Y*65536,X=De+Y+65535,Y=Math.floor(X/65536),De=X-Y*65536,X=qe+Y+65535,Y=Math.floor(X/65536),qe=X-Y*65536,X=Ue+Y+65535,Y=Math.floor(X/65536),Ue=X-Y*65536,X=Ne+Y+65535,Y=Math.floor(X/65536),Ne=X-Y*65536,X=Be+Y+65535,Y=Math.floor(X/65536),Be=X-Y*65536,X=Qe+Y+65535,Y=Math.floor(X/65536),Qe=X-Y*65536,X=Le+Y+65535,Y=Math.floor(X/65536),Le=X-Y*65536,X=ot+Y+65535,Y=Math.floor(X/65536),ot=X-Y*65536,X=Ve+Y+65535,Y=Math.floor(X/65536),Ve=X-Y*65536,X=We+Y+65535,Y=Math.floor(X/65536),We=X-Y*65536,X=it+Y+65535,Y=Math.floor(X/65536),it=X-Y*65536,X=Ke+Y+65535,Y=Math.floor(X/65536),Ke=X-Y*65536,X=Fe+Y+65535,Y=Math.floor(X/65536),Fe=X-Y*65536,oe+=Y-1+37*(Y-1),Z[0]=oe,Z[1]=we,Z[2]=Se,Z[3]=De,Z[4]=qe,Z[5]=Ue,Z[6]=Ne,Z[7]=Be,Z[8]=Qe,Z[9]=Le,Z[10]=ot,Z[11]=Ve,Z[12]=We,Z[13]=it,Z[14]=Ke,Z[15]=Fe}function re(Z,J){Q(Z,J,J)}function ne(Z,J){const ae=m();let X;for(X=0;X<16;X++)ae[X]=J[X];for(X=253;X>=0;X--)re(ae,ae),X!==2&&X!==4&&Q(ae,ae,J);for(X=0;X<16;X++)Z[X]=ae[X]}function ie(Z,J){const ae=m();let X;for(X=0;X<16;X++)ae[X]=J[X];for(X=250;X>=0;X--)re(ae,ae),X!==1&&Q(ae,ae,J);for(X=0;X<16;X++)Z[X]=ae[X]}function z(Z,J){const ae=m(),X=m(),Y=m(),oe=m(),we=m(),Se=m(),De=m(),qe=m(),Ue=m();G(ae,Z[1],Z[0]),G(Ue,J[1],J[0]),Q(ae,ae,Ue),W(X,Z[0],Z[1]),W(Ue,J[0],J[1]),Q(X,X,Ue),Q(Y,Z[3],J[3]),Q(Y,Y,E),Q(oe,Z[2],J[2]),W(oe,oe,oe),G(we,X,ae),G(Se,oe,Y),W(De,oe,Y),W(qe,X,ae),Q(Z[0],we,Se),Q(Z[1],qe,De),Q(Z[2],De,Se),Q(Z[3],we,qe)}function T(Z,J,ae){for(let X=0;X<4;X++)M(Z[X],J[X],ae)}function D(Z,J){const ae=m(),X=m(),Y=m();ne(Y,J[2]),Q(ae,J[0],Y),Q(X,J[1],Y),P(Z,X),Z[31]^=K(ae)<<7}function w(Z,J,ae){O(Z[0],_),O(Z[1],y),O(Z[2],y),O(Z[3],_);for(let X=255;X>=0;--X){const Y=ae[X/8|0]>>(X&7)&1;T(Z,J,Y),z(J,Z),z(Z,Z),T(Z,J,Y)}}function S(Z,J){const ae=[m(),m(),m(),m()];O(ae[0],b),O(ae[1],C),O(ae[2],y),Q(ae[3],b,C),w(Z,ae,J)}function $(Z){if(Z.length!==f.SEED_LENGTH)throw new Error(`ed25519: seed must be ${f.SEED_LENGTH} bytes`);const J=(0,d.hash)(Z);J[0]&=248,J[31]&=127,J[31]|=64;const ae=new Uint8Array(32),X=[m(),m(),m(),m()];S(X,J),D(ae,X);const Y=new Uint8Array(64);return Y.set(Z),Y.set(ae,32),{publicKey:ae,secretKey:Y}}f.generateKeyPairFromSeed=$;function N(Z){const J=(0,r.randomBytes)(32,Z),ae=$(J);return(0,g.wipe)(J),ae}f.generateKeyPair=N;function k(Z){if(Z.length!==f.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${f.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Z.subarray(32))}f.extractPublicKeyFromSecretKey=k;const U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(Z,J){let ae,X,Y,oe;for(X=63;X>=32;--X){for(ae=0,Y=X-32,oe=X-12;Y<oe;++Y)J[Y]+=ae-16*J[X]*U[Y-(X-32)],ae=Math.floor((J[Y]+128)/256),J[Y]-=ae*256;J[Y]+=ae,J[X]=0}for(ae=0,Y=0;Y<32;Y++)J[Y]+=ae-(J[31]>>4)*U[Y],ae=J[Y]>>8,J[Y]&=255;for(Y=0;Y<32;Y++)J[Y]-=ae*U[Y];for(X=0;X<32;X++)J[X+1]+=J[X]>>8,Z[X]=J[X]&255}function q(Z){const J=new Float64Array(64);for(let ae=0;ae<64;ae++)J[ae]=Z[ae];for(let ae=0;ae<64;ae++)Z[ae]=0;I(Z,J)}function B(Z,J){const ae=new Float64Array(64),X=[m(),m(),m(),m()],Y=(0,d.hash)(Z.subarray(0,32));Y[0]&=248,Y[31]&=127,Y[31]|=64;const oe=new Uint8Array(64);oe.set(Y.subarray(32),32);const we=new d.SHA512;we.update(oe.subarray(32)),we.update(J);const Se=we.digest();we.clean(),q(Se),S(X,Se),D(oe,X),we.reset(),we.update(oe.subarray(0,32)),we.update(Z.subarray(32)),we.update(J);const De=we.digest();q(De);for(let qe=0;qe<32;qe++)ae[qe]=Se[qe];for(let qe=0;qe<32;qe++)for(let Ue=0;Ue<32;Ue++)ae[qe+Ue]+=De[qe]*Y[Ue];return I(oe.subarray(32),ae),oe}f.sign=B;function H(Z,J){const ae=m(),X=m(),Y=m(),oe=m(),we=m(),Se=m(),De=m();return O(Z[2],y),j(Z[1],J),re(Y,Z[1]),Q(oe,Y,x),G(Y,Y,Z[2]),W(oe,Z[2],oe),re(we,oe),re(Se,we),Q(De,Se,we),Q(ae,De,Y),Q(ae,ae,oe),ie(ae,ae),Q(ae,ae,Y),Q(ae,ae,oe),Q(ae,ae,oe),Q(Z[0],ae,oe),re(X,Z[0]),Q(X,X,oe),L(X,Y)&&Q(Z[0],Z[0],R),re(X,Z[0]),Q(X,X,oe),L(X,Y)?-1:(K(Z[0])===J[31]>>7&&G(Z[0],_,Z[0]),Q(Z[3],Z[0],Z[1]),0)}function ce(Z,J,ae){const X=new Uint8Array(32),Y=[m(),m(),m(),m()],oe=[m(),m(),m(),m()];if(ae.length!==f.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${f.SIGNATURE_LENGTH} bytes`);if(H(oe,Z))return!1;const we=new d.SHA512;we.update(ae.subarray(0,32)),we.update(Z),we.update(J);const Se=we.digest();return q(Se),w(Y,oe,Se),S(oe,ae.subarray(32)),z(Y,oe),D(X,Y),!F(ae,X)}f.verify=ce;function be(Z){let J=[m(),m(),m(),m()];if(H(J,Z))throw new Error("Ed25519: invalid public key");let ae=m(),X=m(),Y=J[1];W(ae,y,Y),G(X,y,Y),ne(X,X),Q(ae,ae,X);let oe=new Uint8Array(32);return P(oe,ae),oe}f.convertPublicKeyToX25519=be;function ve(Z){const J=(0,d.hash)(Z.subarray(0,32));J[0]&=248,J[31]&=127,J[31]|=64;const ae=new Uint8Array(J.subarray(0,32));return(0,g.wipe)(J),ae}f.convertSecretKeyToX25519=ve})(ed25519);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,ie,z,T){T===void 0&&(T=z);var D=Object.getOwnPropertyDescriptor(ie,z);(!D||("get"in D?!ie.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return ie[z]}}),Object.defineProperty(ne,T,D)}:function(ne,ie,z,T){T===void 0&&(T=z),ne[T]=ie[z]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ne,ie){Object.defineProperty(ne,"default",{enumerable:!0,value:ie})}:function(ne,ie){ne.default=ie}),g=commonjsGlobal&&commonjsGlobal.__importStar||function(){var ne=function(ie){return ne=Object.getOwnPropertyNames||function(z){var T=[];for(var D in z)Object.prototype.hasOwnProperty.call(z,D)&&(T[T.length]=D);return T},ne(ie)};return function(ie){if(ie&&ie.__esModule)return ie;var z={};if(ie!=null)for(var T=ne(ie),D=0;D<T.length;D++)T[D]!=="default"&&r(z,ie,T[D]);return d(z,ie),z}}(),m=commonjsGlobal&&commonjsGlobal.__awaiter||function(ne,ie,z,T){function D(w){return w instanceof z?w:new z(function(S){S(w)})}return new(z||(z=Promise))(function(w,S){function $(U){try{k(T.next(U))}catch(I){S(I)}}function N(U){try{k(T.throw(U))}catch(I){S(I)}}function k(U){U.done?w(U.value):D(U.value).then($,N)}k((T=T.apply(ne,ie||[])).next())})},v=commonjsGlobal&&commonjsGlobal.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(f,"__esModule",{value:!0}),f.MULTICODEC_ED25519_LENGTH=f.MULTICODEC_ED25519_HEADER=f.MULTICODEC_ED25519_BASE=f.MULTICODEC_ED25519_ENCODING=f.DID_METHOD=f.DID_PREFIX=f.DID_DELIMITER=f.KEY_PAIR_SEED_LENGTH=f.DATA_ENCODING=f.JSON_ENCODING=f.JWT_ENCODING=f.JWT_DELIMITER=f.JWT_IRIDIUM_TYP=f.JWT_IRIDIUM_ALG=f.JWTHeaderType=void 0,f.generateKeyPair=R,f.decodeJSON=O,f.encodeJSON=A,f.encodeIss=M,f.decodeIss=P,f.encodeSig=F,f.decodeSig=L,f.encodeData=K,f.decodeData=j,f.encodeJWT=W,f.decodeJWT=G,f.signJWT=Q,f.verifyJWT=re;const _=g(ed25519),y=requireSafejson(),x=requireUtils(),E=v(naclFastExports),b=g(requireLog()),C=requireStringUtils();f.JWTHeaderType="dapp",f.JWT_IRIDIUM_ALG="EdDSA",f.JWT_IRIDIUM_TYP="JWT",f.JWT_DELIMITER=".",f.JWT_ENCODING="base64url",f.JSON_ENCODING="utf8",f.DATA_ENCODING="utf8",f.KEY_PAIR_SEED_LENGTH=32,f.DID_DELIMITER=":",f.DID_PREFIX="did",f.DID_METHOD="key",f.MULTICODEC_ED25519_ENCODING="base58btc",f.MULTICODEC_ED25519_BASE="z",f.MULTICODEC_ED25519_HEADER="K36",f.MULTICODEC_ED25519_LENGTH=32;function R(){return E.default.sign.keyPair()}function O(ne){return(0,y.safeJsonParse)((0,C.okxtoString)((0,C.okxfromString)(ne,f.JWT_ENCODING),f.JSON_ENCODING))}function A(ne){return(0,C.okxtoString)((0,C.okxfromString)((0,y.safeJsonStringify)(ne),f.JSON_ENCODING),f.JWT_ENCODING)}function M(ne){b.logDebug(`publicKey: ${(0,x.toHexString)(ne)}`);var ie=(0,C.okxtoString)(ne,f.MULTICODEC_ED25519_ENCODING);return[f.DID_PREFIX,f.DID_METHOD,ie].join(f.DID_DELIMITER)}function P(ne){const[ie,z,T]=ne.split(f.DID_DELIMITER);if(ie!==f.DID_PREFIX||z!==f.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(T===void 0)throw new Error("multicodec is undefined");const D=(0,C.okxfromString)(T,f.MULTICODEC_ED25519_ENCODING);if(D===void 0||D.length!==f.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return D}function F(ne){return(0,C.okxtoString)(ne,f.JWT_ENCODING)}function L(ne){return(0,C.okxfromString)(ne,f.JWT_ENCODING)}function K(ne){return(0,C.okxfromString)([A(ne.header),A(ne.payload)].join(f.JWT_DELIMITER),f.DATA_ENCODING)}function j(ne){var ie,z;const T=(0,C.okxtoString)(ne,f.DATA_ENCODING).split(f.JWT_DELIMITER),D=O((ie=T[0])!==null&&ie!==void 0?ie:"{}"),w=O((z=T[1])!==null&&z!==void 0?z:"{}");return{header:D,payload:w}}function W(ne){return[A(ne.header),A(ne.payload),F(ne.signature)].join(f.JWT_DELIMITER)}function G(ne){var ie,z,T;const D=ne.split(f.JWT_DELIMITER),w=O((ie=D[0])!==null&&ie!==void 0?ie:"{}"),S=O((z=D[1])!==null&&z!==void 0?z:"{}"),$=L((T=D[2])!==null&&T!==void 0?T:"{}"),N=(0,C.okxfromString)(D.slice(0,2).join(f.JWT_DELIMITER),f.DATA_ENCODING);return{header:w,payload:S,signature:$,data:N}}function Q(ne,ie,z,T){return m(this,arguments,void 0,function*(D,w,S,$,N=Math.floor(Date.now())){const k={alg:f.JWT_IRIDIUM_ALG,typ:f.JWT_IRIDIUM_TYP},U=M($.publicKey),I=N+S,B={iss:U,sub:D,aud:w,act:"authenticate user",iat:N,exp:I},H=K({header:k,payload:B});b.logDebug(`get sec kp: ${$.secretKey} {${$.secretKey.length}}`);const ce=E.default.sign.detached(H,$.secretKey);return W({header:k,payload:B,signature:ce})})}function re(ne){return m(this,void 0,void 0,function*(){const{header:ie,payload:z,data:T,signature:D}=G(ne);if(ie.alg!==f.JWT_IRIDIUM_ALG||ie.typ!==f.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const w=P(z.iss);return _.verify(w,T,D)})}})(jwt);var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var m=Object.getOwnPropertyDescriptor(r,d);(!m||("get"in m?!r.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,m)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(g[g.length]=m);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),m=0;m<g.length;m++)g[m]!=="default"&&__createBinding$1(d,r,g[m]);return __setModuleDefault$1(d,r),d}}(),__awaiter$m=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(connectionManager,"__esModule",{value:!0});connectionManager.ConnectionManager=void 0;const connect_1$1=connect$1,commands_1$1=commands,storageconstants_1$1=storageconstants,jwtconstants_1$1=jwtconstants,constants_1$d=constants$5,eventemitter3_1$4=eventemitter3Exports,storage_1$1=storage,utils_1$b=requireUtils(),crypto_1$1=crypto$1,jwt_1$1=jwt,safejson_1$2=requireSafejson(),log$1=__importStar$1(requireLog()),log_1$3=requireLog(),report_1=requireReport(),url_1$1=requireUrl();class ConnectionManager{constructor(r=void 0){this.events=new eventemitter3_1$4.EventEmitter,this.connectStorage=new storage_1$1.Storage(storageconstants_1$1.OKXCONNECTOR_CACHE_KEY_DAPP+r,storageconstants_1$1.OKXCONNECTOR_CACHE_KEY_DAPP),this.crypto=new crypto_1$1.SessionCrypto;let d=(0,url_1$1.isInTMA)();if((0,log_1$3.logDebug)("do init:",d),log$1.reportLog("connection manager do init"),d){const g=this.getCachedCryptoKeyPair();(0,log_1$3.logDebug)("use same pk:",g),this.crypto=new crypto_1$1.SessionCrypto(g)}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new connect_1$1.OKXWalletConnector(constants_1$d.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",log$1.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){this.packageId=Date.now()}saveCryptoKeyPair(r){let d=(0,safejson_1$2.safeJsonStringify)(r);this.connectStorage.encryptStoreMsg(d,storageconstants_1$1.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const d=this.connectStorage.getAndDecrypt(storageconstants_1$1.OKXCONNECTOR_CRYPTO_KEY);return typeof d=="string"?(log$1.logDebug("get cached crypto key:"),log$1.logDebug(d),(0,safejson_1$2.safeJsonParse)(d)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(r){var d={publicKey:(0,utils_1$b.toHexString)(r.publicKey),secretKey:(0,utils_1$b.toHexString)(r.secretKey)};log$1.logDebug("save jwt kp");let g=(0,safejson_1$2.safeJsonStringify)(d);log$1.logDebug(g),this.connectStorage.encryptStoreMsg(g,storageconstants_1$1.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){const d=this.connectStorage.getAndDecrypt(storageconstants_1$1.OKXCONNECTOR_JWT_KEY);if(typeof d=="string"){log$1.logDebug("get cached jwt kp:"),log$1.logDebug(d);let m=(0,safejson_1$2.safeJsonParse)(d);log$1.logDebug("save jwt kp"),log$1.logDebug(m);var g={publicKey:(0,utils_1$b.hexToByteArray)(m.publicKey),secretKey:(0,utils_1$b.hexToByteArray)(m.secretKey)};return g}else return(0,jwt_1$1.generateKeyPair)()}isWalletPKReady(){return log$1.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(r){return __awaiter$m(this,void 0,void 0,function*(){return yield(0,jwt_1$1.signJWT)(r,jwtconstants_1$1.OKXCONNECTOR_JWT_SIDE,jwtconstants_1$1.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parsePackage(r){return __awaiter$m(this,arguments,void 0,function*(d,g=!1){var m,v,_,y,x;if(this.events.emit(d.id,d),!g){yield this.sendACK(d.id,!0);let E=(m=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE))===null||m===void 0?void 0:m.content;if(E){let b=d;!((_=(v=b.params)===null||v===void 0?void 0:v.data)===null||_===void 0)&&_.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(x=(y=b.params)===null||y===void 0?void 0:y.data)===null||x===void 0?void 0:x.messageId,E))}}})}restoreConnect(r){return __awaiter$m(this,void 0,void 0,function*(){if(log$1.reportLog("connection manager restore connection"),log$1.logDebug(`connectionManager  restoreConenct   ${r}`),typeof r!="string"||r.length===0)throw new Error("CONNECTION: invalid topic");log$1.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(r,storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE),log$1.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)})}getConnectInfo(){var r=(0,utils_1$b.generateTopic)();return log$1.logDebug(`generate topic token: ${r}`),log$1.reportLog("connection manager generate connection info"),this.currentTopic=r,{channelId:r,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return __awaiter$m(this,arguments,void 0,function*(r=!1){this.timeLog=new Date().getTime(),(0,log_1$3.logDebug)("ConnectTime---enter->",this.timeLog),log$1.reportLog("connection manager begin connect");let d=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);var g=this.currentTopic;if(log$1.logDebug(`generate topic token: ${g}`),r){typeof d<"u"&&d!==null&&(log$1.logDebug(`read last connect id: ${d}`),g=d.content);var m=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);m&&(this.connectedWalletPK=m.content,(0,log_1$3.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),log$1.reportLog("connection manager do restore connection")}if(r){const _=this.getCachedCryptoKeyPair();_&&(this.crypto=new crypto_1$1.SessionCrypto(_))}log$1.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(g,storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);var v=yield this.makeJWT(g);return log$1.logDebug(`generate jwt token: ${v}`),this.connectStorage.saveContent(v,"jwt"),new Promise((_,y)=>{this.connector.onOpen(()=>__awaiter$m(this,void 0,void 0,function*(){log$1.logDebug("1. connector on open"),log$1.reportLog("1. connect ws open");const x=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime---open->",x-this.timeLog),this.events.once(this.packageId.toString(),E=>__awaiter$m(this,void 0,void 0,function*(){if(E&&E.error){log$1.logError("failed when login"),log$1.reportLog("2. connect login failed"),yield this.connector.disconnect();var b=new Error;b.message=E.error.message,b.name=E.error.code.toString(),y(b)}this.refreshPackageId(),this.events.once(this.packageId.toString(),R=>__awaiter$m(this,void 0,void 0,function*(){if(R&&R.error){log$1.logError("failed when subscribe"),log$1.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var O=new Error;O.message=R.error.message,O.name=R.error.code.toString(),y(O)}this.refreshPackageId(),log$1.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),log$1.reportLog("4. subscribe callback then send fetch");const A=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime--subscribe callback->",A-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),g),_()})),log$1.logDebug(`3. login callback then send subscribe: ${this.packageId}`),log$1.reportLog("3. connect subscribe failed");const C=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime---login callback->",C-this.timeLog),yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(R=>{(0,log_1$3.logDebug)("ConnectionManager connect error",R),y(R)})}),{id:this.packageId.toString(),jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_SUB,params:{topic:g}})})),log$1.logDebug("2. login called"),log$1.reportLog("2. connection manager connect call login"),yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(E=>{(0,log_1$3.logDebug)("ConnectionManager connect error",E),y(E)})}),{id:this.packageId.toString(),jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_LOGIN,params:{token:v}}),this.connector.addPackageParse(E=>{var b;if(log$1.logDebug("connect: parse package"),log$1.logDebug(E),!("params"in E)||!("data"in E.params)){this.parsePackage(E,!0);return}let C=(b=E.params.data)===null||b===void 0?void 0:b.message;if(typeof C<"u"){C=C.replace(/'/g,'"');let R=(0,safejson_1$2.safeJsonParse)(C);typeof R!="string"&&"clientId"in R&&R.clientId&&R.clientId.length>0&&(this.connectedWalletPK=R.clientId,log$1.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(E,E.method===commands_1$1.CONNECT_METHOD_RECEIVE)})})),this.connector.connect().catch(x=>{(0,log_1$3.logDebug)("ConnectionManager connect error",x),y(x)})})})}disconnect(){return __awaiter$m(this,arguments,void 0,function*(r=!1){yield this.connector.disconnect(),log$1.reportLog("connect disconnect"),this.connectStorage.clearCache(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE),r||(this.connectStorage.clearCache(storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,log_1$3.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))})}addListener(r,d,g){this.connector.addListener((0,safejson_1$2.safeJsonStringify)(r),m=>{if(m=m.replace(/'/g,'"'),log$1.logDebug(`addListener ===> ${m}`),typeof m<"u"){var v=(0,safejson_1$2.safeJsonParse)(m),_=v.message;let y;return _.trimStart().startsWith("{")?y=_:(v.clientId&&v.clientId.length>0&&(this.connectedWalletPK=v.clientId,this.connectStorage.saveContent(this.connectedWalletPK,storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),log$1.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),log$1.logDebug(`this.cryptoKey  addListener   ${(0,utils_1$b.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),y=this.crypto.decrypt(_,this.connectedWalletPK)),log$1.logDebug(`addListener ===> ${y}`),y}},d,g)}sendRaw(r){return __awaiter$m(this,void 0,void 0,function*(){log$1.logDebug(`message send =====> ${r}`),log$1.reportLog("connect send raw msg");let d=r;log$1.logDebug(`message send =====encrypt message.length>>>> ${d.length}`);let g=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);log$1.logDebug(`message send =====topic>>>> ${g==null?void 0:g.content}`),this.refreshPackageId();const m={id:this.packageId.toString(),method:commands_1$1.CONNECT_METHOD_PUBLISH,jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,params:{message:{topic:g==null?void 0:g.content,message:d,ttl:constants_1$d.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),v=>__awaiter$m(this,void 0,void 0,function*(){v&&v.error?log$1.logError(`@${new Date().toUTCString()} >>> failed when send msg`):v&&!v.error&&log$1.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),m),this.packageId})}send(r){return __awaiter$m(this,arguments,void 0,function*(d,g=constants_1$d.OKXCONNECTOR_MESSAGE_TTL){if(log$1.logDebug(`message send =====> ${d}`),log$1.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let m=this.crypto.encrypt(d,this.connectedWalletPK);log$1.logDebug(`message send =====encrypt message.length>>>> ${m.length}`),log$1.reportEvent(report_1.OKXReportType.LOG,"msg_size",m.length.toString());let v=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);log$1.logDebug(`message send =====topic>>>> ${v==null?void 0:v.content}`),this.refreshPackageId();const _={id:this.packageId.toString(),method:commands_1$1.CONNECT_METHOD_PUBLISH,jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,params:{message:{topic:v==null?void 0:v.content,message:m,ttl:g}}};return this.events.once(this.packageId.toString(),y=>__awaiter$m(this,void 0,void 0,function*(){y&&y.error?log$1.logError(`@${new Date().toUTCString()} >>> failed when send msg`):y&&!y.error&&log$1.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_),this.packageId})}sendACK(r,d){return __awaiter$m(this,arguments,void 0,function*(g,m,v=void 0){if(m===!0){const _={id:g,jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)}else if(v){const _={id:g,jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,error:{code:v.code,message:v.message}};yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)}})}sendReceive(r,d,g){return __awaiter$m(this,void 0,void 0,function*(){const m={id:r,jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_RECEIVE,params:{data:{messageId:d,topic:g}}};yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),m)})}sendConnectSessionInfo(r,d,g,m){return __awaiter$m(this,void 0,void 0,function*(){})}sendFetchAndConsumeMessages(r,d){return __awaiter$m(this,void 0,void 0,function*(){this.events.once(r,v=>__awaiter$m(this,void 0,void 0,function*(){var _,y;if(v.result){var x=v.result.hasMore,E=v.result.data;if(E)for(let b=0;b<E.length;b++){let C=E[b];if(C&&C.topic==d){let R=C.messageId;log$1.reportLog("5. get fetch result"),yield this.connector.getMsgPayloadFromHistory(C),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),R,d)}}x&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),d))}else log$1.logDebug(`CONNECT: get error rsp ${(_=v.error)===null||_===void 0?void 0:_.code} : ${(y=v.error)===null||y===void 0?void 0:y.message}`)})),log$1.logDebug("5. send fetch more"),log$1.reportLog("5. send fetch more");const g=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime---5->",g-this.timeLog);const m={id:r,jsonrpc:constants_1$d.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_FETCHMSG,params:{data:{topic:d}}};yield this.connector.send(()=>__awaiter$m(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),m)})}cleanCache(){return __awaiter$m(this,void 0,void 0,function*(){log$1.reportLog("connection cache clean called"),this.connectStorage.clearCache()})}saveSessionContent(r,d){d||this.connectStorage.clearCache(storageconstants_1$1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);let g=(0,safejson_1$2.safeJsonStringify)(d);this.connectStorage.encryptStoreMsg(g,storageconstants_1$1.OKXCONNECTOR_SESSION_PREFIX_KEY+r)}getSessionContent(r){let d=this.connectStorage.getAndDecrypt(storageconstants_1$1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);if(d)return(0,safejson_1$2.safeJsonParse)(d)}getCurrentConnectionReady(){return this.isWalletPKReady()}}connectionManager.ConnectionManager=ConnectionManager;var walletConnectionManager={},walletConnectionConstants={};Object.defineProperty(walletConnectionConstants,"__esModule",{value:!0});walletConnectionConstants.WalletConnectionManagerEvent=walletConnectionConstants.WalletConnectionManagerTopicInfoCacheKey=void 0;walletConnectionConstants.WalletConnectionManagerTopicInfoCacheKey="wcmtic";walletConnectionConstants.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"};var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var m=Object.getOwnPropertyDescriptor(r,d);(!m||("get"in m?!r.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,m)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(g[g.length]=m);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),m=0;m<g.length;m++)g[m]!=="default"&&__createBinding(d,r,g[m]);return __setModuleDefault(d,r),d}}(),__awaiter$l=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(walletConnectionManager,"__esModule",{value:!0});walletConnectionManager.WalletConnectionManager=void 0;const connect_1=connect$1,commands_1=commands,storageconstants_1=storageconstants,jwtconstants_1=jwtconstants,constants_1$c=constants$5,walletConnectionConstants_1=walletConnectionConstants,eventemitter3_1$3=eventemitter3Exports,storage_1=storage,utils_1$a=requireUtils(),crypto_1=crypto$1,jwt_1=jwt,safejson_1$1=requireSafejson(),log=__importStar(requireLog()),log_1$2=requireLog(),utils_2$1=requireUtils$1();class WalletConnectionManager{constructor(){this.events=new eventemitter3_1$3.EventEmitter,this.communicateEvents=new eventemitter3_1$3.EventEmitter,log.logDebug("connect manager construct"),this.connectStorage=new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new connect_1.OKXWalletConnector(constants_1$c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(r=0){this.packageId=Date.now()+r}saveCryptoKeyPair(r,d){let g=(0,safejson_1$1.safeJsonStringify)(d);this.connectStorage.encryptStoreMsg(g,storageconstants_1.OKXCONNECTOR_CRYPTO_KEY+r)}getCachedCryptoKeyPair(r){const g=this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY+r);return typeof g=="string"?(log.logDebug("get cached crypto key:"),log.logDebug(g),(0,safejson_1$1.safeJsonParse)(g)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(r){var d={publicKey:(0,utils_1$a.toHexString)(r.publicKey),secretKey:(0,utils_1$a.toHexString)(r.secretKey)};log.logDebug("save jwt kp");let g=(0,safejson_1$1.safeJsonStringify)(d);log.logDebug(g),this.connectStorage.encryptStoreMsg(g,storageconstants_1.OKXCONNECTOR_JWT_KEY),log.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const d=this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);if(typeof d=="string"){log.logDebug("get cached jwt kp:"),log.logDebug(d);let m=(0,safejson_1$1.safeJsonParse)(d);log.logDebug("save jwt kp"),log.logDebug(m);var g={publicKey:(0,utils_1$a.hexToByteArray)(m.publicKey),secretKey:(0,utils_1$a.hexToByteArray)(m.secretKey)};return g}else return(0,jwt_1.generateKeyPair)()}isTopicPublicKeyExist(r){return log.logDebug(`isTopicPublicKeyExist  ===> ${r}`),this.sessionCryptoInfoMap.get(r)}makeJWT(r){return __awaiter$l(this,void 0,void 0,function*(){return yield(0,jwt_1.signJWT)(r,jwtconstants_1.OKXCONNECTOR_JWT_WALLET_SIDE,jwtconstants_1.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parseInternalMsg(r){try{let g=(0,safejson_1$1.safeJsonParse)(r)["ivur-igbfft-ptjip"];if(g&&g.length>0)return(0,utils_2$1.base64decode)(g,!0).toString()}catch(d){log.logError("parse internal msg",d)}}updateClientId(r,d){let g=this.sessionCryptoInfoMap.get(r);if((0,log_1$2.logDebug)("updateClientId",g,r,d),g&&d&&d.length>0){if(g.cid){let m=(0,utils_1$a.getLastSixMd5Hash)(d);g.cid==m?g.dappPublicKey=d:log.logError("cid check failed",g,r,d)}else g.dappPublicKey=d;this.syncCacheSessionInfo()}return!1}parsePackage(r,d){return __awaiter$l(this,arguments,void 0,function*(g,m,v=!1){var _,y,x,E,b,C,R,O,A,M,P;this.events.emit(m.id,m);let F=this.sessionCryptoInfoMap.get(g);if(log.logDebug("get sessionInfo for decrypt topic:",g),log.logDebug("get sessionInfo for decrypt:",m.id,g,F,this.sessionCryptoInfoMap),F&&m.params.data&&!((_=m.params.data)===null||_===void 0)&&_.message)if(!((y=m.params.data)===null||y===void 0)&&y.isInternalData){let L=(x=m.params.data)===null||x===void 0?void 0:x.message,K=(E=m.params.data)===null||E===void 0?void 0:E.topic,j=this.parseInternalMsg(L);(0,log_1$2.logDebug)("parse internal origin: ",j),j&&j.length>0&&this.communicateEvents.emit("origin",j,K)}else try{let L=(b=m.params.data)===null||b===void 0?void 0:b.message;if(L.trimStart().startsWith("{")){let K=(0,safejson_1$1.safeJsonParse)(L);if(K.method){if(K.method=="session_info"){let j=K.params.sessionInfo,W=(0,utils_2$1.base64decode)(j,!1);(0,log_1$2.logDebug)("wallet connection manager requset base64Content:",W),(0,log_1$2.logDebug)("base64Content:"+W);let G=W.toObject();this.updateClientId(g,G.clientId)}(0,log_1$2.logDebug)("<<< parse raw msg:",g,K),this.communicateEvents.emit(g,L)}}else{let K=F.crypto.decryptWallet((C=m.params.data)===null||C===void 0?void 0:C.message,F.dappPublicKey);(0,log_1$2.logDebug)("<<< receive msg:",g,K),this.communicateEvents.emit(g,K)}}catch{let K=F.crypto.decryptWallet((R=m.params.data)===null||R===void 0?void 0:R.message,F.dappPublicKey);(0,log_1$2.logDebug)("<<< receive msg:",g,K),this.communicateEvents.emit(g,K)}if(!v&&(yield this.sendACK(m.id,!0),g)){let L=m;!((A=(O=L.params)===null||O===void 0?void 0:O.data)===null||A===void 0)&&A.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(P=(M=L.params)===null||M===void 0?void 0:M.data)===null||P===void 0?void 0:P.messageId,g))}})}recovrySessionInfoFromCache(){let r=this.connectStorage.getAndDecrypt(walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);if(log.logDebug("get cached sessionInfos:",r),r){let d=(0,safejson_1$1.safeJsonParse)(r);for(let g in d){let m=d[g];log.logDebug("make topicItem:",m);let v={topic:g,crypto:new crypto_1.SessionCrypto({publicKey:m.cryptoKeyPair.publicKey,secretKey:m.cryptoKeyPair.secretKey}),dappPublicKey:m.dappPublicKey,cid:m.cid};this.sessionCryptoInfoMap.set(g,v)}}log.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let r={};for(let[g,m]of this.sessionCryptoInfoMap)log.logDebug("for each Keys",g),m&&(r[g]={cryptoKeyPair:m.crypto.stringifyKeypair(),dappPublicKey:m.dappPublicKey,cid:m.cid});let d=(0,safejson_1$1.safeJsonStringify)(r);log.logDebug("sync cache sessionInfos:",d),this.connectStorage.encryptStoreMsg(d,walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(r,d,g=!0){let m=d.dappPublicKey,v=[];for(let[_,y]of this.sessionCryptoInfoMap)log.logDebug("for each Keys",_),y.dappPublicKey==m&&(log.logDebug("duplicated dapp public key:",_,m),v.push(_));for(let[_,y]of this.sessionCryptoInfoMap)v.includes(_)&&this.sessionCryptoInfoMap.delete(_);return log.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(r,d),log.logDebug("cache sessionInfo:",r,d,this.sessionCryptoInfoMap),g&&this.syncCacheSessionInfo(),v}appendTopic(r,d,g){return __awaiter$l(this,void 0,void 0,function*(){return(0,log_1$2.logDebug)("4.1. get append Topic:",r),new Promise((m,v)=>__awaiter$l(this,void 0,void 0,function*(){if(!this.isLogined){var _=new Error;_.message="connection is not logined",_.name="append error",v(_);return}let y={topic:r,crypto:new crypto_1.SessionCrypto,dappPublicKey:d||"",cid:g},x=this.cacheSessionInfo(r,y,!1);yield this.subscribeTopics(Array.from([r])),this.refreshPackageId(),log.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${r}`),log.reportLog("5. subscribe callback then fetch append message");const E=new Date().getTime();(0,log_1$2.logDebug)("Append --subscribe callback->",E-this.timeLog),m(x)}))})}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return __awaiter$l(this,void 0,void 0,function*(){this.timeLog=new Date().getTime(),(0,log_1$2.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),log.reportLog("wallet connect connect called");let r=Date.now().toString();var d=yield this.makeJWT(r);return log.logDebug(`generate jwt token: ${d}`),this.connectStorage.saveContent(d,"jwt"),this.recovrySessionInfoFromCache(),new Promise((g,m)=>{this.inLogin=!0,this.connector.onOpen(()=>__awaiter$l(this,void 0,void 0,function*(){log.logDebug("1. connector on open"),log.reportLog("1. wallet connect connect on open");const v=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---open->",v-this.timeLog),this.events.once(this.packageId.toString(),_=>__awaiter$l(this,void 0,void 0,function*(){if(_&&_.error){log.logError("failed when login"),yield this.connector.disconnect();var y=new Error;y.message=_.error.message,y.name=_.error.code.toString(),m(y)}else this.isLogined=!0,g(),log.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),log.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})),log.logDebug("2. login called"),log.reportLog("2. wallet connect login called"),yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_LOGIN,params:{token:d}})})),this.connector.connect().catch(v=>{(0,log_1$2.logDebug)("WalletConnectionManager connect error",v),m(v)}),this.connector.addPackageParse(v=>{var _,y;if(log.logDebug("connect: parse package"),log.logDebug(v),!("params"in v)||!("data"in v.params)){this.parsePackage("",v,!0);return}!((_=v.params.data)===null||_===void 0)&&_.topic&&this.parsePackage((y=v.params.data)===null||y===void 0?void 0:y.topic,v,v.method===commands_1.CONNECT_METHOD_RECEIVE)})})})}getSessionPublicKey(r){if(this.isTopicPublicKeyExist(r)){let d=this.sessionCryptoInfoMap.get(r);if(d)return(0,utils_1$a.toHexString)(d.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return __awaiter$l(this,arguments,void 0,function*(r=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE),r||this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)})}send(r,d){return __awaiter$l(this,arguments,void 0,function*(g,m,v=!1,_=constants_1$c.OKXCONNECTOR_MESSAGE_TTL,y=!1){var x,E;if(log.logDebug(`message send =====> ${m}`),!this.isTopicPublicKeyExist(g))throw new Error("connection not finish");let b=(x=this.sessionCryptoInfoMap.get(g))===null||x===void 0?void 0:x.dappPublicKey,C=(E=this.sessionCryptoInfoMap.get(g))===null||E===void 0?void 0:E.crypto,R;if(y&&(R={message:m}),C&&b&&!y&&(R={message:C.encryptWallet(m,b)}),R){v&&C&&(R.clientId=(0,utils_1$a.toHexString)(C.keyPair.publicKey)),this.refreshPackageId();const O={id:this.packageId.toString(),method:commands_1.CONNECT_METHOD_PUBLISH,jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,params:{message:{topic:g,message:(0,safejson_1$1.safeJsonStringify)(R),ttl:_}}};return this.events.once(this.packageId.toString(),A=>__awaiter$l(this,void 0,void 0,function*(){A&&A.error?log.logError(`@${new Date().toUTCString()} >>> failed when send msg`):A&&!A.error&&log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),O),this.packageId}})}sendACK(r,d){return __awaiter$l(this,arguments,void 0,function*(g,m,v=void 0){if(m===!0){const _={id:g,jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)}else if(v){const _={id:g,jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,error:{code:v.code,message:v.message}};yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)}})}sendReceive(r,d,g){return __awaiter$l(this,void 0,void 0,function*(){const m={id:r,jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_RECEIVE,params:{data:{messageId:d,topic:g}}};yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),m)})}sendUnsubscribe(r){return __awaiter$l(this,void 0,void 0,function*(){yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_UNSUB,params:{topic:r}}),this.sessionCryptoInfoMap.delete(r),this.syncCacheSessionInfo()})}sendFetchAndConsumeMessages(r,d){return __awaiter$l(this,void 0,void 0,function*(){this.events.once(r,v=>__awaiter$l(this,void 0,void 0,function*(){var _,y;if(v.result){var x=v.result.hasMore,E=v.result.data;if(E)for(let b=0;b<E.length;b++){let C=E[b];if(C&&C.topic==d){let R=C.messageId;yield this.connector.getMsgPayloadFromHistory(C),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),R,d)}}x&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),d))}else log.logDebug(`CONNECT: get error rsp ${(_=v.error)===null||_===void 0?void 0:_.code} : ${(y=v.error)===null||y===void 0?void 0:y.message}`)})),log.logDebug("5. send fetch more");const g=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---5->",g-this.timeLog);const m={id:r,jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_FETCHMSG,params:{data:{topic:d}}};yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),m)})}sendBatchFetchAndConsumeMessages(r,d){return __awaiter$l(this,void 0,void 0,function*(){this.events.once(r,v=>__awaiter$l(this,void 0,void 0,function*(){var _,y;if(v.result){var x=v.result.hasMore,E=v.result.data;if(E)for(let b=0;b<E.length;b++){let C=E[b];if(C&&C.topic){let R=C.messageId;yield this.connector.getMsgPayloadFromHistory(C),this.refreshPackageId(b),yield this.sendReceive(this.packageId.toString(),R,C.topic)}}x&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),d))}else log.logDebug(`CONNECT: get error rsp ${(_=v.error)===null||_===void 0?void 0:_.code} : ${(y=v.error)===null||y===void 0?void 0:y.message}`)})),log.logDebug("5. send fetch more"),log.reportLog("5. send fetch more");const g=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---5->",g-this.timeLog);const m={id:r,jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:d,withInternalData:!0}};yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),m)})}cleanCache(){return __awaiter$l(this,void 0,void 0,function*(){this.connectStorage.clearCache()})}saveSessionContent(r,d){d||this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);let g=(0,safejson_1$1.safeJsonStringify)(d);this.connectStorage.encryptStoreMsg(g,storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY+r)}getSessionContent(r){let d=this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);if(d)return(0,safejson_1$1.safeJsonParse)(d)}subscribeTopics(r){return __awaiter$l(this,void 0,void 0,function*(){(0,log_1$2.logDebug)("4. topicid list",r),log.reportLog("4. topicid list"),this.refreshPackageId();const d=new Date().getTime();return(0,log_1$2.logDebug)("ConnectTime--subscribe callback->",d-this.timeLog),new Promise((g,m)=>__awaiter$l(this,void 0,void 0,function*(){let v=0;for(let _=0;_<r.length;++_){let y=r[_];this.refreshPackageId(_),this.events.once(this.packageId.toString(),E=>__awaiter$l(this,void 0,void 0,function*(){if(E&&E.error){log.logError("failed when subscribe"),yield this.connector.disconnect();var b=new Error;b.message=E.error.message,b.name=E.error.code.toString(),v+=1,v==r.length&&g()}this.refreshPackageId(_);const C=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime--subscribe callback->",C-this.timeLog),v+=1,v==r.length&&(log.logDebug(`5. send fetch msg: ${this.packageId}, ${y}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),r),g())})),log.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${y}`),log.reportLog("3. login callback then send subscribe");const x=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---login callback->",x-this.timeLog),yield this.connector.send(()=>__awaiter$l(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:constants_1$c.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_SUB,params:{topic:y}})}}))})}}walletConnectionManager.WalletConnectionManager=WalletConnectionManager;var engine={},sessionUtils={};Object.defineProperty(sessionUtils,"__esModule",{value:!0});sessionUtils.buildNameSpacesByConnectResponse=buildNameSpacesByConnectResponse;sessionUtils.buildRequestAccountNameSpacesByConnectResponse=buildRequestAccountNameSpacesByConnectResponse;const log_1$1=requireLog();function buildNameSpacesByConnectResponse(f){return buildRequestAccountNameSpacesByConnectResponse(f)}function buildRequestAccountNameSpacesByConnectResponse(f){let r={};(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse>>",JSON.stringify(f));let d=f.payload.responses.find(v=>v.name==="requestAccounts");const g=f.payload.responses.find(v=>v.name==="ton_addr"),m=f.payload.responses.find(v=>v.name==="ton_proof");if(g&&!d){(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let v=g.address;v="ton:"+g.network+":"+v;let _={ton_addr:g};m&&(_.ton_proof=m),d={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[v],methods:["ton_sendTransaction"],extra:{},data:_}]}}return(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(d)),d.accounts.forEach(v=>{var _=[],y=[];v.addresses.forEach(x=>{var E=x.split(":");if((0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",E.length),E.length>=3){let b=E.slice(0,2).join(":");_.push(b),y.push(x),(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",b,"addressItem:",x)}}),v.data&&v.data.ton_addr&&(v.data.ton_addr.name="ton_addr"),v.data&&v.data.ton_proof&&(v.data.ton_proof.name="ton_proof"),r[v.namespace]={chains:_,accounts:y,methods:v.methods,extra:v.extra,payload:v.data},(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(r))}),r}var __awaiter$k=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(engine,"__esModule",{value:!0});engine.Engine=void 0;const safejson_1=requireSafejson(),log_1=requireLog(),protocol_1=protocol,utils_1$9=requireUtils$1(),utils_2=requireUtils$1(),sessionUtils_1=sessionUtils,url_1=requireUrl();class Engine{constructor(r){this.pendingRequests=new Map,this.disconnectListener=[],this.connectionManager=r,(0,log_1.getDefaultReporter)().beginReport(),this.connectionManager.addListener("sdk_response",(d,g)=>{var m=(0,safejson_1.safeJsonParse)(g);(0,log_1.logDebug)(`Engine ==>> addListener ==> success ==> ${m}`),this.handleResponse(d,m)},function(){})}addDisconnectListener(r){this.disconnectListener.push(r)}setSessionConnectingListener(r){this.sessionConnectingListener=r}disconnect(){(0,log_1.logDebug)("Engine ==>> disconnect"),this.pendingRequests.clear()}getRequestId(){const r=Date.now().toString();return(0,log_1.logDebug)("Engine ==>> getRequestId ==>",r),r}bindRequestForPromise(r,d){this.pendingRequests.set(r,d)}send(r,d,g,m){return __awaiter$k(this,void 0,void 0,function*(){(0,log_1.logDebug)("Engine ==>> send  request==>",JSON.stringify(r));const v=this.getRequestId();try{let _=yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({},r),{requestId:v})),m);this.connectionManager.events.once(_.toString(),y=>{var x;(0,log_1.logDebug)(`Engine ==> send => onAck => ${(0,safejson_1.safeJsonStringify)(y)}`),y&&y.result&&((x=d.onAck)===null||x===void 0||x.call(d))}),d.resolve&&this.bindRequestForPromise(v,d.resolve)}catch(_){return Promise.reject(_)}})}sendSession(r){return __awaiter$k(this,void 0,void 0,function*(){(0,log_1.logDebug)("[Connect] sendSession called:",r);const d=this.getRequestId();let g={method:"session_info",params:{sessionInfo:r}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},g),{requestId:d})))})}handleResponse(r,d){if((0,log_1.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,safejson_1.safeJsonStringify)(d)}`,r),"requestId"in d){(0,log_1.logDebug)("Engine ==>> handleResponse_2  ===> in response");let g=d.requestId;const m=this.pendingRequests.get(g);m?((0,log_1.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",m),m(d),this.pendingRequests.delete(g)):((0,log_1.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),d.method==="disconnect"?(this.disconnectListener.forEach(v=>v()),this.disconnectListener=[],this.disconnect()):d.method==="session_connecting"&&((0,log_1.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,log_1.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0)))}}restoreconnect(r,d){return __awaiter$k(this,void 0,void 0,function*(){var g;yield(g=this.connectionManager)===null||g===void 0?void 0:g.restoreConnect(r.topic),d(r)})}conect(r,d,g){return __awaiter$k(this,void 0,void 0,function*(){var m,v;const _=this.connectionManager.getConnectInfo(),y=this.getRequestId();let x=(m=d.openUniversalUrl)!==null&&m!==void 0?m:!1;const E={protocolVer:Number(protocol_1.tonConnectSdkVersion),topic:_.channelId,clientId:_.clientId,requestId:y,dAppInfo:d.dappInfo,requests:r},b=JSON.stringify(E),C=new TextEncoder().encode(b),R=btoa(String.fromCharCode(...C)),O=`${protocol_1.standardDeeplink}?param=${R}`;(0,log_1.logDebug)("engine ==>> connect ==>>deeplinkUrl:",O);const A=(0,utils_2.isIos)();(0,log_1.logDebug)(`engine ==>> connect ==>>isIOS: ${A}   openUniversalLink: ${x}`),A&&x&&((0,log_1.logDebug)("bridge-provider ==>> connect_3"),(0,utils_1$9.openOKXDeeplinkWithFallback)(O)),yield(v=this.connectionManager)===null||v===void 0?void 0:v.disconnect(!1),this.bindRequestForPromise(y,M=>{let P=this.onConnect(M,d,_.channelId);g(P,M)});try{yield this.connectionManager.connect()}catch(M){throw(0,log_1.logDebug)("Engine conect error",M),M}return!A&&x&&((0,log_1.logDebug)("bridge-provider ==>> connect_4"),(0,utils_1$9.openOKXDeeplinkWithFallback)(O)),{connectInfo:_,deeplinkUrl:(0,utils_1$9.getUniversalLink)(O)}})}onConnect(r,d,g){if(r.method=="connect"){let m=(0,sessionUtils_1.buildNameSpacesByConnectResponse)(r);if(m)return{topic:g,sessionConfig:d,namespaces:m}}return null}universalConnect(r,d,g){return __awaiter$k(this,void 0,void 0,function*(){return new Promise((m,v)=>__awaiter$k(this,void 0,void 0,function*(){var _,y,x,E,b;try{(0,log_1.logDebug)("engine universalConnect request :",JSON.stringify(r)),(0,log_1.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(d));let R=[],O=[];r.forEach(re=>{let ne=re.name;ne.startsWith("requestAccounts")?O.push(re):ne.startsWith("ton")&&R.push(re)}),(0,log_1.logDebug)("engine universalConnect tonRequest :",JSON.stringify(R)),(0,log_1.logDebug)("engine universalConnect universalRequest :",JSON.stringify(O));const A=this.connectionManager.getConnectInfo(),M=this.getRequestId();let P=(_=d.openUniversalUrl)!==null&&_!==void 0?_:!1;const F={protocolVer:Number(protocol_1.tonConnectSdkVersion),topic:A.channelId,clientId:A.clientId,requestId:M,dAppInfo:d.dappInfo,requests:O,redirect:(y=d==null?void 0:d.redirect)!==null&&y!==void 0?y:"none"},L=(0,url_1.encodeConnectParams)(F);F.redirect=(x=d==null?void 0:d.redirect)!==null&&x!==void 0?x:"none";const K={protocolVer:Number(protocol_1.tonConnectSdkVersion),topic:A.channelId,clientId:A.clientId,requestId:M,dAppInfo:d.dappInfo,requests:R,redirect:(E=d==null?void 0:d.redirect)!==null&&E!==void 0?E:"none"};let j=!1;R.length>0&&(j=!0);let W=j?K:F;(0,log_1.logDebug)("engine universalConnect ==>>defaultConnectRequest:",j,JSON.stringify(W));var C="";P&&(C=(0,url_1.getOKXLink)(W,d.useMini,d.tmaReturnUrl),(0,log_1.logDebug)("engine universalConnect ==>>openOKXLink:",C));const G=()=>d.useMini?(0,url_1.openOKXTMAWalletlinkWithFallback)(C):(0,utils_1$9.useShortLink)()?(0,utils_1$9.openOKXUniversalLink)(C):(0,utils_1$9.openOKXDeeplinkWithFallback)(C);(0,log_1.logDebug)("engine universalConnect ==>>openOKXLink:",C);const Q=(0,utils_2.isIos)();Q&&P&&((0,log_1.logDebug)(`engine universalConnect ==>>isIOS: ${Q}   openUniversalLink: ${P}`),G()),yield(b=this.connectionManager)===null||b===void 0?void 0:b.disconnect(!1),this.bindRequestForPromise(M,re=>{var ne,ie,z,T;try{let D=re;if(D.method=="connect"){(0,log_1.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(D));let w=(0,sessionUtils_1.buildNameSpacesByConnectResponse)(D);if(w){let S;!((ie=(ne=D.payload)===null||ne===void 0?void 0:ne.responses)===null||ie===void 0)&&ie[0]&&"walletName"in D.payload.responses[0]&&(S=D.payload.responses[0].walletName);let $={topic:A.channelId,sessionConfig:d,namespaces:w,wallet:Object.assign(Object.assign({},(z=D.payload)===null||z===void 0?void 0:z.wallet),{walletName:S})},N=D.payload.responses.find(k=>k.name==="requestAccounts");N&&N.connectRequestMethods&&($.signResponse=N.connectRequestMethods),(0,log_1.logDebug)("engin  universalConnect success session:>>>",JSON.stringify($)),m($)}else throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}else if(D.method=="connect_error"&&(!((T=D.payload)===null||T===void 0)&&T.code))throw new protocol_1.OKXConnectError(D.payload.code)}catch(D){v(D)}});try{yield this.connectionManager.connect()}catch(re){throw(0,log_1.logDebug)("Engine universalConnect error",re),re}if(!Q&&P&&G(),(0,log_1.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",g),this.sendSession(L),g){const re={connectRequest:F,redirect:d.redirect,tmaReturnUrl:d.tmaReturnUrl};j&&(re.tonConnectRequest=K),(0,log_1.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(re)),g(re)}}catch(R){(0,log_1.logDebug)("Engine universalConnect catch error",R),v(R)}}))})}}engine.Engine=Engine;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Storage=f.Engine=f.WalletConnectionManager=f.ConnectionManager=f.OKXWalletConnector=void 0;var r=connect$1;Object.defineProperty(f,"OKXWalletConnector",{enumerable:!0,get:function(){return r.OKXWalletConnector}});var d=connectionManager;Object.defineProperty(f,"ConnectionManager",{enumerable:!0,get:function(){return d.ConnectionManager}});var g=walletConnectionManager;Object.defineProperty(f,"WalletConnectionManager",{enumerable:!0,get:function(){return g.WalletConnectionManager}});var m=engine;Object.defineProperty(f,"Engine",{enumerable:!0,get:function(){return m.Engine}});var v=storage;Object.defineProperty(f,"Storage",{enumerable:!0,get:function(){return v.Storage}})})(connect$2);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,m,v,_){_===void 0&&(_=v);var y=Object.getOwnPropertyDescriptor(m,v);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(g,_,y)}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,m){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&r(m,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(connect$2,f),d(protocol,f),d(requireUtils$1(),f)})(src$6);var src$3={},okxConnectTon={},okxConnectTonInner={},bridgeProvider={},bridgeConnection={};Object.defineProperty(bridgeConnection,"__esModule",{value:!0});bridgeConnection.isPendingConnectionHttp=isPendingConnectionHttp;function isPendingConnectionHttp(f){return!("connectEvent"in f)}var bridgeConnectionStorage={},__awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(bridgeConnectionStorage,"__esModule",{value:!0});bridgeConnectionStorage.BridgeConnectionStorage=void 0;const core_1$l=src$6;class BridgeConnectionStorage{constructor(r){this.storage=r,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(r){return __awaiter$j(this,void 0,void 0,function*(){return(0,core_1$l.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",r),this.storage.saveContent(JSON.stringify(r),this.storeKey)})}removeConnection(){return __awaiter$j(this,void 0,void 0,function*(){return(0,core_1$l.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)})}getConnection(){return __awaiter$j(this,void 0,void 0,function*(){const r=this.storage.getItem(this.storeKey);if((0,core_1$l.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!r||!(r!=null&&r.content))return null;try{const d=r==null?void 0:r.content;if(d){let g;return g=JSON.parse(d),(0,core_1$l.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",g),g}else return null}catch{return null}})}getHttpConnection(){return __awaiter$j(this,void 0,void 0,function*(){const r=yield this.getConnection();if(!r)throw new core_1$l.OKXConnectError(core_1$l.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return r})}storeLastWalletEventId(r){return __awaiter$j(this,void 0,void 0,function*(){const d=yield this.getConnection();if(d&&"connectEvent"in d)return d.lastWalletEventId=r,this.storeConnection(d)})}getLastWalletEventId(){return __awaiter$j(this,void 0,void 0,function*(){const r=yield this.getConnection();if(r&&"lastWalletEventId"in r)return r.lastWalletEventId})}}bridgeConnectionStorage.BridgeConnectionStorage=BridgeConnectionStorage;var constants$1={};Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.OKXCONNECTOR_TON_KEY=constants$1.OKXtonConnectSdkVersion=void 0;constants$1.OKXtonConnectSdkVersion="1";constants$1.OKXCONNECTOR_TON_KEY="OKXStorage_ctc";var tonConnectTracker={},types$1={};Object.defineProperty(types$1,"__esModule",{value:!0});types$1.createRequestVersionEvent=createRequestVersionEvent;types$1.createResponseVersionEvent=createResponseVersionEvent;types$1.createVersionInfo=createVersionInfo;types$1.createConnectionStartedEvent=createConnectionStartedEvent;types$1.createConnectionDeepLinkEvent=createConnectionDeepLinkEvent;types$1.createConnectionInfoBeforeJumpEvent=createConnectionInfoBeforeJumpEvent;types$1.createConnectionCompletedEvent=createConnectionCompletedEvent;types$1.createConnectionErrorEvent=createConnectionErrorEvent;types$1.createConnectionRestoringStartedEvent=createConnectionRestoringStartedEvent;types$1.createConnectionRestoringCompletedEvent=createConnectionRestoringCompletedEvent;types$1.createConnectionRestoringErrorEvent=createConnectionRestoringErrorEvent;types$1.createTransactionSentForSignatureEvent=createTransactionSentForSignatureEvent;types$1.createTransactionSignedEvent=createTransactionSignedEvent;types$1.createTransactionSigningFailedEvent=createTransactionSigningFailedEvent;types$1.createDisconnectionEvent=createDisconnectionEvent;function createRequestVersionEvent(){return{type:"request-version"}}function createResponseVersionEvent(f){return{type:"response-version",version:f}}function createVersionInfo(f){return{okx_ton_connect_sdk_lib:f.okx_ton_connect_sdk_lib,okx_connect_ui_lib:f.okx_connect_ui_lib}}function createConnectionInfo(f,r){var d,g,m,v,_,y,x,E;const C=((d=r==null?void 0:r.connectItems)===null||d===void 0?void 0:d.tonProof)&&"proof"in r.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(m=(g=r==null?void 0:r.account)===null||g===void 0?void 0:g.address)!==null&&m!==void 0?m:null,wallet_type:(v=r==null?void 0:r.device.appName)!==null&&v!==void 0?v:null,wallet_version:(_=r==null?void 0:r.device.appVersion)!==null&&_!==void 0?_:null,auth_type:C,custom_data:Object.assign({chain_id:(x=(y=r==null?void 0:r.account)===null||y===void 0?void 0:y.chain)!==null&&x!==void 0?x:null,provider:(E=r==null?void 0:r.provider)!==null&&E!==void 0?E:null},createVersionInfo(f))}}function createConnectionStartedEvent(f){return{type:"connection-started",custom_data:createVersionInfo(f)}}function createConnectionDeepLinkEvent(f){return{type:"connection-get-deeplink",deeplinkUrl:f}}function createConnectionInfoBeforeJumpEvent(f){return{type:"connection-info-before-jump",connectInfo:f}}function createConnectionCompletedEvent(f,r){return Object.assign({type:"connection-completed",is_success:!0},createConnectionInfo(f,r))}function createConnectionErrorEvent(f,r,d){return{type:"connection-error",is_success:!1,error_message:r,error_code:d??null,custom_data:createVersionInfo(f)}}function createConnectionRestoringStartedEvent(f){return{type:"connection-restoring-started",custom_data:createVersionInfo(f)}}function createConnectionRestoringCompletedEvent(f,r){return Object.assign({type:"connection-restoring-completed",is_success:!0},createConnectionInfo(f,r))}function createConnectionRestoringErrorEvent(f,r){return{type:"connection-restoring-error",is_success:!1,error_message:r,custom_data:createVersionInfo(f)}}function createTransactionInfo(f,r){var d,g,m,v;return{valid_until:(d=String(r.validUntil))!==null&&d!==void 0?d:null,from:(v=(g=r.from)!==null&&g!==void 0?g:(m=f==null?void 0:f.account)===null||m===void 0?void 0:m.address)!==null&&v!==void 0?v:null,messages:r.messages.map(_=>{var y,x;return{address:(y=_.address)!==null&&y!==void 0?y:null,amount:(x=_.amount)!==null&&x!==void 0?x:null}})}}function createTransactionSentForSignatureEvent(f,r,d){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},createConnectionInfo(f,r)),createTransactionInfo(r,d))}function createTransactionSignedEvent(f,r,d,g){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:g.boc},createConnectionInfo(f,r)),createTransactionInfo(r,d))}function createTransactionSigningFailedEvent(f,r,d,g,m){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:g,error_code:m??null},createConnectionInfo(f,r)),createTransactionInfo(r,d))}function createDisconnectionEvent(f,r,d){return Object.assign({type:"disconnection",scope:d},createConnectionInfo(f,r))}var browserEventDispatcher={},__awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(browserEventDispatcher,"__esModule",{value:!0});browserEventDispatcher.BrowserEventDispatcher=void 0;class BrowserEventDispatcher{constructor(){this.window=window}dispatchEvent(r,d){return __awaiter$i(this,void 0,void 0,function*(){var g;const m=new CustomEvent(r,{detail:d});(g=this.window)===null||g===void 0||g.dispatchEvent(m)})}addEventListener(r,d,g){return __awaiter$i(this,void 0,void 0,function*(){var m;return(m=this.window)===null||m===void 0||m.addEventListener(r,d,g),()=>{var v;return(v=this.window)===null||v===void 0?void 0:v.removeEventListener(r,d)}})}}browserEventDispatcher.BrowserEventDispatcher=BrowserEventDispatcher;var __awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(tonConnectTracker,"__esModule",{value:!0});tonConnectTracker.TonConnectTracker=void 0;const types_1$1=types$1,browser_event_dispatcher_1=browserEventDispatcher;class TonConnectTracker{get version(){return(0,types_1$1.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(r){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new browser_event_dispatcher_1.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=r.OKXtonConnectSdkVersion,this.init().catch()}init(){return __awaiter$h(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return __awaiter$h(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",()=>__awaiter$h(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,types_1$1.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return __awaiter$h(this,void 0,void 0,function*(){return new Promise((r,d)=>__awaiter$h(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",g=>{r(g.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,types_1$1.createRequestVersionEvent)())}catch(g){d(g)}}))})}dispatchUserActionEvent(r){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${r.type}`,r).catch()}catch{}}trackConnectionStarted(...r){try{const d=(0,types_1$1.createConnectionStartedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionDeepLink(...r){try{const d=(0,types_1$1.createConnectionDeepLinkEvent)(...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionCompleted(...r){try{const d=(0,types_1$1.createConnectionCompletedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionInfoBeforeJump(r){try{const d=(0,types_1$1.createConnectionInfoBeforeJumpEvent)(r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionError(...r){try{const d=(0,types_1$1.createConnectionErrorEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionRestoringStarted(...r){try{const d=(0,types_1$1.createConnectionRestoringStartedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionRestoringCompleted(...r){try{const d=(0,types_1$1.createConnectionRestoringCompletedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionRestoringError(...r){try{const d=(0,types_1$1.createConnectionRestoringErrorEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackDisconnection(...r){try{const d=(0,types_1$1.createDisconnectionEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackTransactionSentForSignature(...r){try{const d=(0,types_1$1.createTransactionSentForSignatureEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackTransactionSigned(...r){try{const d=(0,types_1$1.createTransactionSignedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackTransactionSigningFailed(...r){try{const d=(0,types_1$1.createTransactionSigningFailedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}}tonConnectTracker.TonConnectTracker=TonConnectTracker;var __awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(bridgeProvider,"__esModule",{value:!0});bridgeProvider.BridgeProvider=void 0;const bridge_connection_1=bridgeConnection,core_1$k=src$6,bridge_connection_storage_1$1=bridgeConnectionStorage,constants_1$b=constants$1,ton_connect_tracker_1$1=tonConnectTracker;class BridgeProvider{constructor(r,d=void 0){this.storage=r,this.type="http",this.listeners=[],this.walletConnectionSource={universalLink:core_1$k.standardUniversalLink},this.openUniversalLink=!1,this.connectManager=new core_1$k.ConnectionManager(d),this.engine=new core_1$k.Engine(this.connectManager),this.connectionStorage=new bridge_connection_storage_1$1.BridgeConnectionStorage(r),this.tracker=new ton_connect_tracker_1$1.TonConnectTracker({OKXtonConnectSdkVersion:constants_1$b.OKXtonConnectSdkVersion}),(0,core_1$k.getDefaultReporter)().configVersionAndSide("tonsdk-1.5.2","dapp",d)}static fromStorage(r){return __awaiter$g(this,arguments,void 0,function*(d,g=void 0){(0,core_1$k.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",d),(0,core_1$k.reportLog)("bridge-provider ==>> fromStorage");const v=yield new bridge_connection_storage_1$1.BridgeConnectionStorage(d).getHttpConnection();if((0,bridge_connection_1.isPendingConnectionHttp)(v))return null;const _=new BridgeProvider(d,g);return _.openUniversalLink=v.openUniversalLink,_})}connect(r,d,g,m){return __awaiter$g(this,void 0,void 0,function*(){return(0,core_1$k.logDebug)("bridge-provider ==>> connect_1 ==>>message:",r),(0,core_1$k.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",d),(0,core_1$k.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",g),(0,core_1$k.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",m),(0,core_1$k.reportLog)("bridge-provider ==>> connect"),new Promise((v,_)=>{try{this.openUniversalLink=g,this.openUniversalLink===void 0&&(this.openUniversalLink=(0,core_1$k.isMobileUserAgent)());let x={name:"requestAccounts",requiredNamespaces:[{namespace:"ton",chains:["ton:-239"],params:r.params}]},E=[];r.params.ton_addr&&E.push(r.params.ton_addr),r.params.ton_proof&&E.push(r.params.ton_proof),E.push(x);let b={dappInfo:r.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:d,tmaReturnUrl:m};this.engine.universalConnect(E,b,C=>{(0,core_1$k.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(C)}`);try{if(!C.tonConnectRequest)throw new core_1$k.OKXConnectError(core_1$k.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"universalConnect connectInfoAndUrl info.tonConnectRequest is nil");const R=(0,core_1$k.encodeConnectParams)(C.tonConnectRequest),O=(0,core_1$k.getAppWalletDeepLink)(R),A=(0,core_1$k.getUniversalLink)(O);this.tracker.trackConnectionInfoBeforeJump(C),v(A)}catch(R){_(R)}}).then(C=>{(0,core_1$k.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(C)}`),this.connectSuccessHandle(C)}).catch(C=>{(0,core_1$k.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(C)}`);const R={event:"connect_error",requestId:Number(Date.now()),payload:{code:C.code,message:C.message}};(0,core_1$k.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",R),this.listeners.forEach(O=>O(R)),_(C)})}catch(y){console.error("bridge-provider connect try catch error:>>>",JSON.stringify(y)),_(y)}})})}listen(r){return this.listeners.push(r),()=>this.listeners=this.listeners.filter(d=>d!==r)}disconnectListener(){return __awaiter$g(this,void 0,void 0,function*(){(0,core_1$k.logDebug)("bridge-provider ==>> disconnectListener"),(0,core_1$k.reportLog)("bridge-provider ==>> disconnectListener");const r={event:"disconnect",requestId:1,payload:{}};this.listeners.forEach(d=>d(r)),yield this.closeConnection()})}connectSuccessHandle(r){return __awaiter$g(this,void 0,void 0,function*(){var d,g;try{const m=(d=r.namespaces)===null||d===void 0?void 0:d.ton,v=m.payload,_=r.wallet;if(!m||!v||!_||!v.ton_addr)throw new core_1$k.OKXConnectError(core_1$k.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);const y=v.ton_addr,x=r.sessionConfig;let E=[];v.ton_addr&&E.push(v.ton_addr),v.ton_proof&&E.push(v.ton_proof);const b={platform:_.platform,appName:_.appName,appVersion:_.appVersion,maxProtocolVersion:_.maxProtocolVersion,features:["ton_sendTransaction"]},C={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:E,device:b}},connectionSource:this.walletConnectionSource,channelId:r.topic,openUniversalLink:x==null?void 0:x.openUniversalUrl};(0,core_1$k.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",C),yield this.connectionStorage.storeConnection(C),(g=this.engine)===null||g===void 0||g.addDisconnectListener(this.disconnectListener.bind(this));const R={event:"connect",requestId:C.lastWalletEventId,payload:C.connectEvent.payload};(0,core_1$k.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",R),this.listeners.forEach(O=>O(R))}catch(m){(0,core_1$k.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",m);const v={event:"connect_error",requestId:Number(Date.now()),payload:{code:core_1$k.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,core_1$k.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",v),this.listeners.forEach(_=>_(v))}})}closeConnection(){return __awaiter$g(this,arguments,void 0,function*(r=!1,d=!1){var g,m;(0,core_1$k.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",r," needOpenUrl:",d),(0,core_1$k.reportLog)("bridge-provider ==>> closeConnection"),this.listeners=[],d||(yield(g=this.connectManager)===null||g===void 0?void 0:g.disconnect(r)),r||((m=this.engine)===null||m===void 0||m.disconnect(),yield this.connectionStorage.removeConnection())})}restoreConnection(){return __awaiter$g(this,void 0,void 0,function*(){var r;(0,core_1$k.logDebug)("bridge-provider ==>> restoreConnection_1"),(0,core_1$k.reportLog)("bridge-provider ==>> restoreConnection");const d=yield this.connectionStorage.getHttpConnection();if(d&&!(0,bridge_connection_1.isPendingConnectionHttp)(d))if((0,core_1$k.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",d.channelId),d.channelId)try{const g={event:"connect",requestId:0,payload:d.connectEvent.payload};this.listeners.forEach(v=>v(g));const m=d.channelId;(0,core_1$k.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.connectManager.restoreConnect:",m),(r=this.engine)===null||r===void 0||r.addDisconnectListener(this.disconnectListener.bind(this)),yield this.connectManager.restoreConnect(m)}catch{(0,core_1$k.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,core_1$k.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()})}openOKXWallet(){(0,core_1$k.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),(0,core_1$k.reportLog)("bridge-provider ==>> openOKXWallet"),this.openUniversalLink&&(0,core_1$k.openOKXDeeplink)(core_1$k.standardDeeplink)}disconnect(){return __awaiter$g(this,void 0,void 0,function*(){return(0,core_1$k.logDebug)("bridge-provider ==>> disconnect_1"),(0,core_1$k.reportLog)("bridge-provider ==>> disconnect"),new Promise(r=>__awaiter$g(this,void 0,void 0,function*(){let d=!1;const g=()=>{d||(d=!0,this.closeConnection().then(r))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:g,attempts:1})}catch{d||this.closeConnection().then(r)}finally{g()}}))})}sendRequest(r,d,g){return(0,core_1$k.logDebug)("bridge-provider ==>> sendRequest"),(0,core_1$k.reportLog)("bridge-provider ==>> sendRequest"),new Promise((m,v)=>__awaiter$g(this,void 0,void 0,function*(){var _;try{yield(_=this.engine)===null||_===void 0?void 0:_.send(r,{resolve:function(y){m(y)},onAck:function(){var y;(y=d==null?void 0:d.onRequestSent)===null||y===void 0||y.call(d)}},{attempts:d==null?void 0:d.attempts},g)}catch(y){v(y)}}))}}bridgeProvider.BridgeProvider=BridgeProvider;var featureSupport={};Object.defineProperty(featureSupport,"__esModule",{value:!0});featureSupport.checkSendTransactionSupport=checkSendTransactionSupport;const core_1$j=src$6;function checkSendTransactionSupport(f,r){if(!f.includes("ton_sendTransaction"))throw new core_1$j.OKXConnectError(core_1$j.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<r.requiredMessagesNumber)throw new core_1$j.OKXConnectError(core_1$j.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${r.requiredMessagesNumber} is required.`)}var sendTransactionParser={},rpcParser={};Object.defineProperty(rpcParser,"__esModule",{value:!0});rpcParser.RpcParser=void 0;class RpcParser{isError(r){return"error"in r}}rpcParser.RpcParser=RpcParser;var __rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(f,r){var d={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&r.indexOf(g)<0&&(d[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,g=Object.getOwnPropertySymbols(f);m<g.length;m++)r.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(f,g[m])&&(d[g[m]]=f[g[m]]);return d};Object.defineProperty(sendTransactionParser,"__esModule",{value:!0});sendTransactionParser.sendTransactionParser=void 0;const rpc_parser_1=rpcParser;class SendTransactionParser extends rpc_parser_1.RpcParser{convertToRpcRequest(r){const{redirect:d}=r,g=__rest$2(r,["redirect"]);return{method:"ton_sendTransaction",redirect:d,params:g}}convertFromRpcResponse(r){return{boc:r.result.toString()}}}sendTransactionParser.sendTransactionParser=new SendTransactionParser;var __awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(f,r){var d={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&r.indexOf(g)<0&&(d[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,g=Object.getOwnPropertySymbols(f);m<g.length;m++)r.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(f,g[m])&&(d[g[m]]=f[g[m]]);return d};Object.defineProperty(okxConnectTonInner,"__esModule",{value:!0});okxConnectTonInner.OKXTonConnectInner=void 0;const bridge_provider_1=bridgeProvider,core_1$i=src$6,feature_support_1=featureSupport,ton_connect_tracker_1=tonConnectTracker,send_transaction_parser_1=sendTransactionParser,bridge_connection_storage_1=bridgeConnectionStorage,constants_1$a=constants$1;class OKXTonConnectInner{constructor(r){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.openUniversalLink=this.provider?this.provider.openUniversalLink:!1,(0,core_1$i.checkMetaData)(r.metaData),!r.metaData)throw(0,core_1$i.logDebug)("OKXTonConnect constructor error: options.metaData is nil"),new core_1$i.OKXConnectError(core_1$i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");(0,core_1$i.logDebug)("OKXTonConnect constructor options:",JSON.stringify(r)),this.dappSettings={metaData:Object.assign(Object.assign({},r.metaData),{url:window.location.hostname,origin:window.location.origin})},this.tracker=new ton_connect_tracker_1.TonConnectTracker({OKXtonConnectSdkVersion:constants_1$a.OKXtonConnectSdkVersion}),this.storage=new core_1$i.Storage(constants_1$a.OKXCONNECTOR_TON_KEY+this.dappSettings.metaData.name,constants_1$a.OKXCONNECTOR_TON_KEY),this.bridgeConnectionStorage=new bridge_connection_storage_1.BridgeConnectionStorage(this.storage)}get connected(){return this._wallet!==null}get account(){var r;return((r=this._wallet)===null||r===void 0?void 0:r.account)||null}get wallet(){return this._wallet}set wallet(r){this._wallet=r,this.statusChangeSubscriptions.forEach(d=>d(this._wallet))}connect(r){return __awaiter$f(this,void 0,void 0,function*(){var d;return(0,core_1$i.logDebug)("ton-Connect ==>> connect_1 >> request:",r),this.connected&&(0,core_1$i.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield(d=this.provider)===null||d===void 0?void 0:d.closeConnection(!1,!0),this.provider||(this.provider=new bridge_provider_1.BridgeProvider(this.storage,this.dappSettings.metaData.name)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(r),r==null?void 0:r.redirect,r==null?void 0:r.openUniversalLink,r==null?void 0:r.tmaReturnUrl)})}walletEventsListener(r){switch((0,core_1$i.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",r),r.event){case"connect":this.onWalletConnected(r.payload);break;case"connect_error":this.onWalletConnectError(r.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(r){(0,core_1$i.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",r);const d=r.items.find(v=>v.name==="ton_addr"),g=r.items.find(v=>v.name==="ton_proof");if(!d)throw new core_1$i.OKXConnectError(core_1$i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");const m={device:r.device,provider:this.provider.type,account:{address:d.address,chain:d.network,walletStateInit:d.walletStateInit,publicKey:d.publicKey}};g&&(m.connectItems={tonProof:g}),this.wallet=m,(0,core_1$i.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",m),this.tracker.trackConnectionCompleted(m)}onWalletConnectError(r){var d;(0,core_1$i.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",r);const g=new core_1$i.OKXConnectError(r.code,r.message);(0,core_1$i.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",g),this.statusChangeErrorSubscriptions.forEach(m=>m(g)),this.tracker.trackConnectionError((d=r.message)!==null&&d!==void 0?d:"",r.code)}onWalletDisconnected(r){this.tracker.trackDisconnection(this.wallet,r),this.wallet=null}disconnect(){return __awaiter$f(this,void 0,void 0,function*(){var r;if((0,core_1$i.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new core_1$i.OKXConnectError(core_1$i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,core_1$i.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield(r=this.provider)===null||r===void 0?void 0:r.disconnect()})}onStatusChange(r,d){return this.statusChangeSubscriptions.push(r),d&&this.statusChangeErrorSubscriptions.push(d),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(g=>g!==r),d&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(g=>g!==d))}}restoreConnection(){return __awaiter$f(this,void 0,void 0,function*(){var r;(0,core_1$i.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let d=null;try{d=yield bridge_provider_1.BridgeProvider.fromStorage(this.storage,this.dappSettings.metaData.name)}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),d==null||d.closeConnection(),d=null;return}if(!d){(0,core_1$i.logError)("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(0,core_1$i.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),(r=this.provider)===null||r===void 0||r.closeConnection(!0,!1),this.provider=d,d.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")})}sendTransaction(r,d){return __awaiter$f(this,void 0,void 0,function*(){var g;(0,core_1$i.logDebug)("ton-Connect ==>> sendTransaction_1",r),this.checkConnection(),(0,feature_support_1.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:r.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,r),(0,core_1$i.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");const{validUntil:m}=r,v=__rest$1(r,["validUntil"]),_=r.from||this.account.address;let y=this.account.chain;(0,core_1$i.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",y),(0,core_1$i.isIos)()&&!(d!=null&&d.doNotOpenWallet)&&((g=this.provider)===null||g===void 0||g.openOKXWallet());const x=yield this.provider.sendRequest(send_transaction_parser_1.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},v),{valid_until:m,from:_,network:y})),{onRequestSent:()=>{var b,C;!(0,core_1$i.isIos)()&&!(d!=null&&d.doNotOpenWallet)&&((b=this.provider)===null||b===void 0||b.openOKXWallet()),(C=d==null?void 0:d.onRequestSent)===null||C===void 0||C.call(d)}});if((0,core_1$i.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",x),send_transaction_parser_1.sendTransactionParser.isError(x))throw this.tracker.trackTransactionSigningFailed(this.wallet,r,x.error.message,x.error.code),new core_1$i.OKXConnectError(x.error.code,x.error.message);const E=send_transaction_parser_1.sendTransactionParser.convertFromRpcResponse(x);return this.tracker.trackTransactionSigned(this.wallet,r,E),E})}checkConnection(){if((0,core_1$i.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new core_1$i.OKXConnectError(core_1$i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(r){(0,core_1$i.logDebug)("ton-Connect ==>> createConnectRequest");const d={ton_addr:{name:"ton_addr"}};return r!=null&&r.tonProof&&(d.ton_proof={name:"ton_proof",payload:r.tonProof}),{dappInfo:this.dappSettings.metaData,params:d}}static getWallets(){return this.walletsList}}okxConnectTonInner.OKXTonConnectInner=OKXTonConnectInner;OKXTonConnectInner.walletsList=[(0,core_1$i.creatOKXWalletInfo)()];var __awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(okxConnectTon,"__esModule",{value:!0});okxConnectTon.OKXTonConnect=void 0;const core_1$h=src$6,okx_connect_ton_inner_1=okxConnectTonInner;class OKXTonConnect{constructor(r){try{(0,core_1$h.logDebug)("OKXTonConnect constructor called"),window&&window.okxConnectTonsdkinwindow&&window.okxConnectTonsdkinwindow instanceof okx_connect_ton_inner_1.OKXTonConnectInner?(this.tonInner=window.okxConnectTonsdkinwindow,(0,core_1$h.logDebug)("OKXTonConnect constructor old called")):(this.tonInner=new okx_connect_ton_inner_1.OKXTonConnectInner(r),(0,core_1$h.logDebug)("OKXTonConnect constructor new called"),window&&(window.okxConnectTonsdkinwindow=this.tonInner))}catch(d){throw d}}get connected(){return this.tonInner.connected}get openUniversalLink(){return this.tonInner.openUniversalLink}get provider(){return this.tonInner.provider}get account(){return this.tonInner.account}get wallet(){return this.tonInner.wallet}set wallet(r){this.tonInner.wallet=r}connect(r){return __awaiter$e(this,void 0,void 0,function*(){return this.tonInner.connect(r)})}disconnect(){return __awaiter$e(this,void 0,void 0,function*(){return this.tonInner.disconnect()})}onStatusChange(r,d){return this.tonInner.onStatusChange(r,d)}restoreConnection(){return __awaiter$e(this,void 0,void 0,function*(){return this.tonInner.restoreConnection()})}sendTransaction(r,d){return __awaiter$e(this,void 0,void 0,function*(){return this.tonInner.sendTransaction(r,d)})}static getWallets(){return okx_connect_ton_inner_1.OKXTonConnectInner.getWallets()}}okxConnectTon.OKXTonConnect=OKXTonConnect;var tracker={},trackerConstants={};Object.defineProperty(trackerConstants,"__esModule",{value:!0});trackerConstants.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var OKX_TON_CONNECTION_AND_TRANSACTION_EVENT;(function(f){f.OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",f.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",f.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",f.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",f.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",f.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",f.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",f.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",f.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",f.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"})(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT||(trackerConstants.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=OKX_TON_CONNECTION_AND_TRANSACTION_EVENT={}));(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.BrowserEventDispatcher=f.createVersionInfo=f.createTransactionSigningFailedEvent=f.createTransactionSignedEvent=f.createTransactionSentForSignatureEvent=f.createDisconnectionEvent=f.createConnectionStartedEvent=f.createConnectionRestoringStartedEvent=f.createConnectionRestoringErrorEvent=f.createConnectionRestoringCompletedEvent=f.createConnectionErrorEvent=f.createConnectionCompletedEvent=f.createResponseVersionEvent=f.createRequestVersionEvent=f.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var r=trackerConstants;Object.defineProperty(f,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return r.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var d=types$1;Object.defineProperty(f,"createRequestVersionEvent",{enumerable:!0,get:function(){return d.createRequestVersionEvent}}),Object.defineProperty(f,"createResponseVersionEvent",{enumerable:!0,get:function(){return d.createResponseVersionEvent}}),Object.defineProperty(f,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return d.createConnectionCompletedEvent}}),Object.defineProperty(f,"createConnectionErrorEvent",{enumerable:!0,get:function(){return d.createConnectionErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return d.createConnectionRestoringCompletedEvent}}),Object.defineProperty(f,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return d.createConnectionRestoringErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return d.createConnectionRestoringStartedEvent}}),Object.defineProperty(f,"createConnectionStartedEvent",{enumerable:!0,get:function(){return d.createConnectionStartedEvent}}),Object.defineProperty(f,"createDisconnectionEvent",{enumerable:!0,get:function(){return d.createDisconnectionEvent}}),Object.defineProperty(f,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return d.createTransactionSentForSignatureEvent}}),Object.defineProperty(f,"createTransactionSignedEvent",{enumerable:!0,get:function(){return d.createTransactionSignedEvent}}),Object.defineProperty(f,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return d.createTransactionSigningFailedEvent}}),Object.defineProperty(f,"createVersionInfo",{enumerable:!0,get:function(){return d.createVersionInfo}});var g=browserEventDispatcher;Object.defineProperty(f,"BrowserEventDispatcher",{enumerable:!0,get:function(){return g.BrowserEventDispatcher}})})(tracker);var utils$2={},url={};Object.defineProperty(url,"__esModule",{value:!0});url.removeUrlLastSlash=removeUrlLastSlash;url.addPathToUrl=addPathToUrl;function removeUrlLastSlash(f){return f.slice(-1)==="/"?f.slice(0,-1):f}function addPathToUrl(f,r){return removeUrlLastSlash(f)+"/"+r}var address={};Object.defineProperty(address,"__esModule",{value:!0});address.toUserFriendlyAddress=toUserFriendlyAddress;const core_1$g=src$6,noBounceableTag=81,testOnlyTag=128;function toUserFriendlyAddress(f,r=!1){const{wc:d,hex:g}=parseHexAddress(f);let m=noBounceableTag;r&&(m|=testOnlyTag);const v=new Int8Array(34);v[0]=m,v[1]=d,v.set(g,2);const _=new Uint8Array(36);return _.set(v),_.set(crc16(v),34),(0,core_1$g.base64encode)(_,!1).replace(/\+/g,"-").replace(/\//g,"_")}function parseHexAddress(f){if(!f.includes(":"))throw new Error(`Wrong address ${f}. Address must include ":".`);const r=f.split(":");if(r.length!==2)throw new Error(`Wrong address ${f}. Address must include ":" only once.`);const d=parseInt(r[0]);if(d!==0&&d!==-1)throw new Error(`Wrong address ${f}. WC must be eq 0 or -1, but ${d} received.`);const g=r[1];if((g==null?void 0:g.length)!==64)throw new Error(`Wrong address ${f}. Hex part must be 64bytes length, but ${g==null?void 0:g.length} received.`);return{wc:d,hex:hexToBytes(g)}}function crc16(f){let d=0;const g=new Uint8Array(f.length+2);g.set(f);for(let m of g){let v=128;for(;v>0;)d<<=1,m&v&&(d+=1),v>>=1,d>65535&&(d&=65535,d^=4129)}return new Uint8Array([Math.floor(d/256),d%256])}const toByteMap={};for(let f=0;f<=255;f++){let r=f.toString(16);r.length<2&&(r="0"+r),toByteMap[r]=f}function hexToBytes(f){f=f.toLowerCase();const r=f.length;if(r%2!==0)throw new Error("Hex string must have length a multiple of 2: "+f);const d=r/2,g=new Uint8Array(d);for(let m=0;m<d;m++){const v=m*2,_=f.substring(v,v+2);if(!toByteMap.hasOwnProperty(_))throw new Error("Invalid hex character: "+_);g[m]=toByteMap[_]}return g}(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.toUserFriendlyAddress=f.removeUrlLastSlash=f.addPathToUrl=void 0;var r=url;Object.defineProperty(f,"addPathToUrl",{enumerable:!0,get:function(){return r.addPathToUrl}}),Object.defineProperty(f,"removeUrlLastSlash",{enumerable:!0,get:function(){return r.removeUrlLastSlash}});var d=address;Object.defineProperty(f,"toUserFriendlyAddress",{enumerable:!0,get:function(){return d.toUserFriendlyAddress}})})(utils$2);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,y,x,E){E===void 0&&(E=x);var b=Object.getOwnPropertyDescriptor(y,x);(!b||("get"in b?!y.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return y[x]}}),Object.defineProperty(_,E,b)}:function(_,y,x,E){E===void 0&&(E=x),_[E]=y[x]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(_,y){for(var x in _)x!=="default"&&!Object.prototype.hasOwnProperty.call(y,x)&&r(y,_,x)};Object.defineProperty(f,"__esModule",{value:!0}),f.toUserFriendlyAddress=f.removeUrlLastSlash=f.addPathToUrl=f.createVersionInfo=f.BrowserEventDispatcher=f.createTransactionSigningFailedEvent=f.createTransactionSignedEvent=f.createTransactionSentForSignatureEvent=f.createDisconnectionEvent=f.createConnectionStartedEvent=f.createConnectionRestoringStartedEvent=f.createConnectionRestoringErrorEvent=f.createConnectionRestoringCompletedEvent=f.createConnectionErrorEvent=f.createConnectionCompletedEvent=f.createResponseVersionEvent=f.createRequestVersionEvent=f.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=f.OKXTonConnect=void 0;var g=okxConnectTon;Object.defineProperty(f,"OKXTonConnect",{enumerable:!0,get:function(){return g.OKXTonConnect}}),d(src$6,f);var m=tracker;Object.defineProperty(f,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return m.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(f,"createRequestVersionEvent",{enumerable:!0,get:function(){return m.createRequestVersionEvent}}),Object.defineProperty(f,"createResponseVersionEvent",{enumerable:!0,get:function(){return m.createResponseVersionEvent}}),Object.defineProperty(f,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return m.createConnectionCompletedEvent}}),Object.defineProperty(f,"createConnectionErrorEvent",{enumerable:!0,get:function(){return m.createConnectionErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return m.createConnectionRestoringCompletedEvent}}),Object.defineProperty(f,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return m.createConnectionRestoringErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return m.createConnectionRestoringStartedEvent}}),Object.defineProperty(f,"createConnectionStartedEvent",{enumerable:!0,get:function(){return m.createConnectionStartedEvent}}),Object.defineProperty(f,"createDisconnectionEvent",{enumerable:!0,get:function(){return m.createDisconnectionEvent}}),Object.defineProperty(f,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return m.createTransactionSentForSignatureEvent}}),Object.defineProperty(f,"createTransactionSignedEvent",{enumerable:!0,get:function(){return m.createTransactionSignedEvent}}),Object.defineProperty(f,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return m.createTransactionSigningFailedEvent}}),Object.defineProperty(f,"BrowserEventDispatcher",{enumerable:!0,get:function(){return m.BrowserEventDispatcher}}),Object.defineProperty(f,"createVersionInfo",{enumerable:!0,get:function(){return m.createVersionInfo}});var v=utils$2;Object.defineProperty(f,"addPathToUrl",{enumerable:!0,get:function(){return v.addPathToUrl}}),Object.defineProperty(f,"removeUrlLastSlash",{enumerable:!0,get:function(){return v.removeUrlLastSlash}}),Object.defineProperty(f,"toUserFriendlyAddress",{enumerable:!0,get:function(){return v.toUserFriendlyAddress}})})(src$3);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(f){(function(){var r={}.hasOwnProperty;function d(){for(var v="",_=0;_<arguments.length;_++){var y=arguments[_];y&&(v=m(v,g(y)))}return v}function g(v){if(typeof v=="string"||typeof v=="number")return v;if(typeof v!="object")return"";if(Array.isArray(v))return d.apply(null,v);if(v.toString!==Object.prototype.toString&&!v.toString.toString().includes("[native code]"))return v.toString();var _="";for(var y in v)r.call(v,y)&&v[y]&&(_=m(_,y));return _}function m(v,_){return _?v?v+" "+_:v+_:v}f.exports?(d.default=d,f.exports=d):window.classNames=d})()})(classnames);var classnamesExports=classnames.exports;const cn=getDefaultExportFromCjs(classnamesExports);var isMergeableObject=function f(r){return isNonNullObject(r)&&!isSpecial(r)};function isNonNullObject(f){return!!f&&typeof f=="object"}function isSpecial(f){var r=Object.prototype.toString.call(f);return r==="[object RegExp]"||r==="[object Date]"||isReactElement(f)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(f){return f.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(f){return Array.isArray(f)?[]:{}}function cloneUnlessOtherwiseSpecified(f,r){return r.clone!==!1&&r.isMergeableObject(f)?deepmerge(emptyTarget(f),f,r):f}function defaultArrayMerge(f,r,d){return f.concat(r).map(function(g){return cloneUnlessOtherwiseSpecified(g,d)})}function getMergeFunction(f,r){if(!r.customMerge)return deepmerge;var d=r.customMerge(f);return typeof d=="function"?d:deepmerge}function getEnumerableOwnPropertySymbols(f){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(f).filter(function(r){return Object.propertyIsEnumerable.call(f,r)}):[]}function getKeys(f){return Object.keys(f).concat(getEnumerableOwnPropertySymbols(f))}function propertyIsOnObject(f,r){try{return r in f}catch{return!1}}function propertyIsUnsafe(f,r){return propertyIsOnObject(f,r)&&!(Object.hasOwnProperty.call(f,r)&&Object.propertyIsEnumerable.call(f,r))}function mergeObject(f,r,d){var g={};return d.isMergeableObject(f)&&getKeys(f).forEach(function(m){g[m]=cloneUnlessOtherwiseSpecified(f[m],d)}),getKeys(r).forEach(function(m){propertyIsUnsafe(f,m)||(propertyIsOnObject(f,m)&&d.isMergeableObject(r[m])?g[m]=getMergeFunction(m,d)(f[m],r[m],d):g[m]=cloneUnlessOtherwiseSpecified(r[m],d))}),g}function deepmerge(f,r,d){d=d||{},d.arrayMerge=d.arrayMerge||defaultArrayMerge,d.isMergeableObject=d.isMergeableObject||isMergeableObject,d.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var g=Array.isArray(r),m=Array.isArray(f),v=g===m;return v?g?d.arrayMerge(f,r,d):mergeObject(f,r,d):cloneUnlessOtherwiseSpecified(r,d)}deepmerge.all=function f(r,d){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(g,m){return deepmerge(g,m,d)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;const deepmerge$1=getDefaultExportFromCjs(cjs);var src$2={},types={},providers={};Object.defineProperty(providers,"__esModule",{value:!0});providers.IJSONRpcProvider=providers.IJSONRpcConnection=void 0;class IJSONRpcConnection{}providers.IJSONRpcConnection=IJSONRpcConnection;class IJSONRpcProvider{constructor(r){}}providers.IJSONRpcProvider=IJSONRpcProvider;var misc$1={};Object.defineProperty(misc$1,"__esModule",{value:!0});(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,m,v,_){_===void 0&&(_=v);var y=Object.getOwnPropertyDescriptor(m,v);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(g,_,y)}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,m){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&r(m,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(providers,f),d(misc$1,f)})(types);var packages={},utils$1={},ConnectMethodUtils={};function base$1(f){if(f.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),d=0;d<r.length;d++)r[d]=255;for(var g=0;g<f.length;g++){var m=f.charAt(g),v=m.charCodeAt(0);if(r[v]!==255)throw new TypeError(m+" is ambiguous");r[v]=g}var _=f.length,y=f.charAt(0),x=Math.log(_)/Math.log(256),E=Math.log(256)/Math.log(_);function b(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var A=0,M=0,P=0,F=O.length;P!==F&&O[P]===0;)P++,A++;for(var L=(F-P)*E+1>>>0,K=new Uint8Array(L);P!==F;){for(var j=O[P],W=0,G=L-1;(j!==0||W<M)&&G!==-1;G--,W++)j+=256*K[G]>>>0,K[G]=j%_>>>0,j=j/_>>>0;if(j!==0)throw new Error("Non-zero carry");M=W,P++}for(var Q=L-M;Q!==L&&K[Q]===0;)Q++;for(var re=y.repeat(A);Q<L;++Q)re+=f.charAt(K[Q]);return re}function C(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;for(var A=0,M=0,P=0;O[A]===y;)M++,A++;for(var F=(O.length-A)*x+1>>>0,L=new Uint8Array(F);O[A];){var K=r[O.charCodeAt(A)];if(K===255)return;for(var j=0,W=F-1;(K!==0||j<P)&&W!==-1;W--,j++)K+=_*L[W]>>>0,L[W]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");P=j,A++}for(var G=F-P;G!==F&&L[G]===0;)G++;for(var Q=new Uint8Array(M+(F-G)),re=M;G!==F;)Q[re++]=L[G++];return Q}function R(O){var A=C(O);if(A)return A;throw new Error("Non-base"+_+" character")}return{encode:b,decodeUnsafe:C,decode:R}}var src$1=base$1;const basex$1=src$1,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$1=basex$1(ALPHABET$1);const objectToString=Object.prototype.toString,uint8ArrayStringified="[object Uint8Array]",arrayBufferStringified="[object ArrayBuffer]";function isType(f,r,d){return f?f.constructor===r?!0:objectToString.call(f)===d:!1}function isUint8Array(f){return isType(f,Uint8Array,uint8ArrayStringified)}function isArrayBuffer(f){return isType(f,ArrayBuffer,arrayBufferStringified)}function isUint8ArrayOrArrayBuffer(f){return isUint8Array(f)||isArrayBuffer(f)}function assertUint8Array(f){if(!isUint8Array(f))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof f}\``)}function assertUint8ArrayOrArrayBuffer(f){if(!isUint8ArrayOrArrayBuffer(f))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof f}\``)}function toUint8Array(f){if(f instanceof ArrayBuffer)return new Uint8Array(f);if(ArrayBuffer.isView(f))return new Uint8Array(f.buffer,f.byteOffset,f.byteLength);throw new TypeError(`Unsupported value, got \`${typeof f}\`.`)}function concatUint8Arrays(f,r){if(f.length===0)return new Uint8Array(0);r??(r=f.reduce((m,v)=>m+v.length,0));const d=new Uint8Array(r);let g=0;for(const m of f)assertUint8Array(m),d.set(m,g),g+=m.length;return d}function areUint8ArraysEqual(f,r){if(assertUint8Array(f),assertUint8Array(r),f===r)return!0;if(f.length!==r.length)return!1;for(let d=0;d<f.length;d++)if(f[d]!==r[d])return!1;return!0}function compareUint8Arrays(f,r){assertUint8Array(f),assertUint8Array(r);const d=Math.min(f.length,r.length);for(let g=0;g<d;g++){const m=f[g]-r[g];if(m!==0)return Math.sign(m)}return Math.sign(f.length-r.length)}const cachedDecoders={utf8:new globalThis.TextDecoder("utf8")};function uint8ArrayToString(f,r="utf8"){return assertUint8ArrayOrArrayBuffer(f),cachedDecoders[r]??(cachedDecoders[r]=new globalThis.TextDecoder(r)),cachedDecoders[r].decode(f)}function assertString(f){if(typeof f!="string")throw new TypeError(`Expected \`string\`, got \`${typeof f}\``)}const cachedEncoder=new globalThis.TextEncoder;function stringToUint8Array(f){return assertString(f),cachedEncoder.encode(f)}function base64ToBase64Url(f){return f.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function base64UrlToBase64(f){return f.replaceAll("-","+").replaceAll("_","/")}const MAX_BLOCK_SIZE=65535;function uint8ArrayToBase64(f,{urlSafe:r=!1}={}){assertUint8Array(f);let d;if(f.length<MAX_BLOCK_SIZE)d=globalThis.btoa(String.fromCodePoint.apply(this,f));else{d="";for(const g of f)d+=String.fromCodePoint(g);d=globalThis.btoa(d)}return r?base64ToBase64Url(d):d}function base64ToUint8Array(f){return assertString(f),Uint8Array.from(globalThis.atob(base64UrlToBase64(f)),r=>r.codePointAt(0))}function stringToBase64(f,{urlSafe:r=!1}={}){return assertString(f),uint8ArrayToBase64(stringToUint8Array(f),{urlSafe:r})}function base64ToString(f){return assertString(f),uint8ArrayToString(base64ToUint8Array(f))}const byteToHexLookupTable=Array.from({length:256},(f,r)=>r.toString(16).padStart(2,"0"));function uint8ArrayToHex(f){assertUint8Array(f);let r="";for(let d=0;d<f.length;d++)r+=byteToHexLookupTable[f[d]];return r}const hexToDecimalLookupTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function hexToUint8Array(f){if(assertString(f),f.length%2!==0)throw new Error("Invalid Hex string length.");const r=f.length/2,d=new Uint8Array(r);for(let g=0;g<r;g++){const m=hexToDecimalLookupTable[f[g*2]],v=hexToDecimalLookupTable[f[g*2+1]];if(m===void 0||v===void 0)throw new Error(`Invalid Hex character encountered at position ${g*2}`);d[g]=m<<4|v}return d}function getUintBE(f){const{byteLength:r}=f;if(r===6)return f.getUint16(0)*2**32+f.getUint32(2);if(r===5)return f.getUint8(0)*2**32+f.getUint32(1);if(r===4)return f.getUint32(0);if(r===3)return f.getUint8(0)*2**16+f.getUint16(1);if(r===2)return f.getUint16(0);if(r===1)return f.getUint8(0)}function indexOf(f,r){const d=f.length,g=r.length;if(g===0||g>d)return-1;const m=d-g;for(let v=0;v<=m;v++){let _=!0;for(let y=0;y<g;y++)if(f[v+y]!==r[y]){_=!1;break}if(_)return v}return-1}function includes(f,r){return indexOf(f,r)!==-1}const uint8arrayExtras=Object.freeze(Object.defineProperty({__proto__:null,areUint8ArraysEqual,assertUint8Array,assertUint8ArrayOrArrayBuffer,base64ToString,base64ToUint8Array,compareUint8Arrays,concatUint8Arrays,getUintBE,hexToUint8Array,includes,indexOf,isUint8Array,stringToBase64,stringToUint8Array,toUint8Array,uint8ArrayToBase64,uint8ArrayToHex,uint8ArrayToString},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(uint8arrayExtras);var provider={},utils={},misc={};Object.defineProperty(misc,"__esModule",{value:!0});misc.getRpcUrl=getRpcUrl;misc.getChainId=getChainId;misc.fromAccountToAddress=fromAccountToAddress;misc.convertChainIdToNumber=convertChainIdToNumber;misc.parseChainId=parseChainId;misc.mergeArrays=mergeArrays;misc.syncAddressAvailable=syncAddressAvailable;misc.syncAddressHostAvailable=syncAddressHostAvailable;const core_1$f=src$6;function getRpcUrl(f,r,d){var g;const m=parseChainId(f);return((g=r.rpcMap)===null||g===void 0?void 0:g[m.reference])||""}function getChainId(f){return f.includes(":")?f.split(":")[1]:f}function fromAccountToAddress(f){if(!f)return"";try{let r=f.split(":").slice(2),d=r.length>0?r.join(":"):"";return(0,core_1$f.logDebug)("fromAccountToAddress address and account:",d,f),d}catch{return(0,core_1$f.logError)("fromAccountToAddress error:",f),""}}function convertChainIdToNumber(f){return typeof f=="number"?f:f.includes("0x")?parseInt(f,16):(f=f.includes(":")?f.split(":")[1]:f,isNaN(Number(f))?f:Number(f))}const CAIP_DELIMITER=":";function parseChainId(f){const[r,d]=f.split(CAIP_DELIMITER);return{namespace:r,reference:d}}function mergeArrays(f=[],r=[]){return[...new Set([...f,...r])]}function syncAddressAvailable(f){return!f||f.appName!=="OKX Wallet"||(0,core_1$f.versionCompare)("6.97.0",f.appVersion)>0?!1:syncAddressHostAvailable()}function syncAddressHostAvailable(){try{return!!window.okxGlobal}catch{return!1}}var globals$1={};Object.defineProperty(globals$1,"__esModule",{value:!0});globals$1.setGlobal=globals$1.getGlobal=void 0;const globals={},getGlobal=f=>globals[f];globals$1.getGlobal=getGlobal;const setGlobal=(f,r)=>{globals[f]=r};globals$1.setGlobal=setGlobal;(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,m,v,_){_===void 0&&(_=v);var y=Object.getOwnPropertyDescriptor(m,v);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(g,_,y)}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,m){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&r(m,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(misc,f),d(globals$1,f)})(utils);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,m,v,_){_===void 0&&(_=v);var y=Object.getOwnPropertyDescriptor(m,v);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(g,_,y)}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,m){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&r(m,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(types,f),d(utils,f)})(provider);(function(f){var r=commonjsGlobal&&commonjsGlobal.__awaiter||function(M,P,F,L){function K(j){return j instanceof F?j:new F(function(W){W(j)})}return new(F||(F=Promise))(function(j,W){function G(ne){try{re(L.next(ne))}catch(ie){W(ie)}}function Q(ne){try{re(L.throw(ne))}catch(ie){W(ie)}}function re(ne){ne.done?j(ne.value):K(ne.value).then(G,Q)}re((L=L.apply(M,P||[])).next())})},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(f,"__esModule",{value:!0}),f.connectSupportMethods=void 0,f.creatNotSupportMethodItemReplay=E,f.connectMethodsAdaptOldVersion=b,f.connectMethodsResponseUpdate=C,f.connectMethodsToConnectWalletMethods=R,f.syncResoonseToRequire=A;const g=src$6,m=d(bs58$1),v=require$$2,_=provider;function y(M){return typeof M=="object"&&M!==null&&Array.isArray(M)}function x(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)}f.connectSupportMethods=Object.freeze(["personal_sign","solana_signMessage","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","sync_all_addresses"]);function E(M){let P=new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);var F={method:M.method,chainId:M.chainId,error:{code:P.code,message:P.message}};return F}function b(M,P){return r(this,void 0,void 0,function*(){var F,L,K,j,W;try{(0,g.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(M));let Q={};if(M.method==="solana_signMessage"){let re=(F=P.namespaces[g.NameSpaceKeySOL])===null||F===void 0?void 0:F.accounts.filter(function(ie){return ie.startsWith(M.chainId)})[0];const ne=(0,_.fromAccountToAddress)(re);if(M.params&&ne&&"message"in M.params){let ie=M.params.message;return((L=P.wallet)===null||L===void 0?void 0:L.appName)=="OKX Wallet"&&(ie=m.default.encode((0,v.stringToUint8Array)(ie))),M.params={message:ie,pubkey:ne},Q={publicKey:ne},(0,g.logDebug)("solana_signMessage account and address:",JSON.stringify(re),ne),(0,g.logDebug)("solana_signMessage callBackParams:",JSON.stringify(Q)),Q}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(M.method==="sui_signMessage"||M.method==="sui_signPersonalMessage")if("message"in M.params&&M.params.message){let re=JSON.parse(JSON.stringify(M.params.message)),ne=Object.values(re),ie=new Uint8Array(ne),z=new TextDecoder("utf8"),T=btoa(z.decode(ie));return M.params={message:atob(T)},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(M.params),T),M.method==="sui_signMessage"?Q={messageBytes:T,signature:""}:M.method==="sui_signPersonalMessage"&&(Q={bytes:T,signature:""}),(0,g.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(Q)),Q}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(M.method==="btc_signMessage"){let ne=((K=P.namespaces[g.NameSpaceKeyBtc])===null||K===void 0?void 0:K.accounts.filter(function(z){return z.startsWith(M.chainId)}))[0];const ie=(0,_.fromAccountToAddress)(ne);if((0,g.logDebug)("btc_signMessage account and address:",JSON.stringify(ne),ie),ie){if("message"in M.params&&M.params.message&&typeof M.params.message=="string")M.params={from:ie,signStr:M.params.message};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return M.params.from=ie,(0,g.logDebug)("btc_signMessage callBackParams:",JSON.stringify(Q)),Q}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(M.method==="aptos_signMessage"){let re=M.params,ne=(j=P.namespaces[g.NameSpaceKeyAptos])===null||j===void 0?void 0:j.accounts.filter(function(z){return z.startsWith(M.chainId)})[0],ie=(0,_.fromAccountToAddress)(ne);if(re&&ie){let z="APTOS",T="",D="";var G=z;let w=window.location.protocol+"//"+window.location.hostname;"address"in re&&re.address&&(G+=`
address: `+ie),"application"in re&&re.application&&(G+=`
application: `+w);let S=1;"chainId"in re&&re.chainId&&(re.chainId=="aptos:mainnet"?S=1:re.chainId=="movement:testnet"&&(S=2),G+=`
chainId: `+S),"message"in re&&(G+=`
message: `+re.message,T=re.message),"nonce"in re&&(G+=`
nonce: `+re.nonce,D=re.nonce);const $=new TextEncoder().encode(G),N=Array.from($).map(k=>k.toString(16).padStart(2,"0")).join("");return M.params={message:N},(0,g.logDebug)("aptos_signMessage requestParams:",JSON.stringify(M)),Q={address:ie,application:w,chainId:S,fullMessage:G,message:T,nonce:D,prefix:z,signature:""},(0,g.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(Q)),Q}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(M.method==="cosmos_signArbitrary"){let re=(W=P==null?void 0:P.namespaces[g.NameSpaceKeyCosmos])===null||W===void 0?void 0:W.accounts.filter(function(T){return T.startsWith(M.chainId)})[0];const ne=(0,_.fromAccountToAddress)(re);let ie=M.params.message;const z=(0,v.stringToBase64)(ie);if((0,g.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(re),ne),(0,g.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",z),ie&&ne){const T={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:ne,data:z}}],memo:""};return M.params={signer:ne,chain_id:M.chainId.split(":")[1],data:T},(0,g.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(Q)),Q}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,g.logDebug)("sol_handleSignatureData end params:",JSON.stringify(M))}catch(Q){throw Q}})}function C(M,P){return r(this,void 0,void 0,function*(){var F;try{if(M.signResponse){(0,g.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(M.signResponse)),(0,g.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(M.namespaces));for(const L of M.signResponse)if((0,g.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(L)),"result"in L)if(L.method==="solana_signMessage"){let K=L.result;(0,g.logDebug)("solana_signMessage methodItem.chainId:",L.chainId);let j=(F=M.namespaces[g.NameSpaceKeySOL])===null||F===void 0?void 0:F.accounts.filter(function(W){return(0,g.logDebug)("solana_signMessage account:",W),W.startsWith(L.chainId)})[0];(0,g.logDebug)("solana_signMessage result account:",K,j),K&&j&&(L.result={signature:m.default.decode(K),publicKey:(0,_.fromAccountToAddress)(j)})}else if(L.method==="sui_signMessage"||L.method==="sui_signPersonalMessage"){let K=P.filter(function(j){return j.method===L.method})[0];if(K&&K.params&&"message"in K.params){let j=K.params.message,W=btoa(j);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",j,W),L.method==="sui_signMessage"?L.result={messageBytes:W,signature:L.result}:L.method==="sui_signPersonalMessage"&&(L.result={bytes:W,signature:L.result})}}else if(L.method==="aptos_signMessage"){if(L.chainId==="aptos:637"?L.chainId="aptos:mainnet":L.chainId==="aptos:70000060"&&(L.chainId="movement:testnet"),L.result=JSON.parse(L.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(L.result)),L.result&&"signature"in L.result){let K=L.result.signature;K&&K.startsWith("0x")&&(K=K.slice(2,K.length),L.result.signature=K)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(L.result))}else L.method==="cosmos_signArbitrary"?L.result=JSON.parse(L.result):L.method=="sync_all_addresses"&&(L.result=A(L.result))}}catch(L){throw(0,g.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(L)),L}})}function R(M,P){return r(this,void 0,void 0,function*(){try{(0,g.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(M));const j=[];if(M&&M.length>1)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!P&&M&&M.length>0)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const W of M)if(W.method==="aptos_signMessage"&&(W.chainId==="aptos:mainnet"?W.chainId="aptos:637":W.chainId==="movement:testnet"&&(W.chainId="aptos:70000060")),W.method==="wallet_addEthereumChain"){var F=P==null?void 0:P.some(G=>G.namespace.includes("eip155"));if(!F)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${W.method}', the EVM chain needs to be included in the NameSpace`)}else if(W.method==="sync_all_addresses")if((0,_.syncAddressHostAvailable)())W.chainId="";else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(!!!(P!=null&&P.some(Q=>Q.chains.some(re=>re.includes(`${W.chainId}`)))))throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${W.method}', NameSpace must contain '${W.chainId}'`);for(const W of M){if(!f.connectSupportMethods.includes(W.method))throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${W.method}'`);if(W.method==="wallet_addEthereumChain"){if(Array.isArray(W.params)){const G=W.params;if(G&&G.length===1){const Q=G[0];x(Q)&&(W.params=Q)}else throw G&&G.length>1?new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${W.method}'`):new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${W.method}'`)}}else if(W.method==="personal_sign"){if(y(W.params)){if(W.params&&W.params.length!==1)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${W.method}' `);let G=W.params[0];if(G&&typeof G=="string")W.params={message:G};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `)}}else if(W.method==="sui_signMessage"||W.method==="sui_signPersonalMessage")if(x(W.params)&&"message"in W.params)if(W.params.message){(0,g.logDebug)("sui_signMessage item.params.message :",W.params.message);let G=JSON.parse(JSON.stringify(W.params.message)),Q=Object.values(G),re=new Uint8Array(Q),ne=new TextDecoder("utf8"),ie=btoa(ne.decode(re));W.params.message=atob(ie)}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else if(W.method==="solana_signMessage")if(x(W.params)&&"message"in W.params)if(W.params.message&&typeof W.params.message=="string")W.params.bs58Message=m.default.encode((0,v.stringToUint8Array)(W.params.message));else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else if(W.method==="aptos_signMessage")if(x(W.params))if(W.chainId&&(W.chainId==="aptos:637"||W.chainId==="aptos:70000060")){var L=W.params,K=window.location.protocol+"//"+window.location.hostname;let G=1;W.chainId==="aptos:637"||W.chainId==="aptos:70000060"&&(G=2),W.params={data:L,applicationUrl:K,prefix:"APTOS",aptosChainId:G}}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${W.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else if(W.method==="cosmos_signArbitrary")if(x(W.params))if(W.params.message&&typeof W.params.message=="string"){const G=(0,v.stringToBase64)(W.params.message);let Q=W.chainId.split(":")[1];if(Q)W.params={chain_id:Q,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:G}}],memo:""}};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${W.method}' `)}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${W.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else if(W.method=="tron_signMessage")if(x(W.params))if("message"in W.params&&W.params.message&&typeof W.params.message=="string")W.params.message=O(W.params.message);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else if(W.method=="btc_signMessage")if(x(W.params))if("message"in W.params&&W.params.message&&typeof W.params.message=="string")W.params={signStr:W.params.message};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${W.method}' `);(0,g.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(W)),j.push(W)}return j}catch(j){throw j}})}function O(M){let P="";for(let F=0;F<M.length;F++)P+=M.charCodeAt(F).toString(16).padStart(2,"0");return P}function A(M){const P=JSON.parse(M);return{type:P.type,isEvm:P.isEvm,walletName:P.walletName,deriveName:P.deriveName,addresses:P.addresses.map(L=>({coinId:L.ci,address:L.a&&L.a!=="null"?L.a:P.evmAddress}))}}})(ConnectMethodUtils);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.creatNotSupportMethodItemReplay=f.connectMethodsAdaptOldVersion=void 0;var r=ConnectMethodUtils;Object.defineProperty(f,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return r.connectMethodsAdaptOldVersion}}),Object.defineProperty(f,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return r.creatNotSupportMethodItemReplay}})})(utils$1);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,m,v,_){_===void 0&&(_=v);var y=Object.getOwnPropertyDescriptor(m,v);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(g,_,y)}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,m){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&r(m,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(utils$1,f)})(packages);var OKXUniversalProvider$1={},eip155={},constants={},values={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.GENERIC_SUBPROVIDER_NAME=f.RPC_URL=f.STORAGE=f.CONTEXT=f.WC_VERSION=f.PROTOCOL=f.RELAY_URL=f.LOGGER=void 0,f.LOGGER="error",f.RELAY_URL="wss://relay.walletconnect.com",f.PROTOCOL="wc",f.WC_VERSION=2,f.CONTEXT="universal_provider",f.STORAGE=`${f.PROTOCOL}@${f.WC_VERSION}:${f.CONTEXT}:`,f.RPC_URL="https://rpc.walletconnect.com/v1/",f.GENERIC_SUBPROVIDER_NAME="generic"})(values);var events={};Object.defineProperty(events,"__esModule",{value:!0});events.PROVIDER_EVENTS=void 0;events.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"};(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,m,v,_){_===void 0&&(_=v);var y=Object.getOwnPropertyDescriptor(m,v);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(g,_,y)}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,m){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&r(m,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(values,f),d(events,f)})(constants);var JsonRpcProvider$1={},__awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(JsonRpcProvider$1,"__esModule",{value:!0});JsonRpcProvider$1.JsonRpcProvider=void 0;const eventemitter3_1$2=eventemitter3Exports,types_1=types,core_1$e=src$6,core_2$1=src$6;class JsonRpcProvider extends types_1.IJSONRpcProvider{constructor(r){super(r),this.events=new eventemitter3_1$2.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(r),this.connection.connected&&this.registerEventListeners()}connect(){return __awaiter$d(this,arguments,void 0,function*(r=this.connection){yield this.open(r)})}disconnect(){return __awaiter$d(this,void 0,void 0,function*(){yield this.close()})}on(r,d){this.events.on(r,d)}once(r,d){this.events.once(r,d)}off(r,d){this.events.off(r,d)}removeListener(r,d){this.events.removeListener(r,d)}request(r,d){return __awaiter$d(this,void 0,void 0,function*(){return this.requestStrict((0,core_1$e.formatJsonRpcRequest)(r.method,r.params||[],(0,core_1$e.getBigIntRpcId)().toString()),d)})}requestStrict(r,d){return __awaiter$d(this,void 0,void 0,function*(){return new Promise((g,m)=>__awaiter$d(this,void 0,void 0,function*(){if(!this.connection.connected)try{yield this.open()}catch(v){m(v)}this.events.on(`${r.id}`,v=>{(0,core_1$e.isJsonRpcError)(v)?m(v.error):g(v.result)});try{(0,core_2$1.logDebug)("[RPC] >>> send request",r,d),yield this.connection.send(r,d)}catch(v){m(v)}}))})}setConnection(r=this.connection){return r}onPayload(r){this.events.emit("payload",r),(0,core_1$e.isJsonRpcResponse)(r)?this.events.emit(`${r.id}`,r):this.events.emit("message",{type:r.method,data:r.params})}onClose(r){r&&r.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${r.code} ${r.reason?`(${r.reason})`:""}`)),this.events.emit("disconnect")}open(){return __awaiter$d(this,arguments,void 0,function*(r=this.connection){this.connection===r&&this.connection.connected||(this.connection.connected&&this.close(),typeof r=="string"&&(yield this.connection.open(r),r=this.connection),this.connection=this.setConnection(r),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))})}close(){return __awaiter$d(this,void 0,void 0,function*(){yield this.connection.close()})}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",r=>this.onPayload(r)),this.connection.on("close",r=>this.onClose(r)),this.connection.on("error",r=>this.events.emit("error",r)),this.connection.on("register_error",r=>this.onClose()),this.hasRegisteredEventListeners=!0)}}JsonRpcProvider$1.JsonRpcProvider=JsonRpcProvider;var JsonRpcConnection$1={},browserPonyfill={exports:{}};(function(f,r){var d=typeof self<"u"?self:commonjsGlobal,g=function(){function v(){this.fetch=!1,this.DOMException=d.DOMException}return v.prototype=d,new v}();(function(v){(function(_){var y={searchParams:"URLSearchParams"in v,iterable:"Symbol"in v&&"iterator"in Symbol,blob:"FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in v,arrayBuffer:"ArrayBuffer"in v};function x(w){return w&&DataView.prototype.isPrototypeOf(w)}if(y.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(w){return w&&E.indexOf(Object.prototype.toString.call(w))>-1};function C(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(w))throw new TypeError("Invalid character in header field name");return w.toLowerCase()}function R(w){return typeof w!="string"&&(w=String(w)),w}function O(w){var S={next:function(){var $=w.shift();return{done:$===void 0,value:$}}};return y.iterable&&(S[Symbol.iterator]=function(){return S}),S}function A(w){this.map={},w instanceof A?w.forEach(function(S,$){this.append($,S)},this):Array.isArray(w)?w.forEach(function(S){this.append(S[0],S[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(S){this.append(S,w[S])},this)}A.prototype.append=function(w,S){w=C(w),S=R(S);var $=this.map[w];this.map[w]=$?$+", "+S:S},A.prototype.delete=function(w){delete this.map[C(w)]},A.prototype.get=function(w){return w=C(w),this.has(w)?this.map[w]:null},A.prototype.has=function(w){return this.map.hasOwnProperty(C(w))},A.prototype.set=function(w,S){this.map[C(w)]=R(S)},A.prototype.forEach=function(w,S){for(var $ in this.map)this.map.hasOwnProperty($)&&w.call(S,this.map[$],$,this)},A.prototype.keys=function(){var w=[];return this.forEach(function(S,$){w.push($)}),O(w)},A.prototype.values=function(){var w=[];return this.forEach(function(S){w.push(S)}),O(w)},A.prototype.entries=function(){var w=[];return this.forEach(function(S,$){w.push([$,S])}),O(w)},y.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function M(w){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}function P(w){return new Promise(function(S,$){w.onload=function(){S(w.result)},w.onerror=function(){$(w.error)}})}function F(w){var S=new FileReader,$=P(S);return S.readAsArrayBuffer(w),$}function L(w){var S=new FileReader,$=P(S);return S.readAsText(w),$}function K(w){for(var S=new Uint8Array(w),$=new Array(S.length),N=0;N<S.length;N++)$[N]=String.fromCharCode(S[N]);return $.join("")}function j(w){if(w.slice)return w.slice(0);var S=new Uint8Array(w.byteLength);return S.set(new Uint8Array(w)),S.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(w){this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:y.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:y.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:y.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():y.arrayBuffer&&y.blob&&x(w)?(this._bodyArrayBuffer=j(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||b(w))?this._bodyArrayBuffer=j(w):this._bodyText=w=Object.prototype.toString.call(w):this._bodyText="",this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var w=M(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(F)}),this.text=function(){var w=M(this);if(w)return w;if(this._bodyBlob)return L(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(K(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(ne)}),this.json=function(){return this.text().then(JSON.parse)},this}var G=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Q(w){var S=w.toUpperCase();return G.indexOf(S)>-1?S:w}function re(w,S){S=S||{};var $=S.body;if(w instanceof re){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,S.headers||(this.headers=new A(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!$&&w._bodyInit!=null&&($=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new A(S.headers)),this.method=Q(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}re.prototype.clone=function(){return new re(this,{body:this._bodyInit})};function ne(w){var S=new FormData;return w.trim().split("&").forEach(function($){if($){var N=$.split("="),k=N.shift().replace(/\+/g," "),U=N.join("=").replace(/\+/g," ");S.append(decodeURIComponent(k),decodeURIComponent(U))}}),S}function ie(w){var S=new A,$=w.replace(/\r?\n[\t ]+/g," ");return $.split(/\r?\n/).forEach(function(N){var k=N.split(":"),U=k.shift().trim();if(U){var I=k.join(":").trim();S.append(U,I)}}),S}W.call(re.prototype);function z(w,S){S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in S?S.statusText:"OK",this.headers=new A(S.headers),this.url=S.url||"",this._initBody(w)}W.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},z.error=function(){var w=new z(null,{status:0,statusText:""});return w.type="error",w};var T=[301,302,303,307,308];z.redirect=function(w,S){if(T.indexOf(S)===-1)throw new RangeError("Invalid status code");return new z(null,{status:S,headers:{location:w}})},_.DOMException=v.DOMException;try{new _.DOMException}catch{_.DOMException=function(S,$){this.message=S,this.name=$;var N=Error(S);this.stack=N.stack},_.DOMException.prototype=Object.create(Error.prototype),_.DOMException.prototype.constructor=_.DOMException}function D(w,S){return new Promise(function($,N){var k=new re(w,S);if(k.signal&&k.signal.aborted)return N(new _.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function I(){U.abort()}U.onload=function(){var q={status:U.status,statusText:U.statusText,headers:ie(U.getAllResponseHeaders()||"")};q.url="responseURL"in U?U.responseURL:q.headers.get("X-Request-URL");var B="response"in U?U.response:U.responseText;$(new z(B,q))},U.onerror=function(){N(new TypeError("Network request failed"))},U.ontimeout=function(){N(new TypeError("Network request failed"))},U.onabort=function(){N(new _.DOMException("Aborted","AbortError"))},U.open(k.method,k.url,!0),k.credentials==="include"?U.withCredentials=!0:k.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&y.blob&&(U.responseType="blob"),k.headers.forEach(function(q,B){U.setRequestHeader(B,q)}),k.signal&&(k.signal.addEventListener("abort",I),U.onreadystatechange=function(){U.readyState===4&&k.signal.removeEventListener("abort",I)}),U.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return D.polyfill=!0,v.fetch||(v.fetch=D,v.Headers=A,v.Request=re,v.Response=z),_.Headers=A,_.Request=re,_.Response=z,_.fetch=D,Object.defineProperty(_,"__esModule",{value:!0}),_})({})})(g),g.fetch.ponyfill=!0,delete g.fetch.polyfill;var m=g;r=m.fetch,r.default=m.fetch,r.fetch=m.fetch,r.Headers=m.Headers,r.Request=m.Request,r.Response=m.Response,f.exports=r})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports,__awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(JsonRpcConnection$1,"__esModule",{value:!0});JsonRpcConnection$1.JsonRpcConnection=void 0;const eventemitter3_1$1=eventemitter3Exports,cross_fetch_1=__importDefault$1(browserPonyfillExports),core_1$d=src$6,core_2=src$6,DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD};class JsonRpcConnection{constructor(r,d=!1){if(this.url=r,this.disableProviderPing=d,this.events=new eventemitter3_1$1.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,core_2.isHttpUrl)(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=d}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,d){this.events.on(r,d)}once(r,d){this.events.once(r,d)}off(r,d){this.events.off(r,d)}removeListener(r,d){this.events.removeListener(r,d)}open(){return __awaiter$c(this,arguments,void 0,function*(r=this.url){yield this.register(r)})}close(){return __awaiter$c(this,void 0,void 0,function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()})}send(r){return __awaiter$c(this,void 0,void 0,function*(){this.isAvailable||(yield this.register());try{const d=(0,core_1$d.safeJsonStringify)(r),m=yield(yield(0,cross_fetch_1.default)(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:d}))).json();this.onPayload({data:m})}catch(d){this.onError(r.id,d)}})}register(){return __awaiter$c(this,arguments,void 0,function*(r=this.url){if(!(0,core_2.isHttpUrl)(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(this.registering)return new Promise((d,g)=>{this.events.once("register_error",m=>{g(m)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return g(new Error("HTTP connection is missing or invalid"));d()})});this.url=r,this.registering=!0;try{if(!this.disableProviderPing){const d=(0,core_1$d.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,cross_fetch_1.default)(r,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:d}))}this.onOpen()}catch(d){const g=this.parseError(d);throw this.events.emit("register_error",g),this.onClose(),g}})}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const d=typeof r.data=="string"?(0,core_1$d.safeJsonParse)(r.data):r.data;this.events.emit("payload",d)}onError(r,d){const g=this.parseError(d),m=g.message||g.toString(),v=(0,core_2.formatJsonRpcError)(r,m);this.events.emit("payload",v)}parseError(r,d=this.url){return(0,core_2.parseConnectionError)(r,d,"HTTP")}}JsonRpcConnection$1.JsonRpcConnection=JsonRpcConnection;var __awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(eip155,"__esModule",{value:!0});eip155.Eip155Provider=void 0;const utils_1$8=utils,constants_1$9=constants,core_1$c=src$6,JsonRpcProvider_1$7=JsonRpcProvider$1,JsonRpcConnection_1$7=JsonRpcConnection$1;class Eip155Provider{constructor(r,d,g){this.name="eip155",this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,core_1$c.logDebug)("eip155 constructor --opts.namespace-->",r.namespace)}isRecord(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}isArray(r){return typeof r=="object"&&r!==null&&Array.isArray(r)}updateRequestParams(r){let d=r.params&&typeof r.params=="object"&&!Array.isArray(r.params);if(r.method==="wallet_switchEthereumChain"){const g=r.chainId.split(":")[1],m=parseInt(g,10);if(isNaN(m))throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${g}' `);if(!r.params)r.params={chainId:"0x"+m.toString(16)};else if(d){let v=r.params;"chainId"in v||(v.chainId="0x"+m.toString(16),r.params=v)}else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${r.method}' `)}else if(r.method==="personal_sign"||r.method==="eth_signTypedData_v4"||r.method==="eth_sendTransaction"||r.method==="wallet_watchAsset"){if(!r.params)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${r.method}'`);if(this.isRecord(r.params)){let g=r.params;if((0,core_1$c.logDebug)("eip155 updateRequestParams params>",JSON.stringify(g)),"chainId"in g){const m=r.chainId.split(":")[1],v=parseInt(m,10);let _=String(g.chainId),y;if(_.startsWith(this.name)&&r.chainId===_)y=v;else if(_.startsWith("0x"))y=parseInt(_,16);else if(!isNaN(Number(_)))y=parseInt(_,10);else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${r.method}'`);if(v!==y)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${r.method}' `)}}else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${r.method}'`)}}adaptArray(r){if(r.method==="wallet_switchEthereumChain"||r.method==="wallet_addEthereumChain"||r.method==="wallet_watchAsset"||r.method==="eth_sendTransaction"){if(this.isArray(r.params)){let d=r.params;if(d)if(d.length===1){let g=r.params[0];this.isRecord(g)&&(r.params=g)}else throw d.length>1?new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${r.method}' `):new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${r.method}' `)}}else if(r.method==="eth_signTypedData_v4"){if(this.isArray(r.params)){let d=r.params;if(d&&d.length>2)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${r.method}' `);if(d&&d.length===0)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${r.method}' `);let g={};if(d&&d.length===2){let m=r.params[0];if(m&&typeof m=="string"){let v=!1;if(this.namespace.accounts.forEach(_=>{(0,utils_1$8.fromAccountToAddress)(_).toLowerCase()===m.toLowerCase()&&(v=!0)}),(0,core_1$c.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",v),!v)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${r.method}' `);if(this.isRecord(r.params[1]))g=r.params[1];else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${r.method}' `)}else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${r.method}' `)}else if(d&&d.length===1)if(this.isRecord(r.params[0]))g=r.params[0];else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${r.method}' `);try{let m=JSON.stringify(g);r.params={typedDataJson:m}}catch{throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${r.method}' `)}}}else if(r.method==="personal_sign"&&this.isArray(r.params)){if(r.params&&r.params.length>2)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${r.method}' `);if(r.params&&r.params.length===0)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${r.method}' `);let d=r.params[0],g=r.params[1];if(g&&typeof g=="string"){let m=!1;if(this.namespace.accounts.forEach(v=>{(0,utils_1$8.fromAccountToAddress)(v).toLowerCase()===g.toLowerCase()&&(m=!0)}),(0,core_1$c.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",m),!m)throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${r.method}' `)}if(d&&typeof d=="string")r.params={message:d};else throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${r.method}' `)}}showRequestModal(r){switch(r.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(r),this.updateRequestParams(r);const{parsedChainId:d,hexChainId:g}=this.getHexChainIdFromRequest(r);return!this.isChainApproved(d)}default:return!1}return!1}request(r){return __awaiter$b(this,void 0,void 0,function*(){switch(this.adaptArray(r),(0,core_1$c.logDebug)("eip155 request --args--string>",JSON.stringify(r)),this.updateRequestParams(r),(0,core_1$c.logDebug)("eip155 request --params--string>",JSON.stringify(r)),r.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(r);case"wallet_addEthereumChain":return this.addEthereumChain(r)}if(this.namespace.methods.includes(r.method))try{const d=yield this.client.request(r);if((0,core_1$c.logDebug)("eip155 request --response----string>",JSON.stringify(d)),this.isRecord(d)&&"result"in d){let g=d.result;return g&&typeof g=="string"&&(g==="true"||g==="false")?((0,core_1$c.logDebug)("eip155 request --wallet_watchAsset>>>>",g==="true"),g==="true"):d.result}return d}catch(d){throw(0,core_1$c.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${d instanceof core_1$c.OKXConnectError}`,JSON.stringify(d)),d}else return(0,core_1$c.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(r)})}addEthereumChain(r){return __awaiter$b(this,void 0,void 0,function*(){let d=yield this.client.request(r);try{if("result"in d){let g=d,m=d.result;if(m){const v=m.split(":")[0],_=m.split(":")[1],y=v+":"+_;let x=this.namespace;if(this.namespace.accounts.push(m),this.namespace.chains.push(y),this.isRecord(r.params)&&"rpcUrls"in r.params){let E=r.params.rpcUrls,b=E?E[0]:void 0;b&&(this.namespace.rpcMap?this.namespace.rpcMap[_]=b:this.namespace.rpcMap={[_]:b},this.setHttpProvider(_,b))}this.events.emit(constants_1$9.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${r.method} request error`)}catch{throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${r.method} request  error`)}return null})}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,d){if(this.chainId=parseInt(r),!this.httpProviders[r]){const g=d||(0,utils_1$8.getRpcUrl)(`${this.name}:${r}`,this.namespace);g?this.setHttpProvider(r,g):(0,core_1$c.logError)(`No RPC url provided for chainId: ${r}`)}this.events.emit(constants_1$9.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return(0,core_1$c.logDebug)("eip155 getAccounts ",r,this.chainId),r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>(0,utils_1$8.fromAccountToAddress)(d)))]:[]}getHexChainIdFromRequest(r){let d=r.params,g="0x0";d&&"chainId"in d&&(g=d.chainId),g=g.startsWith("0x")?g:`0x${g}`,(0,core_1$c.logDebug)("handleSwitchChain -->args ",r),(0,core_1$c.logDebug)("handleSwitchChain -->hexChainId ",g);const m=parseInt(g,16);return(0,core_1$c.logDebug)("handleSwitchChain -->parsedChainId ",m),{parsedChainId:m,hexChainId:g}}handleSwitchChain(r){return __awaiter$b(this,void 0,void 0,function*(){const{parsedChainId:d,hexChainId:g}=this.getHexChainIdFromRequest(r);if(this.isChainApproved(d))this.setDefaultChain(`${d}`);else{const m=yield this.client.request({method:"wallet_switchEthereumChain",chainId:r.chainId,params:{chainId:g}});try{if("result"in m){let v=m,_=m.result;if(_){const y=_.split(":")[0],x=_.split(":")[1],E=y+":"+x;let b=this.namespace;this.namespace.accounts.push(_),this.namespace.chains.push(E),(0,core_1$c.logDebug)("handleSwitchChain -->wallet_switchEthereumChain ",m),this.setDefaultChain(`${d}`),this.events.emit(constants_1$9.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${r.method} request error`)}catch{throw new core_1$c.OKXConnectError(core_1$c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${r.method} request  error`)}}return null})}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$c.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$7.JsonRpcProvider(new JsonRpcConnection_1$7.JsonRpcConnection(g,(0,utils_1$8.getGlobal)("disableProviderPing")))}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$8.getChainId)(d),m=(0,utils_1$8.getRpcUrl)(d,this.namespace);(0,core_1$c.logDebug)("get parsed chain and rpc:",g,m);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),(0,core_1$c.logDebug)("get http providermap:",r),r}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if((0,core_1$c.logDebug)("[RPC] get http provider:",r,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}}eip155.Eip155Provider=Eip155Provider;eip155.default=Eip155Provider;var sui={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(sui,"__esModule",{value:!0});sui.SuiProvider=void 0;const constants_1$8=constants,core_1$b=src$6,utils_1$7=utils,JsonRpcConnection_1$6=JsonRpcConnection$1,JsonRpcProvider_1$6=JsonRpcProvider$1;class SuiProvider{constructor(r,d,g){this.name=core_1$b.NameSpaceKeySui,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}request(r){return __awaiter$a(this,void 0,void 0,function*(){return(0,core_1$b.logDebug)("sui request --args--string>",JSON.stringify(r)),(0,core_1$b.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(r.method)?this.client.request(r):this.getHttpProvider().request(r)})}requestAccounts(){return this.getAccounts()}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$8.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$7.getChainId)(d),m=(0,utils_1$7.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if((0,core_1$b.logDebug)("[RPC] get http provider:",r,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&((0,core_1$b.logDebug)("setHttpProvider",r,d),this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$b.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$6.JsonRpcProvider(new JsonRpcConnection_1$6.JsonRpcConnection(g,(0,utils_1$7.getGlobal)("disableProviderPing")))}getPubkey(r){return this.getWalletAddress(r)}getWalletAddress(r){return r||(r=this.namespace.defaultChain,r!=null&&r.startsWith("sui")||(r=`sui:${r}`)),this.namespace.accounts.filter(function(d){return d.split(":").length>2&&d.startsWith(r)}).map(function(d){return d.split(":")[2]})[0]}showRequestModal(r){switch(r.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}sui.SuiProvider=SuiProvider;sui.default=SuiProvider;var client={},namespaces={};Object.defineProperty(namespaces,"__esModule",{value:!0});namespaces.getAccountsChains=getAccountsChains;namespaces.nameSpaceToConnectWalletNameSpace=nameSpaceToConnectWalletNameSpace;namespaces.fillParamsToSession=fillParamsToSession;namespaces.isCaipNamespace=isCaipNamespace;namespaces.parseNamespaceKey=parseNamespaceKey;const core_1$a=src$6;function getAccountsChains(f){const r=[];return f.forEach(d=>{const[g,m]=d.split(":");r.push(`${g}:${m}`)}),r}function nameSpaceToConnectWalletNameSpace(f){var r=[];return f&&Object.keys(f).forEach(d=>{(d===core_1$a.NameSpaceKeyEip155||d===core_1$a.NameSpaceKeySOL||d===core_1$a.NameSpaceKeySui||d===core_1$a.NameSpaceKeyAptos||d==core_1$a.NameSpaceKeyBtc||d===core_1$a.NameSpaceKeyTON||d===core_1$a.NameSpaceKeyCosmos||d===core_1$a.NameSpaceKeyTron)&&f[d].chains&&r.push({namespace:d,chains:f[d].chains,params:f[d].params})}),r}function fillParamsToSession(f,r,d,g){const m=(_,y)=>{Object.assign(_,y)},v=(_,y)=>{for(const x in y)y.hasOwnProperty(x)&&y[x].rpcMap&&(y[x].rpcMap&&(_[x].rpcMap||(_[x].rpcMap={}),m(_[x].rpcMap,y[x].rpcMap)),y[x].defaultChain&&_[x].defaultChain===void 0&&_[x].chains.some(E=>E.split(":")[1]===y[x].defaultChain)&&(_[x].defaultChain=y[x].defaultChain))};r&&v(f.namespaces,r),d&&v(f.namespaces,d),f.sessionConfig=g}function isCaipNamespace(f){return f.includes(":")}function parseNamespaceKey(f){return isCaipNamespace(f)?f.split(":")[0]:f}var __awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(client,"__esModule",{value:!0});client.SignClient=void 0;const core_1$9=src$6,namespaces_1$1=namespaces,ConnectMethodUtils_1=ConnectMethodUtils,constants_1$7=constants;class SignClient extends core_1$9.ISignClient{constructor(r,d){super(r),this.connect=g=>__awaiter$9(this,void 0,void 0,function*(){return new Promise((m,v)=>__awaiter$9(this,void 0,void 0,function*(){try{var _=[];(0,core_1$9.logDebug)("client connect params >>>",JSON.stringify(g));var y={name:"requestAccounts",requiredNamespaces:(0,namespaces_1$1.nameSpaceToConnectWalletNameSpace)(g.namespaces),optionalNamespaces:(0,namespaces_1$1.nameSpaceToConnectWalletNameSpace)(g.optionalNamespaces)};this.engine.setSessionConnectingListener(()=>{(0,core_1$9.logDebug)("sessionConnectingListener >>>"),this.events.emit(constants_1$7.PROVIDER_EVENTS.SESSION_CONNECTING)}),g.signRequest&&(y.connectRequestMethods=yield(0,ConnectMethodUtils_1.connectMethodsToConnectWalletMethods)(g.signRequest,y.requiredNamespaces)),_.push(y),(0,core_1$9.logDebug)("client connect connectRequest >>>",JSON.stringify(_)),this.engine.universalConnect(_,Object.assign({dappInfo:this.metadata},g.sessionConfig),x=>{x&&x.connectRequest&&((0,core_1$9.logDebug)("universalConect info.connectRequest :",x.connectRequest),(0,core_1$9.logDebug)("universalConect url:",(0,core_1$9.getOKXLink)(x.connectRequest,this.sessionConfig.useMini)),this.events.emit("display_uri",(0,core_1$9.getOKXLink)(x.connectRequest,this.sessionConfig.useMini)),this.events.emit("short_display_uri",(0,core_1$9.getAppWalletShortDeepLink)(x.connectRequest.topic,x.connectRequest.clientId)),(0,core_1$9.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(x)}`),this.events.emit("okx_engine_connect_params",x))}).then(x=>__awaiter$9(this,void 0,void 0,function*(){(0,namespaces_1$1.fillParamsToSession)(x,g.namespaces,g.optionalNamespaces,this.sessionConfig),(0,core_1$9.logDebug)(`signClient: connect: session ${JSON.stringify(x)}`),g.signRequest&&(yield(0,ConnectMethodUtils_1.connectMethodsResponseUpdate)(x,g.signRequest)),m(x)})).catch(x=>{(0,core_1$9.logDebug)(`signClient: connect: catch ${JSON.stringify(x)}`),this.events.emit("connect_error",x),v(x)})}catch(x){(0,core_1$9.logDebug)(`signClient: connect:  ${JSON.stringify(x)}`),v(x)}}))}),this.restoreconnect=g=>__awaiter$9(this,void 0,void 0,function*(){return new Promise((m,v)=>{this.engine.restoreconnect(g,_=>{m(_)})})}),this.reject=g=>__awaiter$9(this,void 0,void 0,function*(){}),this.request=g=>__awaiter$9(this,void 0,void 0,function*(){return new Promise((m,v)=>__awaiter$9(this,void 0,void 0,function*(){var _,y;(0,core_1$9.logDebug)("clint request --params>>>> >",this.engine.connectionManager.getCurrentConnectionReady(),(_=this.sessionConfig)===null||_===void 0?void 0:_.openUniversalUrl,JSON.stringify(g));try{!((y=this.sessionConfig)===null||y===void 0)&&y.openUniversalUrl&&(0,core_1$9.isIos)()&&this.openOKXWallet(),yield this.engine.send(g,{resolve:x=>{if(delete x.requestId,(0,core_1$9.logDebug)("clint request --response >",JSON.stringify(x)),"error"in x&&x.error){let E=x.error;v(new core_1$9.OKXConnectError(x.error.code,x.method+":"+E.message))}else m(x)},onAck:()=>{var x;!(0,core_1$9.isIos)()&&(!((x=this.sessionConfig)===null||x===void 0)&&x.openUniversalUrl)&&this.openOKXWallet()}})}catch(x){v(x)}}))}),this.disconnect=()=>__awaiter$9(this,void 0,void 0,function*(){return new Promise((g,m)=>{this.engine.send({method:"disconnect"},{onAck:()=>{g()}},void 0,864e5).catch(v=>{console.log(`disconnect : ${JSON.stringify(v)}`),m(v)})})}),this.engine=new core_1$9.Engine(new core_1$9.ConnectionManager(r.name)),this.events=d,this.metadata=r}openOKXWallet(){var r;if((0,core_1$9.logDebug)("bridge-provider ==>> connect_5"),!((r=this.sessionConfig)===null||r===void 0)&&r.useMini){let d=(0,core_1$9.getTelegramWalletTWAUrl)(void 0,this.sessionConfig.tmaReturnUrl);(0,core_1$9.openOKXTMAWalletlinkWithFallback)(d)}else(0,core_1$9.openOKXDeeplink)(core_1$9.standardDeeplink)}syncAllAddress(){return __awaiter$9(this,void 0,void 0,function*(){return new Promise((r,d)=>{this.engine.send({method:"sync_all_addresses"},{resolve:g=>{if(delete g.requestId,(0,core_1$9.logDebug)("clint syncAllAddress --response >",JSON.stringify(g)),"error"in g&&g.error){let m=g.error;d(new core_1$9.OKXConnectError(g.error.code,g.method+":"+m.message))}else{let m=g.result;r((0,ConnectMethodUtils_1.syncResoonseToRequire)(m))}}}).catch(g=>{console.log(`disconnect : ${JSON.stringify(g)}`),d(g)})})})}}client.SignClient=SignClient;var solana={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(solana,"__esModule",{value:!0});solana.SolanaProvider=void 0;const constants_1$6=constants,core_1$8=src$6,utils_1$6=utils,JsonRpcConnection_1$5=JsonRpcConnection$1,JsonRpcProvider_1$5=JsonRpcProvider$1;class SolanaProvider{constructor(r,d,g,m){this.name="solana",this.namespace=r.namespace,this.events=m,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$8(this,void 0,void 0,function*(){if((0,core_1$8.logDebug)("solana request --args--string>",JSON.stringify(r)),(0,core_1$8.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$8.OKXConnectError(core_1$8.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$6.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$6.getChainId)(d),m=(0,utils_1$6.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$5.JsonRpcProvider(new JsonRpcConnection_1$5.JsonRpcConnection(g,(0,utils_1$6.getGlobal)("disableProviderPing")))}getPubkey(r){return this.getWalletAddress(r)}getWalletAddress(r){return r||(r=this.namespace.defaultChain,r!=null&&r.startsWith("solana")||(r=`solana:${r}`)),this.namespace.accounts.filter(function(d){return d.split(":").length>2&&d.startsWith(r)}).map(function(d){return d.split(":")[2]})[0]}showRequestModal(r){return!0}}solana.SolanaProvider=SolanaProvider;solana.default=SolanaProvider;var btc={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(btc,"__esModule",{value:!0});const constants_1$5=constants,core_1$7=src$6,utils_1$5=utils,JsonRpcConnection_1$4=JsonRpcConnection$1,JsonRpcProvider_1$4=JsonRpcProvider$1;class BtcProvider{constructor(r,d,g,m){this.name=core_1$7.NameSpaceKeyBtc,this.namespace=r.namespace,this.events=m,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$7(this,void 0,void 0,function*(){return(0,core_1$7.logDebug)("btc request --args--string>",JSON.stringify(r)),(0,core_1$7.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(r.method)?this.client.request(r):this.getHttpProvider().request(r)})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$5.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$5.getChainId)(d),m=(0,utils_1$5.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$7.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$4.JsonRpcProvider(new JsonRpcConnection_1$4.JsonRpcConnection(g,(0,utils_1$5.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}btc.default=BtcProvider;var aptos={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(aptos,"__esModule",{value:!0});const constants_1$4=constants,core_1$6=src$6,utils_1$4=utils,JsonRpcConnection_1$3=JsonRpcConnection$1,JsonRpcProvider_1$3=JsonRpcProvider$1;class AptosProvider{constructor(r,d,g,m){this.name="aptos",this.namespace=r.namespace,this.events=m,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$6(this,void 0,void 0,function*(){if((0,core_1$6.logDebug)("solana request --args--string>",JSON.stringify(r)),(0,core_1$6.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$6.OKXConnectError(core_1$6.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$4.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$4.getChainId)(d),m=(0,utils_1$4.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$3.JsonRpcProvider(new JsonRpcConnection_1$3.JsonRpcConnection(g,(0,utils_1$4.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}aptos.default=AptosProvider;var ton={},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(f,r){var d={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&r.indexOf(g)<0&&(d[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,g=Object.getOwnPropertySymbols(f);m<g.length;m++)r.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(f,g[m])&&(d[g[m]]=f[g[m]]);return d};Object.defineProperty(ton,"__esModule",{value:!0});const constants_1$3=constants,core_1$5=src$6,utils_1$3=utils,JsonRpcConnection_1$2=JsonRpcConnection$1,JsonRpcProvider_1$2=JsonRpcProvider$1;class TONProvider{constructor(r,d,g){this.name=core_1$5.NameSpaceKeyTON,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}isRecord(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}request(r){return __awaiter$5(this,void 0,void 0,function*(){var d,g,m,v;if((0,core_1$5.logDebug)("TONProvider request --args--string>",JSON.stringify(r)),(0,core_1$5.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(r.method)){if(!r.params)throw new core_1$5.OKXConnectError(core_1$5.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(r.params)){const _=r.params,{validUntil:y}=_,x=__rest(_,["validUntil"]);let E=(g=(d=this.namespace.payload)===null||d===void 0?void 0:d.ton_addr)===null||g===void 0?void 0:g.address;"from"in x&&(E=x.from||((v=(m=this.namespace.payload)===null||m===void 0?void 0:m.ton_addr)===null||v===void 0?void 0:v.address)),r.params.from=E,r.params.network=this.getDefaultChain(),r.params.valid_until=y;let b=yield this.client.request(r);if(this.isRecord(b)&&"result"in b){const C={boc:b.result.toString()};return(0,core_1$5.logDebug)("TONProvider request provider response: ",JSON.stringify(b)),(0,core_1$5.logDebug)("TONProvider request provider result: ",JSON.stringify(C)),C}throw new core_1$5.OKXConnectError(core_1$5.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}else throw new core_1$5.OKXConnectError(core_1$5.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(r)})}requestAccounts(){return this.getAccounts()}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$3.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){var r,d;const g=this.namespace.accounts;if((0,core_1$5.logDebug)("ton getAccounts accounts :",g),(0,core_1$5.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!g)return[];let m=(d=(r=this.namespace.payload)===null||r===void 0?void 0:r.ton_addr)===null||d===void 0?void 0:d.address;return(0,core_1$5.logDebug)("ton getAccounts address :",m),m?[m]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$3.getChainId)(d),m=(0,utils_1$3.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if((0,core_1$5.logDebug)("[RPC] get http provider:",r,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&((0,core_1$5.logDebug)("setHttpProvider",r,d),this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$5.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$2.JsonRpcProvider(new JsonRpcConnection_1$2.JsonRpcConnection(g,(0,utils_1$3.getGlobal)("disableProviderPing")))}showRequestModal(r){switch(r.method){case"ton_sendTransaction":return!0;default:return!1}}}ton.default=TONProvider;var cosmos={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(cosmos,"__esModule",{value:!0});const constants_1$2=constants,core_1$4=src$6,utils_1$2=utils,JsonRpcConnection_1$1=JsonRpcConnection$1,JsonRpcProvider_1$1=JsonRpcProvider$1;class CosmosProvider{constructor(r,d,g){this.name=core_1$4.NameSpaceKeyCosmos,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$4(this,void 0,void 0,function*(){if((0,core_1$4.logDebug)("cosmos request --args--string>",JSON.stringify(r)),(0,core_1$4.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$4.OKXConnectError(core_1$4.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$2.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$2.getChainId)(d),m=(0,utils_1$2.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$1.JsonRpcProvider(new JsonRpcConnection_1$1.JsonRpcConnection(g,(0,utils_1$2.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}cosmos.default=CosmosProvider;var tron={},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(tron,"__esModule",{value:!0});const constants_1$1=constants,core_1$3=src$6,utils_1$1=utils,JsonRpcConnection_1=JsonRpcConnection$1,JsonRpcProvider_1=JsonRpcProvider$1;class TronProvider{constructor(r,d,g){this.name=core_1$3.NameSpaceKeyTron,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$3(this,void 0,void 0,function*(){if((0,core_1$3.logDebug)("tron request --args--string>",JSON.stringify(r)),(0,core_1$3.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$1.getChainId)(d),m=(0,utils_1$1.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,m);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(g,(0,utils_1$1.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}tron.default=TronProvider;var __awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(OKXUniversalProvider$1,"__esModule",{value:!0});OKXUniversalProvider$1.OKXUniversalProvider=void 0;const eip155_1=eip155,sui_1=sui,constants_1=constants,eventemitter3_1=__importDefault(eventemitter3Exports),client_1=client,core_1$2=src$6,namespaces_1=namespaces,solana_1=__importDefault(solana),btc_1=__importDefault(btc),aptos_1=__importDefault(aptos),ton_1=__importDefault(ton),cosmos_1=__importDefault(cosmos),tron_1=__importDefault(tron),utils_1=utils,packages_1=packages,provider_1=provider;class OKXUniversalProvider{static init(r){return __awaiter$2(this,void 0,void 0,function*(){(0,core_1$2.logDebug)("OKXUniversalProvider init() called"),(0,core_1$2.checkMetaData)(r.dappMetaData),(0,utils_1.setGlobal)("disableProviderPing",!0);let d;return window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof OKXUniversalProvider?((0,core_1$2.logDebug)("OKXUniversalConnect init() old called"),d=window.okxConnectUniversalinwindow):((0,core_1$2.logDebug)("OKXUniversalConnect init() new called"),d=new OKXUniversalProvider(r),yield d.initialize(),window&&(window.okxConnectUniversalinwindow=d)),(0,core_1$2.getDefaultReporter)().configVersionAndSide("universalprovider-1.5.2","dapp",d.providerOpts.dappMetaData.name),d})}constructor(r){this.rpcProviders={},this.events=new eventemitter3_1.default,this.providerOpts=r}request(r,d){return __awaiter$2(this,void 0,void 0,function*(){if((0,core_1$2.logDebug)("OKXUniversalProvider request() called"),(0,core_1$2.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const{namespace:g,requestParam:m}=this.buildRequestParamFromRequest(r,d);return yield this.getProvider(g).request(m)})}buildRequestParamFromRequest(r,d){var g;(0,core_1$2.logDebug)("UniversalProvider request args >>>>>>>: ",d,JSON.stringify(r));let[m,v]=this.validateChain(d);if(!this.session)throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let _=Object.keys(this.session.namespaces);if(!d&&_&&_.length>1)throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");m=="aptos"&&v=="mainnet"&&(m="aptos",v="637"),m=="movement"&&v=="testnet"&&(m="aptos",v="70000060");const y=Object.assign(Object.assign({},r),{chainId:`${m}:${v}`,redirect:(g=r.redirect)!==null&&g!==void 0?g:this.sessionConfig.redirect});return{namespace:m,requestParam:y}}enable(){return __awaiter$2(this,void 0,void 0,function*(){if(!this.client)throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session)if(this.connectOpts)yield this.connect(this.connectOpts);else throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");return yield this.requestAccounts()})}disconnect(){return __awaiter$2(this,void 0,void 0,function*(){if((0,core_1$2.logDebug)("OKXUniversalProvider disconnect() called"),(0,core_1$2.reportLog)("provider disconnect called"),!this.session)throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise(r=>__awaiter$2(this,void 0,void 0,function*(){let d=!1;const g=()=>__awaiter$2(this,void 0,void 0,function*(){d||(d=!0,yield this.disconnectAndEmit(),yield this.cleanup(),r(),(0,core_1$2.logDebug)("UniversalProvider disconnect Disconnected"),(0,core_1$2.reportLog)("provider disconnect disconnected"))});try{yield this.client.disconnect(),yield g()}catch{yield g()}}))})}disconnectAndEmit(){var r,d;this.client.engine.connectionManager.disconnect(),this.events.emit("disconnect",{topic:(r=this.session)===null||r===void 0?void 0:r.topic}),this.events.emit("session_delete",{topic:(d=this.session)===null||d===void 0?void 0:d.topic})}aptosChainNameToGeneralId(r){return r=="aptos:mainnet"?"aptos:637":r=="movement:testnet"?"aptos:70000060":r}replaceAptos(r){var d,g;let m=(d=r.namespaces)===null||d===void 0?void 0:d.aptos;if(m!=null){let _=this.replaceAptosInner(m);r.namespaces!=null&&"aptos"in r.namespaces&&_!=null&&(r.namespaces.aptos=_)}let v=(g=r.optionalNamespaces)===null||g===void 0?void 0:g.aptos;if(v!=null){let _=this.replaceAptosInner(v);r.optionalNamespaces!=null&&"aptos"in r.optionalNamespaces&&_!=null&&(r.optionalNamespaces.aptos=_)}return r}replaceAptosInner(r){var d;return r!=null&&(r.chains=(d=r.chains)===null||d===void 0?void 0:d.map(g=>this.aptosChainNameToGeneralId(g)),r.defaultChain!=null&&(r.defaultChain=this.aptosChainNameToGeneralId(r.defaultChain))),r}replaceAptosGeneralIdWithNetName(r){return r.includes("aptos:637")?r=r.replace("aptos:637","aptos:mainnet"):r.includes("aptos:70000060")&&(r=r.replace("aptos:70000060","movement:testnet")),r}replaceSessionAptos(r){var d;let g=(d=r==null?void 0:r.namespaces)===null||d===void 0?void 0:d.aptos;if(g!=null&&g.chains!=null){g.chains=g.chains.map(v=>this.replaceAptosGeneralIdWithNetName(v)),g.accounts=g.accounts.map(v=>this.replaceAptosGeneralIdWithNetName(v));let m={};Object.keys(g.extra||{}).forEach((v,_)=>{this.replaceAptosGeneralIdWithNetName(v),m[this.replaceAptosGeneralIdWithNetName(v)]=Object.values((r==null?void 0:r.namespaces.aptos.extra)||{})[_]}),g.extra=m}(0,core_1$2.logDebug)("replaceSessionAptos",r)}connected(){(0,core_1$2.logDebug)("OKXUniversalProvider connected() called"),(0,core_1$2.reportLog)("provider connected called");let r=()=>{try{this.cleanup(),this.client.engine.connectionManager.disconnect()}catch(d){(0,core_1$2.logDebug)("Error during disconnect:",d)}};try{return this.session?this.client.engine.connectionManager.getCurrentConnectionReady()?!0:(r(),!1):!1}catch{return r(),!1}}connectAndSign(r,d){return __awaiter$2(this,void 0,void 0,function*(){(0,core_1$2.logDebug)("OKXUniversalProvider connectAndSign() called");const g=Object.assign(Object.assign({},r),{signRequest:d});return(0,core_1$2.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(r)),(0,core_1$2.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(d)),yield this.connect(g)})}connect(r){return __awaiter$2(this,void 0,void 0,function*(){if((0,core_1$2.logDebug)("OKXUniversalProvider connect() called"),(0,core_1$2.reportLog)("provider connect called"),!this.client)throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;r=this.replaceAptos(r),(0,core_1$2.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(r)),r.sessionConfig===void 0&&(r.sessionConfig={}),r.sessionConfig.openUniversalUrl===void 0&&(r.sessionConfig.openUniversalUrl=(0,core_1$2.isMobileUserAgent)()),this.setNamespaces(r);try{(0,core_1$2.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(r)}`);let d=yield this.client.connect(r);if(this.replaceSessionAptos(d),(0,core_1$2.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(d)}`),d){if(this.session=d,this.client.session=d,(0,core_1$2.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(r)),this.onConnect(),r.signRequest&&r.signRequest.length>0){let g=r.signRequest[0],m=[];typeof window<"u"&&window&&window.okxConnectUniversalUIinwindow?((0,core_1$2.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(m=this.session.signResponse)):((0,core_1$2.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?m=this.session.signResponse:m.push((0,packages_1.creatNotSupportMethodItemReplay)(g))),(0,core_1$2.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(m)}`),setTimeout(()=>{this.events.emit("connect_signResponse",m)},100)}return d}return}catch(d){throw(0,core_1$2.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(d)),d}})}syncAllAddresses(){return __awaiter$2(this,void 0,void 0,function*(){if((0,provider_1.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}on(r,d){this.events.on(r,d)}once(r,d){this.events.once(r,d)}removeListener(r,d){this.events.removeListener(r,d)}off(r,d){this.events.off(r,d)}setDefaultChain(r,d){(0,core_1$2.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[g,m]=this.validateChain(r);this.getProvider(g).setDefaultChain(m,d)}catch(g){if(!/Please call connect/.test(g.message))throw g}}checkStorage(){return __awaiter$2(this,void 0,void 0,function*(){let r=yield this.getFromStore("connectSession");if((0,core_1$2.logDebug)(r),r){let d=r;this.session=d,this.client.session=this.session,this.sessionConfig=d.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,core_1$2.logDebug)("[evm u-provider] do reconnection",this.session),yield this.client.restoreconnect(d),this.createProviders(),this.registerEventListeners(),setTimeout(()=>{this.events.emit("reconnect",{session:this.session})},100),this.registerEventListeners()}})}initialize(){return __awaiter$2(this,void 0,void 0,function*(){(0,core_1$2.logDebug)("OKXUniversalProvider initialize() called"),(0,core_1$2.reportLog)("provider initialize called");const r=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new client_1.SignClient(r,this.events),yield this.checkStorage()})}createProviders(){if(!this.client)throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map(d=>(0,namespaces_1.parseNamespaceKey)(d)))].forEach(d=>{if(!this.session)return;const m=this.session.namespaces[d];switch((0,core_1$2.logDebug)("init eip155 >> ",m),d){case"eip155":const v={namespace:m};this.rpcProviders[d]=new eip155_1.Eip155Provider(v,this.client,this.events);break;case"solana":const _={namespace:m};let y=new solana_1.default(_,"solana",this.client,this.events);this.rpcProviders[d]=y;let x=new solana_1.default(_,"sonic",this.client,this.events);this.rpcProviders.sonic=x;let E=new solana_1.default(_,"svm",this.client,this.events);this.rpcProviders.svm=E;break;case"ton":const b={namespace:m};let C=new ton_1.default(b,this.client,this.events);this.rpcProviders[d]=C;break;case"sui":const R={namespace:m};let O=new sui_1.SuiProvider(R,this.client,this.events);O.name="sui",this.rpcProviders[d]=O;break;case"btc":const A={namespace:m};let M=new btc_1.default(A,"btc",this.client,this.events);this.rpcProviders.btc=M;let P=new btc_1.default(A,"fractal",this.client,this.events);this.rpcProviders.fractal=P;break;case"aptos":let F=new aptos_1.default({namespace:m},"aptos",this.client,this.events);this.rpcProviders[d]=F;let L=new aptos_1.default({namespace:m},"movement",this.client,this.events);this.rpcProviders.movement=L;break;case"cosmos":let K=new cosmos_1.default({namespace:m},this.client,this.events);this.rpcProviders[d]=K;break;case"tron":let j=new tron_1.default({namespace:m},this.client,this.events);this.rpcProviders[d]=j;break}})}registerEventListeners(){if(typeof this.client>"u")throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener(()=>{this.disconnectAndEmit(),this.cleanup()}),this.on(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,r=>{this.onChainChanged(r)}),this.on(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES,r=>{if(r){const d=Object.keys(r)[0];this.session&&(this.session.namespaces[d]=r[d],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,core_1$2.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}})}getProvider(r){return(0,core_1$2.logDebug)("current get providers",this.rpcProviders),(0,core_1$2.logDebug)("query namespace: ",r),this.rpcProviders[r]}setNamespaces(r){this.connectOpts=r;const{namespaces:d,sessionConfig:g}=r,m={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon};this.sessionConfig=Object.assign({dappInfo:m},g),(0,core_1$2.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",g)}validateChain(r){var d;let[g,m]=(r==null?void 0:r.split(":"))||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,core_1$2.logDebug)("get name & chain",g,m),[g,m];if(g){if(!this.isChainNamespaceInSession(g))throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${g}' is not configured. Please call connect() first with namespace config.`);if(m&&r){(0,core_1$2.logDebug)("this.session.namespaces -->> ",g,JSON.stringify(this.session.namespaces));const y=(d=this.session.namespaces[g])===null||d===void 0?void 0:d.chains;if((0,core_1$2.logDebug)("get chainsArr & chain",JSON.stringify(y),r),y&&!y.includes(r))throw new core_1$2.OKXConnectError(core_1$2.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${r}'`)}}if(g&&m)return(0,core_1$2.logDebug)("get name & chain",g,m),[g,m];let v=(0,namespaces_1.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const _=this.rpcProviders[v].getDefaultChain();return(0,core_1$2.logDebug)("get default chain:",_),[v,_]}isChainNamespaceInSession(r){var d,g;if(Object.keys(((d=this.session)===null||d===void 0?void 0:d.namespaces)||{}).map(v=>(0,namespaces_1.parseNamespaceKey)(v)).includes(r))return!0;let m=!1;return Object.values(((g=this.session)===null||g===void 0?void 0:g.namespaces)||{}).forEach(v=>{v.chains.forEach(_=>{_.split(":")[0]==r&&(m=!0)})}),m}requestAccountsWithNamespace(r){return this.getProvider(r).requestAccounts()}requestDefaultChainWithNamespace(r){return this.getProvider(r).getDefaultChain()}requestAccounts(){return __awaiter$2(this,void 0,void 0,function*(){const[r]=this.validateChain();return yield this.getProvider(r).requestAccounts()})}onChainChanged(r){var d;if(!(!((d=this.session)===null||d===void 0)&&d.namespaces))return;const[g,m]=this.validateChain(r);m&&(this.session.namespaces[g]&&(this.session.namespaces[g].defaultChain=m,this.persist("connectSession",this.session)),this.events.emit("chainChanged",m))}onConnect(){this.createProviders(),this.session&&this.persist("connectSession",this.session),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return __awaiter$2(this,void 0,void 0,function*(){this.session=void 0,this.client.session=void 0,this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)})}persist(r,d){return(0,core_1$2.logDebug)("[evm u-provider] persisit data",r,d),this.client.engine.connectionManager.saveSessionContent(r,d)}getFromStore(r){return __awaiter$2(this,void 0,void 0,function*(){return this.client.engine.connectionManager.getSessionContent(r)})}showRequestModal(r,d){try{const{namespace:g,requestParam:m}=this.buildRequestParamFromRequest(r,d);return this.getProvider(g).showRequestModal(m)}catch{return!1}}}OKXUniversalProvider$1.OKXUniversalProvider=OKXUniversalProvider;OKXUniversalProvider$1.default=OKXUniversalProvider;var OKXBtcProvider={},hasRequiredOKXBtcProvider;function requireOKXBtcProvider(){if(hasRequiredOKXBtcProvider)return OKXBtcProvider;hasRequiredOKXBtcProvider=1;var f=commonjsGlobal&&commonjsGlobal.__awaiter||function(g,m,v,_){function y(x){return x instanceof v?x:new v(function(E){E(x)})}return new(v||(v=Promise))(function(x,E){function b(O){try{R(_.next(O))}catch(A){E(A)}}function C(O){try{R(_.throw(O))}catch(A){E(A)}}function R(O){O.done?x(O.value):y(O.value).then(b,C)}R((_=_.apply(g,m||[])).next())})};Object.defineProperty(OKXBtcProvider,"__esModule",{value:!0}),OKXBtcProvider.OKXBtcProvider=void 0;const r=requireSrc();let d=class{constructor(m){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=m}getAddressForChainId(m){var v,_;if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let x=(_=(v=this.provider.session)===null||v===void 0?void 0:v.namespaces.btc)===null||_===void 0?void 0:_.accounts.filter(function(C){return C.startsWith(m)});if(x==null||x.length<0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return x[0].split(":")[2]}getAccount(m){var v,_,y;let x=this.checkChainId(m);if(x==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let E=(y=(_=(v=this.provider.session)===null||v===void 0?void 0:v.namespaces[x])===null||_===void 0?void 0:_.extra)===null||y===void 0?void 0:y[m],b="";return E!=null&&(b=E.publicKey),{address:this.getAddressForChainId(m),publicKey:b}}signMessage(m,v,_){return f(this,void 0,void 0,function*(){if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(v==="undefined")throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let x={signStr:v,from:this.getAddressForChainId(m)};_&&(x.type=_);try{const E=yield this.provider.request({method:"btc_signMessage",params:x},m);return"result"in E?E.result:E.error}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendBitcoin(m,v,_,y){return f(this,void 0,void 0,function*(){if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let E={from:this.getAddressForChainId(m),to:v,value:(_/1e8).toString()};y!=null&&y.feeRate&&(E.satBytes=y.feeRate.toString());let b=yield this.send(m,E);return b!==void 0&&"txhash"in b?b.txhash:b})}send(m,v){return f(this,void 0,void 0,function*(){if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(v,"to","value"))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");v.from=this.getAddressForChainId(m);try{const y=yield this.provider.request({method:"btc_send",params:v},m);return"result"in y?{txhash:y.result}:y.error}catch(y){throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${y}`)}})}signPsbt(m,v,_){return f(this,void 0,void 0,function*(){return new Promise((y,x)=>{this.signPsbts(m,[v],[_]).then(E=>{let b=JSON.parse(E);y(b[0])}).catch(E=>{x(E)})})})}signPsbts(m,v,_){return f(this,void 0,void 0,function*(){if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(v===void 0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let x={psbtHexs:v,options:_};x.from=this.getAddressForChainId(m);try{const E=yield this.provider.request({method:"btc_signPsbts",params:x},m);return"result"in E?E.result:E.error}catch(E){throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${E}`)}})}signAndPushPsbt(m,v,_){return f(this,void 0,void 0,function*(){if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(v===void 0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let x={psbtHex:v,options:_};x.from=this.getAddressForChainId(m);try{const E=yield this.provider.request({method:"btc_signAndPushPsbt",params:x},m);return"result"in E?JSON.parse(E.result):E.error}catch(E){throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${E}`)}})}sendInscription(m,v,_,y){return f(this,void 0,void 0,function*(){let x={address:v,inscriptionId:_,options:y};if(this.checkChainId(m)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(v==="undefined")throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var b=0;y&&"feeRate"in y&&(b=y.feeRate);let C="",R=this.getAddressForChainId(m);var O=7;if(_!=="undefined"){let M="-Atomicals",P="-Ordinals";_!=null&&_.toLowerCase().endsWith(M.toLowerCase())?(O=8,_=this.removeSuffix(_,M)):_!=null&&_.toLowerCase().endsWith(P.toLowerCase())&&(_=this.removeSuffix(_,P))}let A={scenario:5,feeRate:b,txType:"20",to:v,batchBean:[{coinAmount:"1",nftId:_,protocolId:O,coinId:C,inscriptionId:"",from:R}],extension:x};try{const M=yield this.provider.request({method:"btc_sendInscription",params:A},m);return"result"in M?M.result:M.error}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}removeSuffix(m,v){return m.endsWith(v)?m.slice(0,m.length-v.length):m}checkParameters(m,...v){var _=[];return v.forEach(y=>{`${y}`in m||_.push(y)}),_.length>0?(console.log("not find key: ",_.join(",")),!1):!0}checkChainId(m){if(this.caip.includes(m)){let[v,_]=m.split(":");return v}}};return OKXBtcProvider.OKXBtcProvider=d,OKXBtcProvider.default=d,OKXBtcProvider}var OKXCosmosProvider$1={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(OKXCosmosProvider$1,"__esModule",{value:!0});OKXCosmosProvider$1.OKXCosmosProvider=void 0;const core_1$1=src$6;class OKXCosmosProvider{constructor(r){this.provider=r}getAccount(r){var d,g,m,v,_,y;(0,core_1$1.logDebug)("OKXCosmosProvider getAccount chainId:",r),(0,core_1$1.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify((d=this.provider.session)===null||d===void 0?void 0:d.namespaces));let x=(m=(g=this.provider.session)===null||g===void 0?void 0:g.namespaces[core_1$1.NameSpaceKeyCosmos])===null||m===void 0?void 0:m.accounts.filter(function(O){return O.startsWith(r)})[0];if((0,core_1$1.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(x)),!x)return;const E=x.split(":"),b=x.split(":")[2];(0,core_1$1.logDebug)("OKXCosmosProvider getAccount address:",b);let C=(y=(_=(v=this.provider.session)===null||v===void 0?void 0:v.namespaces[core_1$1.NameSpaceKeyCosmos])===null||_===void 0?void 0:_.extra)===null||y===void 0?void 0:y[`${E[0]}:${E[1]}`],R="";if(C!=null&&(R=C.publicKey,console.log("aptos_publicKey",R)),!!b)return{algo:"secp256k1",address:b,bech32Address:b,pubKey:this.hexToUint8Array(R)}}signArbitrary(r,d,g){return __awaiter$1(this,void 0,void 0,function*(){const m=window.btoa(g),v={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:d,data:m}}],memo:""};let _={chainId:r,method:"cosmos_signArbitrary",params:{signer:d,chain_id:r.split(":")[1],data:v}};try{const y=yield this.provider.request(_,r);return"result"in y?typeof y.result=="string"?JSON.parse(y.result):y.result:y.error}catch(y){return y}})}signAmino(r,d,g,m){return __awaiter$1(this,void 0,void 0,function*(){if(g.msgs[0].type=="sign/MsgSignData"){let v={chainId:r,method:"cosmos_signArbitrary",params:{signer:d,chain_id:r.split(":")[1],data:g}};try{const _=yield this.provider.request(v,r);return"result"in _?_.result:_.error}catch(_){return _}}else{let v={chainId:r,method:"cosmos_signAmino",params:{signer:d,chainId:r.split(":")[1],sign_doc:g,signOptions:m}};try{const _=yield this.provider.request(v,r);if("result"in _){const y=JSON.parse(_.result);return console.log("signdoc",g,y.signDoc),g.fee=y.signDoc.fee,{signed:g,signature:y.signature}}else return _.error}catch(_){return _}}})}signDirect(r,d,g,m){return __awaiter$1(this,void 0,void 0,function*(){const v={bodyBytes:this.bufferToHex(g.bodyBytes),authInfoBytes:this.bufferToHex(g.authInfoBytes),chainId:g.chainId,accountNumber:g.accountNumber?g.accountNumber.toString():null,signOptions:m||null};let _={chainId:r,method:"cosmos_signDirect",params:{signer:d,chainId:r.split(":")[1],sign_doc:v}};try{const y=yield this.provider.request(_,r);if("result"in y){const x=JSON.parse(y.result);return console.log("signdirect result",x),g.authInfoBytes=this.messageToBuffer(x.signDoc.authInfoBytes),{signed:g,signature:x.signature}}}catch(y){return y}})}messageToBuffer(r){var d=Uint8Array.from([]);try{typeof r=="string"?d=this.hexToUint8Array(r.replace("0x","")):d=Uint8Array.from(r)}catch(g){console.log(`messageToBuffer error: ${g}`)}return d}bufferToHex(r){return"0x"+[...new Uint8Array(r)].map(g=>g.toString(16).padStart(2,"0")).join("")}hexToUint8Array(r){if(r.length%2!==0)throw"Invalid hexString";for(var d=new Uint8Array(r.length/2),g=0;g<r.length;g+=2){var m=parseInt(r.substr(g,2),16);if(isNaN(m))throw"Invalid hexString";d[g/2]=m}return d}}OKXCosmosProvider$1.OKXCosmosProvider=OKXCosmosProvider;var OKXTonProvider={},hasRequiredOKXTonProvider;function requireOKXTonProvider(){if(hasRequiredOKXTonProvider)return OKXTonProvider;hasRequiredOKXTonProvider=1;var f=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,v,_,y){function x(E){return E instanceof _?E:new _(function(b){b(E)})}return new(_||(_=Promise))(function(E,b){function C(A){try{O(y.next(A))}catch(M){b(M)}}function R(A){try{O(y.throw(A))}catch(M){b(M)}}function O(A){A.done?E(A.value):x(A.value).then(C,R)}O((y=y.apply(m,v||[])).next())})};Object.defineProperty(OKXTonProvider,"__esModule",{value:!0}),OKXTonProvider.OKXTonProvider=void 0;const r=requireSrc(),d=src$6;let g=class{constructor(v){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=v,this.provider.on("connect",()=>{let _=this.wallet();(0,d.logDebug)("OKXTONProvider event connect:",JSON.stringify(_)),this.statusChangeSubscriptions.forEach(y=>y(_))}),this.provider.on("reconnect",()=>{let _=this.wallet();(0,d.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(_)),this.statusChangeSubscriptions.forEach(y=>y(_))}),this.provider.on("disconnect",()=>{(0,d.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach(_=>_(null))}),this.provider.on("connect_error",_=>{(0,d.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(_)),this.statusChangeErrorSubscriptions.forEach(y=>y(_))})}connected(){return this.provider.connected()?!!this.provider.session.namespaces.ton:!1}account(){try{if(!this.provider.session)return null;let v=this.provider.session.namespaces.ton;if(!v||!v.payload||!v.payload.ton_addr)return null;let _=v.payload.ton_addr;return{address:_.address,chain:_.network,walletStateInit:_.walletStateInit,publicKey:_.publicKey}}catch(v){return(0,d.logDebug)("OKXTONProvider account  error:",JSON.stringify(v)),null}}wallet(){if(this.connected())try{let v=this.provider.session.wallet;const y={device:{platform:v.platform,appName:v.appName,appVersion:v.appVersion,maxProtocolVersion:v.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()};let x=this.provider.session.namespaces.ton;return x&&x.payload&&x.payload.ton_proof&&(y.connectItems={tonProof:x.payload.ton_proof}),(0,d.logDebug)("OKXTONProvider wallet :",JSON.stringify(y)),y}catch(v){return(0,d.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(v)),null}return null}onStatusChange(v,_){return this.statusChangeSubscriptions.push(v),_&&this.statusChangeErrorSubscriptions.push(_),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(y=>y!==v),_&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(y=>y!==_))}}sendTransaction(v){return f(this,void 0,void 0,function*(){if(v.network&&v.network!==d.TONCHAIN.MAINNET)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(v.network||(v.network=d.TONCHAIN.MAINNET),this.provider.session&&!v.from){const x=this.provider.requestAccountsWithNamespace("ton");v.from=x[0]}const _={method:"ton_sendTransaction",params:v};let y="ton:"+d.TONCHAIN.MAINNET;return(0,d.logDebug)("OKXTONProvider sendTransaction transaction----:",y,JSON.stringify(_)),this.provider.request(_,y)})}};return OKXTonProvider.OKXTonProvider=g,OKXTonProvider.default=g,OKXTonProvider}var OKXTronProvider$1={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function y(b){try{E(g.next(b))}catch(C){_(C)}}function x(b){try{E(g.throw(b))}catch(C){_(C)}}function E(b){b.done?v(b.value):m(b.value).then(y,x)}E((g=g.apply(f,r||[])).next())})};Object.defineProperty(OKXTronProvider$1,"__esModule",{value:!0});OKXTronProvider$1.OKXTronProvider=void 0;const core_1=src$6;class OKXTronProvider{constructor(r){this.TRON_CHAIN_ID="tron:mainnet",this.provider=r}getChain(r){if(r==null&&(r=this.TRON_CHAIN_ID),r!=this.TRON_CHAIN_ID)throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+r+"is wrong for OKXTronProvider");return r}getAccount(r){var d,g,m,v,_;r=this.getChain(r);let y=(g=(d=this.provider.session)===null||d===void 0?void 0:d.namespaces[core_1.NameSpaceKeyTron])===null||g===void 0?void 0:g.accounts.filter(function(C){return C.startsWith(r)})[0];if(!y)return;const x=y.split(":"),E=y.split(":")[2];let b=(_=(v=(m=this.provider.session)===null||m===void 0?void 0:m.namespaces[core_1.NameSpaceKeyTron])===null||v===void 0?void 0:v.extra)===null||_===void 0?void 0:_[`${x[0]}:${x[1]}`];if(b!=null&&b.publicKey,!!E)return{address:E}}stringToHex(r){let d="";for(let g=0;g<r.length;g++)d+=r.charCodeAt(g).toString(16).padStart(2,"0");return d}signMessage(r,d){return __awaiter(this,void 0,void 0,function*(){d=this.getChain(d);let g={chainId:d,method:"tron_signMessage",params:{message:this.stringToHex(r)}};try{const m=yield this.provider.request(g,d);return"result"in m?m.result:m.error}catch(m){return m}})}signMessageV2(r,d){return __awaiter(this,void 0,void 0,function*(){d=this.getChain(d);let g={chainId:d,method:"tron_signMessageV2",params:{message:r}};try{const m=yield this.provider.request(g,d);return"result"in m?m.result:m.error}catch(m){return m}})}signTransaction(r,d){return __awaiter(this,void 0,void 0,function*(){d=this.getChain(d);let g={method:"tron_signTransaction",params:r};try{const m=yield this.provider.request(g,d);if("result"in m){let v;typeof m.result=="string"?v=JSON.parse(m.result):v=m.result;let _={};_.visible=v.visible,_.txID=v.txID;let y={};return y.contract=v.raw_data.contract,y.expiration=v.raw_data.expiration,y.ref_block_bytes=v.raw_data.ref_block_bytes,y.ref_block_hash=v.raw_data.ref_block_hash,y.timestamp=v.raw_data.timestamp,_.raw_data=y,_.raw_data_hex=v.raw_data_hex,_.signature=v.signature,_}}catch(m){return m}})}signAndSendTransaction(r,d){return __awaiter(this,void 0,void 0,function*(){d=this.getChain(d);let g={method:"tron_signAndSendTransaction",params:r};try{const m=yield this.provider.request(g,d);if("result"in m)return m.result}catch(m){return m}})}}OKXTronProvider$1.OKXTronProvider=OKXTronProvider;var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(x,E,b,C){C===void 0&&(C=b);var R=Object.getOwnPropertyDescriptor(E,b);(!R||("get"in R?!E.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return E[b]}}),Object.defineProperty(x,C,R)}:function(x,E,b,C){C===void 0&&(C=b),x[C]=E[b]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(x,E){for(var b in x)b!=="default"&&!Object.prototype.hasOwnProperty.call(E,b)&&r(E,x,b)};Object.defineProperty(f,"__esModule",{value:!0}),f.OKXTronProvider=f.OKXTonProvider=f.OKXCosmosProvider=f.OKXBtcProvider=f.OKXUniversalProvider=void 0,d(types,f),d(packages,f);var g=OKXUniversalProvider$1;Object.defineProperty(f,"OKXUniversalProvider",{enumerable:!0,get:function(){return g.OKXUniversalProvider}});var m=requireOKXBtcProvider();Object.defineProperty(f,"OKXBtcProvider",{enumerable:!0,get:function(){return m.OKXBtcProvider}});var v=OKXCosmosProvider$1;Object.defineProperty(f,"OKXCosmosProvider",{enumerable:!0,get:function(){return v.OKXCosmosProvider}});var _=requireOKXTonProvider();Object.defineProperty(f,"OKXTonProvider",{enumerable:!0,get:function(){return _.OKXTonProvider}});var y=OKXTronProvider$1;Object.defineProperty(f,"OKXTronProvider",{enumerable:!0,get:function(){return y.OKXTronProvider}}),d(src$6,f)}(src$2)),src$2}var srcExports=requireSrc(),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(f,r,d)=>r in f?__defProp(f,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[r]=d,__spreadValues=(f,r)=>{for(var d in r||(r={}))__hasOwnProp.call(r,d)&&__defNormalProp(f,d,r[d]);if(__getOwnPropSymbols)for(var d of __getOwnPropSymbols(r))__propIsEnum.call(r,d)&&__defNormalProp(f,d,r[d]);return f},__spreadProps=(f,r)=>__defProps(f,__getOwnPropDescs(r)),__publicField=(f,r,d)=>(__defNormalProp(f,typeof r!="symbol"?r+"":r,d),d),__async=(f,r,d)=>new Promise((g,m)=>{var v=x=>{try{y(d.next(x))}catch(E){m(E)}},_=x=>{try{y(d.throw(x))}catch(E){m(E)}},y=x=>x.done?g(x.value):Promise.resolve(x.value).then(v,_);y((d=d.apply(f,r)).next())}),_a,_b,_c,_d,_e,_f,_g,_i,THEME=(f=>(f.DARK="DARK",f.LIGHT="LIGHT",f))(THEME||{});class OKXConnectUiError extends src$6.OKXConnectError{constructor(r){super(1,r)}}const equalFn=(f,r)=>f===r,$PROXY=Symbol("solid-proxy"),SUPPORTS_PROXY=typeof Proxy=="function",$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null};var Owner=null;let Transition$1=null,ExternalSourceConfig=null,Listener=null,Updates=null,Effects=null,ExecCount=0;function createRoot(f,r){const d=Listener,g=Owner,m=f.length===0,v=r===void 0?g:r,_=m?UNOWNED:{owned:null,cleanups:null,context:v?v.context:null,owner:v},y=m?f:()=>f(()=>untrack(()=>cleanNode(_)));Owner=_,Listener=null;try{return runUpdates(y,!0)}finally{Listener=d,Owner=g}}function createSignal(f,r){r=r?Object.assign({},signalOptions,r):signalOptions;const d={value:f,observers:null,observerSlots:null,comparator:r.equals||void 0},g=m=>(typeof m=="function"&&(m=m(d.value)),writeSignal(d,m));return[readSignal.bind(d),g]}function createComputed(f,r,d){const g=createComputation(f,r,!0,STALE);updateComputation(g)}function createRenderEffect(f,r,d){const g=createComputation(f,r,!1,STALE);updateComputation(g)}function createEffect(f,r,d){runEffects=runUserEffects;const g=createComputation(f,r,!1,STALE);(!d||!d.render)&&(g.user=!0),Effects?Effects.push(g):updateComputation(g)}function createMemo(f,r,d){d=d?Object.assign({},signalOptions,d):signalOptions;const g=createComputation(f,r,!0,0);return g.observers=null,g.observerSlots=null,g.comparator=d.equals||void 0,updateComputation(g),readSignal.bind(g)}function batch(f){return runUpdates(f,!1)}function untrack(f){if(Listener===null)return f();const r=Listener;Listener=null;try{return f()}finally{Listener=r}}function onMount(f){createEffect(()=>untrack(f))}function onCleanup(f){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[f]:Owner.cleanups.push(f)),f}function getListener(){return Listener}function createContext(f,r){const d=Symbol("context");return{id:d,Provider:createProvider(d),defaultValue:f}}function useContext(f){let r;return Owner&&Owner.context&&(r=Owner.context[f.id])!==void 0?r:f.defaultValue}function children(f){const r=createMemo(f),d=createMemo(()=>resolveChildren(r()));return d.toArray=()=>{const g=d();return Array.isArray(g)?g:g!=null?[g]:[]},d}function readSignal(){if(this.sources&&this.state)if(this.state===STALE)updateComputation(this);else{const f=Updates;Updates=null,runUpdates(()=>lookUpstream(this),!1),Updates=f}if(Listener){const f=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(f)):(Listener.sources=[this],Listener.sourceSlots=[f]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(f,r,d){let g=f.value;return(!f.comparator||!f.comparator(g,r))&&(f.value=r,f.observers&&f.observers.length&&runUpdates(()=>{for(let m=0;m<f.observers.length;m+=1){const v=f.observers[m],_=Transition$1&&Transition$1.running;_&&Transition$1.disposed.has(v),(_?!v.tState:!v.state)&&(v.pure?Updates.push(v):Effects.push(v),v.observers&&markDownstream(v)),_||(v.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1)),r}function updateComputation(f){if(!f.fn)return;cleanNode(f);const r=ExecCount;runComputation(f,f.value,r)}function runComputation(f,r,d){let g;const m=Owner,v=Listener;Listener=Owner=f;try{g=f.fn(r)}catch(_){return f.pure&&(f.state=STALE,f.owned&&f.owned.forEach(cleanNode),f.owned=null),f.updatedAt=d+1,handleError(_)}finally{Listener=v,Owner=m}(!f.updatedAt||f.updatedAt<=d)&&(f.updatedAt!=null&&"observers"in f?writeSignal(f,g):f.value=g,f.updatedAt=d)}function createComputation(f,r,d,g=STALE,m){const v={fn:f,state:g,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:Owner,context:Owner?Owner.context:null,pure:d};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(v):Owner.owned=[v]),v}function runTop(f){if(f.state===0)return;if(f.state===PENDING)return lookUpstream(f);if(f.suspense&&untrack(f.suspense.inFallback))return f.suspense.effects.push(f);const r=[f];for(;(f=f.owner)&&(!f.updatedAt||f.updatedAt<ExecCount);)f.state&&r.push(f);for(let d=r.length-1;d>=0;d--)if(f=r[d],f.state===STALE)updateComputation(f);else if(f.state===PENDING){const g=Updates;Updates=null,runUpdates(()=>lookUpstream(f,r[0]),!1),Updates=g}}function runUpdates(f,r){if(Updates)return f();let d=!1;r||(Updates=[]),Effects?d=!0:Effects=[],ExecCount++;try{const g=f();return completeUpdates(d),g}catch(g){d||(Effects=null),Updates=null,handleError(g)}}function completeUpdates(f){if(Updates&&(runQueue(Updates),Updates=null),f)return;const r=Effects;Effects=null,r.length&&runUpdates(()=>runEffects(r),!1)}function runQueue(f){for(let r=0;r<f.length;r++)runTop(f[r])}function runUserEffects(f){let r,d=0;for(r=0;r<f.length;r++){const g=f[r];g.user?f[d++]=g:runTop(g)}for(r=0;r<d;r++)runTop(f[r])}function lookUpstream(f,r){f.state=0;for(let d=0;d<f.sources.length;d+=1){const g=f.sources[d];if(g.sources){const m=g.state;m===STALE?g!==r&&(!g.updatedAt||g.updatedAt<ExecCount)&&runTop(g):m===PENDING&&lookUpstream(g,r)}}}function markDownstream(f){for(let r=0;r<f.observers.length;r+=1){const d=f.observers[r];d.state||(d.state=PENDING,d.pure?Updates.push(d):Effects.push(d),d.observers&&markDownstream(d))}}function cleanNode(f){let r;if(f.sources)for(;f.sources.length;){const d=f.sources.pop(),g=f.sourceSlots.pop(),m=d.observers;if(m&&m.length){const v=m.pop(),_=d.observerSlots.pop();g<m.length&&(v.sourceSlots[_]=g,m[g]=v,d.observerSlots[g]=_)}}if(f.tOwned){for(r=f.tOwned.length-1;r>=0;r--)cleanNode(f.tOwned[r]);delete f.tOwned}if(f.owned){for(r=f.owned.length-1;r>=0;r--)cleanNode(f.owned[r]);f.owned=null}if(f.cleanups){for(r=f.cleanups.length-1;r>=0;r--)f.cleanups[r]();f.cleanups=null}f.state=0}function castError(f){return f instanceof Error?f:new Error(typeof f=="string"?f:"Unknown error",{cause:f})}function handleError(f,r=Owner){throw castError(f)}function resolveChildren(f){if(typeof f=="function"&&!f.length)return resolveChildren(f());if(Array.isArray(f)){const r=[];for(let d=0;d<f.length;d++){const g=resolveChildren(f[d]);Array.isArray(g)?r.push.apply(r,g):r.push(g)}return r}return f}function createProvider(f,r){return function(g){let m;return createRenderEffect(()=>m=untrack(()=>(Owner.context=__spreadProps(__spreadValues({},Owner.context),{[f]:g.value}),children(()=>g.children))),void 0),m}}function createComponent(f,r){return untrack(()=>f(r||{}))}function trueFn(){return!0}const propTraps={get(f,r,d){return r===$PROXY?d:f.get(r)},has(f,r){return r===$PROXY?!0:f.has(r)},set:trueFn,deleteProperty:trueFn,getOwnPropertyDescriptor(f,r){return{configurable:!0,enumerable:!0,get(){return f.get(r)},set:trueFn,deleteProperty:trueFn}},ownKeys(f){return f.keys()}};function resolveSource(f){return(f=typeof f=="function"?f():f)?f:{}}function resolveSources(){for(let f=0,r=this.length;f<r;++f){const d=this[f]();if(d!==void 0)return d}}function mergeProps(...f){let r=!1;for(let _=0;_<f.length;_++){const y=f[_];r=r||!!y&&$PROXY in y,f[_]=typeof y=="function"?(r=!0,createMemo(y)):y}if(SUPPORTS_PROXY&&r)return new Proxy({get(_){for(let y=f.length-1;y>=0;y--){const x=resolveSource(f[y])[_];if(x!==void 0)return x}},has(_){for(let y=f.length-1;y>=0;y--)if(_ in resolveSource(f[y]))return!0;return!1},keys(){const _=[];for(let y=0;y<f.length;y++)_.push(...Object.keys(resolveSource(f[y])));return[...new Set(_)]}},propTraps);const d={},g=Object.create(null);for(let _=f.length-1;_>=0;_--){const y=f[_];if(!y)continue;const x=Object.getOwnPropertyNames(y);for(let E=x.length-1;E>=0;E--){const b=x[E];if(b==="__proto__"||b==="constructor")continue;const C=Object.getOwnPropertyDescriptor(y,b);if(!g[b])g[b]=C.get?{enumerable:!0,configurable:!0,get:resolveSources.bind(d[b]=[C.get.bind(y)])}:C.value!==void 0?C:void 0;else{const R=d[b];R&&(C.get?R.push(C.get.bind(y)):C.value!==void 0&&R.push(()=>C.value))}}}const m={},v=Object.keys(g);for(let _=v.length-1;_>=0;_--){const y=v[_],x=g[y];x&&x.get?Object.defineProperty(m,y,x):m[y]=x?x.value:void 0}return m}function splitProps(f,...r){if(SUPPORTS_PROXY&&$PROXY in f){const m=new Set(r.length>1?r.flat():r[0]),v=r.map(_=>new Proxy({get(y){return _.includes(y)?f[y]:void 0},has(y){return _.includes(y)&&y in f},keys(){return _.filter(y=>y in f)}},propTraps));return v.push(new Proxy({get(_){return m.has(_)?void 0:f[_]},has(_){return m.has(_)?!1:_ in f},keys(){return Object.keys(f).filter(_=>!m.has(_))}},propTraps)),v}const d={},g=r.map(()=>({}));for(const m of Object.getOwnPropertyNames(f)){const v=Object.getOwnPropertyDescriptor(f,m),_=!v.get&&!v.set&&v.enumerable&&v.writable&&v.configurable;let y=!1,x=0;for(const E of r)E.includes(m)&&(y=!0,_?g[x][m]=v.value:Object.defineProperty(g[x],m,v)),++x;y||(_?d[m]=v.value:Object.defineProperty(d,m,v))}return[...g,d]}const narrowedError=f=>`Stale read from <${f}>.`;function Show(f){const r=f.keyed,d=createMemo(()=>f.when,void 0,{equals:(g,m)=>r?g===m:!g==!m});return createMemo(()=>{const g=d();if(g){const m=f.children;return typeof m=="function"&&m.length>0?untrack(()=>m(r?g:()=>{if(!untrack(d))throw narrowedError("Show");return f.when})):m}return f.fallback},void 0,void 0)}function Switch(f){let r=!1;const d=(v,_)=>(r?v[1]===_[1]:!v[1]==!_[1])&&v[2]===_[2],g=children(()=>f.children),m=createMemo(()=>{let v=g();Array.isArray(v)||(v=[v]);for(let _=0;_<v.length;_++){const y=v[_].when;if(y)return r=!!v[_].keyed,[_,y,v[_]]}return[-1]},void 0,{equals:d});return createMemo(()=>{const[v,_,y]=m();if(v<0)return f.fallback;const x=y.children;return typeof x=="function"&&x.length>0?untrack(()=>x(r?_:()=>{if(untrack(m)[0]!==v)throw narrowedError("Match");return y.when})):x},void 0,void 0)}function Match(f){return f}const booleans=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Properties=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...booleans]),ChildProperties=new Set(["innerHTML","textContent","innerText","children"]),Aliases=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),PropAliases=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function getPropAlias(f,r){const d=PropAliases[f];return typeof d=="object"?d[r]?d.$:void 0:d}const DelegatedEvents=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),SVGElements=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),SVGNamespace={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function reconcileArrays(f,r,d){let g=d.length,m=r.length,v=g,_=0,y=0,x=r[m-1].nextSibling,E=null;for(;_<m||y<v;){if(r[_]===d[y]){_++,y++;continue}for(;r[m-1]===d[v-1];)m--,v--;if(m===_){const b=v<g?y?d[y-1].nextSibling:d[v-y]:x;for(;y<v;)f.insertBefore(d[y++],b)}else if(v===y)for(;_<m;)(!E||!E.has(r[_]))&&r[_].remove(),_++;else if(r[_]===d[v-1]&&d[y]===r[m-1]){const b=r[--m].nextSibling;f.insertBefore(d[y++],r[_++].nextSibling),f.insertBefore(d[--v],b),r[m]=d[v]}else{if(!E){E=new Map;let C=y;for(;C<v;)E.set(d[C],C++)}const b=E.get(r[_]);if(b!=null)if(y<b&&b<v){let C=_,R=1,O;for(;++C<m&&C<v&&!((O=E.get(r[C]))==null||O!==b+R);)R++;if(R>b-y){const A=r[_];for(;y<b;)f.insertBefore(d[y++],A)}else f.replaceChild(d[y++],r[_++])}else _++;else r[_++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(f,r,d,g={}){let m;return createRoot(v=>{m=v,r===document?f():insert(r,f(),r.firstChild?null:void 0,d)},g.owner),()=>{m(),r.textContent=""}}function template$1(f,r,d){let g;const m=()=>{const _=document.createElement("template");return _.innerHTML=f,d?_.content.firstChild.firstChild:_.content.firstChild},v=r?()=>untrack(()=>document.importNode(g||(g=m()),!0)):()=>(g||(g=m())).cloneNode(!0);return v.cloneNode=v,v}function delegateEvents(f,r=window.document){const d=r[$$EVENTS]||(r[$$EVENTS]=new Set);for(let g=0,m=f.length;g<m;g++){const v=f[g];d.has(v)||(d.add(v),r.addEventListener(v,eventHandler))}}function setAttribute(f,r,d){d==null?f.removeAttribute(r):f.setAttribute(r,d)}function setAttributeNS(f,r,d,g){g==null?f.removeAttributeNS(r,d):f.setAttributeNS(r,d,g)}function setBoolAttribute(f,r,d){d?f.setAttribute(r,""):f.removeAttribute(r)}function className(f,r){r==null?f.removeAttribute("class"):f.className=r}function addEventListener(f,r,d,g){if(g)Array.isArray(d)?(f[`$$${r}`]=d[0],f[`$$${r}Data`]=d[1]):f[`$$${r}`]=d;else if(Array.isArray(d)){const m=d[0];f.addEventListener(r,d[0]=v=>m.call(f,d[1],v))}else f.addEventListener(r,d,typeof d!="function"&&d)}function classList(f,r,d={}){const g=Object.keys(r||{}),m=Object.keys(d);let v,_;for(v=0,_=m.length;v<_;v++){const y=m[v];!y||y==="undefined"||r[y]||(toggleClassKey(f,y,!1),delete d[y])}for(v=0,_=g.length;v<_;v++){const y=g[v],x=!!r[y];!y||y==="undefined"||d[y]===x||!x||(toggleClassKey(f,y,!0),d[y]=x)}return d}function style(f,r,d){if(!r)return d?setAttribute(f,"style"):r;const g=f.style;if(typeof r=="string")return g.cssText=r;typeof d=="string"&&(g.cssText=d=void 0),d||(d={}),r||(r={});let m,v;for(v in d)r[v]==null&&g.removeProperty(v),delete d[v];for(v in r)m=r[v],m!==d[v]&&(g.setProperty(v,m),d[v]=m);return d}function spread(f,r={},d,g){const m={};return createRenderEffect(()=>m.children=insertExpression(f,r.children,m.children)),createRenderEffect(()=>typeof r.ref=="function"&&use(r.ref,f)),createRenderEffect(()=>assign(f,r,d,!0,m,!0)),m}function use(f,r,d){return untrack(()=>f(r,d))}function insert(f,r,d,g){if(d!==void 0&&!g&&(g=[]),typeof r!="function")return insertExpression(f,r,g,d);createRenderEffect(m=>insertExpression(f,r(),m,d),g)}function assign(f,r,d,g,m={},v=!1){r||(r={});for(const _ in m)if(!(_ in r)){if(_==="children")continue;m[_]=assignProp(f,_,null,m[_],d,v,r)}for(const _ in r){if(_==="children")continue;const y=r[_];m[_]=assignProp(f,_,y,m[_],d,v,r)}}function toPropertyName(f){return f.toLowerCase().replace(/-([a-z])/g,(r,d)=>d.toUpperCase())}function toggleClassKey(f,r,d){const g=r.trim().split(/\s+/);for(let m=0,v=g.length;m<v;m++)f.classList.toggle(g[m],d)}function assignProp(f,r,d,g,m,v,_){let y,x,E,b,C;if(r==="style")return style(f,d,g);if(r==="classList")return classList(f,d,g);if(d===g)return g;if(r==="ref")v||d(f);else if(r.slice(0,3)==="on:"){const R=r.slice(3);g&&f.removeEventListener(R,g,typeof g!="function"&&g),d&&f.addEventListener(R,d,typeof d!="function"&&d)}else if(r.slice(0,10)==="oncapture:"){const R=r.slice(10);g&&f.removeEventListener(R,g,!0),d&&f.addEventListener(R,d,!0)}else if(r.slice(0,2)==="on"){const R=r.slice(2).toLowerCase(),O=DelegatedEvents.has(R);if(!O&&g){const A=Array.isArray(g)?g[0]:g;f.removeEventListener(R,A)}(O||d)&&(addEventListener(f,R,d,O),O&&delegateEvents([R]))}else if(r.slice(0,5)==="attr:")setAttribute(f,r.slice(5),d);else if(r.slice(0,5)==="bool:")setBoolAttribute(f,r.slice(5),d);else if((C=r.slice(0,5)==="prop:")||(E=ChildProperties.has(r))||!m&&((b=getPropAlias(r,f.tagName))||(x=Properties.has(r)))||(y=f.nodeName.includes("-")||"is"in _))C&&(r=r.slice(5),x=!0),r==="class"||r==="className"?className(f,d):y&&!x&&!E?f[toPropertyName(r)]=d:f[b||r]=d;else{const R=m&&r.indexOf(":")>-1&&SVGNamespace[r.split(":")[0]];R?setAttributeNS(f,R,r,d):setAttribute(f,Aliases[r]||r,d)}return d}function eventHandler(f){let r=f.target;const d=`$$${f.type}`,g=f.target,m=f.currentTarget,v=x=>Object.defineProperty(f,"target",{configurable:!0,value:x}),_=()=>{const x=r[d];if(x&&!r.disabled){const E=r[`${d}Data`];if(E!==void 0?x.call(r,E,f):x.call(r,f),f.cancelBubble)return}return r.host&&typeof r.host!="string"&&!r.host._$host&&r.contains(f.target)&&v(r.host),!0},y=()=>{for(;_()&&(r=r._$host||r.parentNode||r.host););};if(Object.defineProperty(f,"currentTarget",{configurable:!0,get(){return r||document}}),f.composedPath){const x=f.composedPath();v(x[0]);for(let E=0;E<x.length-2&&(r=x[E],!!_());E++){if(r._$host){r=r._$host,y();break}if(r.parentNode===m)break}}else y();v(g)}function insertExpression(f,r,d,g,m){for(;typeof d=="function";)d=d();if(r===d)return d;const v=typeof r,_=g!==void 0;if(f=_&&d[0]&&d[0].parentNode||f,v==="string"||v==="number"){if(v==="number"&&(r=r.toString(),r===d))return d;if(_){let y=d[0];y&&y.nodeType===3?y.data!==r&&(y.data=r):y=document.createTextNode(r),d=cleanChildren(f,d,g,y)}else d!==""&&typeof d=="string"?d=f.firstChild.data=r:d=f.textContent=r}else if(r==null||v==="boolean")d=cleanChildren(f,d,g);else{if(v==="function")return createRenderEffect(()=>{let y=r();for(;typeof y=="function";)y=y();d=insertExpression(f,y,d,g)}),()=>d;if(Array.isArray(r)){const y=[],x=d&&Array.isArray(d);if(normalizeIncomingArray(y,r,d,m))return createRenderEffect(()=>d=insertExpression(f,y,d,g,!0)),()=>d;if(y.length===0){if(d=cleanChildren(f,d,g),_)return d}else x?d.length===0?appendNodes(f,y,g):reconcileArrays(f,d,y):(d&&cleanChildren(f),appendNodes(f,y));d=y}else if(r.nodeType){if(Array.isArray(d)){if(_)return d=cleanChildren(f,d,g,r);cleanChildren(f,d,null,r)}else d==null||d===""||!f.firstChild?f.appendChild(r):f.replaceChild(r,f.firstChild);d=r}}return d}function normalizeIncomingArray(f,r,d,g){let m=!1;for(let v=0,_=r.length;v<_;v++){let y=r[v],x=d&&d[f.length],E;if(!(y==null||y===!0||y===!1))if((E=typeof y)=="object"&&y.nodeType)f.push(y);else if(Array.isArray(y))m=normalizeIncomingArray(f,y,x)||m;else if(E==="function")if(g){for(;typeof y=="function";)y=y();m=normalizeIncomingArray(f,Array.isArray(y)?y:[y],Array.isArray(x)?x:[x])||m}else f.push(y),m=!0;else{const b=String(y);x&&x.nodeType===3&&x.data===b?f.push(x):f.push(document.createTextNode(b))}}return m}function appendNodes(f,r,d=null){for(let g=0,m=r.length;g<m;g++)f.insertBefore(r[g],d)}function cleanChildren(f,r,d,g){if(d===void 0)return f.textContent="";const m=g||document.createTextNode("");if(r.length){let v=!1;for(let _=r.length-1;_>=0;_--){const y=r[_];if(m!==y){const x=y.parentNode===f;!v&&!_?x?f.replaceChild(m,y):f.insertBefore(m,d):x&&y.remove()}else v=!0}}else f.insertBefore(m,d);return[m]}const SVG_NAMESPACE="http://www.w3.org/2000/svg";function createElement(f,r=!1){return r?document.createElementNS(SVG_NAMESPACE,f):document.createElement(f)}function Dynamic(f){const[r,d]=splitProps(f,["component"]),g=createMemo(()=>r.component);return createMemo(()=>{const m=g();switch(typeof m){case"function":return untrack(()=>m(d));case"string":const v=SVGElements.has(m),_=createElement(m,v);return spread(_,d,v),_}})}let e={data:""},t=f=>typeof window=="object"?((f?f.querySelector("#_goober"):window._goober)||Object.assign((f||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:f||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(f,r)=>{let d="",g="",m="";for(let v in f){let _=f[v];v[0]=="@"?v[1]=="i"?d=v+" "+_+";":g+=v[1]=="f"?o(_,v):v+"{"+o(_,v[1]=="k"?"":r)+"}":typeof _=="object"?g+=o(_,r?r.replace(/([^,])+/g,y=>v.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,y):y?y+" "+x:x)):v):_!=null&&(v=/^--/.test(v)?v:v.replace(/[A-Z]/g,"-$&").toLowerCase(),m+=o.p?o.p(v,_):v+":"+_+";")}return d+(r&&m?r+"{"+m+"}":m)+g},c={},s=f=>{if(typeof f=="object"){let r="";for(let d in f)r+=d+s(f[d]);return r}return f},i=(f,r,d,g,m)=>{let v=s(f),_=c[v]||(c[v]=(x=>{let E=0,b=11;for(;E<x.length;)b=101*b+x.charCodeAt(E++)>>>0;return"go"+b})(v));if(!c[_]){let x=v!==f?f:(E=>{let b,C,R=[{}];for(;b=l.exec(E.replace(a,""));)b[4]?R.shift():b[3]?(C=b[3].replace(n," ").trim(),R.unshift(R[0][C]=R[0][C]||{})):R[0][b[1]]=b[2].replace(n," ").trim();return R[0]})(f);c[_]=o(m?{["@keyframes "+_]:x}:x,d?"":"."+_)}let y=d&&c.g?c.g:null;return d&&(c.g=c[_]),((x,E,b,C)=>{C?E.data=E.data.replace(C,x):E.data.indexOf(x)===-1&&(E.data=b?x+E.data:E.data+x)})(c[_],r,g,y),_},p=(f,r,d)=>f.reduce((g,m,v)=>{let _=r[v];if(_&&_.call){let y=_(d),x=y&&y.props&&y.props.className||/^go/.test(y)&&y;_=x?"."+x:y&&typeof y=="object"?y.props?"":o(y,""):y===!1?"":y}return g+m+(_??"")},"");function u(f){let r=this||{},d=f.call?f(r.p):f;return i(d.unshift?d.raw?p(d,[].slice.call(arguments,1),r.p):d.reduce((g,m)=>Object.assign(g,m&&m.call?m(r.p):m),{}):d,t(r.target),r.g,r.o,r.k)}u.bind({g:1});let h=u.bind({k:1});const ThemeContext=createContext();function ThemeProvider(f){return createComponent(ThemeContext.Provider,{value:f.theme,get children(){return f.children}})}function useTheme(){return useContext(ThemeContext)}function makeStyled(f){let r=this||{};return(...d)=>{const g=m=>{const v=useContext(ThemeContext),_=mergeProps(m,{theme:v}),y=mergeProps(_,{get class(){const O=_.class,A="class"in _&&/^go[0-9]+/.test(O);let M=u.apply({target:r.target,o:A,p:_,g:r.g},d);return[O,M].filter(Boolean).join(" ")}}),[x,E]=splitProps(y,["as","theme"]),b=E,C=x.as||f;let R;return typeof C=="function"?R=C(b):r.g==1?(R=document.createElement(C),spread(R,b)):R=Dynamic(mergeProps({component:C},b)),R};return g.class=m=>untrack(()=>u.apply({target:r.target,p:m,g:r.g},d)),g}}const styled=new Proxy(makeStyled,{get(f,r){return f(r)}});function createGlobalStyles(){const f=makeStyled.call({g:1},"div").apply(null,arguments);return function(d){return f(d),null}}const globalStylesTag="okxc-root",disableScrollClass="okxc-disable-scroll",usingMouseClass="okxc-using-mouse",GlobalStyles=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(usingMouseClass)),document.body.addEventListener("keydown",r=>{r.key==="Tab"&&document.body.classList.remove(usingMouseClass)});const f=createGlobalStyles`
    ${globalStylesTag} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${globalStylesTag} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${globalStylesTag} *:focus {
        outline: #08f auto 2px;
    }
    
    ${globalStylesTag} li {
        list-style: none;
    }
    
    ${globalStylesTag} button {
        outline: none;
    }
    
    body.${disableScrollClass} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${usingMouseClass} ${globalStylesTag} *:focus {
        outline: none;
    }
`;return createComponent(f,{})};function hexToRgb(f){f[0]==="#"&&(f=f.slice(1));const r=parseInt(f,16),d=r>>16&255,g=r>>8&255,m=r&255;return[d,g,m].join(",")}function rgba(f,r){return f[0]==="#"&&(f=hexToRgb(f)),`rgba(${f}, ${r})`}function toPx(f){return f.toString()+"px"}const _InMemoryStorage=class{constructor(){__publicField(this,"storage",{})}static getInstance(){return _InMemoryStorage.instance||(_InMemoryStorage.instance=new _InMemoryStorage),_InMemoryStorage.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(f){var r;return(r=this.storage[f])!=null?r:null}key(f){var r;const d=Object.keys(this.storage);return f<0||f>=d.length?null:(r=d[f])!=null?r:null}removeItem(f){delete this.storage[f]}setItem(f,r){this.storage[f]=r}};let InMemoryStorage=_InMemoryStorage;__publicField(InMemoryStorage,"instance");function logDebug(...f){src$6.logDebug(f)}function logError(...f){src$6.logError(f)}function logWarning(...f){src$6.logWarning(f)}let initParams={};try{let f=location.hash.toString();initParams=urlParseHashParams(f)}catch(f){}let tmaPlatform="unknown";initParams!=null&&initParams.tgWebAppPlatform&&(tmaPlatform=(_a=initParams.tgWebAppPlatform)!=null?_a:"unknown");if(tmaPlatform==="unknown"){const f=getWindow$1();tmaPlatform=(_d=(_c=(_b=f==null?void 0:f.Telegram)==null?void 0:_b.WebApp)==null?void 0:_c.platform)!=null?_d:"unknown"}let webAppVersion="6.0";initParams!=null&&initParams.tgWebAppVersion&&(webAppVersion=initParams.tgWebAppVersion);if(!webAppVersion){const f=getWindow$1();webAppVersion=(_g=(_f=(_e=f==null?void 0:f.Telegram)==null?void 0:_e.WebApp)==null?void 0:_f.version)!=null?_g:"6.0"}function isTmaPlatform(...f){return f.includes(tmaPlatform)}function isInTMA(){var f;return tmaPlatform!=="unknown"||!!((f=getWindow$1())!=null&&f.TelegramWebviewProxy)}function isInTelegramBrowser(){var f;const r=!!((f=getWindow$1())!=null&&f.TelegramWebview);return(isInTMA()||r)&&tmaPlatform==="unknown"}function sendExpand(){postEvent("web_app_expand",{})}function isIframe(){try{const f=getWindow$1();return f?f.parent!=null&&f!==f.parent:!1}catch{return!1}}function postEvent(f,r){try{const d=getWindow$1();if(!d)throw new OKXConnectUiError("Can't post event to parent window: window is not defined");if(d.TelegramWebviewProxy!==void 0)logDebug("postEvent",f,r),d.TelegramWebviewProxy.postEvent(f,JSON.stringify(r));else if(d.external&&"notify"in d.external)logDebug("postEvent",f,r),d.external.notify(JSON.stringify({eventType:f,eventData:r}));else if(isIframe()){const g="*",m=JSON.stringify({eventType:f,eventData:r});logDebug("postEvent",f,r),d.parent.postMessage(m,g)}else throw new OKXConnectUiError("Can't post event to TMA")}catch(d){logError(`Can't post event to parent window: ${d}`)}}function urlParseHashParams(f){f=f.replace(/^#/,"");let r={};if(!f.length)return r;if(f.indexOf("=")<0&&f.indexOf("?")<0)return r._path=urlSafeDecode(f),r;let d=f.indexOf("?");if(d>=0){let m=f.substr(0,d);r._path=urlSafeDecode(m),f=f.substr(d+1)}let g=urlParseQueryString(f);for(let m in g)r[m]=g[m];return r}function urlSafeDecode(f){try{return f=f.replace(/\+/g,"%20"),decodeURIComponent(f)}catch{return f}}function urlParseQueryString(f){let r={};if(!f.length)return r;let d=f.split("&"),g,m,v,_;for(g=0;g<d.length;g++)m=d[g].split("="),v=urlSafeDecode(m[0]),_=m[1]==null?null:urlSafeDecode(m[1]),r[v]=_;return r}const maxWidth={mobile:440,tablet:1020};function isDevice(f){var r;const d=getWindow$1();if(!d)return f==="desktop";if(isTmaPlatform("weba"))return!0;const g=d.innerWidth;switch(f){case"desktop":return g>maxWidth.tablet;case"tablet":return g>maxWidth.mobile;default:case"mobile":let m=g<=maxWidth.mobile||isOS("ios","android","ipad");if(m){const v=!!((r=getWindow$1())!=null&&r.TelegramWebviewProxy),_=navigator.maxTouchPoints||0;v&&_===0&&(m=!1),src$6.logDebug("isDevice mobile isTelegram and maxTouchPoints:",m,v,_)}return m}}function media(f){switch(f){case"mobile":return`@media (max-width: ${maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${maxWidth.tablet}px)`}}const mediaTouch="@media (hover: none)",mediaNotTouch="@media not all and (hover: none)",[isMobile,setIsMobile]=createSignal(isDevice("mobile")),updateIsMobile=()=>setIsMobile(isDevice("mobile"));getWindow$1()&&(window.addEventListener("resize",()=>updateIsMobile()),window.addEventListener("load",()=>updateIsMobile(),{once:!0}));function eqWalletName(f,r){return r?f.name.toLowerCase()===r.toLowerCase()||f.appName.toLowerCase()===r.toLowerCase():!1}function inTg(){return isInTelegramBrowser()||isInTMA()}const showTgNameSpace=[src$6.NameSpaceKeySui,src$6.NameSpaceKeySOL,src$6.NameSpaceKeyEip155,src$6.NameSpaceKeyTON,src$6.NameSpaceKeyBtc,src$6.NameSpaceKeyAptos,src$6.NameSpaceKeyTron];function showUniversalTgWalletByRequestNameSpaces(f,r){return inTg()?EqnameSpace(f)&&EqnameSpace(r):!1}function showUniversalTgWalletBySessionNameSpaces(f){return inTg()?EqnameSpace(f):!1}function EqnameSpace(f){try{return f?Object.keys(f).every(d=>showTgNameSpace.includes(d)):!0}catch{return!1}}function defaultOpenUniversalLink(f,r){return showUniversalTgWalletByRequestNameSpaces(f,r)?!1:isMobile()}function isAppWallet(f){return f?f.name===src$6.creatOKXWalletInfo().name:!1}function openUniversalWallet(f,r,d){src$6.logDebug("wallets openUniversalWallet"),showUniversalTgWalletBySessionNameSpaces(d)&&openWallet(f,r)}function openWallet(f,r){src$6.logDebug("wallets openWallet"),f&&(isAppWallet(f)?(src$6.logDebug(`wallets openWallet openOKXDeeplinkWithFallback ${f.universalLink}`),src$6.openOKXDeeplink(f.deepLink)):(src$6.logDebug(`wallets openWallet openOKXTMAWalletlinkWithFallback ${f.universalLink}`),src$6.openOKXTMAWalletlinkWithFallback(src$6.getTelegramWalletTWAUrl(void 0,r))))}function openWalletForUIRequest(f,r){return isAppWallet(f)?isMobile()&&r!=="qrcode":!0}function openLink(f,r="_self"){logDebug("web-api  openLink",f,r),window.open(f,r,"noopener noreferrer")}function openLinkBlank(f){openLink(f,"_blank")}function openDeeplinkWithFallback(f,r){logDebug(`web-api openDeeplinkWithFallback ${f}`);const d=()=>{isBrowser("safari")||isOS("android")&&isBrowser("firefox")||r()},g=setTimeout(()=>d(),3e3);window.addEventListener("blur",()=>clearTimeout(g),{once:!0}),isOS("android")&&inTg()?openLink(f,"_blank"):openLink(f,"_self")}function getSystemTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?THEME.LIGHT:THEME.DARK}function subscribeToThemeChange(f){const r=d=>f(d.matches?THEME.DARK:THEME.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",r)}function disableScroll(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=toPx(-document.documentElement.scrollTop),document.body.classList.add(disableScrollClass))}function enableScroll(){document.body.classList.remove(disableScrollClass),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function fixMobileSafariActiveTransition(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function defineStylesRoot(){document.body.getElementsByTagName(globalStylesTag)||customElements.define(globalStylesTag,class extends HTMLElement{})}function createMacrotask(f){return __async(this,null,function*(){yield new Promise(r=>requestAnimationFrame(r)),f()})}function getWindow$1(){if(typeof window<"u")return window}function tryGetLocalStorage(){if(isLocalStorageAvailable())return localStorage;if(isNodeJs())throw new OKXConnectUiError("`localStorage` is unavailable, but it is required for TonConnect");return InMemoryStorage.getInstance()}function isLocalStorageAvailable(){try{return typeof localStorage<"u"}catch{return!1}}function isNodeJs(){return typeof process$1<"u"&&process$1.versions!=null&&process$1.versions.node!=null}function getUserAgent(){var f,r,d;const g=new UAParser().getResult(),m=(f=g.os.name)==null?void 0:f.toLowerCase(),v=(r=g.device.model)==null?void 0:r.toLowerCase();let _;switch(!0){case v==="ipad":_="ipad";break;case m==="ios":_="ios";break;case m==="android":_="android";break;case m==="mac os":_="macos";break;case m==="linux":_="linux";break;case(m==null?void 0:m.includes("windows")):_="windows";break}const y=(d=g.browser.name)==null?void 0:d.toLowerCase();let x;switch(!0){case y==="chrome":x="chrome";break;case y==="firefox":x="firefox";break;case(y==null?void 0:y.includes("safari")):x="safari";break;case(y==null?void 0:y.includes("opera")):x="opera";break}return{os:_,browser:x}}function isOS(...f){return f.includes(getUserAgent().os)}function isBrowser(...f){return f.includes(getUserAgent().browser)}function toDeeplink(f,r){const d=new URL(f);return r+d.search}class LastSelectedWalletInfoStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","okx_wallet_connect_ui_last-selected-wallet-info"),this.localStorage=tryGetLocalStorage()}setLastSelectedWalletInfo(r){this.localStorage.setItem(this.storageKey,JSON.stringify(r))}getLastSelectedWalletInfo(){const r=this.localStorage.getItem(this.storageKey);return r?JSON.parse(r):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[tonWalletsModalState,setTonWalletsModalState]=createSignal({status:"closed",closeReason:null});createMemo(()=>tonWalletsModalState().status==="opened");const[tonSingleWalletModalState,setTonSingleWalletModalState]=createSignal({status:"closed",closeReason:null});createMemo(()=>tonSingleWalletModalState().status==="opened");createMemo(()=>{const f=tonSingleWalletModalState();return f.status==="opened"?f.walletInfo:null});let lastSelectedWalletInfoStorage$1=typeof window<"u"?new LastSelectedWalletInfoStorage:void 0;createSignal((lastSelectedWalletInfoStorage$1==null?void 0:lastSelectedWalletInfoStorage$1.getLastSelectedWalletInfo())||null);createSignal(null);const ImagePlaceholder=styled.div`
    background-color: ${f=>f.theme.colors.background.secondary};
`,Image=f=>{let r;const[d,g]=createSignal(null);return createEffect(()=>{const m=new window.Image;return m.src=f.src,m.alt=f.alt||"",m.setAttribute("draggable","false"),f.class&&m.classList.add(f.class),m.complete?g(m):(m.addEventListener("load",()=>g(m)),()=>m.removeEventListener("load",()=>g(m)))}),[createComponent(Show,{get when(){return d()},get children(){return d()}}),createComponent(Show,{get when(){return!d()},get children(){return createComponent(ImagePlaceholder,{get class(){return f.class},ref(m){var v=r;typeof v=="function"?v(m):r=m}})}})]},borders$2={m:"100vh",s:"8px",none:"0"},scaleValues={s:.02,m:.04},ButtonStyled$1=styled.button`
    display: ${f=>f.leftIcon||f.rightIcon?"flex":"inline-block"};
    gap: ${f=>f.leftIcon||f.rightIcon?"6px":"unset"};
    align-items: ${f=>f.leftIcon||f.rightIcon?"center":"unset"};
    justify-content: ${f=>f.leftIcon||f.rightIcon?"space-between":"unset"};
    background-color: ${f=>f.appearance==="flat"?"transparent":f.appearance==="secondary"?f.theme.colors.background.tint:rgba(f.theme.colors.accent,.12)};
    color: ${f=>f.appearance==="secondary"?f.theme.colors.text.primary:f.theme.colors.accent};

    padding: ${f=>f.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${f=>f.leftIcon&&f.appearance!=="flat"?"12px":"16px"};
    padding-right: ${f=>f.rightIcon&&f.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${f=>borders$2[f.theme.borderRadius]};
    cursor: ${f=>f.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: ${f=>f.disabled?"unset":`scale(${1+scaleValues[f.scale]})`};
        }
    }

    &:active {
        transform: ${f=>f.disabled?"unset":`scale(${1-scaleValues[f.scale]})`};
    }

    ${mediaTouch} {
        &:active {
            transform: ${f=>f.disabled?"unset":`scale(${1-scaleValues[f.scale]*2})`};
        }
    }
`;function useDataAttributes(f){const r=untrack(()=>Object.keys(f).filter(g=>g.startsWith("data-"))),[d]=splitProps(f,r);return d}const Button=f=>{const r=useDataAttributes(f);return createComponent(ButtonStyled$1,mergeProps({get appearance(){return f.appearance||"primary"},get class(){return f.class},onClick:d=>{var g;return(g=f.onClick)==null?void 0:g.call(f,d)},onMouseEnter:d=>{var g;return(g=f.onMouseEnter)==null?void 0:g.call(f,d)},onMouseLeave:d=>{var g;return(g=f.onMouseLeave)==null?void 0:g.call(f,d)},ref(d){var g=f.ref;typeof g=="function"?g(d):f.ref=d},get disabled(){return f.disabled},get scale(){return f.scale||"m"},get leftIcon(){return!!f.leftIcon},get rightIcon(){return!!f.rightIcon},"data-tc-button":"true"},r,{get children(){return[createMemo(()=>f.leftIcon),createMemo(()=>f.children),createMemo(()=>f.rightIcon)]}}))};function nextFrame(f){requestAnimationFrame(()=>{requestAnimationFrame(f)})}const Transition=f=>{let r,d=!0;const[g,m]=createSignal(),[v,_]=createSignal(),y=children(()=>f.children),{onBeforeEnter:x,onEnter:E,onAfterEnter:b,onBeforeExit:C,onExit:R,onAfterExit:O}=f,A=createMemo(()=>{const F=f.name||"s";return{enterActiveClass:f.enterActiveClass||F+"-enter-active",enterClass:f.enterClass||F+"-enter",enterToClass:f.enterToClass||F+"-enter-to",exitActiveClass:f.exitActiveClass||F+"-exit-active",exitClass:f.exitClass||F+"-exit",exitToClass:f.exitToClass||F+"-exit-to"}});function M(F,L){if(!d||f.appear){let K=function(Q){F&&(!Q||Q.target===F)&&(F.removeEventListener("transitionend",K),F.removeEventListener("animationend",K),F.classList.remove(...W),F.classList.remove(...G),batch(()=>{g()!==F&&m(F),v()===F&&_(void 0)}),b&&b(F),f.mode==="inout"&&P(F,L))};const j=A().enterClass.split(" "),W=A().enterActiveClass.split(" "),G=A().enterToClass.split(" ");x&&x(F),F.classList.add(...j),F.classList.add(...W),nextFrame(()=>{F.classList.remove(...j),F.classList.add(...G),E&&E(F,()=>K()),(!E||E.length<2)&&(F.addEventListener("transitionend",K),F.addEventListener("animationend",K))})}L&&!f.mode?_(F):m(F)}function P(F,L){const K=A().exitClass.split(" "),j=A().exitActiveClass.split(" "),W=A().exitToClass.split(" ");if(!L.parentNode)return G();C&&C(L),L.classList.add(...K),L.classList.add(...j),nextFrame(()=>{L.classList.remove(...K),L.classList.add(...W)}),R&&R(L,()=>G()),(!R||R.length<2)&&(L.addEventListener("transitionend",G),L.addEventListener("animationend",G));function G(Q){(!Q||Q.target===L)&&(L.removeEventListener("transitionend",G),L.removeEventListener("animationend",G),L.classList.remove(...j),L.classList.remove(...W),g()===L&&m(void 0),O&&O(L),f.mode==="outin"&&M(F,L))}}return createComputed(F=>{for(r=y();typeof r=="function";)r=r();return untrack(()=>(r&&r!==F&&(f.mode!=="outin"?M(r,F):d&&m(r)),F&&F!==r&&f.mode!=="inout"&&P(r,F),d=!1,r))}),[g,v]};function clickOutside$1(f,r){const d=g=>{var m;return!f.contains(g.target)&&((m=r())==null?void 0:m())};document.body.addEventListener("click",d),onCleanup(()=>document.body.removeEventListener("click",d))}function escPressed(f,r){const d=g=>{var m,v;g.key==="Escape"&&((m=document.activeElement)==null||m.blur(),(v=r())==null||v())};document.body.addEventListener("keydown",d),onCleanup(()=>document.body.removeEventListener("keydown",d))}function androidBackHandler$1(f,r){const{isEnabled:d,onClose:g}=r();if(!d||!(getUserAgent().os==="android"))return;window.history.pushState(ROUTE_STATE,"");const v=_=>{_.preventDefault(),g()};window.addEventListener("popstate",v,{once:!0}),onCleanup(()=>{window.removeEventListener("popstate",v),createMacrotask(()=>{var _;((_=window.history.state)==null?void 0:_[ROUTE_STATE_KEY])===!0&&window.history.back()})})}const ROUTE_STATE_KEY="androidBackHandler",ROUTE_STATE={[ROUTE_STATE_KEY]:!0};var _tmpl$$g=template$1('<svg><path fill-rule=evenodd clip-rule=evenodd d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></svg>',!1,!0);const rotationDegrees={left:0,top:90,right:180,bottom:270},ArrowIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.secondary,g=()=>f.direction||"left",m=styled("svg")`
        transform: rotate(${v=>rotationDegrees[v.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return createComponent(m,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return g()},get children(){var v=_tmpl$$g();return createRenderEffect(()=>setAttribute(v,"fill",d())),v}})};var _tmpl$$f=template$1('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z">');const CloseIcon=f=>{const r=useTheme();logDebug(`CloseIcon  ${r}`);const d=()=>f.fill||r.colors.icon.secondary;return(()=>{var g=_tmpl$$f(),m=g.firstChild;return createRenderEffect(()=>setAttribute(m,"fill",d())),g})()};var _tmpl$$d=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform="translate(0 0.000976562)">'),_tmpl$2$3=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z">'),_tmpl$3$2=template$1('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z">');const SuccessIcon=f=>{const r=useTheme(),d=()=>f.size||"s",g=()=>f.fill||r.colors.icon.success;return createMemo(()=>createMemo(()=>d()==="xs")()?(()=>{var m=_tmpl$$d(),v=m.firstChild,_=v.firstChild,y=_.nextSibling;return createRenderEffect(x=>{var E=f.class,b=g(),C=r.colors.constant.white;return E!==x.e&&setAttribute(m,"class",x.e=E),b!==x.t&&setAttribute(_,"fill",x.t=b),C!==x.a&&setAttribute(y,"stroke",x.a=C),x},{e:void 0,t:void 0,a:void 0}),m})():createMemo(()=>d()==="s")()?(()=>{var m=_tmpl$2$3(),v=m.firstChild,_=v.nextSibling;return createRenderEffect(y=>{var x=f.class,E=g(),b=r.colors.constant.white;return x!==y.e&&setAttribute(m,"class",y.e=x),E!==y.t&&setAttribute(v,"fill",y.t=E),b!==y.a&&setAttribute(_,"fill",y.a=b),y},{e:void 0,t:void 0,a:void 0}),m})():(()=>{var m=_tmpl$3$2(),v=m.firstChild,_=v.nextSibling;return createRenderEffect(y=>{var x=f.class,E=g(),b=r.colors.constant.white;return x!==y.e&&setAttribute(m,"class",y.e=x),E!==y.t&&setAttribute(v,"fill",y.t=E),b!==y.a&&setAttribute(_,"fill",y.a=b),y},{e:void 0,t:void 0,a:void 0}),m})())};var _tmpl$$c=template$1('<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),_tmpl$2$2=template$1('<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),_tmpl$3$1=template$1('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>');const ErrorIcon=f=>{useTheme();const r=()=>f.size||"m";return createMemo(()=>createMemo(()=>r()==="m")()?_tmpl$$c():createMemo(()=>r()==="s")()?_tmpl$2$2():_tmpl$3$1())};var _tmpl$$b=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z">'),_tmpl$2$1=template$1('<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox="0 0 44 44"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z">'),_tmpl$3=template$1('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999"stroke-width=4 stroke-linecap=round stroke-linejoin=round>');const LoaderIcon=f=>{const r=useTheme(),d=()=>f.size||"xs",g=()=>f.fill||r.colors.icon.tertiary,m=h`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,v=u`
        animation: ${m} 1s linear infinite;
    `;return createMemo(()=>createMemo(()=>d()==="xs")()?(()=>{var _=_tmpl$$b(),y=_.firstChild;return createRenderEffect(x=>{var E=cn(v,f.class),b=g();return E!==x.e&&setAttribute(_,"class",x.e=E),b!==x.t&&setAttribute(y,"fill",x.t=b),x},{e:void 0,t:void 0}),_})():createMemo(()=>d()==="s")()?(()=>{var _=_tmpl$2$1(),y=_.firstChild;return createRenderEffect(x=>{var E=cn(v,f.class),b=g();return E!==x.e&&setAttribute(_,"class",x.e=E),b!==x.t&&setAttribute(y,"fill",x.t=b),x},{e:void 0,t:void 0}),_})():(()=>{var _=_tmpl$3(),y=_.firstChild;return createRenderEffect(x=>{var E=cn(v,f.class),b=g();return E!==x.e&&setAttribute(_,"class",x.e=E),b!==x.t&&setAttribute(y,"stroke",x.t=b),x},{e:void 0,t:void 0}),_})())};var _tmpl$$a=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z">');const QuestionIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.secondary;return(()=>{var g=_tmpl$$a(),m=g.firstChild;return createRenderEffect(()=>setAttribute(m,"fill",d())),g})()};var _tmpl$$9=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z">');const RetryIcon=f=>{const r=useTheme();return(()=>{var d=_tmpl$$9(),g=d.firstChild;return createRenderEffect(()=>setAttribute(g,"fill",r.colors.text.primary)),d})()};var _tmpl$$8=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox="0 0 16 17"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z">');const QRIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.secondary;return(()=>{var g=_tmpl$$8(),m=g.firstChild;return createRenderEffect(()=>setAttribute(m,"fill",d())),g})()},IconButtonStyled=styled.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: transparent;
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`,IconButton=f=>{const r=useDataAttributes(f),d=()=>f.icon||"close";return createComponent(IconButtonStyled,mergeProps({get class(){return f.class},onClick:()=>f.onClick(),"data-tc-icon-button":"true"},r,{get children(){return[createComponent(Show,{get when(){return!!f.children},get children(){return f.children}}),createComponent(Show,{get when(){return!f.children},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return d()==="close"},get children(){return createComponent(CloseIcon,{get fill(){return f.fill}})}}),createComponent(Match,{get when(){return d()==="arrow"},get children(){return createComponent(ArrowIcon,{get fill(){return f.fill}})}}),createComponent(Match,{get when(){return d()==="question"},get children(){return createComponent(QuestionIcon,{get fill(){return f.fill}})}}),createComponent(Match,{get when(){return typeof d()!="string"},get children(){return d()}})]}})}})]}}))},borders$1={m:"24px",s:"16px",none:"0"},ModalBackgroundStyled=styled.div`
  display: flex;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 20px 0;
  overflow-y: auto;

  ${media("mobile")} {
    padding-bottom: 0;
  }
`,ModalWrapperClass=u`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
  width: fit-content;
  margin: auto;

  ${media("mobile")} {
    width: 100%;
    height: fit-content;
    margin: auto 0 0 0;
  }
`,ModalBodyStyled=styled.div`
  position: relative;
  min-height: 100px;
  width: 416px;
  padding: 44px 56px 24px;

  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

  background-color: ${f=>f.theme.colors.background.primary};
  border-radius: ${f=>borders$1[f.theme.borderRadius]};

  ${media("mobile")} {
    width: 100%;
    border-radius: 24px 24px 0px 0px;
  }
`,CloseButtonStyled=styled(IconButton)`
  position: absolute;
  right: 16px;
  top: 12px;
`;styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 16px 16px 18px;
  border-radius: 0 0 ${f=>borders$1[f.theme.borderRadius]}
    ${f=>borders$1[f.theme.borderRadius]};
`;styled(IconButton)`
  background-color: ${f=>rgba(f.theme.colors.icon.secondary,.12)};
`;class AnimationTimelineNoop{constructor(){__publicField(this,"currentTime",0)}}const _AnimationNoop=class{constructor(){__publicField(this,"currentTime",0),__publicField(this,"playbackRate",1),__publicField(this,"startTime",null),__publicField(this,"timeline",new AnimationTimelineNoop),__publicField(this,"finished",Promise.resolve(this)),__publicField(this,"effect",null),__publicField(this,"id",""),__publicField(this,"pending",!1),__publicField(this,"playState","finished"),__publicField(this,"replaceState","active"),__publicField(this,"ready",Promise.resolve(this)),__publicField(this,"oncancel",null),__publicField(this,"onfinish",null),__publicField(this,"onremove",null)}static create(){return _AnimationNoop._instance||(logWarning("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),_AnimationNoop._instance=new _AnimationNoop),_AnimationNoop._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(f,r,d){}dispatchEvent(f){return!1}removeEventListener(f,r,d){}updatePlaybackRate(f){}commitStyles(){}persist(){}};let AnimationNoop=_AnimationNoop;__publicField(AnimationNoop,"_instance",null);function animate(f,r,d){return"animate"in f?f.animate(r,d):AnimationNoop.create()}var _tmpl$$7=template$1("<div>");const clickOutside=clickOutside$1,keyPressed=escPressed,androidBackHandler=androidBackHandler$1,Modal=f=>{const r=useTheme(),d=useDataAttributes(f);return createEffect(()=>{f.opened?disableScroll():enableScroll()}),createComponent(Transition,{onBeforeEnter:g=>{const m=isDevice("mobile")?200:100;animate(g,[{opacity:0},{opacity:1}],{duration:m}),isDevice("mobile")&&animate(g.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:m})},onExit:(g,m)=>{const v=isDevice("mobile")?200:100,_=animate(g,[{opacity:1},{opacity:0}],{duration:v});if(isDevice("mobile")){const y=animate(g.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:v});Promise.all([_.finished,y.finished]).then(m)}else _.finished.then(m)},get children(){return createComponent(Show,{get when(){return f.opened},get children(){return createComponent(ModalBackgroundStyled,mergeProps({"data-tc-modal":"true"},d,{get children(){var g=_tmpl$$7();return use(androidBackHandler,g,()=>({isEnabled:!0,onClose:()=>f.onClose()})),use(keyPressed,g,()=>()=>f.onClose()),use(clickOutside,g,()=>()=>f.onClose()),insert(g,createComponent(ModalBodyStyled,{get class(){return f.class},get children(){return[createComponent(CloseButtonStyled,{icon:"close",onClick:()=>f.onClose()}),createMemo(()=>f.children)]}})),createRenderEffect(()=>className(g,cn(ModalWrapperClass,u`
                                border-radius: ${borders$1[r.borderRadius]};
                                background-color: ${r.colors.background.tint};

                                ${media("mobile")} {
                                    border-radius: ${borders$1[r.borderRadius]}
                                        ${borders$1[r.borderRadius]} 0 0;
                                }
                            `))),g}}))}})}})},wrapperBorderRadius={m:"22px",s:"12px",none:"0"},sliderBorderRadius={m:"18px",s:"8px",none:"0"};styled.div`
    display: grid;
    grid-template: 1fr / 1fr 1fr;
    width: fit-content;
    justify-items: center;
    gap: 4px;

    position: relative;
    padding: 4px;
    border-radius: ${f=>wrapperBorderRadius[f.theme.borderRadius]};

    background-color: ${f=>f.theme.colors.background.secondary};
`;styled.div`
    position: absolute;
    top: 4px;
    left: 4px;

    height: calc(100% - 8px);
    width: calc(50% - 4px);

    border-radius: ${f=>sliderBorderRadius[f.theme.borderRadius]};
    background-color: ${f=>f.theme.colors.background.segment};

    transform: ${f=>f.right?"translateX(100%)":"translateX(0)"};

    transition: transform 0.13s ease-in-out;
`;styled.input`
    display: none;
`;styled.label`
    padding: 9px 12px;
    z-index: 1;

    cursor: ${f=>f.isActive?"default":"pointer"};

    transition: transform 0.13s ease-in-out;

    &:hover {
        transform: ${f=>f.isActive?"none":"scale(1.025)"};
    }

    > * {
        ${f=>f.isActive?"":`color: ${f.theme.colors.text.secondary};`}
    }
`;const backgroundBorders={m:"16px",s:"12px",none:"0"},imageBorders={m:"12px",s:"8px",none:"0"},qrNormalSize=263,imgSizeDefault=56,picSizeDefault=54,qrPaddingTop=0,CopyIconButton=styled.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,QrCodeBackground=styled.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${f=>f.theme.colors.background.qr};
    border-radius: ${f=>backgroundBorders[f.theme.borderRadius]};
    padding: ${toPx(qrPaddingTop)} 0;
    height: ${toPx(qrNormalSize+qrPaddingTop*2)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${mediaNotTouch} {
        &:hover {
            ${CopyIconButton.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${CopyIconButton.class} {
            transform: scale(0.96);
        }
    }

    ${mediaTouch} {
        &:active {
            ${CopyIconButton.class} {
                transform: scale(0.92);
            }
        }
    }
`,QrCodeWrapper$1=styled.div`
    position: relative;
  
    width: fit-content;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    rect {
        fill: transparent;
    }
    
    path {
        fill: ${f=>f.theme.colors.qrFill};
    }
`,ImageBackground=styled.div`
    position: absolute;
    width: ${toPx(imgSizeDefault)};
    height: ${toPx(imgSizeDefault)};
    background: ${f=>f.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,ImageStyled$2=styled(Image)`
    width: ${f=>toPx(f.size)};
    height: ${f=>toPx(f.size)};
    border-radius: ${f=>imageBorders[f.theme.borderRadius]};
    background-color: ${f=>f.theme.colors.background.qr};
`;styled.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${f=>f.theme.colors.background.segment};
`;var qrcode$1={exports:{}};(function(f,r){var d=function(){var g=function(W,G){var Q=236,re=17,ne=W,ie=v[G],z=null,T=0,D=null,w=[],S={},$=function(J,ae){T=ne*4+17,z=function(X){for(var Y=new Array(X),oe=0;oe<X;oe+=1){Y[oe]=new Array(X);for(var we=0;we<X;we+=1)Y[oe][we]=null}return Y}(T),N(0,0),N(T-7,0),N(0,T-7),I(),U(),B(J,ae),ne>=7&&q(J),D==null&&(D=be(ne,ie,w)),H(D,ae)},N=function(J,ae){for(var X=-1;X<=7;X+=1)if(!(J+X<=-1||T<=J+X))for(var Y=-1;Y<=7;Y+=1)ae+Y<=-1||T<=ae+Y||(0<=X&&X<=6&&(Y==0||Y==6)||0<=Y&&Y<=6&&(X==0||X==6)||2<=X&&X<=4&&2<=Y&&Y<=4?z[J+X][ae+Y]=!0:z[J+X][ae+Y]=!1)},k=function(){for(var J=0,ae=0,X=0;X<8;X+=1){$(!0,X);var Y=y.getLostPoint(S);(X==0||J>Y)&&(J=Y,ae=X)}return ae},U=function(){for(var J=8;J<T-8;J+=1)z[J][6]==null&&(z[J][6]=J%2==0);for(var ae=8;ae<T-8;ae+=1)z[6][ae]==null&&(z[6][ae]=ae%2==0)},I=function(){for(var J=y.getPatternPosition(ne),ae=0;ae<J.length;ae+=1)for(var X=0;X<J.length;X+=1){var Y=J[ae],oe=J[X];if(z[Y][oe]==null)for(var we=-2;we<=2;we+=1)for(var Se=-2;Se<=2;Se+=1)we==-2||we==2||Se==-2||Se==2||we==0&&Se==0?z[Y+we][oe+Se]=!0:z[Y+we][oe+Se]=!1}},q=function(J){for(var ae=y.getBCHTypeNumber(ne),X=0;X<18;X+=1){var Y=!J&&(ae>>X&1)==1;z[Math.floor(X/3)][X%3+T-8-3]=Y}for(var X=0;X<18;X+=1){var Y=!J&&(ae>>X&1)==1;z[X%3+T-8-3][Math.floor(X/3)]=Y}},B=function(J,ae){for(var X=ie<<3|ae,Y=y.getBCHTypeInfo(X),oe=0;oe<15;oe+=1){var we=!J&&(Y>>oe&1)==1;oe<6?z[oe][8]=we:oe<8?z[oe+1][8]=we:z[T-15+oe][8]=we}for(var oe=0;oe<15;oe+=1){var we=!J&&(Y>>oe&1)==1;oe<8?z[8][T-oe-1]=we:oe<9?z[8][15-oe-1+1]=we:z[8][15-oe-1]=we}z[T-8][8]=!J},H=function(J,ae){for(var X=-1,Y=T-1,oe=7,we=0,Se=y.getMaskFunction(ae),De=T-1;De>0;De-=2)for(De==6&&(De-=1);;){for(var qe=0;qe<2;qe+=1)if(z[Y][De-qe]==null){var Ue=!1;we<J.length&&(Ue=(J[we]>>>oe&1)==1);var Ne=Se(Y,De-qe);Ne&&(Ue=!Ue),z[Y][De-qe]=Ue,oe-=1,oe==-1&&(we+=1,oe=7)}if(Y+=X,Y<0||T<=Y){Y-=X,X=-X;break}}},ce=function(J,ae){for(var X=0,Y=0,oe=0,we=new Array(ae.length),Se=new Array(ae.length),De=0;De<ae.length;De+=1){var qe=ae[De].dataCount,Ue=ae[De].totalCount-qe;Y=Math.max(Y,qe),oe=Math.max(oe,Ue),we[De]=new Array(qe);for(var Ne=0;Ne<we[De].length;Ne+=1)we[De][Ne]=255&J.getBuffer()[Ne+X];X+=qe;var Be=y.getErrorCorrectPolynomial(Ue),Qe=E(we[De],Be.getLength()-1),Le=Qe.mod(Be);Se[De]=new Array(Be.getLength()-1);for(var Ne=0;Ne<Se[De].length;Ne+=1){var ot=Ne+Le.getLength()-Se[De].length;Se[De][Ne]=ot>=0?Le.getAt(ot):0}}for(var Ve=0,Ne=0;Ne<ae.length;Ne+=1)Ve+=ae[Ne].totalCount;for(var We=new Array(Ve),it=0,Ne=0;Ne<Y;Ne+=1)for(var De=0;De<ae.length;De+=1)Ne<we[De].length&&(We[it]=we[De][Ne],it+=1);for(var Ne=0;Ne<oe;Ne+=1)for(var De=0;De<ae.length;De+=1)Ne<Se[De].length&&(We[it]=Se[De][Ne],it+=1);return We},be=function(J,ae,X){for(var Y=b.getRSBlocks(J,ae),oe=C(),we=0;we<X.length;we+=1){var Se=X[we];oe.put(Se.getMode(),4),oe.put(Se.getLength(),y.getLengthInBits(Se.getMode(),J)),Se.write(oe)}for(var De=0,we=0;we<Y.length;we+=1)De+=Y[we].dataCount;if(oe.getLengthInBits()>De*8)throw"code length overflow. ("+oe.getLengthInBits()+">"+De*8+")";for(oe.getLengthInBits()+4<=De*8&&oe.put(0,4);oe.getLengthInBits()%8!=0;)oe.putBit(!1);for(;!(oe.getLengthInBits()>=De*8||(oe.put(Q,8),oe.getLengthInBits()>=De*8));)oe.put(re,8);return ce(oe,Y)};S.addData=function(J,ae){ae=ae||"Byte";var X=null;switch(ae){case"Numeric":X=R(J);break;case"Alphanumeric":X=O(J);break;case"Byte":X=A(J);break;case"Kanji":X=M(J);break;default:throw"mode:"+ae}w.push(X),D=null},S.isDark=function(J,ae){if(J<0||T<=J||ae<0||T<=ae)throw J+","+ae;return z[J][ae]},S.getModuleCount=function(){return T},S.make=function(){if(ne<1){for(var J=1;J<40;J++){for(var ae=b.getRSBlocks(J,ie),X=C(),Y=0;Y<w.length;Y++){var oe=w[Y];X.put(oe.getMode(),4),X.put(oe.getLength(),y.getLengthInBits(oe.getMode(),J)),oe.write(X)}for(var we=0,Y=0;Y<ae.length;Y++)we+=ae[Y].dataCount;if(X.getLengthInBits()<=we*8)break}ne=J}$(!1,k())},S.createTableTag=function(J,ae){J=J||2,ae=typeof ae>"u"?J*4:ae;var X="";X+='<table style="',X+=" border-width: 0px; border-style: none;",X+=" border-collapse: collapse;",X+=" padding: 0px; margin: "+ae+"px;",X+='">',X+="<tbody>";for(var Y=0;Y<S.getModuleCount();Y+=1){X+="<tr>";for(var oe=0;oe<S.getModuleCount();oe+=1)X+='<td style="',X+=" border-width: 0px; border-style: none;",X+=" border-collapse: collapse;",X+=" padding: 0px; margin: 0px;",X+=" width: "+J+"px;",X+=" height: "+J+"px;",X+=" background-color: ",X+=S.isDark(Y,oe)?"#000000":"#ffffff",X+=";",X+='"/>';X+="</tr>"}return X+="</tbody>",X+="</table>",X},S.createSvgTag=function(J,ae,X,Y){var oe={};typeof arguments[0]=="object"&&(oe=arguments[0],J=oe.cellSize,ae=oe.margin,X=oe.alt,Y=oe.title),J=J||2,ae=typeof ae>"u"?J*4:ae,X=typeof X=="string"?{text:X}:X||{},X.text=X.text||null,X.id=X.text?X.id||"qrcode-description":null,Y=typeof Y=="string"?{text:Y}:Y||{},Y.text=Y.text||null,Y.id=Y.text?Y.id||"qrcode-title":null;var we=S.getModuleCount()*J+ae*2,Se,De,qe,Ue,Ne="",Be;for(Be="l"+J+",0 0,"+J+" -"+J+",0 0,-"+J+"z ",Ne+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Ne+=oe.scalable?"":' width="'+we+'px" height="'+we+'px"',Ne+=' viewBox="0 0 '+we+" "+we+'" ',Ne+=' preserveAspectRatio="xMinYMin meet"',Ne+=Y.text||X.text?' role="img" aria-labelledby="'+ve([Y.id,X.id].join(" ").trim())+'"':"",Ne+=">",Ne+=Y.text?'<title id="'+ve(Y.id)+'">'+ve(Y.text)+"</title>":"",Ne+=X.text?'<description id="'+ve(X.id)+'">'+ve(X.text)+"</description>":"",Ne+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Ne+='<path d="',qe=0;qe<S.getModuleCount();qe+=1)for(Ue=qe*J+ae,Se=0;Se<S.getModuleCount();Se+=1)S.isDark(qe,Se)&&(De=Se*J+ae,Ne+="M"+De+","+Ue+Be);return Ne+='" stroke="transparent" fill="black"/>',Ne+="</svg>",Ne},S.createDataURL=function(J,ae){J=J||2,ae=typeof ae>"u"?J*4:ae;var X=S.getModuleCount()*J+ae*2,Y=ae,oe=X-ae;return j(X,X,function(we,Se){if(Y<=we&&we<oe&&Y<=Se&&Se<oe){var De=Math.floor((we-Y)/J),qe=Math.floor((Se-Y)/J);return S.isDark(qe,De)?0:1}else return 1})},S.createImgTag=function(J,ae,X){J=J||2,ae=typeof ae>"u"?J*4:ae;var Y=S.getModuleCount()*J+ae*2,oe="";return oe+="<img",oe+=' src="',oe+=S.createDataURL(J,ae),oe+='"',oe+=' width="',oe+=Y,oe+='"',oe+=' height="',oe+=Y,oe+='"',X&&(oe+=' alt="',oe+=ve(X),oe+='"'),oe+="/>",oe};var ve=function(J){for(var ae="",X=0;X<J.length;X+=1){var Y=J.charAt(X);switch(Y){case"<":ae+="&lt;";break;case">":ae+="&gt;";break;case"&":ae+="&amp;";break;case'"':ae+="&quot;";break;default:ae+=Y;break}}return ae},Z=function(J){var ae=1;J=typeof J>"u"?ae*2:J;var X=S.getModuleCount()*ae+J*2,Y=J,oe=X-J,we,Se,De,qe,Ue,Ne={"":""," ":""," ":"","  ":" "},Be={"":""," ":""," ":" ","  ":" "},Qe="";for(we=0;we<X;we+=2){for(De=Math.floor((we-Y)/ae),qe=Math.floor((we+1-Y)/ae),Se=0;Se<X;Se+=1)Ue="",Y<=Se&&Se<oe&&Y<=we&&we<oe&&S.isDark(De,Math.floor((Se-Y)/ae))&&(Ue=" "),Y<=Se&&Se<oe&&Y<=we+1&&we+1<oe&&S.isDark(qe,Math.floor((Se-Y)/ae))?Ue+=" ":Ue+="",Qe+=J<1&&we+1>=oe?Be[Ue]:Ne[Ue];Qe+=`
`}return X%2&&J>0?Qe.substring(0,Qe.length-X-1)+Array(X+1).join(""):Qe.substring(0,Qe.length-1)};return S.createASCII=function(J,ae){if(J=J||1,J<2)return Z(ae);J-=1,ae=typeof ae>"u"?J*2:ae;var X=S.getModuleCount()*J+ae*2,Y=ae,oe=X-ae,we,Se,De,qe,Ue=Array(J+1).join(""),Ne=Array(J+1).join("  "),Be="",Qe="";for(we=0;we<X;we+=1){for(De=Math.floor((we-Y)/J),Qe="",Se=0;Se<X;Se+=1)qe=1,Y<=Se&&Se<oe&&Y<=we&&we<oe&&S.isDark(De,Math.floor((Se-Y)/J))&&(qe=0),Qe+=qe?Ue:Ne;for(De=0;De<J;De+=1)Be+=Qe+`
`}return Be.substring(0,Be.length-1)},S.renderTo2dContext=function(J,ae){ae=ae||2;for(var X=S.getModuleCount(),Y=0;Y<X;Y++)for(var oe=0;oe<X;oe++)J.fillStyle=S.isDark(Y,oe)?"black":"white",J.fillRect(Y*ae,oe*ae,ae,ae)},S};g.stringToBytesFuncs={default:function(W){for(var G=[],Q=0;Q<W.length;Q+=1){var re=W.charCodeAt(Q);G.push(re&255)}return G}},g.stringToBytes=g.stringToBytesFuncs.default,g.createStringToBytes=function(W,G){var Q=function(){for(var ne=L(W),ie=function(){var U=ne.read();if(U==-1)throw"eof";return U},z=0,T={};;){var D=ne.read();if(D==-1)break;var w=ie(),S=ie(),$=ie(),N=String.fromCharCode(D<<8|w),k=S<<8|$;T[N]=k,z+=1}if(z!=G)throw z+" != "+G;return T}(),re=63;return function(ne){for(var ie=[],z=0;z<ne.length;z+=1){var T=ne.charCodeAt(z);if(T<128)ie.push(T);else{var D=Q[ne.charAt(z)];typeof D=="number"?(D&255)==D?ie.push(D):(ie.push(D>>>8),ie.push(D&255)):ie.push(re)}}return ie}};var m={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},v={L:1,M:0,Q:3,H:2},_={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},y=function(){var W=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G=1335,Q=7973,re=21522,ne={},ie=function(z){for(var T=0;z!=0;)T+=1,z>>>=1;return T};return ne.getBCHTypeInfo=function(z){for(var T=z<<10;ie(T)-ie(G)>=0;)T^=G<<ie(T)-ie(G);return(z<<10|T)^re},ne.getBCHTypeNumber=function(z){for(var T=z<<12;ie(T)-ie(Q)>=0;)T^=Q<<ie(T)-ie(Q);return z<<12|T},ne.getPatternPosition=function(z){return W[z-1]},ne.getMaskFunction=function(z){switch(z){case _.PATTERN000:return function(T,D){return(T+D)%2==0};case _.PATTERN001:return function(T,D){return T%2==0};case _.PATTERN010:return function(T,D){return D%3==0};case _.PATTERN011:return function(T,D){return(T+D)%3==0};case _.PATTERN100:return function(T,D){return(Math.floor(T/2)+Math.floor(D/3))%2==0};case _.PATTERN101:return function(T,D){return T*D%2+T*D%3==0};case _.PATTERN110:return function(T,D){return(T*D%2+T*D%3)%2==0};case _.PATTERN111:return function(T,D){return(T*D%3+(T+D)%2)%2==0};default:throw"bad maskPattern:"+z}},ne.getErrorCorrectPolynomial=function(z){for(var T=E([1],0),D=0;D<z;D+=1)T=T.multiply(E([1,x.gexp(D)],0));return T},ne.getLengthInBits=function(z,T){if(1<=T&&T<10)switch(z){case m.MODE_NUMBER:return 10;case m.MODE_ALPHA_NUM:return 9;case m.MODE_8BIT_BYTE:return 8;case m.MODE_KANJI:return 8;default:throw"mode:"+z}else if(T<27)switch(z){case m.MODE_NUMBER:return 12;case m.MODE_ALPHA_NUM:return 11;case m.MODE_8BIT_BYTE:return 16;case m.MODE_KANJI:return 10;default:throw"mode:"+z}else if(T<41)switch(z){case m.MODE_NUMBER:return 14;case m.MODE_ALPHA_NUM:return 13;case m.MODE_8BIT_BYTE:return 16;case m.MODE_KANJI:return 12;default:throw"mode:"+z}else throw"type:"+T},ne.getLostPoint=function(z){for(var T=z.getModuleCount(),D=0,w=0;w<T;w+=1)for(var S=0;S<T;S+=1){for(var $=0,N=z.isDark(w,S),k=-1;k<=1;k+=1)if(!(w+k<0||T<=w+k))for(var U=-1;U<=1;U+=1)S+U<0||T<=S+U||k==0&&U==0||N==z.isDark(w+k,S+U)&&($+=1);$>5&&(D+=3+$-5)}for(var w=0;w<T-1;w+=1)for(var S=0;S<T-1;S+=1){var I=0;z.isDark(w,S)&&(I+=1),z.isDark(w+1,S)&&(I+=1),z.isDark(w,S+1)&&(I+=1),z.isDark(w+1,S+1)&&(I+=1),(I==0||I==4)&&(D+=3)}for(var w=0;w<T;w+=1)for(var S=0;S<T-6;S+=1)z.isDark(w,S)&&!z.isDark(w,S+1)&&z.isDark(w,S+2)&&z.isDark(w,S+3)&&z.isDark(w,S+4)&&!z.isDark(w,S+5)&&z.isDark(w,S+6)&&(D+=40);for(var S=0;S<T;S+=1)for(var w=0;w<T-6;w+=1)z.isDark(w,S)&&!z.isDark(w+1,S)&&z.isDark(w+2,S)&&z.isDark(w+3,S)&&z.isDark(w+4,S)&&!z.isDark(w+5,S)&&z.isDark(w+6,S)&&(D+=40);for(var q=0,S=0;S<T;S+=1)for(var w=0;w<T;w+=1)z.isDark(w,S)&&(q+=1);var B=Math.abs(100*q/T/T-50)/5;return D+=B*10,D},ne}(),x=function(){for(var W=new Array(256),G=new Array(256),Q=0;Q<8;Q+=1)W[Q]=1<<Q;for(var Q=8;Q<256;Q+=1)W[Q]=W[Q-4]^W[Q-5]^W[Q-6]^W[Q-8];for(var Q=0;Q<255;Q+=1)G[W[Q]]=Q;var re={};return re.glog=function(ne){if(ne<1)throw"glog("+ne+")";return G[ne]},re.gexp=function(ne){for(;ne<0;)ne+=255;for(;ne>=256;)ne-=255;return W[ne]},re}();function E(W,G){if(typeof W.length>"u")throw W.length+"/"+G;var Q=function(){for(var ne=0;ne<W.length&&W[ne]==0;)ne+=1;for(var ie=new Array(W.length-ne+G),z=0;z<W.length-ne;z+=1)ie[z]=W[z+ne];return ie}(),re={};return re.getAt=function(ne){return Q[ne]},re.getLength=function(){return Q.length},re.multiply=function(ne){for(var ie=new Array(re.getLength()+ne.getLength()-1),z=0;z<re.getLength();z+=1)for(var T=0;T<ne.getLength();T+=1)ie[z+T]^=x.gexp(x.glog(re.getAt(z))+x.glog(ne.getAt(T)));return E(ie,0)},re.mod=function(ne){if(re.getLength()-ne.getLength()<0)return re;for(var ie=x.glog(re.getAt(0))-x.glog(ne.getAt(0)),z=new Array(re.getLength()),T=0;T<re.getLength();T+=1)z[T]=re.getAt(T);for(var T=0;T<ne.getLength();T+=1)z[T]^=x.gexp(x.glog(ne.getAt(T))+ie);return E(z,0).mod(ne)},re}var b=function(){var W=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],G=function(ne,ie){var z={};return z.totalCount=ne,z.dataCount=ie,z},Q={},re=function(ne,ie){switch(ie){case v.L:return W[(ne-1)*4+0];case v.M:return W[(ne-1)*4+1];case v.Q:return W[(ne-1)*4+2];case v.H:return W[(ne-1)*4+3];default:return}};return Q.getRSBlocks=function(ne,ie){var z=re(ne,ie);if(typeof z>"u")throw"bad rs block @ typeNumber:"+ne+"/errorCorrectionLevel:"+ie;for(var T=z.length/3,D=[],w=0;w<T;w+=1)for(var S=z[w*3+0],$=z[w*3+1],N=z[w*3+2],k=0;k<S;k+=1)D.push(G($,N));return D},Q}(),C=function(){var W=[],G=0,Q={};return Q.getBuffer=function(){return W},Q.getAt=function(re){var ne=Math.floor(re/8);return(W[ne]>>>7-re%8&1)==1},Q.put=function(re,ne){for(var ie=0;ie<ne;ie+=1)Q.putBit((re>>>ne-ie-1&1)==1)},Q.getLengthInBits=function(){return G},Q.putBit=function(re){var ne=Math.floor(G/8);W.length<=ne&&W.push(0),re&&(W[ne]|=128>>>G%8),G+=1},Q},R=function(W){var G=m.MODE_NUMBER,Q=W,re={};re.getMode=function(){return G},re.getLength=function(z){return Q.length},re.write=function(z){for(var T=Q,D=0;D+2<T.length;)z.put(ne(T.substring(D,D+3)),10),D+=3;D<T.length&&(T.length-D==1?z.put(ne(T.substring(D,D+1)),4):T.length-D==2&&z.put(ne(T.substring(D,D+2)),7))};var ne=function(z){for(var T=0,D=0;D<z.length;D+=1)T=T*10+ie(z.charAt(D));return T},ie=function(z){if("0"<=z&&z<="9")return z.charCodeAt(0)-48;throw"illegal char :"+z};return re},O=function(W){var G=m.MODE_ALPHA_NUM,Q=W,re={};re.getMode=function(){return G},re.getLength=function(ie){return Q.length},re.write=function(ie){for(var z=Q,T=0;T+1<z.length;)ie.put(ne(z.charAt(T))*45+ne(z.charAt(T+1)),11),T+=2;T<z.length&&ie.put(ne(z.charAt(T)),6)};var ne=function(ie){if("0"<=ie&&ie<="9")return ie.charCodeAt(0)-48;if("A"<=ie&&ie<="Z")return ie.charCodeAt(0)-65+10;switch(ie){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+ie}};return re},A=function(W){var G=m.MODE_8BIT_BYTE,Q=g.stringToBytes(W),re={};return re.getMode=function(){return G},re.getLength=function(ne){return Q.length},re.write=function(ne){for(var ie=0;ie<Q.length;ie+=1)ne.put(Q[ie],8)},re},M=function(W){var G=m.MODE_KANJI,Q=g.stringToBytesFuncs.SJIS;if(!Q)throw"sjis not supported.";(function(ie,z){var T=Q(ie);if(T.length!=2||(T[0]<<8|T[1])!=z)throw"sjis not supported."})("",38726);var re=Q(W),ne={};return ne.getMode=function(){return G},ne.getLength=function(ie){return~~(re.length/2)},ne.write=function(ie){for(var z=re,T=0;T+1<z.length;){var D=(255&z[T])<<8|255&z[T+1];if(33088<=D&&D<=40956)D-=33088;else if(57408<=D&&D<=60351)D-=49472;else throw"illegal char at "+(T+1)+"/"+D;D=(D>>>8&255)*192+(D&255),ie.put(D,13),T+=2}if(T<z.length)throw"illegal char at "+(T+1)},ne},P=function(){var W=[],G={};return G.writeByte=function(Q){W.push(Q&255)},G.writeShort=function(Q){G.writeByte(Q),G.writeByte(Q>>>8)},G.writeBytes=function(Q,re,ne){re=re||0,ne=ne||Q.length;for(var ie=0;ie<ne;ie+=1)G.writeByte(Q[ie+re])},G.writeString=function(Q){for(var re=0;re<Q.length;re+=1)G.writeByte(Q.charCodeAt(re))},G.toByteArray=function(){return W},G.toString=function(){var Q="";Q+="[";for(var re=0;re<W.length;re+=1)re>0&&(Q+=","),Q+=W[re];return Q+="]",Q},G},F=function(){var W=0,G=0,Q=0,re="",ne={},ie=function(T){re+=String.fromCharCode(z(T&63))},z=function(T){if(!(T<0)){if(T<26)return 65+T;if(T<52)return 97+(T-26);if(T<62)return 48+(T-52);if(T==62)return 43;if(T==63)return 47}throw"n:"+T};return ne.writeByte=function(T){for(W=W<<8|T&255,G+=8,Q+=1;G>=6;)ie(W>>>G-6),G-=6},ne.flush=function(){if(G>0&&(ie(W<<6-G),W=0,G=0),Q%3!=0)for(var T=3-Q%3,D=0;D<T;D+=1)re+="="},ne.toString=function(){return re},ne},L=function(W){var G=W,Q=0,re=0,ne=0,ie={};ie.read=function(){for(;ne<8;){if(Q>=G.length){if(ne==0)return-1;throw"unexpected end of file./"+ne}var T=G.charAt(Q);if(Q+=1,T=="=")return ne=0,-1;if(T.match(/^\s$/))continue;re=re<<6|z(T.charCodeAt(0)),ne+=6}var D=re>>>ne-8&255;return ne-=8,D};var z=function(T){if(65<=T&&T<=90)return T-65;if(97<=T&&T<=122)return T-97+26;if(48<=T&&T<=57)return T-48+52;if(T==43)return 62;if(T==47)return 63;throw"c:"+T};return ie},K=function(W,G){var Q=W,re=G,ne=new Array(W*G),ie={};ie.setPixel=function(w,S,$){ne[S*Q+w]=$},ie.write=function(w){w.writeString("GIF87a"),w.writeShort(Q),w.writeShort(re),w.writeByte(128),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(255),w.writeByte(255),w.writeByte(255),w.writeString(","),w.writeShort(0),w.writeShort(0),w.writeShort(Q),w.writeShort(re),w.writeByte(0);var S=2,$=T(S);w.writeByte(S);for(var N=0;$.length-N>255;)w.writeByte(255),w.writeBytes($,N,255),N+=255;w.writeByte($.length-N),w.writeBytes($,N,$.length-N),w.writeByte(0),w.writeString(";")};var z=function(w){var S=w,$=0,N=0,k={};return k.write=function(U,I){if(U>>>I)throw"length over";for(;$+I>=8;)S.writeByte(255&(U<<$|N)),I-=8-$,U>>>=8-$,N=0,$=0;N=U<<$|N,$=$+I},k.flush=function(){$>0&&S.writeByte(N)},k},T=function(w){for(var S=1<<w,$=(1<<w)+1,N=w+1,k=D(),U=0;U<S;U+=1)k.add(String.fromCharCode(U));k.add(String.fromCharCode(S)),k.add(String.fromCharCode($));var I=P(),q=z(I);q.write(S,N);var B=0,H=String.fromCharCode(ne[B]);for(B+=1;B<ne.length;){var ce=String.fromCharCode(ne[B]);B+=1,k.contains(H+ce)?H=H+ce:(q.write(k.indexOf(H),N),k.size()<4095&&(k.size()==1<<N&&(N+=1),k.add(H+ce)),H=ce)}return q.write(k.indexOf(H),N),q.write($,N),q.flush(),I.toByteArray()},D=function(){var w={},S=0,$={};return $.add=function(N){if($.contains(N))throw"dup key:"+N;w[N]=S,S+=1},$.size=function(){return S},$.indexOf=function(N){return w[N]},$.contains=function(N){return typeof w[N]<"u"},$};return ie},j=function(W,G,Q){for(var re=K(W,G),ne=0;ne<G;ne+=1)for(var ie=0;ie<W;ie+=1)re.setPixel(ie,ne,Q(ie,ne));var z=P();re.write(z);for(var T=F(),D=z.toByteArray(),w=0;w<D.length;w+=1)T.writeByte(D[w]);return T.flush(),"data:image/gif;base64,"+T};return g}();(function(){d.stringToBytesFuncs["UTF-8"]=function(g){function m(v){for(var _=[],y=0;y<v.length;y++){var x=v.charCodeAt(y);x<128?_.push(x):x<2048?_.push(192|x>>6,128|x&63):x<55296||x>=57344?_.push(224|x>>12,128|x>>6&63,128|x&63):(y++,x=65536+((x&1023)<<10|v.charCodeAt(y)&1023),_.push(240|x>>18,128|x>>12&63,128|x>>6&63,128|x&63))}return _}return m(g)}})(),function(g){f.exports=g()}(function(){return d})})(qrcode$1);const qrcode=qrcode$1.exports;var _tmpl$$6=template$1("<div>");const QRCode=f=>{let r,d,g;createSignal(!1);const[m,v]=createSignal(picSizeDefault);return createEffect(()=>{const x=qrcode(0,"L");x.addData(f.sourceUrl),x.make(),r.innerHTML=x.createSvgTag(4,0);const E=r.firstElementChild.clientWidth,b=Math.round(qrNormalSize/E*1e5)/1e5;if(g){const C=Math.ceil(imgSizeDefault/(b*4))*4,R=toPx(Math.ceil((E-C)/(2*4))*4);g.style.top=R,g.style.left=R,g.style.height=toPx(C),g.style.width=toPx(C),v(Math.round(picSizeDefault/b))}d.style.transform=`scale(${b})`}),createComponent(QrCodeBackground,{get class(){return f.class},get children(){return[createComponent(QrCodeWrapper$1,{ref(_){var y=d;typeof y=="function"?y(_):d=_},get children(){return[(()=>{var _=_tmpl$$6(),y=r;return typeof y=="function"?use(y,_):r=_,_})(),createComponent(Show,{get when(){return f.imageUrl},get children(){return createComponent(ImageBackground,{ref(_){var y=g;typeof y=="function"?y(_):g=_},get children(){return createComponent(ImageStyled$2,{get src(){return f.imageUrl},alt:"",get size(){return m()}})}})}})]}}),createComponent(Transition,{onBeforeEnter:_=>{animate(_,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(_,y)=>{animate(_,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{y()})}})]}})},$RAW=Symbol("store-raw"),$NODE=Symbol("store-node"),$HAS=Symbol("store-has"),$SELF=Symbol("store-self");function wrap$1(f){let r=f[$PROXY];if(!r&&(Object.defineProperty(f,$PROXY,{value:r=new Proxy(f,proxyTraps$1)}),!Array.isArray(f))){const d=Object.keys(f),g=Object.getOwnPropertyDescriptors(f);for(let m=0,v=d.length;m<v;m++){const _=d[m];g[_].get&&Object.defineProperty(f,_,{enumerable:g[_].enumerable,get:g[_].get.bind(r)})}}return r}function isWrappable(f){let r;return f!=null&&typeof f=="object"&&(f[$PROXY]||!(r=Object.getPrototypeOf(f))||r===Object.prototype||Array.isArray(f))}function unwrap(f,r=new Set){let d,g,m,v;if(d=f!=null&&f[$RAW])return d;if(!isWrappable(f)||r.has(f))return f;if(Array.isArray(f)){Object.isFrozen(f)?f=f.slice(0):r.add(f);for(let _=0,y=f.length;_<y;_++)m=f[_],(g=unwrap(m,r))!==m&&(f[_]=g)}else{Object.isFrozen(f)?f=Object.assign({},f):r.add(f);const _=Object.keys(f),y=Object.getOwnPropertyDescriptors(f);for(let x=0,E=_.length;x<E;x++)v=_[x],!y[v].get&&(m=f[v],(g=unwrap(m,r))!==m&&(f[v]=g))}return f}function getNodes(f,r){let d=f[r];return d||Object.defineProperty(f,r,{value:d=Object.create(null)}),d}function getNode(f,r,d){if(f[r])return f[r];const[g,m]=createSignal(d,{equals:!1,internal:!0});return g.$=m,f[r]=g}function proxyDescriptor$1(f,r){const d=Reflect.getOwnPropertyDescriptor(f,r);return!d||d.get||!d.configurable||r===$PROXY||r===$NODE||(delete d.value,delete d.writable,d.get=()=>f[$PROXY][r]),d}function trackSelf(f){getListener()&&getNode(getNodes(f,$NODE),$SELF)()}function ownKeys(f){return trackSelf(f),Reflect.ownKeys(f)}const proxyTraps$1={get(f,r,d){if(r===$RAW)return f;if(r===$PROXY)return d;if(r===$TRACK)return trackSelf(f),d;const g=getNodes(f,$NODE),m=g[r];let v=m?m():f[r];if(r===$NODE||r===$HAS||r==="__proto__")return v;if(!m){const _=Object.getOwnPropertyDescriptor(f,r);getListener()&&(typeof v!="function"||f.hasOwnProperty(r))&&!(_&&_.get)&&(v=getNode(g,r,v)())}return isWrappable(v)?wrap$1(v):v},has(f,r){return r===$RAW||r===$PROXY||r===$TRACK||r===$NODE||r===$HAS||r==="__proto__"?!0:(getListener()&&getNode(getNodes(f,$HAS),r)(),r in f)},set(){return!0},deleteProperty(){return!0},ownKeys,getOwnPropertyDescriptor:proxyDescriptor$1};function setProperty(f,r,d,g=!1){if(!g&&f[r]===d)return;const m=f[r],v=f.length;d===void 0?(delete f[r],f[$HAS]&&f[$HAS][r]&&m!==void 0&&f[$HAS][r].$()):(f[r]=d,f[$HAS]&&f[$HAS][r]&&m===void 0&&f[$HAS][r].$());let _=getNodes(f,$NODE),y;if((y=getNode(_,r,m))&&y.$(()=>d),Array.isArray(f)&&f.length!==v){for(let x=f.length;x<v;x++)(y=_[x])&&y.$();(y=getNode(_,"length",v))&&y.$(f.length)}(y=_[$SELF])&&y.$()}function mergeStoreNode(f,r){const d=Object.keys(r);for(let g=0;g<d.length;g+=1){const m=d[g];setProperty(f,m,r[m])}}function updateArray(f,r){if(typeof r=="function"&&(r=r(f)),r=unwrap(r),Array.isArray(r)){if(f===r)return;let d=0,g=r.length;for(;d<g;d++){const m=r[d];f[d]!==m&&setProperty(f,d,m)}setProperty(f,"length",g)}else mergeStoreNode(f,r)}function updatePath(f,r,d=[]){let g,m=f;if(r.length>1){g=r.shift();const _=typeof g,y=Array.isArray(f);if(Array.isArray(g)){for(let x=0;x<g.length;x++)updatePath(f,[g[x]].concat(r),d);return}else if(y&&_==="function"){for(let x=0;x<f.length;x++)g(f[x],x)&&updatePath(f,[x].concat(r),d);return}else if(y&&_==="object"){const{from:x=0,to:E=f.length-1,by:b=1}=g;for(let C=x;C<=E;C+=b)updatePath(f,[C].concat(r),d);return}else if(r.length>1){updatePath(f[g],r,[g].concat(d));return}m=f[g],d=[g].concat(d)}let v=r[0];typeof v=="function"&&(v=v(m,d),v===m)||g===void 0&&v==null||(v=unwrap(v),g===void 0||isWrappable(m)&&isWrappable(v)&&!Array.isArray(v)?mergeStoreNode(m,v):setProperty(f,g,v))}function createStore(...[f,r]){const d=unwrap(f||{}),g=Array.isArray(d),m=wrap$1(d);function v(..._){batch(()=>{g&&_.length===1?updateArray(d,_[0]):updatePath(d,_)})}return[m,v]}function deepReadObject(f,r,d){const g=f[r]||r.trim().split(".").reduce((m,v)=>m?m[v]:void 0,f);return g!==void 0?g:d}var template=(f,r,d=/{{([^{}]+)}}/g)=>f.replace(d,(g,m)=>deepReadObject(r,m,"")),createI18nContext=(f={},r=typeof navigator<"u"&&navigator.language in f?navigator.language:(d=>(d=Object.keys(f)[0])!=null?d:"")())=>{const[d,g]=createSignal(r),[m,v]=createStore(f);return[(x,E,b)=>{const C=deepReadObject(m[d()],x,b||"");return typeof C=="function"?C(E):typeof C=="string"?template(C,E||{}):C},{add(x,E){v(x,b=>Object.assign(b||{},E))},locale:x=>x?g(x):d(),dict:x=>deepReadObject(m,x)}]},I18nContext=createContext({}),useI18n=()=>useContext(I18nContext);const TextStyled$2=styled.div`
    font-style: normal;
    font-weight: ${f=>f.fontWeight};
    font-size: ${f=>f.fontSize};
    line-height: ${f=>f.lineHeight};

    color: ${f=>f.color};
`,Text=f=>{const r=useTheme(),[d]=useI18n();let g;const m=()=>f.color||r.colors.text.primary,v=mergeProps({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},f);return createEffect(()=>{g&&v.cursor!=="unset"&&getComputedStyle(g).cursor!=="pointer"&&(g.style.cursor="default")}),createComponent(TextStyled$2,{get fontSize(){return v.fontSize},get fontWeight(){return v.fontWeight},get lineHeight(){return v.lineHeight},get color(){return m()},get class(){return v.class},ref(_){var y=g;typeof y=="function"?y(_):g=_},"data-tc-text":"true",get children(){var _;return createMemo(()=>!!v.translationKey)()?d(v.translationKey,v.translationValues,(_=v.children)==null?void 0:_.toString()):v.children}})},ImageContainer=styled.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);

        border-radius: inherit;
    }
`,ImageStyled$1=styled(Image)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,WalletImage=f=>createComponent(ImageContainer,{get class(){return f.class},get children(){return createComponent(ImageStyled$1,{get src(){return f.src}})}}),borders={m:"16px",s:"12px",none:"0"},badgeBorders={m:"6px",s:"6px",none:"0"};styled.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 92px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${media("mobile")} {
        padding: 8px 4px;
        width: 82px;
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`;styled(WalletImage)`
    width: 60px;
    height: 60px;
    border-radius: ${f=>borders[f.theme.borderRadius]};

    margin-bottom: 8px;
`;styled(Image)`
    position: absolute;
    right: 10px;
    top: 50px;
    width: 24px;
    height: 24px;
    border-radius: ${f=>badgeBorders[f.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`;styled(Text)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${media("mobile")} {
        max-width: 80px;
    }
`;styled(Text)`
    font-weight: ${f=>f.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${f=>f.colorPrimary?f.theme.colors.text.primary:f.theme.colors.text.secondary};

    ${media("mobile")} {
        max-width: 80px;
    }
`;const H1Styled$2=styled.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${f=>f.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H1=f=>{const[r]=useI18n();return createComponent(H1Styled$2,{get class(){return f.class},"data-tc-h1":"true",get children(){var d;return createMemo(()=>!!f.translationKey)()?r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString()):f.children}})},H2Styled$1=styled.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${f=>f.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,H2=f=>{const[r]=useI18n();return createComponent(H2Styled$1,{get class(){return f.class},"data-tc-h2":"true",get children(){var d;return createMemo(()=>!!f.translationKey)()?r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString()):f.children}})},H3Styled=styled.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${f=>f.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H3=f=>{const[r]=useI18n();return createComponent(H3Styled,{"data-tc-h3":"true",get class(){return f.class},get children(){var d;return createMemo(()=>!!f.translationKey)()?r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString()):f.children}})},containerBorders={m:"16px",s:"12px",none:"0"},walletBorders={m:"6px",s:"6px",none:"0"};styled.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${f=>containerBorders[f.theme.borderRadius]};
    background-color: ${f=>f.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`;styled(WalletImage)`
    width: 20px;
    height: 20px;
    border-radius: ${f=>walletBorders[f.theme.borderRadius]};
`;styled.div`
    width: 100%;
    overflow-y: auto;
    max-height: ${f=>f.maxHeight};

    scrollbar-width: none;
    &&::-webkit-scrollbar {
        display: none;
    }

    &&::-webkit-scrollbar-track {
        background: transparent;
    }

    &&::-webkit-scrollbar-thumb {
        display: none;
    }
`;styled.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.08;
    background: ${f=>f.isShown?f.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${media("mobile")} {
        width: 100%;
        margin: 0;
    }
`;const[windowHeight,setWindowHeight]=createSignal(((_i=getWindow$1())==null?void 0:_i.innerHeight)||0);getWindow$1()&&window.addEventListener("resize",()=>setWindowHeight(window.innerHeight));const AStyled=styled.a`
    display: block;
    text-decoration: unset;
`,Link=f=>createComponent(AStyled,mergeProps({get href(){return f.href},get target(){return f.blank?"_blank":"_self"},get class(){return f.class},get onClick(){return f.onClick}},()=>f.blank?{rel:"noreferrer noopener"}:{},{get children(){return f.children}}));var _tmpl$$5=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z">');const CopyIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.primary;return(()=>{var g=_tmpl$$5(),m=g.firstChild;return createRenderEffect(v=>{var _=f.class,y=d();return _!==v.e&&setAttribute(g,"class",v.e=_),y!==v.t&&setAttribute(m,"fill",v.t=y),v},{e:void 0,t:void 0}),g})()};var _tmpl$$4=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z">');const DisconnectIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.primary;return(()=>{var g=_tmpl$$4(),m=g.firstChild,v=m.nextSibling;return createRenderEffect(_=>{var y=d(),x=d();return y!==_.e&&setAttribute(m,"fill",_.e=y),x!==_.t&&setAttribute(v,"fill",_.t=x),_},{e:void 0,t:void 0}),g})()};function copyToClipboard(f){return __async(this,null,function*(){try{if(!(navigator!=null&&navigator.clipboard))throw new OKXConnectUiError("Clipboard API not available");return yield navigator.clipboard.writeText(f)}catch{}fallbackCopyTextToClipboard(f)})}function fallbackCopyTextToClipboard(f){const r=document.createElement("textarea");r.value=f,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy")}finally{document.body.removeChild(r)}}const hoverBorders={m:"8px",s:"4px",none:"0"},dropdownBorders={m:"16px",s:"8px",none:"0"},AccountButtonDropdownStyled=styled.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${f=>dropdownBorders[f.theme.borderRadius]};

    background-color: ${f=>f.theme.colors.background.primary}
           
    color: ${f=>f.theme.colors.text.primary}
`,UlStyled=styled.ul`
    background-color: ${f=>f.theme.colors.background.primary};
    padding: 8px;
`,MenuButtonStyled=styled.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${f=>f.theme.colors.background.primary};
    border: none;
    border-radius: ${f=>hoverBorders[f.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${f=>f.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,OKXConnectUiContext=createContext();var _tmpl$$3=template$1("<li>");const MenuItemText=f=>createComponent(Text,{get translationKey(){return f.translationKey},fontSize:"15px",fontWeight:"590",get children(){return f.children}}),AccountButtonDropdown=f=>{const r=useContext(OKXConnectUiContext),[d,g]=createSignal(!1),m=()=>__async(void 0,null,function*(){const _=src$3.toUserFriendlyAddress(r.account.address);yield copyToClipboard(_),g(!0),setTimeout(()=>g(!1),1e3)}),v=()=>{r.disconnect(),f.onClose()};return createComponent(AccountButtonDropdownStyled,{ref(_){var y=f.ref;typeof y=="function"?y(_):f.ref=_},get class(){return f.class},"data-tc-dropdown":"true",get children(){return createComponent(UlStyled,{get children(){return[(()=>{var _=_tmpl$$3();return insert(_,createComponent(MenuButtonStyled,{onClick:()=>m(),get children(){return[createComponent(CopyIcon,{}),createComponent(Show,{get when(){return!d()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),createComponent(Show,{get when(){return d()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),_})(),(()=>{var _=_tmpl$$3();return insert(_,createComponent(MenuButtonStyled,{onClick:()=>v(),get children(){return[createComponent(DisconnectIcon,{}),createComponent(MenuItemText,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),_})()]}})}})},AccountButtonStyled=styled(Button)`
    background-color: ${f=>f.theme.colors.connectButton.background};
    color: ${f=>f.theme.colors.connectButton.foreground};
    box-shadow: ${f=>`0 4px 24px ${rgba(f.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`;styled(AccountButtonStyled)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${f=>f.theme.colors.background.primary};
`;styled(Button)`
    min-width: 148px;
    height: 40px;

    background-color: ${f=>f.theme.colors.background.primary};
    color: ${f=>f.theme.colors.connectButton.foreground};
    box-shadow: ${f=>`0 4px 24px ${rgba(f.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`;styled(LoaderIcon)`
    height: 18px;
    width: 18px;
`;styled.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`;styled(AccountButtonDropdown)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`;const UniversalConnectorContext=createContext();createStore({buttonRootId:null,language:"en_US"});const StyledModal=styled(Modal)`
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;

  ${media("mobile")} {
    padding-left: 0;
    padding-right: 0;
    min-height: 364px;
  }
`,H1Styled$1=styled(H1)`
  padding: 12px 64px;
`,MobileConnectionModalStyled$1=styled.div``,BodyStyled$1=styled.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: ${f=>f.isDeclined?"200px":"325px"};;
  gap: 24px;
`,StyledIconButton=styled(IconButton)`
  position: absolute;
  top: 12px;
  left: 16px;
`,H2Styled=styled(H2)`
  margin-bottom: 0;
  padding: 16px 24px 24px 24px;
  min-height: 44px;
`,QrCodeWrapper=styled.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
`,LoaderWrapper=styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
`;function addReturnStrategy(f,r){let d;typeof r=="string"?d=r:d=r.returnStrategy;const g=addQueryParameter(f,"ret",d);if(!src$6.isTelegramUrl(f))return g;const m=g.slice(g.lastIndexOf("&")+1);return g.slice(0,g.lastIndexOf("&"))+"-"+src$6.encodeTelegramUrlParameters(m)}function openLinkOnPhone(f,r){isOS("android")?openDeeplinkWithFallback(r,()=>{}):openLinkBlank(f)}function redirectToWallet(f,r,d,g){if(d=__spreadValues({},d),isInTelegramBrowser())if(isOS("ios","android"))d.returnStrategy==="back"&&(d.returnStrategy="tg://resolve"),openLinkOnPhone(f,r);else{const m=addReturnStrategy(f,d.returnStrategy);openLinkBlank(m)}else if(isInTMA())if(isTmaPlatform("ios","android"))d.returnStrategy==="back"&&(d.returnStrategy="tg://resolve"),openLinkOnPhone(f,r);else if(isTmaPlatform("macos","tdesktop")){d.returnStrategy==="back"&&(d.returnStrategy="tg://resolve");const m=addReturnStrategy(f,d.returnStrategy);!d.forceRedirect?openDeeplinkWithFallback(toDeeplink(m,r),()=>{openLinkBlank(m)}):openLinkBlank(m)}else if(isTmaPlatform("weba")){d.returnStrategy==="back"&&(isBrowser("safari")?d.returnStrategy=location.href:isBrowser("chrome")?d.returnStrategy="googlechrome://":isBrowser("firefox")?d.returnStrategy="firefox://":isBrowser("opera")?d.returnStrategy="opera-http://":d.returnStrategy=location.href);const m=addReturnStrategy(f,d.returnStrategy);!d.forceRedirect?openDeeplinkWithFallback(toDeeplink(m,r),()=>{openLinkBlank(m)}):openLinkBlank(m)}else if(isTmaPlatform("web")){d.returnStrategy==="back"&&(isBrowser("safari")?d.returnStrategy=location.href:isBrowser("chrome")?d.returnStrategy="googlechrome://":isBrowser("firefox")?d.returnStrategy="firefox://":isBrowser("opera")?d.returnStrategy="opera-http://":d.returnStrategy=location.href);const m=addReturnStrategy(f,d.returnStrategy);!d.forceRedirect?openDeeplinkWithFallback(toDeeplink(m,r),()=>{openLinkBlank(m)}):openLinkBlank(m)}else{const m=addReturnStrategy(f,d.returnStrategy);openLinkBlank(m)}else if(isOS("ios"))d.returnStrategy==="back"&&(isBrowser("safari")?d.returnStrategy="none":isBrowser("chrome")?d.returnStrategy="googlechrome://":isBrowser("firefox")?d.returnStrategy="firefox://":isBrowser("opera")?d.returnStrategy="opera-http://":d.returnStrategy=location.href),openLinkOnPhone(f,r);else if(isOS("android"))d.returnStrategy==="back"&&(isBrowser("chrome")?d.returnStrategy="googlechrome://":isBrowser("firefox")?d.returnStrategy="firefox://":isBrowser("opera")?d.returnStrategy="opera-http://":d.returnStrategy=location.href),src$6.logDebug("url-strategy-helpers 489"),openLinkOnPhone(f,r);else if(isOS("ipad"))d.returnStrategy==="back"&&(isBrowser("safari")?d.returnStrategy="none":isBrowser("chrome")?d.returnStrategy="googlechrome://":isBrowser("firefox")?d.returnStrategy="firefox://":isBrowser("opera")?d.returnStrategy="opera-http://":d.returnStrategy=location.href),openLinkOnPhone(f,r);else if(isOS("macos","windows","linux")){d.returnStrategy==="back"&&(isBrowser("safari")?d.returnStrategy="none":isBrowser("chrome")?d.returnStrategy="googlechrome://":isBrowser("firefox")?d.returnStrategy="firefox://":isBrowser("opera")?d.returnStrategy="opera-http://":d.returnStrategy="none");const m=addReturnStrategy(f,d.returnStrategy);!d.forceRedirect?openDeeplinkWithFallback(toDeeplink(m,r),()=>{openLinkBlank(m)}):openLinkBlank(m)}else openLinkBlank(addReturnStrategy(f,d.returnStrategy))}function addQueryParameter(f,r,d){const g=new URL(f);return g.searchParams.append(r,d),g.toString()}const imageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7V27chNJFG3LPGweLhkDZV7l2S9Yk5FhZ2TY4UaGbDPwFxhHSwZkZLa/wHZGJpGx0Wq/YIcqMK7iJYN5G7TnNH1Fe/TW9IzGUp+qUc+MJXl0T/e5/bw9pDKKIAjye3t705VKZRqXU0gD3saRHxoayuM6b78f98q4V0YaSorbT5GWDh06VArDsKwyiCGVEdDg3759m8PpVRhwRv00tkuUSAbSx4cPHy6CkFBlAD0lwBj9Bk6vG6NXgWv1/ft3hb/r48ePHzrlfZ7zsJHL5fQxPDxcTXnA2OrIkSM1/xtkFJGs9ZqMnhBw8eLFGRhyyTY6DUsDf/78WX358kWfu8TRo0c1GSMjI/UI2cCxtrW1taFSRmoESG6HoW8pIy9i9A8fPmijR3N1UmAJISGjo6OaEAshSsby8+fPV1VKSIUA5PhbMPYdcZyUlo8fP2rDp2X0RqBMkYyTJ0/qc4PUiEiUAEoNDLyiTI7/+vWrev/+vc7tWcSxY8dSJyIRAiA3AYx9D6es1egcXy6XM2v4KKJEgIRV+I/lJJz1sHKMCxcuLCDX05mxDq92d3fVmzdvNAkHBeKX+PzGYU/j+efGxsZ2UIJLyiGcEUAne/z48b/w0HdxOUK5ef36ta7VHFTwN3z69Ek7bZQA+i+SkJ+YmPgbJdrJD3MiQUZyCjxlrnn37p3OQf2EEydOaFmCHPEyRMmYdSFJsQmA5LCroMAaDmXm1atXB0puOgF9wunTp8U30EHPw0HHkqRYEkS9h+Ef4XSEUkOt73W1MkmwdFOS0LfEg5L0JyQphF/4V3WJrgkwdfuHPGfVcmdnRz9gv0NIINh+AOYgTzuobDxRXaArAmh85PT7PKfxeQwa6KAJkgAputYtCR0TYGSnmvMH0fiCKAndyFFHTpgOF8b/h+eDbnwbrB3xIEDE5U4cc67dN7KqCeOv89wbfz9se8BGBdqq3c+2RQAbWVLPZ23HG78WtIlpdGpb0WbtfK4tAtA0X0ISSJ+OR33QNqYNFBibtURLJwzdZx/+XVa/Xr582df1/LigjVgK0CXDyyvtOOWmJcDovmaS3QvttnDX19f1w8Q5+B2ukObz0EaWP7jfyh80rQUh96/gS25w8KQT6XHVIDP9LrHRi+dhl4XpSd3AUOd8o/c1LAFGenh4p9sF3r59K8TPcWCq0fsaEtCN9Hj8Am3GsRDCjArWRV0CmPuVqfX0W7dymqBySK3o3Llzt+u9py4Bkvu99MSH+E74j6V6bYMaAuzcT+frEQ8cBzd9Rnmc34j+vYYAn/vdQ2yJUnAr+rd9BFy6dImzGHzudwyWAvEF0RrRPgKQ+xeY+tzvHpKhRWEEVQLYYkN1Sc/jOSjzdw4SZJoL58PazrhKADqPZpiyL8PX+91DZncTtjO2JUjLj9f+5CBtqlwud13uaQJMp9sMz2WYzcM9KO1RGdIEiPzQ+L67OTnYMmRWA1Ul6CpfZLqFR3KQqZooBdrmQgBnt6m9vT3lkSwsiZ/hS45aZFYiOqt+bmzEX+nj4jtcfper5yEBpps60H6ALbPz589XMIDAu5k6VlY4HhQPhUIhc7/r7NmzFdqcth9C59ttPOc9VpE4vTBLyNrImivk83m9CAS/b5E+IOBNr//pQWyN9kCQQ+6Y4oVv/aYHqeqjBAS5ilm56Kq4e7SGpTZTJCCI3PRIGJba5ClBvgSkDMvW+aoE+S6I9GDZOt/27GiPZOAJ6DE8AT0GnbCeuMLFyB7pwLJ1mU5YE5C15no/w7J12ZeAHoDrjAnGtcuZ4HY6mpRHOpDMDvXZoQQ95YWXoPRghcEJSUXIC18C0oMQgAaZliC9pjWLBKytram4KBaLKmsQW4OIkl6CytGZyclJZyM+6+vrlbjgd/Tr89DePGh7Lfy4+A9JwFWQLsJFVvwasYZgWIOJiQmelra2ti5L3fMxX+oFOPVwC0vqtfRrAkwUWR1H0yNZSJxS2Fxnek0AWNFzLthA8A2y5EDbispgUKao7/GFkcVZCuw3eLiHCfCkFWd7ezvkuZ3dN/nC4HQeyYBTUQyq9esqAZChVaZehpIB7SolQOSHqFraliETbMLDISxp3xT5IfZldcZJZmoVFQ9HkIhawKp9fx8Bz549KyIJJaK4hxswQ0us0egeBTVij1LwgKnFmEdMWPHklqN/qyGAzpiDNNQsXwriw8799cLg1xBgdhvSTHEWr0c8NMv9+n6jD0oHXTcREn1n3E+wTTU2NsZTav9v9d7TsMKP6uhNpqySyhimR/ugzVrlfqIhAaZGtMF2gZeizmGFul9ttgVK0yYvhswWxSF30jgb9DVilB7TsxzChsvN3ttS1EzsuBVOKOXeAH4ae3NQes6cOaNzP46brTYAahk3lHumwJGM48uusC+ba4krfip7XVCuGS2RKdtTMP7dlp9RbQBtgzvKtJC9P2gM2kbq/MZmLdEWAWwbQIJm6Q9YCnwruRa0iRntou7Ptrt7a9v9zqYHb1b+mSfhFyLh6+ft3s5W6GgDB/iDbfgDzqSbk26KQY+uEjE+ne6jTj7f8Q4axilzRfe1QSfBNj4qJoto7T5UHaKrPWRAwpNBJyFq/BcvXtxXXaDrXZQMCVU54nwXCUjUz2AVc3x8vNowpex0k/MFTjZyq/zc2kSHu+T2hf3aWGMji7PaWNU06ypm427k5qS7cXJyMkDOKOCUkRd172m/b2XIqmYntZ1GcLKZ5+7ubhk5Yw0PNSotZuYWloSDvv6Yv+PUqVN6YMV0LzxA39gf6KzcVg7gfFWG6TtaUn1QGpjjmfON4Sk5i643d3a+nzCrqXBQm3hg9h9NszSY2DhOZl6nAVYq2KfDZzeSs4HMNI+aTlE5RqLrkuzSwGvZXyWrsUllb3lrDk/IgSkzNpIIUlkY1ogIth16XWOSiWjW4LmWG/bjd1u37wSprsyLEkEwjCNLRJoxS2USMvWd7RdrrJd7BD/gzJB2O9PioidLIxkmH6VgAadz9n2SQELoK1wHEKehKTHU9YjR9WxljtsmKTWN0NO1qWw/oNjP4HShYkIn2yAhJIOSRamiI+c5S0q0tDBXm4EQbWCzD7xsvlwzo8EsStlMM7fXQ2YWBwsZJALG+b1iYpk6RGiM/pgLUnppdBuZXZ3NFYTI9dOGCAYXn2J0L6SBSfcNzdFx4l7ZpDQ2+6mYllACSlkxeBT/A6Mt6rTZ7SrDAAAAAElFTkSuQmCC";var _tmpl$$1=template$1('<svg><path fill-rule=evenodd clip-rule=evenodd d="M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z"fill-opacity=0.2></svg>',!1,!0),_tmpl$2=template$1('<svg><path fill-rule=evenodd clip-rule=evenodd d="M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z"></svg>',!1,!0);const OKXLoaderIconWithLogo=f=>createComponent(LoaderContainerStyled$1,{get children(){return[createComponent(LoaderStyled,{}),createComponent(OKIconStyle,{src:imageUrl})]}}),OKXIconWithLogo=f=>createComponent(LoaderContainerStyled$1,{get children(){return createComponent(OKIconStyle,{src:imageUrl})}}),OKXLoaderIcon=f=>{const r=useTheme(),d=h`
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    `,g=styled.svg`
    animation: ${d} 2s linear infinite;
    transform-origin: center;
  `;return createComponent(g,{xmlns:"http://www.w3.org/2000/svg",width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",get children(){return[(()=>{var m=_tmpl$$1();return createRenderEffect(()=>setAttribute(m,"fill",r.colors.text.primary)),m})(),(()=>{var m=_tmpl$2();return createRenderEffect(()=>setAttribute(m,"fill",r.colors.text.primary)),m})()]}})},LoaderContainerStyled$1=styled.div`
  position: relative;
  height: 102px;
  width: 102px;
`,LoaderStyled=styled(OKXLoaderIcon)`
  height: 102px;
  width: 102px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,OKIconStyle=styled(Image)`
  position: absolute;
  width: 86px;
  height: 86px;
  border-radius: 44px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,MobileConnectionQR=f=>[createComponent(H1Styled$1,{translationKey:"walletModal.mobileConnectionModal.OKXConnect"}),createComponent(QrCodeWrapper,{get children(){return[createComponent(Show,{get when(){return f.sessionConnecting()},get children(){return createComponent(LoaderWrapper,{get children(){return createComponent(OKXLoaderIconWithLogo,{})}})}}),createComponent(Show,{get when(){return createMemo(()=>f.universalLink!==null)()&&!f.sessionConnecting()},get children(){return createComponent(QRCode,{imageUrl,get sourceUrl(){return addReturnStrategy(f.universalLink,"none")},disableCopy:!0})}})]}}),createComponent(H2Styled,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:f.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",createMemo(()=>f.walletInfo.name),"s camera"]}})];styled(H1)`
  padding: 12px 64px;
`;const H1StyledMaxWidth=styled(H1)`
  max-width: 262px;
`,H1StyledRetry=styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.text.primary};
`,RetryButtonStyle=styled(Button)`
  background-color: transparent;
  color: ${f=>f.theme.colors.text.primary};
  padding: 0px;
`,LoaderContainerStyled=styled.div`
  margin: 30px 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;

  ${media("mobile")} {
    height: 160px;
    align-items: center;
  }
`,ErrorIconStyled=styled(ErrorIcon)`
  margin-bottom: 16px;
`,ButtonsContainerStyled=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 12px;
`,ButtonsQRContainerStyled=styled.div`
  background-color: ${f=>f.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,TextStyled$1=styled(Text)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${f=>f.theme.colors.text.contrast};
`,ContainedButton=styled(Button)`
  height: 48px;
  width: 262px;
  border-radius: 999px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 24px;
`,ContainedPrimaryButton=styled(ContainedButton)`
  background-color: ${f=>f.theme.colors.text.primary};
`;styled(ContainedButton)`
  background-color: transparent;
  border-color: ${f=>f.theme.colors.border.secondary};
  border-width: 0.5px;
  border-style: solid;
`;const ContainedPrimaryButtonText=styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.background.primary};
`;styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.text.primary};
`;const FooterStyled=styled.div`
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 0.5px solid
    ${f=>rgba(f.theme.colors.icon.secondary,.2)};
  margin-top: 32px;
`,ImageStyled=styled(Image)`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`,FooterButton=styled(Link)`
  margin-left: auto;
  display: flex;
`,FooterButtonCenter=styled.div`
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: center;
`,ConnectAppTgModalPage=f=>[createComponent(ButtonsContainerStyled,{get children(){return[createComponent(OKXIconWithLogo,{}),createComponent(TextStyled$1,{translationKey:"walletModal.mobileConnectionModal.appAndTelegram.text",children:"OKX Wallet supports OKX app and Telegram Mini Apps"})]}}),createComponent(ButtonsContainerStyled,{get children(){return[createComponent(ContainedPrimaryButton,{get onClick(){return f.onConnectApp},get children(){return createComponent(ContainedPrimaryButtonText,{translationKey:"walletModal.mobileConnectionModal.connectApp",children:"Connect to OKX app"})}}),createComponent(ContainedPrimaryButton,{get onClick(){return f.onConnectMini},get children(){return createComponent(ContainedPrimaryButtonText,{translationKey:"walletModal.mobileConnectionModal.connectMini",children:"Connect to Mini Apps"})}})]}})],LoadingModalPage=f=>createComponent(LoaderContainerStyled,{get children(){return[createComponent(OKXLoaderIconWithLogo,{}),createComponent(Show,{get when(){return f.loadingTextTranslationKey||f.loadingTextTranslationKey},get children(){return createComponent(H1StyledMaxWidth,{get translationKey(){return f.loadingTextTranslationKey},get children(){return f.loadingText}})}})]}}),Translation=f=>{const[r]=useI18n();return createMemo(()=>{var d;return r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString())})};var _tmpl$=template$1('<svg width=40 height=12 viewBox="0 0 40 12"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d="M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z"></path><path d="M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z"></path><path d="M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z"></path><path d="M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z"></path><path d="M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z"></path><path d="M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z"></path><path d="M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z"></path><path d="M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z"></path><path d="M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>');const OKXLogo=f=>{const r=useTheme(),d=()=>f.fill||r.colors.disable;return(()=>{var g=_tmpl$(),m=g.firstChild,v=m.firstChild,_=v.nextSibling,y=_.nextSibling,x=y.nextSibling,E=x.nextSibling,b=E.nextSibling,C=b.nextSibling,R=C.nextSibling,O=R.nextSibling;return createRenderEffect(A=>{var M=d(),P=d(),F=d(),L=d(),K=d(),j=d(),W=d(),G=d(),Q=d();return M!==A.e&&setAttribute(v,"fill",A.e=M),P!==A.t&&setAttribute(_,"fill",A.t=P),F!==A.a&&setAttribute(y,"fill",A.a=F),L!==A.o&&setAttribute(x,"fill",A.o=L),K!==A.i&&setAttribute(E,"fill",A.i=K),j!==A.n&&setAttribute(b,"fill",A.n=j),W!==A.s&&setAttribute(C,"fill",A.s=W),G!==A.h&&setAttribute(R,"fill",A.h=G),Q!==A.r&&setAttribute(O,"fill",A.r=Q),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),g})()},ModalFooter=f=>{const r=useTheme(),d=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_Download_Click,"")};return[createComponent(FooterStyled,{get children(){return[createComponent(ImageStyled,{src:imageUrl}),createComponent(H3,{get children(){return f.wallet.name}}),createComponent(FooterButton,{get href(){return f.wallet.aboutUrl},onClick:d,blank:!0,get children(){return[createComponent(Text,{get color(){return r.colors.text.contrast},get children(){return createComponent(Translation,{translationKey:"common.get",children:"GET"})}}),createComponent(ArrowIcon,{direction:"right"})]}})]}}),createComponent(FooterButtonCenter,{get children(){return[createComponent(Text,{get color(){return r.colors.disable},get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.PoweredBy",children:"PoweredBy"})}}),createComponent(OKXLogo,{})]}})]},ModalRetryButton=f=>createComponent(RetryButtonStyle,{get leftIcon(){return createComponent(RetryIcon,{})},get onClick(){return f.onRetry},get children(){return createComponent(H1StyledRetry,{translationKey:"common.retry",children:"Retry"})}}),ConnectionDeclinedModalPage=f=>[createComponent(ErrorIconStyled,{size:"s"}),createComponent(H1StyledMaxWidth,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),createComponent(Show,{get when(){return f.showRetry},get children(){return createComponent(ButtonsContainerStyled,{get children(){return createComponent(ModalRetryButton,{get onRetry(){return f.onRetry}})}})}})],ContinueInWalletModalPage=f=>{const r=useTheme();return[createComponent(ButtonsContainerStyled,{get children(){return[createComponent(OKXLoaderIconWithLogo,{}),createComponent(H1StyledMaxWidth,{translationKey:"walletModal.mobileConnectionModal.continueIn",children:"Continue the transaction in OKX Wallet"})]}}),createComponent(ButtonsContainerStyled,{get children(){return[createComponent(ButtonsQRContainerStyled,{get onClick(){return f.onOpenQR},get children(){return[createComponent(QRIcon,{get fill(){return r.colors.background.primary}}),createComponent(ContainedPrimaryButtonText,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Codes"})]}}),createComponent(ModalRetryButton,{get onRetry(){return f.onRetry}})]}})]},MobileConnectionModal=f=>{useTheme();const[r,d]=createSignal(!0),[g,m]=createSignal(!1),[v,_]=createSignal(!1),y=createMemo(()=>!f.isSingleWallet&&!v()),[x,E]=createSignal(null),[b,C]=createSignal(null),[R,O]=createSignal(null),A=useContext(OKXConnectUiContext);var M,P;let F=()=>f.universalLinkParams()===null&&!f.connectError();var L;createEffect(()=>{var ne,ie,z=f.universalLinkParams();const T=y(),D=g(),w=F();if(T!=M&&!D&&!w&&(T?(src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Proceed_Proceed_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_ChooseType_ConnectWallet_View,"")):(src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Proceed_Proceed_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_ChooseType_ConnectWallet_View,"")),M=T),D!=P&&!w&&(D?src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Proceed_QRCode_View,""):src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Proceed_QRCode_View,""),P=D),w!=L&&(w?src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Loading_ConnectWallet_View,""):src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Loading_ConnectWallet_View,""),L=w),z){f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"universal-link"})),src$6.logDebug(`createEffect  ${JSON.stringify(z)}`);var S=z.connectRequest,$=z.tonConnectRequest;$||($=S);var N="",k="";if(S){if(src$6.useShortLink()){var U=src$6.getOKXLink(S);O(U),E(U)}else{var I=src$6.encodeConnectParams(__spreadProps(__spreadValues({},$),{redirect:"none"}));N=src$6.getUniversalLink(src$6.getAppWalletDeepLink(I),!0),O(N);var q=src$6.encodeConnectParams(__spreadProps(__spreadValues({},$),{redirect:(ne=z.redirect)!=null?ne:"none"}));k=src$6.getAppWalletDeepLink(q),E(k)}var B=src$6.encodeTWAConnectURLParams(__spreadProps(__spreadValues({},S),{redirect:"none"})),H=src$6.getTelegramWalletTWAUrl(B,(ie=z.tmaReturnUrl)!=null?ie:"back");C(H),src$6.logDebug(`setUniversalLink  ${k}   tgUrl  ${H}    qrLink ${N}`)}}f.connectError()&&m(!1)}),onMount(()=>__async(void 0,null,function*(){try{yield f.connect().catch(ne=>src$6.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(ne)}`))}catch(ne){console.error("Error while connecting:",ne)}}));const K=()=>{_(!1),r(),d(!1),src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_Retry_Click,"");try{f.connect()}catch(ne){console.error("Error while connecting:",ne)}},j=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_QRCode_Click,""),m(!0),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"qrcode"}))},W=()=>{m(!1),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"universal-link"}))},G=()=>{g()?W():f.onBackClick()},Q=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"app"})),_(!0),src$6.useShortLink()?src$6.openOKXUniversalLink(x()):src$6.openOKXDeeplinkWithFallback(x())},re=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"tgminiwallet"})),A==null||A.closeModal(),src$6.openOKXTMAWalletlinkWithFallback(b())};return createComponent(MobileConnectionModalStyled$1,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[createComponent(Show,{get when(){return!f.backDisabled||g()},get children(){return createComponent(StyledIconButton,{icon:"arrow",onClick:G})}}),createComponent(Show,{get when(){return createMemo(()=>f.universalLinkParams()===null)()&&!f.connectError()},get children(){return[createComponent(H1Styled$1,{children:"OKX Connect"}),createComponent(LoadingModalPage,{}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}}),createComponent(Show,{get when(){return f.universalLinkParams()!==null||f.connectError()},get children(){return[createComponent(Show,{get when(){return createMemo(()=>!!g())()&&!f.connectError()},get children(){return createComponent(MobileConnectionQR,{get universalLink(){return R()},get walletInfo(){return f.wallet},get sessionConnecting(){return f.sessionConnecting}})}}),createComponent(Show,{get when(){return!g()},get children(){return[createComponent(H1Styled$1,{children:"OKX Connect"}),createComponent(BodyStyled$1,{get isDeclined(){return f.connectError()},get children(){return[createComponent(Show,{get when(){return f.connectError()},get children(){return createComponent(ConnectionDeclinedModalPage,{onRetry:K,get showRetry(){return f.showRetry}})}}),createComponent(Show,{get when(){return!f.connectError()},get children(){return[createComponent(Show,{get when(){return y()},get children(){return createComponent(ConnectAppTgModalPage,{onConnectApp:Q,onConnectMini:re})}}),createComponent(Show,{get when(){return!y()},get children(){return createComponent(ContinueInWalletModalPage,{onOpenQR:j,onRetry:K})}})]}})]}}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}})]}})]}})},MobileConnectionModalStyled=styled.div``,BodyStyled=styled.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  gap: 24px;
`,DesktopConnectionModal=f=>{useTheme();const[r,d]=createSignal(!0),[g,m]=createSignal(!1),[v,_]=createSignal(null),y=createMemo(()=>!f.isSingleWallet&&v()===null),[x,E]=createSignal(null),b=useContext(OKXConnectUiContext);var C;let R=()=>f.universalLinkParams()===null&&!f.connectError();var O;createEffect(()=>{var j;src$6.logDebug("TON customEvent.detail  :::",createEffect);var W=f.universalLinkParams();src$6.logDebug("TON customEvent.detail  :::",JSON.stringify(W));const G=y(),Q=R();if(G!=C&&!Q&&(G?(src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_ChooseType_ConnectWallet_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Proceed_QRCode_View,"")):(src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_ChooseType_ConnectWallet_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Proceed_QRCode_View,"")),C=G),Q!=O&&(Q?src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Loading_ConnectWallet_View,""):src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Loading_ConnectWallet_View,""),O=Q),W){f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"universal-link"}));var re=W.connectRequest,ne=W.tonConnectRequest;if(ne||(ne=re),re){var ie="";if(src$6.useShortLink())ie=src$6.getOKXLink(re);else{var z=src$6.encodeConnectParams(__spreadProps(__spreadValues({},ne),{redirect:"none"}));ie=src$6.getUniversalLink(src$6.getAppWalletDeepLink(z),!0)}M(ie);var T=src$6.encodeTWAConnectURLParams(re),D=src$6.getTelegramWalletTWAUrl(T,(j=W.tmaReturnUrl)!=null?j:"back");E(D),src$6.logDebug(`DesktopConnectionModal  setUniversalLink  tgUrl  ${D}    qrLink ${ie}`)}}f.connectError()&&m(!1)});const[A,M]=createSignal(null);onMount(()=>__async(void 0,null,function*(){try{yield f.connect().catch(j=>src$6.logDebug("DesktopConnectionModal connect catch error ",JSON.stringify(j)))}catch(j){src$6.logDebug("DesktopConnectionModal connect  error ",JSON.stringify(j))}}));const P=()=>{_(null),r(),d(!1),src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_Retry_Click,"");try{f.connect()}catch(j){console.error("Error while connecting:",j)}},F=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_QRCode_Click,""),m(!0),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"qrcode"}))},L=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_ConnectWallet_Click,btoa(JSON.stringify({Report_WalletType_Key:"app"}))),M(A()),_("app"),F()},K=()=>{src$6.logDebug("desktop on connect mini"),src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_ConnectWallet_Click,btoa(JSON.stringify({Report_WalletType_Key:"tgminiwallet"}))),b==null||b.closeModal(),src$6.openOKXTMAWalletlinkWithFallback(x())};return createComponent(MobileConnectionModalStyled,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[createComponent(Show,{get when(){return f.universalLinkParams()===null||f.connectError()||y()},get children(){return createComponent(H1Styled$1,{children:"OKX Connect"})}}),createComponent(Show,{get when(){return createMemo(()=>f.universalLinkParams()===null)()&&!f.connectError()},get children(){return[createComponent(LoadingModalPage,{}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}}),createComponent(Show,{get when(){return f.universalLinkParams()!==null||f.connectError()},get children(){return[createComponent(Show,{get when(){return f.connectError()},get children(){return createComponent(BodyStyled,{get children(){return createComponent(ConnectionDeclinedModalPage,{onRetry:P,get showRetry(){return f.showRetry}})}})}}),createComponent(Show,{get when(){return!f.connectError()},get children(){return[createComponent(Show,{get when(){return!y()},get children(){return createComponent(MobileConnectionQR,{get universalLink(){return A()},get walletInfo(){return f.wallet},get sessionConnecting(){return f.sessionConnecting}})}}),createComponent(Show,{get when(){return y()},get children(){return createComponent(BodyStyled,{get children(){return createComponent(ConnectAppTgModalPage,{onConnectApp:L,onConnectMini:K})}})}})]}}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}})]}})},SingleWalletModal=f=>{const{locale:r}=useI18n()[1];return createEffect(()=>r(f.language)),createEffect(()=>{f.opened&&updateIsMobile()}),createComponent(StyledModal,{get opened(){return f.opened},onClose:()=>f.onClose("action-cancelled"),"data-tc-wallets-modal-container":"true",get children(){return[createComponent(Show,{get when(){return f.loadingBeforeConnect()},get children(){return[createComponent(H1Styled$1,{get children(){var d;return(d=f.walletInfo)==null?void 0:d.name}}),createComponent(LoadingModalPage,{})]}}),createComponent(Show,{get when(){return!f.loadingBeforeConnect()},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileConnectionModal:DesktopConnectionModal},get wallet(){return f.walletInfo},onBackClick:()=>{},backDisabled:!0,get connect(){return f.connect},get isSingleWallet(){return f.isSingleWallet},get universalLinkParams(){return f.universalLinkParams},get lastSelectedWalletInfo(){return f.lastSelectedWalletInfo},get setLastSelectedWalletInfo(){return f.setLastSelectedWalletInfo},get connectError(){return f.connectError},get showRetry(){return f.showRetry},get sessionConnecting(){return f.sessionConnecting}})}})]}})},common$j={openWallet:"Open wallet",get:"Get",close:"Close",retry:"Retry"},button$j={connectWallet:"Connect wallet",dropdown:{copy:"Copy address",copied:"Address copied",disconnect:"Disconnect"}},notifications$j={confirm:{header:"Open {{ name }} toconfirm."},transactionSent:{header:"Sent",text:"This actionwill becompleted inafew seconds."},transactionCanceled:{header:"Canceled",text:"Therell be no changes to your account."}},walletModal$j={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"Show QR Code",scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",continueIn:"Proceed in OKX Wallet",connectionDeclined:"Connection failed",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is available on OKX App and Telegram"},connectApp:"Connect to OKX App",connectMini:"Connect to OKX Mini Wallet"}},actionModal$j={confirmTransaction:{header:"Confirm in{{ name }}",text:"Itll only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},en={common:common$j,button:button$j,notifications:notifications$j,walletModal:walletModal$j,actionModal:actionModal$j},common$i={openWallet:" ",get:"",close:"",retry:" "},button$i={connectWallet:" ",dropdown:{copy:" ",copied:" .",disconnect:""}},notifications$i={confirm:{header:" {{ name }}   ."},transactionSent:{header:" ",text:"     ."},transactionCanceled:{header:" ",text:"    ."}},walletModal$i={mobileConnectionModal:{showQR:" QR-",scanQR:" QR-        {{ name }}",continueIn:"     OKX",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:" OKX    OKX   Telegram"},connectApp:"   OKX",connectMini:"  - OKX"}},actionModal$i={confirmTransaction:{header:"   {{ name }}",text:"    ."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},ru={common:common$i,button:button$i,notifications:notifications$i,walletModal:walletModal$i,actionModal:actionModal$i},common$h={openWallet:"",get:"",close:"",retry:""},button$h={connectWallet:"",dropdown:{copy:"",copied:"",disconnect:""}},notifications$h={confirm:{header:" {{ name }} "},transactionSent:{header:"",text:""},transactionCanceled:{header:"",text:""}},walletModal$h={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"",scanQR:"",continueIn:"",connectionDeclined:"",PoweredBy:"Powered by",appAndTelegram:{header:"",text:" App  Telegram "},connectApp:" App",connectMini:" Mini Wallet"}},actionModal$h={confirmTransaction:{header:" {{ name }} ",text:""},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},zh_CN={common:common$h,button:button$h,notifications:notifications$h,walletModal:walletModal$h,actionModal:actionModal$h},common$g={openWallet:" ",get:"",close:"",retry:" "},button$g={connectWallet:" ",dropdown:{copy:" ",copied:"  ",disconnect:" "}},notifications$g={confirm:{header:" {{ name }}  ."},transactionSent:{header:" ",text:"      ."},transactionCanceled:{header:" ",text:"     ."}},walletModal$g={mobileConnectionModal:{showQR:"  QR",scanQR:"  QR        {{ name }}",continueIn:"    OKX",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:" OKX    OKX Telegram"},connectApp:"  OKX",connectMini:"  OKX "}},actionModal$g={confirmTransaction:{header:"   {{ name }}",text:"    ."}},ar_AE={common:common$g,button:button$g,notifications:notifications$g,walletModal:walletModal$g,actionModal:actionModal$g},common$f={openWallet:"Otevt penenku",get:"Zskat",close:"Zavt",retry:"Zkusit znovu"},button$f={connectWallet:"Pipojit penenku",dropdown:{copy:"Koprovat adresu",copied:"Adresa zkoprovna",disconnect:"Odpojit"}},notifications$f={confirm:{header:"Otevete {{ name }} a potvrte transakci."},transactionSent:{header:"Transakce odeslna",text:"Vae transakce bude zruena bhem nkolika sekund."},transactionCanceled:{header:"Transakce zruena",text:"Na vaem tu nedojde k dnm zmnm."}},walletModal$f={mobileConnectionModal:{showQR:"Zobrazit QR kd",scanQR:"Naskenujte ne uveden QR kd pomoc kamery telefonu nebo {{ name }}",continueIn:"Potvrte transakci v OKX Penence.",connectionDeclined:"Pipojen selhalo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Penenka je k dispozici v aplikaci OKX a na sti Telegram."},connectApp:"Pipojit k aplikaci OKX",connectMini:"Pipojit k minipenence OKX"}},actionModal$f={confirmTransaction:{header:"Potvrte transakci na {{ name }}.",text:"Zabere to jen chvilku."}},cs_CZ={common:common$f,button:button$f,notifications:notifications$f,walletModal:walletModal$f,actionModal:actionModal$f},common$e={openWallet:"Wallet ffnen",get:"Erhalten",close:"Schlieen",retry:"Wiederholen"},button$e={connectWallet:"Wallet verknpfen",dropdown:{copy:"Adresse kopieren",copied:"Adresse kopiert",disconnect:"Trennen"}},notifications$e={confirm:{header:"{{ name }} ffnen und Transaktion besttigen."},transactionSent:{header:"Transaktion gesendet",text:"Ihre Transaktion wird in wenigen Sekunden bearbeitet."},transactionCanceled:{header:"Transaktion storniert",text:"Es werden keine nderungen an Ihrem Konto vorgenommen."}},walletModal$e={mobileConnectionModal:{showQR:"QR-Code anzeigen",scanQR:"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}",continueIn:"Setzen Sie die Transaktion in der OKX Wallet fort",connectionDeclined:"Verbindung fehlgeschlagen",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet ist in der OKX App und auf Telegram verfgbar"},connectApp:"Mit der OKX-App verbinden",connectMini:"Mit der OKX-Mini-Wallet verbinden"}},actionModal$e={confirmTransaction:{header:"Transaktion in {{ name }} besttigen",text:"Es dauert nur einen Augenblick."}},de_DE={common:common$e,button:button$e,notifications:notifications$e,walletModal:walletModal$e,actionModal:actionModal$e},common$d={openWallet:"Abrir wallet",get:"Consigue",close:"Cerrar",retry:"Volver a intentar"},button$d={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direccin",copied:"Direccin copiada",disconnect:"Desconectar"}},notifications$d={confirm:{header:"Abre {{ name }} para confirmar la transaccin."},transactionSent:{header:"Transaccin enviada",text:"Tu transaccin se procesar en unos segundos."},transactionCanceled:{header:"Transaccin cancelada",text:"No se realizarn cambios en tu cuenta."}},walletModal$d={mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Escanea el siguiente cdigo QR con la cmara de tu telfono o de tu {{ name }}",continueIn:"Continuar con la transaccin en OKX Wallet",connectionDeclined:"Error de conexin",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible en la OKX app y en Telegram"},connectApp:"Conectarse a la OKX app",connectMini:"Conectarse a la OKX Mini Wallet"}},actionModal$d={confirmTransaction:{header:"Confirma la transaccin de {{ name }}",text:"Solo te llevar un momento."}},es_ES={common:common$d,button:button$d,notifications:notifications$d,walletModal:walletModal$d,actionModal:actionModal$d},common$c={openWallet:"Abrir billetera",get:"Obtener",close:"Cerrar",retry:"Reintentar"},button$c={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direccin",copied:"Direccin copiada",disconnect:"Desconectar"}},notifications$c={confirm:{header:"Abre {{ name }} para confirmar la transaccin."},transactionSent:{header:"Transaccin enviada",text:"Tu transaccin se procesar en unos segundos."},transactionCanceled:{header:"Transaccin cancelada",text:"No habr cambios en tu cuenta."}},walletModal$c={mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Escanea el siguiente cdigo QR con la cmara de tu telfono o {{ name }}",continueIn:"Contina la transaccin en OKX Wallet",connectionDeclined:"Error de conexin",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible en la aplicacin de OKX y Telegram"},connectApp:"Conctate a la aplicacin de OKX",connectMini:"Conctate a la OKXMini Wallet"}},actionModal$c={confirmTransaction:{header:"Confirmar la transaccin en {{ name }}",text:"Solo tomar un momento."}},es_LAT={common:common$c,button:button$c,notifications:notifications$c,walletModal:walletModal$c,actionModal:actionModal$c},common$b={openWallet:"Portefeuille ouvert",get:"Obtenir",close:"Fermer",retry:"Ressayer"},button$b={connectWallet:"Connecter le portefeuille",dropdown:{copy:"Copier ladresse",copied:"Adresse copie",disconnect:"Dconnecter"}},notifications$b={confirm:{header:"Ouvrir {{ name }} pour confirmer la transaction."},transactionSent:{header:"Transaction envoye",text:"Votre transaction sera traite en quelques secondes."},transactionCanceled:{header:"Transaction annule",text:"Aucun changement ne sera apport  votre compte."}},walletModal$b={mobileConnectionModal:{showQR:"Afficher le code QR",scanQR:"Scannez le code QR ci-dessous avec la camra de votre tlphone ou de votre {{ name }}.",continueIn:"Poursuivre la transaction dans OKX Wallet",connectionDeclined:"chec de la connexion",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible sur OKX App et Telegram"},connectApp:"Se connecter  lappli OKX",connectMini:"Se connecter  OKX Mini Wallet"}},actionModal$b={confirmTransaction:{header:"Confirmer la transaction dans {{ name }}",text:"Cela ne prendra qu'un instant."}},fr_FR={common:common$b,button:button$b,notifications:notifications$b,walletModal:walletModal$b,actionModal:actionModal$b},common$a={openWallet:"Buka wallet",get:"Dapatkan",close:"Tutup",retry:"Coba lagi"},button$a={connectWallet:"Hubungkan wallet",dropdown:{copy:"Salin alamat",copied:"Alamat disalin",disconnect:"Putuskan sambungan"}},notifications$a={confirm:{header:"Buka {{ name }} untuk mengonfirmasi transaksi."},transactionSent:{header:"Transaksi terkirim",text:"Transaksi Anda akan diproses dalam beberapa detik."},transactionCanceled:{header:"Transaksi dibatalkan",text:"Tidak akan ada perubahan pada akun Anda."}},walletModal$a={mobileConnectionModal:{showQR:"Tampilkan Kode QR",scanQR:"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda",continueIn:"Lanjutkan transaksi di OKX Wallet",connectionDeclined:"Koneksi gagal",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet tersedia di OKX App dan Telegram"},connectApp:"Hubungkan ke OKX App",connectMini:"Hubungkan ke OKX Mini Wallet"}},actionModal$a={confirmTransaction:{header:"Konfirmasi transaksi pada {{ name }}",text:"Hanya perlu beberapa saat."}},id_ID={common:common$a,button:button$a,notifications:notifications$a,walletModal:walletModal$a,actionModal:actionModal$a},common$9={openWallet:"Apri portafoglio",get:"Ottieni",close:"Chiudi",retry:"Riprova"},button$9={connectWallet:"Connetti il portafoglio",dropdown:{copy:"Copia indirizzo",copied:"Indirizzo copiato",disconnect:"Disconnetti"}},notifications$9={confirm:{header:"Apri {{ name }} per confermare la transazione."},transactionSent:{header:"Transazione inviata",text:"La transazione verr elaborata in pochi secondi."},transactionCanceled:{header:"Transazione annullata",text:"Il tuo conto non subir modifiche."}},walletModal$9={mobileConnectionModal:{showQR:"Mostra il codice QR",scanQR:"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}",continueIn:"Continua la transazione in OKX Wallet",connectionDeclined:"Collegamento non riuscito",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet  disponibile sull'app OKX e Telegram"},connectApp:"Connettiti all'app OKX",connectMini:"Connettiti a OKX Mini Wallet"}},actionModal$9={confirmTransaction:{header:"Conferma la transazione in {{ name }}",text:"Ci vorr solo un secondo."}},it_IT={common:common$9,button:button$9,notifications:notifications$9,walletModal:walletModal$9,actionModal:actionModal$9},common$8={openWallet:"Wallet openen",get:"Krijgen",close:"Sluiten",retry:"Opnieuw proberen"},button$8={connectWallet:"Wallet koppelen",dropdown:{copy:"Adres kopiren",copied:"Adres gekopieerd",disconnect:"Verbinding verbreken"}},notifications$8={confirm:{header:"Open {{ name }} om de transactie te bevestigen."},transactionSent:{header:"Transactie verstuurd",text:"Je transactie wordt binnen een paar seconden verwerkt."},transactionCanceled:{header:"Transactie geannuleerd",text:"Er verandert niets aan je account."}},walletModal$8={mobileConnectionModal:{showQR:"QR-code weergeven",scanQR:"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}",continueIn:"Ga verder met de transactie in OKX Wallet",connectionDeclined:"Koppelen mislukt",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is beschikbaar op OKX App en Telegram"},connectApp:"Koppelen met de OKX-app",connectMini:"Koppelen met OKX Mini Wallet"}},actionModal$8={confirmTransaction:{header:"De transactie in {{ name }} bevestigen",text:"Het is zo gebeurd."}},nl_NL={common:common$8,button:button$8,notifications:notifications$8,walletModal:walletModal$8,actionModal:actionModal$8},common$7={openWallet:"Otwrz portfel",get:"Otrzymaj",close:"Zamknij",retry:"Sprbuj ponownie"},button$7={connectWallet:"Pocz portfel",dropdown:{copy:"Kopiuj adres",copied:"Adres skopiowany",disconnect:"Rozcz"}},notifications$7={confirm:{header:"Otwrz {{ name }}, aby potwierdzi transakcj."},transactionSent:{header:"Wysano transakcj",text:"Transakcja zostanie przetworzona w cigu kilku sekund."},transactionCanceled:{header:"Anulowano transakcj",text:"Na koncie nie zostan wprowadzone adne zmiany."}},walletModal$7={mobileConnectionModal:{showQR:"Poka kod QR",scanQR:"Zeskanuj poniszy kod QR za pomoc aparatu w telefonie lub {{ name }}",continueIn:"Kontynuuj transakcj w OKX Wallet",connectionDeclined:"Poczenie nieudane",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet jest dostpny w aplikacji OKX i Telegramie"},connectApp:"Pocz z aplikacj OKX",connectMini:"Pocz z OKX Mini Wallet"}},actionModal$7={confirmTransaction:{header:"Potwierd transakcj w {{ name }}",text:"To zajmie tylko chwil."}},pl_PL={common:common$7,button:button$7,notifications:notifications$7,walletModal:walletModal$7,actionModal:actionModal$7},common$6={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button$6={connectWallet:"Conectar carteira",dropdown:{copy:"Copiar endereo",copied:"Endereo copiado",disconnect:"Desconectar"}},notifications$6={confirm:{header:"Abrir {{ name }} para confirmar a transao."},transactionSent:{header:"Transao enviada",text:"Sua transao ser processada em alguns segundos."},transactionCanceled:{header:"Transao cancelada",text:"No haver alteraes em sua conta."}},walletModal$6={mobileConnectionModal:{showQR:"Mostrar Cdigo QR",scanQR:"Digitalize o cdigo QR abaixo com a cmera do seu telefone ou do {{ name }}",continueIn:"Continuar a transao na OKX Wallet",connectionDeclined:"Falha na conexo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est disponvel na OKX App e no Telegram"},connectApp:"Conecte-se  OKX App",connectMini:"Conecte-se  OKX Mini Wallet"}},actionModal$6={confirmTransaction:{header:"Confirmar a transao em {{ name }}",text:"Isso levar apenas um momento."}},pt_BR={common:common$6,button:button$6,notifications:notifications$6,walletModal:walletModal$6,actionModal:actionModal$6},common$5={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button$5={connectWallet:"Associar carteira",dropdown:{copy:"Copiar endereo",copied:"Endereo copiado",disconnect:"Desassociar"}},notifications$5={confirm:{header:"Abra {{ name }} para confirmar a transao."},transactionSent:{header:"Transao efetuada",text:"A sua transao ser processada dentro de poucos segundos."},transactionCanceled:{header:"Transao cancelada",text:"No sero feitas alteraes  sua conta."}},walletModal$5={mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Leia o cdigo QR abaixo com a cmara do seu telemvel ou {{ name }}",continueIn:"Continuar a transao na OKX Wallet",connectionDeclined:"Falha na ligao",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est disponvel na Aplicao da OKX e no Telegram"},connectApp:"Associar  Aplicao da OKX",connectMini:"Associar  OKX Mini Wallet"}},actionModal$5={confirmTransaction:{header:"Confirmar a transao na {{ name }}",text:"Demora apenas um momento."}},pt_PT={common:common$5,button:button$5,notifications:notifications$5,walletModal:walletModal$5,actionModal:actionModal$5},common$4={openWallet:"Deschidei portofelul",get:"Primii",close:"nchidei",retry:"Rencercai"},button$4={connectWallet:"Conectai portofelul",dropdown:{copy:"Copiai adresa",copied:"Adres copiat",disconnect:"Deconectai"}},notifications$4={confirm:{header:"Deschidei {{ name }} pentru a confirma tranzacia."},transactionSent:{header:"Tranzacie trimis",text:"Tranzacia dvs. va fi procesat n cteva secunde."},transactionCanceled:{header:"Tranzacie anulat",text:"Nu va exista nicio modificare n cont."}},walletModal$4={mobileConnectionModal:{showQR:"Scanai codul QR",scanQR:"Scanai codul QR mai jos cu camera telefonului sau a {{ name }}",continueIn:"Continuai tranzacia n OKX Wallet",connectionDeclined:"Conexiunea a euat",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet este disponibil din aplicaia OKX i Telegram"},connectApp:"Conectai-v la aplicaia OKX",connectMini:"Conectai-v la OKX Mini Wallet"}},actionModal$4={confirmTransaction:{header:"Confirmai tranzacia n {{ name }}",text:"Va dura doar un moment."}},ro_RO={common:common$4,button:button$4,notifications:notifications$4,walletModal:walletModal$4,actionModal:actionModal$4},common$3={openWallet:"Czdan a",get:"Al",close:"Kapat",retry:"Tekrar Dene"},button$3={connectWallet:"Czdan bala",dropdown:{copy:"Adresi kopyala",copied:"Adres kopyaland!",disconnect:"Balanty kes"}},notifications$3={confirm:{header:"lemi onaylamak iin {{ name }} gesini an."},transactionSent:{header:"lem gnderildi.",text:"leminiz birka saniye iinde gerekletirilecek."},transactionCanceled:{header:"lem iptal edildi!",text:"Hesabnzda deiiklik olmayacak."}},walletModal$3={mobileConnectionModal:{showQR:"QR Kodunu Gster",scanQR:"Aadaki QR kodunu telefonunuzun veya {{ name }} cihaznzn kamerasyla tarayn.",continueIn:"leme OKX Web3 Czdanda devam edin.",connectionDeclined:"Balant baarsz.",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Web3 Czdan, OKX Uygulamasnda ve Telegramda kullanma sunuldu"},connectApp:"OKX Uygulamasna Balan",connectMini:"OKX Mini Czdanna Balan"}},actionModal$3={confirmTransaction:{header:"{{ name }} Konumunda lemi Onaylayn",text:"Bu yalnzca bir dakikanz alacak."}},tr_TR={common:common$3,button:button$3,notifications:notifications$3,walletModal:walletModal$3,actionModal:actionModal$3},common$2={openWallet:" ",get:"",close:"",retry:" "},button$2={connectWallet:" ",dropdown:{copy:" ",copied:" ",disconnect:""}},notifications$2={confirm:{header:" {{ name }},   ."},transactionSent:{header:" ",text:"      ."},transactionCanceled:{header:" ",text:"     ."}},walletModal$2={mobileConnectionModal:{showQR:" QR-",scanQR:"   QR-       {{ name }}",continueIn:"   OKX Wallet",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX     OKX  Telegram"},connectApp:"   OKX",connectMini:"   OKX"}},actionModal$2={confirmTransaction:{header:"   {{ name }}",text:"   ."}},uk_UA={common:common$2,button:button$2,notifications:notifications$2,walletModal:walletModal$2,actionModal:actionModal$2},common$1={openWallet:"M v",get:"Nhn",close:"ng",retry:"Th li"},button$1={connectWallet:"Kt ni v",dropdown:{copy:"Sao chp a ch",copied:" sao chp a ch",disconnect:"Ngt kt ni"}},notifications$1={confirm:{header:"M {{ name }}  xc nhn giao dch."},transactionSent:{header:" gi giao dch",text:"Giao dch ca bn s c x l trong vi giy."},transactionCanceled:{header:" hy giao dch",text:"Khng c thay i no vi ti khon ca bn."}},walletModal$1={mobileConnectionModal:{showQR:"Hin th m QR",scanQR:"Qut m QR bn di bng my nh in thoi hoc {{ name }} ca bn",continueIn:"Tip tc giao dch trn V Web3 OKX",connectionDeclined:"Kt ni khng thnh cng",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"V Web3 OKX hin c trn c ng dng OKX v Telegram"},connectApp:"Kt ni ng dng OKX",connectMini:"Kt ni V Web3 OKX Mini"}},actionModal$1={confirmTransaction:{header:"Xc nhn giao dch trong {{ name }}",text:"N ch mt cht thi gian."}},vi_VN={common:common$1,button:button$1,notifications:notifications$1,walletModal:walletModal$1,actionModal:actionModal$1},common={openWallet:"",get:"",close:"",retry:""},button={connectWallet:"",dropdown:{copy:"",copied:"",disconnect:""}},notifications={confirm:{header:" {{ name }} "},transactionSent:{header:"",text:""},transactionCanceled:{header:"",text:""}},walletModal={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"",scanQR:" OKX ",continueIn:" OKX ",connectionDeclined:"",PoweredBy:"Powered by",appAndTelegram:{header:" OKX ",text:" OKX  OKX App  Telegram "},connectApp:" OKX App",connectMini:" OKX Mini Wallet"}},actionModal={confirmTransaction:{header:" {{ name }} ",text:""}},zh_TW={common,button,notifications,walletModal,actionModal},i18nDictionary={en_US:parseDictionary(en),ru_RU:parseDictionary(ru),zh_CN:parseDictionary(zh_CN),zh:parseDictionary(zh_CN),ar_AE:parseDictionary(ar_AE),cs_CZ:parseDictionary(cs_CZ),de_DE:parseDictionary(de_DE),es_ES:parseDictionary(es_ES),es_LAT:parseDictionary(es_LAT),fr_FR:parseDictionary(fr_FR),id_ID:parseDictionary(id_ID),it_IT:parseDictionary(it_IT),nl_NL:parseDictionary(nl_NL),pl_PL:parseDictionary(pl_PL),pt_BR:parseDictionary(pt_BR),pt_PT:parseDictionary(pt_PT),ro_RO:parseDictionary(ro_RO),tr_TR:parseDictionary(tr_TR),uk_UA:parseDictionary(uk_UA),vi_VN:parseDictionary(vi_VN),zh_TW:parseDictionary(zh_TW)};function parseDictionary(f){const r="$",d=g=>{Object.entries(g).forEach(([m,v])=>{if(typeof v=="object"&&v)return d(v);if(typeof v=="string"){if(v[0]===r){const _=v.slice(1).split(".");let y=f;_.forEach(x=>{if(x in y)y=y[x];else throw new Error(`Cannot parse translations: there is no property ${x} in translation`)}),g[m]=y}v.slice(0,2)===`\\${r}`&&(g[m]=v.slice(1))}})};return d(f),f}const ActionModalStyled=styled.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,H1Styled=styled(H1)`
    margin-top: 16px;
`,TextStyled=styled(Text)`
    font-weight: 400;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;
    margin-top: 10px;
    color: ${f=>f.theme.colors.text.contrast};
`;styled(Button)`
    min-width: 112px;
    margin-top: 32px;
`;styled(LoaderIcon)`
    height: 16px;
    width: 16px;
`;const ButtonStyled=styled.div`
    margin-top: 24px;
  background-color: ${f=>f.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,ActionModal=f=>{const r=useDataAttributes(f),d=useContext(OKXConnectUiContext),[g,m]=createSignal(!0),[v,_]=createSignal(!1),y=useTheme(),{action:x}=useContext(ActionsModalContext);createEffect(()=>{const C=x;_(!!C&&"sent"in C&&C.sent)});let E=d==null?void 0:d.universalLink;const b=()=>{src$6.logDebug("ActionModal ====> onOpenWallet "),g(),m(!1),redirectToWallet(E,"okx://web3?stack=true",{returnStrategy:"none",forceRedirect:!1})};return createComponent(ActionModalStyled,mergeProps(r,{get children(){return[createMemo(()=>f.icon),createComponent(H1Styled,{get translationKey(){return f.headerTranslationKey},get translationValues(){return f.headerTranslationValues}}),createComponent(TextStyled,{get translationKey(){return f.textTranslationKey},get translationValues(){return f.textTranslationValues}}),createComponent(Show,{get when(){return d==null?void 0:d.showActionButton()},get children(){return[createComponent(Show,{get when(){return f.showButton==="close"},get children(){return createComponent(ButtonStyled,{onClick:()=>f.onClose(),get children(){return createComponent(Text,{fontWeight:700,fontSize:"16px",get color(){return y.colors.background.primary},get children(){return createComponent(Translation,{translationKey:"common.close",children:"Close"})}})}})}}),createComponent(Show,{get when(){return f.showButton==="open-wallet"},get children(){return createComponent(ButtonStyled,{onClick:b,get children(){return createComponent(Text,{fontWeight:700,fontSize:"16px",get color(){return y.colors.background.primary},get children(){return createComponent(Translation,{translationKey:"common.openWallet",children:"Open wallet"})}})}})}})]}})]}}))},ConfirmTransactionModal=f=>{const r=useContext(OKXConnectUiContext),[d]=useI18n(),g=()=>r.walletName?r.walletName:d("common.yourWallet",{},"Your wallet");return createComponent(ActionModal,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:g()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return createComponent(OKXLoaderIconWithLogo,{})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"open-wallet":void 0},"data-tc-confirm-modal":"true"})},TransactionCanceledModal=f=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return createComponent(ErrorIcon,{size:"m"})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"close":void 0},"data-tc-transaction-canceled-modal":"true"}),TransactionSentModal=f=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return createComponent(SuccessIcon,{size:"m"})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"close":void 0},"data-tc-transaction-sent-modal":"true"}),ActionsModalContext=createContext({action:null}),ActionsModal=f=>(createEffect(()=>{console.log("ActionsModal",f.action)}),createComponent(ActionsModalContext.Provider,{get value(){return{action:f.action}},get children(){return createComponent(Modal,{get opened(){var r;return f.action!==null&&((r=f.action)==null?void 0:r.openModal)===!0},onClose:()=>f.setAction(null),"data-tc-actions-modal-container":"true",get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return f.action.name==="transaction-sent"},get children(){return createComponent(TransactionSentModal,{onClose:()=>f.setAction(null)})}}),createComponent(Match,{get when(){return f.action.name==="transaction-canceled"},get children(){return createComponent(TransactionCanceledModal,{onClose:()=>f.setAction(null)})}}),createComponent(Match,{get when(){return f.action.name==="confirm-transaction"},get children(){return createComponent(ConfirmTransactionModal,{onClose:()=>f.setAction(null)})}})]}})}})}})),defaultLightColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",qrFill:"#000000",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#FFFFFF"},text:{primary:"#000000",secondary:"#6A7785",contrast:"#909090"},border:{primary:"#00000014",secondary:"#00000024"},disable:"#B3B3B3"},defaultDarkColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",qrFill:"#FFFFFF",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#121214"},text:{primary:"#FFFFFF",secondary:"#7D7D85",contrast:"#909090"},border:{primary:"#FFFFFF1F",secondary:"#FFFFFF30"},disable:"#5B5B5B"};createStore({theme:THEME.LIGHT,colors:defaultLightColorsSet,borderRadius:"m"});THEME.LIGHT+"",THEME.DARK+"";THEME.LIGHT+"",THEME.DARK+"";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject(f){return Object.prototype.toString.call(f)==="[object Object]"}function isPlainObject(f){var r,d;return isObject(f)===!1?!1:(r=f.constructor,r===void 0?!0:(d=r.prototype,!(isObject(d)===!1||d.hasOwnProperty("isPrototypeOf")===!1)))}function mergeOptions(f,r){return f?deepmerge$1(r,f,{arrayMerge:(g,m,v)=>m,isMergeableObject:isPlainObject}):r}const validLocales=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"];function isValidLocale(f){return validLocales.includes(f)}const[universalWalletsModalState,setUniversalWalletsModalState]=createSignal({status:"closed",closeReason:null});createMemo(()=>universalWalletsModalState().status==="opened");const[universalSingleWalletModalState,setUniversalSingleWalletModalState]=createSignal({status:"closed",closeReason:null}),getUniversalSingleWalletModalIsOpened=createMemo(()=>universalSingleWalletModalState().status==="opened"),getUniversalSingleWalletModalWalletInfo=createMemo(()=>{const f=universalSingleWalletModalState();return f.status==="opened"?f.walletInfo:null});let lastSelectedWalletInfoStorage=typeof window<"u"?new LastSelectedWalletInfoStorage:void 0;const[lastUniversalSelectedWalletInfo,_setLastUniversalSelectedWalletInfo]=createSignal((lastSelectedWalletInfoStorage==null?void 0:lastSelectedWalletInfoStorage.getLastSelectedWalletInfo())||null),setLastUniversalSelectedWalletInfo=f=>{lastSelectedWalletInfoStorage||(lastSelectedWalletInfoStorage=new LastSelectedWalletInfoStorage),f?(logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(f)}`),lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(f)):(logDebug("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo()),_setLastUniversalSelectedWalletInfo(f)},[universalAction,setUniversalAction]=createSignal(null),[universalAppState,setUniversalAppState]=createStore({language:"en_US"}),UniversalSingleWalletModal=()=>{const f=useContext(OKXConnectUiContext),r=useContext(UniversalConnectorContext),[d,g]=createSignal(null),[m,v]=createSignal(!1),[_,y]=createSignal(!1),x=E=>{f.closeModal(E)};return r==null||r.on("okx_engine_connect_params",E=>{src$6.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(E)}`),g(E)}),r==null||r.on("session_connecting",()=>{src$6.logDebug("UniversalSigneWalletModal  session_connecting  }"),y(!0)}),createComponent(SingleWalletModal,{get opened(){return getUniversalSingleWalletModalIsOpened()},get walletInfo(){return getUniversalSingleWalletModalWalletInfo()},loadingBeforeConnect:()=>!1,connect:()=>new Promise((E,b)=>{var C,R;universalAppState.connectRequestParameters&&new OKXConnectUiError("connect params is nil");let O=__spreadValues({},JSON.parse(JSON.stringify(universalAppState.connectRequestParameters)));O.sessionConfig={},O.sessionConfig.openUniversalUrl=defaultOpenUniversalLink((C=universalAppState.connectRequestParameters)==null?void 0:C.namespaces,(R=universalAppState.connectRequestParameters)==null?void 0:R.optionalNamespaces),v(!1),g(null),y(!1),f.handleConnect(A=>(O.sessionConfig.tmaReturnUrl=A==null?void 0:A.tmaReturnUrl,O.sessionConfig.redirect=A==null?void 0:A.returnStrategy,r.connect(O))).then(A=>{A?(x("wallet-selected"),E(A)):(v(!0),x("action-cancelled"))}).catch(A=>{v(!0),src$6.logDebug("UniversalSingleWalletModal connect  error",JSON.stringify(A)),b(A)})}),onClose:x,universalLinkParams:d,get isSingleWallet(){var E,b;return!showUniversalTgWalletByRequestNameSpaces((E=universalAppState.connectRequestParameters)==null?void 0:E.namespaces,(b=universalAppState.connectRequestParameters)==null?void 0:b.optionalNamespaces)},get lastSelectedWalletInfo(){return lastUniversalSelectedWalletInfo()},setLastSelectedWalletInfo:setLastUniversalSelectedWalletInfo,connectError:m,showRetry:!1,get language(){return universalAppState.language},sessionConnecting:_})},[universalThemeState,setUniversalThemeState]=createStore({theme:THEME.LIGHT,colors:defaultLightColorsSet,borderRadius:"m"}),themeColorsMappingDefault={[THEME.LIGHT]:defaultLightColorsSet,[THEME.DARK]:defaultDarkColorsSet};THEME.LIGHT+"",THEME.DARK+"";function setUniversalTheme(f){setUniversalThemeState({theme:f,colors:themeColorsMappingDefault[f]})}const UniversalApp=f=>{const r=createI18nContext(i18nDictionary,universalAppState.language);return defineStylesRoot(),fixMobileSafariActiveTransition(),createComponent(I18nContext.Provider,{value:r,get children(){return createComponent(OKXConnectUiContext.Provider,{get value(){return f.connectUI},get children(){return createComponent(UniversalConnectorContext.Provider,{get value(){return universalAppState.connector},get children(){return[createComponent(GlobalStyles,{}),createComponent(ThemeProvider,{theme:universalThemeState,get children(){return createComponent(Dynamic,{component:globalStylesTag,get children(){return[createComponent(UniversalSingleWalletModal,{}),createComponent(ActionsModal,{get action(){return universalAction()},setAction:setUniversalAction})]}})}})]}})}})}})},universalWidgetController={openSingleWalletModal:f=>{src$6.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(f)}`),setTimeout(()=>setUniversalSingleWalletModalState({status:"opened",closeReason:null,walletInfo:f}))},closeSingleWalletModal:f=>void setTimeout(()=>setUniversalSingleWalletModalState({status:"closed",closeReason:f})),setAction:f=>void setTimeout(()=>setUniversalAction(f)),clearAction:()=>void setTimeout(()=>{console.log("clearAction"),setUniversalAction(null)}),getSelectedWalletInfo:()=>lastUniversalSelectedWalletInfo(),removeSelectedWalletInfo:()=>setLastUniversalSelectedWalletInfo(null),renderUniversalApp:(f,r)=>render(()=>createComponent(UniversalApp,{connectUI:r}),document.getElementById(f))};class Signal{constructor(){__publicField(this,"listeners",[])}listen(r){this.listeners.push(r)}trigger(r){this.listeners.forEach(d=>d(r))}}class UniversalSingleWalletModalManager{constructor(r){__publicField(this,"consumers",[]),__publicField(this,"getWalltsInfo"),__publicField(this,"connectSignal",new Signal),__publicField(this,"state",universalSingleWalletModalState()),this.getWalltsInfo=r.getWalltsInfo,createEffect(()=>{const d=universalSingleWalletModalState();this.state=d,this.consumers.forEach(g=>g(d))})}open(r,d){return __async(this,null,function*(){src$6.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(d)}`);const m=this.getWalltsInfo().find(_=>eqWalletName(_,r));if(m)return this.openSingleWalletModal(m,d);const v=`Trying to open modal window with unknown wallet "${r}".`;throw new OKXConnectUiError(v)})}close(r="action-cancelled"){universalWidgetController.closeSingleWalletModal(r)}onStateChange(r){return this.consumers.push(r),()=>{this.consumers=this.consumers.filter(d=>d!==r)}}handleConnect(r,d){return __async(this,null,function*(){return new Promise((g,m)=>{try{r(d).then(v=>{g(v),src$6.logDebug("UniversalSingleWalletModalManager  result >>>",JSON.stringify(v)),this.connectSignal.trigger(v)}).catch(v=>{m(v),src$6.logDebug("UniversalSingleWalletModalManager  error >>>",JSON.stringify(v)),this.connectSignal.trigger(v)})}catch(v){m(v),src$6.logDebug("UniversalSingleWalletModalManager  catch error >>>",JSON.stringify(v)),this.connectSignal.trigger(v)}})})}openSingleWalletModal(r,d){return __async(this,null,function*(){return src$6.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(d)}`),isInTMA()&&sendExpand(),setUniversalAppState({connectRequestParameters:d}),universalWidgetController.openSingleWalletModal(r),new Promise((g,m)=>{this.connectSignal.listen(v=>{v instanceof Error?m(v):g(v)})})})}}function base(f){if(f.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),d=0;d<r.length;d++)r[d]=255;for(var g=0;g<f.length;g++){var m=f.charAt(g),v=m.charCodeAt(0);if(r[v]!==255)throw new TypeError(m+" is ambiguous");r[v]=g}var _=f.length,y=f.charAt(0),x=Math.log(_)/Math.log(256),E=Math.log(256)/Math.log(_);function b(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var A=0,M=0,P=0,F=O.length;P!==F&&O[P]===0;)P++,A++;for(var L=(F-P)*E+1>>>0,K=new Uint8Array(L);P!==F;){for(var j=O[P],W=0,G=L-1;(j!==0||W<M)&&G!==-1;G--,W++)j+=256*K[G]>>>0,K[G]=j%_>>>0,j=j/_>>>0;if(j!==0)throw new Error("Non-zero carry");M=W,P++}for(var Q=L-M;Q!==L&&K[Q]===0;)Q++;for(var re=y.repeat(A);Q<L;++Q)re+=f.charAt(K[Q]);return re}function C(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;for(var A=0,M=0,P=0;O[A]===y;)M++,A++;for(var F=(O.length-A)*x+1>>>0,L=new Uint8Array(F);O[A];){var K=r[O.charCodeAt(A)];if(K===255)return;for(var j=0,W=F-1;(K!==0||j<P)&&W!==-1;W--,j++)K+=_*L[W]>>>0,L[W]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");P=j,A++}for(var G=F-P;G!==F&&L[G]===0;)G++;for(var Q=new Uint8Array(M+(F-G)),re=M;G!==F;)Q[re++]=L[G++];return Q}function R(O){var A=C(O);if(A)return A;throw new Error("Non-base"+_+" character")}return{encode:b,decodeUnsafe:C,decode:R}}var src=base;const basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET);class OKXUniversalConnectUI{constructor(r,d){__publicField(this,"singleWalletModal"),__publicField(this,"actionsConfiguration"),__publicField(this,"systemThemeChangeUnsubscribe",null),__publicField(this,"universalProvider"),src$6.logDebug("OKXUniversalConnectUI constructor options:",JSON.stringify(r)),this.singleWalletModal=new UniversalSingleWalletModalManager({getWalltsInfo:()=>OKXUniversalConnectUI.getWallets()});const g=this.normalizeWidgetRoot(void 0);this.universalProvider=d,this.uiOptions=mergeOptions(r,{uiPreferences:{theme:"SYSTEM"},dappMetaData:r.dappMetaData}),setUniversalAppState({connector:d}),universalWidgetController.renderUniversalApp(g,this)}static getWallets(){return[src$6.creatOKXWalletInfo(),src$6.creatOKXMiniAppWalletInfo()]}set uiOptions(r){var d,g,m;src$6.logDebug("OKXUniversalConnectUI uiOptions() called"),this.actionsConfiguration=r.actionsConfiguration,(d=r.uiPreferences)!=null&&d.theme&&(((g=r.uiPreferences)==null?void 0:g.theme)!=="SYSTEM"?((m=this.systemThemeChangeUnsubscribe)==null||m.call(this),setUniversalTheme(r.uiPreferences.theme)):(setUniversalTheme(getSystemTheme()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=subscribeToThemeChange(setUniversalTheme)))),r.language&&!isValidLocale(r.language.toString())&&(r.language="en_US"),setUniversalAppState(v=>{var _;return mergeOptions(__spreadValues(__spreadValues({},r.language&&{language:r.language}),!!((_=r.actionsConfiguration)!=null&&_.returnStrategy)&&{returnStrategy:r.actionsConfiguration.returnStrategy}),unwrap(v))})}request(r,d,g){return __async(this,null,function*(){var m,v,_,y,x;if(src$6.logDebug("OKXUniversalConnectUI request() called"),!this.session)throw new OKXConnectUiError("Connect wallet to send a transaction.");const E={returnStrategy:isDevice("mobile")&&((m=lastUniversalSelectedWalletInfo())==null?void 0:m.openMethod)!=="qrcode"?g==null?void 0:g.returnStrategy:"none",modals:g==null?void 0:g.modals,tmaReturnUrl:(v=g==null?void 0:g.tmaReturnUrl)!=null?v:"back"},{modals:b,returnStrategy:C,tmaReturnUrl:R}=this.getModalsAndNotificationsConfiguration(E),O=__spreadProps(__spreadValues({},r),{redirect:C}),A=this.universalProvider.showRequestModal(O,d);universalWidgetController.setAction({name:"confirm-transaction",openModal:b.includes("before")&&A,sent:!1}),!((_=this.session.sessionConfig)!=null&&_.openUniversalUrl)&&A&&openWalletForUIRequest(this.getConnectWallet(),(y=lastUniversalSelectedWalletInfo())==null?void 0:y.openMethod)&&openUniversalWallet(this.getConnectWallet(),R,this.session.namespaces),this.session.sessionConfig&&(this.session.sessionConfig.openUniversalUrl=this.session.sessionConfig.openUniversalUrl&&isMobile()&&((x=lastUniversalSelectedWalletInfo())==null?void 0:x.openMethod)!=="qrcode");try{const M=yield this.universalProvider.request(O,d);return universalWidgetController.setAction({name:"transaction-sent",openModal:b.includes("success")&&A}),M}catch(M){throw src$6.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof M} ==> is core OKXConnectError: ${M instanceof src$6.OKXConnectError} ==> is universal-provider OKXConnectError: ${M instanceof srcExports.OKXConnectError} ==>  ${JSON.stringify(M)}`),universalWidgetController.setAction({name:"transaction-canceled",openModal:b.includes("error")&&A}),M instanceof src$6.OKXConnectError||M instanceof srcExports.OKXConnectError?(src$6.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(M)}`),M):new OKXConnectUiError("Unhandled error:"+M)}})}getModalsAndNotificationsConfiguration(r){var d,g,m;const v=["before","success","error"];let _=["before"];(d=this.actionsConfiguration)!=null&&d.modals&&(this.actionsConfiguration.modals==="all"?_=v:_=this.actionsConfiguration.modals),r!=null&&r.modals&&(r.modals==="all"?_=v:_=r.modals);const y=(r==null?void 0:r.returnStrategy)||((g=this.actionsConfiguration)==null?void 0:g.returnStrategy)||"back",x=(r==null?void 0:r.tmaReturnUrl)||((m=this.actionsConfiguration)==null?void 0:m.tmaReturnUrl)||"back";return{modals:_,tmaReturnUrl:x,returnStrategy:y}}static init(r){return __async(this,null,function*(){if(src$6.logDebug("OKXUniversalConnectUI init() called"),r&&"dappMetaData"in r&&r.dappMetaData){let d;if(window&&window.okxConnectUniversalUIinwindow&&window.okxConnectUniversalUIinwindow instanceof OKXUniversalConnectUI)src$6.logDebug("OKXUniversalConnectUI init() old called"),d=window.okxConnectUniversalUIinwindow;else{src$6.logDebug("OKXUniversalConnectUI init() new called");let g=yield srcExports.OKXUniversalProvider.init({dappMetaData:r.dappMetaData});d=new OKXUniversalConnectUI(r,g),window&&(window.okxConnectUniversalUIinwindow=d)}return d}else throw new OKXConnectUiError("You have to specify a `dappMetaData`in the options.")})}normalizeWidgetRoot(r){if(!r||!document.getElementById(r)){r="universal-widget-root";const d=document.createElement("div");d.id=r,document.body.appendChild(d)}return r}getWallets(){return OKXUniversalConnectUI.getWallets()}handleConnect(r){return __async(this,null,function*(){return this.singleWalletModal.handleConnect(r,this.actionsConfiguration)})}checkConnectMethods(r,d){return __async(this,null,function*(){if(src$6.logDebug("checkConnectMethods connectParams>>>>",JSON.stringify(r)),src$6.logDebug("checkConnectMethods responseItems>>>>",JSON.stringify(d)),this.universalProvider.session&&r&&r.length>0&&(!d||d.length===0)){var g=r[0];if(g){if(g.method==="sync_all_addresses")return;let m=[];try{let v=yield srcExports.connectMethodsAdaptOldVersion(g,this.universalProvider.session);src$6.logDebug("checkConnectMethods callBackParams111>>>>",JSON.stringify(v));let _={};isInTMA()&&(_.returnStrategy="tg://resolve"),src$6.logDebug("checkConnectMethods requestItem>>>>",JSON.stringify(g)),src$6.logDebug("checkConnectMethods callBackParams222>>>>",JSON.stringify(v)),this.request(g,g.chainId,_).then(y=>{let x=y;if(src$6.logDebug(`checkConnectMethods then resultItem ====> ${JSON.stringify(x)}`),g.method==="wallet_addEthereumChain")x={method:g.method,chainId:g.chainId,result:""};else if(g.method==="personal_sign")x={method:g.method,chainId:g.chainId,result:x};else if(g.method==="btc_signMessage")x.chainId=g.chainId;else if(g.method==="solana_signMessage"){let E=x.result;x.chainId=g.chainId,x.result=__spreadProps(__spreadValues({},v),{signature:bs58.decode(E)})}else if(g.method==="sui_signMessage"||g.method==="sui_signPersonalMessage"){const E=x.result;x.chainId=g.chainId,x.result=__spreadProps(__spreadValues({},v),{signature:E})}else if(g.method==="aptos_signMessage"){let E=x.result;E.startsWith("0x")&&(E=E.slice(2,E.length)),x.chainId=g.chainId,x.result=__spreadProps(__spreadValues({},v),{signature:E})}else g.method==="cosmos_signArbitrary"&&typeof x.result=="string"&&(x.chainId=g.chainId,x.result=JSON.parse(x.result));m.push(x),src$6.logDebug(`OKXUniversalConnectUI checkConnectMethods success result ====> ${JSON.stringify(m)}`),this.universalProvider.events.emit("connect_signResponse",m)}).catch(y=>{let x=srcExports.creatNotSupportMethodItemReplay(g);m.push(x),src$6.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(y)}`),this.universalProvider.events.emit("connect_signResponse",m)})}catch(v){let _=srcExports.creatNotSupportMethodItemReplay(g);m.push(_),src$6.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(v)}`),this.universalProvider.events.emit("connect_signResponse",m)}}else console.log("checkConnectMethods requestItem is nil",JSON.stringify(r))}})}openModalAndSign(r,d){return __async(this,null,function*(){src$6.logDebug("OKXUniversalConnectUI openModalAndSign() called");const g=__spreadProps(__spreadValues({},r),{signRequest:d});return src$6.logDebug("OKXUniversalConnectUI openModalAndSign() opts:",JSON.stringify(r)),src$6.logDebug("OKXUniversalConnectUI openModalAndSign() signRequest:",JSON.stringify(d)),yield this.openModal(g)})}openModal(r){return __async(this,null,function*(){src$6.logDebug("OKXUniversalConnectUI openModal() called");try{if(this.connected())return this.session;var d=yield this.singleWalletModal.open("okxAppWallet",r);return this.checkConnectMethods(r.signRequest,d==null?void 0:d.signResponse),d}catch(g){throw g}})}closeModal(r){this.singleWalletModal.close(r)}onSingleWalletModalStateChange(r){return console.log("ui - onSingleWalletModalStateChange",r),this.singleWalletModal.onStateChange(r)}onModalStateChange(r){return console.log("ui - onModalStateChange",r),this.onSingleWalletModalStateChange(r)}showActionButton(){return isAppWallet(this.getConnectWallet())&&isMobile()}getUniversalProvider(){return this.universalProvider}getConnectWallet(){var r,d;return src$6.logDebug(`this.session?.wallet?.appName ${(d=(r=this.universalProvider.session)==null?void 0:r.wallet)==null?void 0:d.appName}`),this.getWallets().find(g=>{var m,v;return eqWalletName(g,(v=(m=this.universalProvider.session)==null?void 0:m.wallet)==null?void 0:v.appName)})}get universalLink(){var r,d;return src$6.logDebug(`this.getConnectWallet()?.universalLink ${(r=this.getConnectWallet())==null?void 0:r.universalLink}`),(d=this.getConnectWallet())==null?void 0:d.universalLink}get deepLink(){var r;return(r=this.getConnectWallet())==null?void 0:r.deepLink}get session(){return this.universalProvider.session}setDefaultChain(r,d){this.universalProvider.setDefaultChain(r,d)}on(r,d){this.universalProvider.on(r,d)}once(r,d){this.universalProvider.once(r,d)}removeListener(r,d){this.universalProvider.removeListener(r,d)}off(r,d){this.universalProvider.off(r,d)}get walletName(){var r,d;return src$6.logDebug(`this.getConnectWallet()?.walletName ${(r=this.getConnectWallet())==null?void 0:r.name}`),(d=this.getConnectWallet())==null?void 0:d.name}disconnect(){return this.universalProvider.disconnect()}connected(){return this.universalProvider.connected()}requestAccountsWithNamespace(r){return this.universalProvider.requestAccountsWithNamespace(r)}requestDefaultChainWithNamespace(r){return this.universalProvider.requestDefaultChainWithNamespace(r)}}const providerStore=reactive({});/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var __assign=function(){return __assign=Object.assign||function(r){for(var d,g=1,m=arguments.length;g<m;g++){d=arguments[g];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(r[v]=d[v])}return r},__assign.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var qrcodegen;(function(f){var r=function(){function _(y,x,E,b){if(this.version=y,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],y<_.MIN_VERSION||y>_.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=y*4+17;for(var C=[],R=0;R<this.size;R++)C.push(!1);for(var R=0;R<this.size;R++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();var O=this.addEccAndInterleave(E);if(this.drawCodewords(O),b==-1)for(var A=1e9,R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);var M=this.getPenaltyScore();M<A&&(b=R,A=M),this.applyMask(R)}m(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}return _.encodeText=function(y,x){var E=f.QrSegment.makeSegments(y);return _.encodeSegments(E,x)},_.encodeBinary=function(y,x){var E=f.QrSegment.makeBytes(y);return _.encodeSegments([E],x)},_.encodeSegments=function(y,x,E,b,C,R){if(E===void 0&&(E=1),b===void 0&&(b=40),C===void 0&&(C=-1),R===void 0&&(R=!0),!(_.MIN_VERSION<=E&&E<=b&&b<=_.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");var O,A;for(O=E;;O++){var M=_.getNumDataCodewords(O,x)*8,P=v.getTotalBits(y,O);if(P<=M){A=P;break}if(O>=b)throw new RangeError("Data too long")}for(var F=0,L=[_.Ecc.MEDIUM,_.Ecc.QUARTILE,_.Ecc.HIGH];F<L.length;F++){var K=L[F];R&&A<=_.getNumDataCodewords(O,K)*8&&(x=K)}for(var j=[],W=0,G=y;W<G.length;W++){var Q=G[W];d(Q.mode.modeBits,4,j),d(Q.numChars,Q.mode.numCharCountBits(O),j);for(var re=0,ne=Q.getData();re<ne.length;re++){var ie=ne[re];j.push(ie)}}m(j.length==A);var z=_.getNumDataCodewords(O,x)*8;m(j.length<=z),d(0,Math.min(4,z-j.length),j),d(0,(8-j.length%8)%8,j),m(j.length%8==0);for(var T=236;j.length<z;T^=253)d(T,8,j);for(var D=[];D.length*8<j.length;)D.push(0);return j.forEach(function(w,S){return D[S>>>3]|=w<<7-(S&7)}),new _(O,x,D,C)},_.prototype.getModule=function(y,x){return 0<=y&&y<this.size&&0<=x&&x<this.size&&this.modules[x][y]},_.prototype.getModules=function(){return this.modules},_.prototype.drawFunctionPatterns=function(){for(var y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var x=this.getAlignmentPatternPositions(),E=x.length,y=0;y<E;y++)for(var b=0;b<E;b++)y==0&&b==0||y==0&&b==E-1||y==E-1&&b==0||this.drawAlignmentPattern(x[y],x[b]);this.drawFormatBits(0),this.drawVersion()},_.prototype.drawFormatBits=function(y){for(var x=this.errorCorrectionLevel.formatBits<<3|y,E=x,b=0;b<10;b++)E=E<<1^(E>>>9)*1335;var C=(x<<10|E)^21522;m(C>>>15==0);for(var b=0;b<=5;b++)this.setFunctionModule(8,b,g(C,b));this.setFunctionModule(8,7,g(C,6)),this.setFunctionModule(8,8,g(C,7)),this.setFunctionModule(7,8,g(C,8));for(var b=9;b<15;b++)this.setFunctionModule(14-b,8,g(C,b));for(var b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,g(C,b));for(var b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,g(C,b));this.setFunctionModule(8,this.size-8,!0)},_.prototype.drawVersion=function(){if(!(this.version<7)){for(var y=this.version,x=0;x<12;x++)y=y<<1^(y>>>11)*7973;var E=this.version<<12|y;m(E>>>18==0);for(var x=0;x<18;x++){var b=g(E,x),C=this.size-11+x%3,R=Math.floor(x/3);this.setFunctionModule(C,R,b),this.setFunctionModule(R,C,b)}}},_.prototype.drawFinderPattern=function(y,x){for(var E=-4;E<=4;E++)for(var b=-4;b<=4;b++){var C=Math.max(Math.abs(b),Math.abs(E)),R=y+b,O=x+E;0<=R&&R<this.size&&0<=O&&O<this.size&&this.setFunctionModule(R,O,C!=2&&C!=4)}},_.prototype.drawAlignmentPattern=function(y,x){for(var E=-2;E<=2;E++)for(var b=-2;b<=2;b++)this.setFunctionModule(y+b,x+E,Math.max(Math.abs(b),Math.abs(E))!=1)},_.prototype.setFunctionModule=function(y,x,E){this.modules[x][y]=E,this.isFunction[x][y]=!0},_.prototype.addEccAndInterleave=function(y){var x=this.version,E=this.errorCorrectionLevel;if(y.length!=_.getNumDataCodewords(x,E))throw new RangeError("Invalid argument");for(var b=_.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][x],C=_.ECC_CODEWORDS_PER_BLOCK[E.ordinal][x],R=Math.floor(_.getNumRawDataModules(x)/8),O=b-R%b,A=Math.floor(R/b),M=[],P=_.reedSolomonComputeDivisor(C),F=0,L=0;F<b;F++){var K=y.slice(L,L+A-C+(F<O?0:1));L+=K.length;var j=_.reedSolomonComputeRemainder(K,P);F<O&&K.push(0),M.push(K.concat(j))}for(var W=[],G=function(Q){M.forEach(function(re,ne){(Q!=A-C||ne>=O)&&W.push(re[Q])})},F=0;F<M[0].length;F++)G(F);return m(W.length==R),W},_.prototype.drawCodewords=function(y){if(y.length!=Math.floor(_.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var x=0,E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(var b=0;b<this.size;b++)for(var C=0;C<2;C++){var R=E-C,O=(E+1&2)==0,A=O?this.size-1-b:b;!this.isFunction[A][R]&&x<y.length*8&&(this.modules[A][R]=g(y[x>>>3],7-(x&7)),x++)}}m(x==y.length*8)},_.prototype.applyMask=function(y){if(y<0||y>7)throw new RangeError("Mask value out of range");for(var x=0;x<this.size;x++)for(var E=0;E<this.size;E++){var b=void 0;switch(y){case 0:b=(E+x)%2==0;break;case 1:b=x%2==0;break;case 2:b=E%3==0;break;case 3:b=(E+x)%3==0;break;case 4:b=(Math.floor(E/3)+Math.floor(x/2))%2==0;break;case 5:b=E*x%2+E*x%3==0;break;case 6:b=(E*x%2+E*x%3)%2==0;break;case 7:b=((E+x)%2+E*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][E]&&b&&(this.modules[x][E]=!this.modules[x][E])}},_.prototype.getPenaltyScore=function(){for(var y=0,x=0;x<this.size;x++){for(var E=!1,b=0,C=[0,0,0,0,0,0,0],R=0;R<this.size;R++)this.modules[x][R]==E?(b++,b==5?y+=_.PENALTY_N1:b>5&&y++):(this.finderPenaltyAddHistory(b,C),E||(y+=this.finderPenaltyCountPatterns(C)*_.PENALTY_N3),E=this.modules[x][R],b=1);y+=this.finderPenaltyTerminateAndCount(E,b,C)*_.PENALTY_N3}for(var R=0;R<this.size;R++){for(var E=!1,O=0,C=[0,0,0,0,0,0,0],x=0;x<this.size;x++)this.modules[x][R]==E?(O++,O==5?y+=_.PENALTY_N1:O>5&&y++):(this.finderPenaltyAddHistory(O,C),E||(y+=this.finderPenaltyCountPatterns(C)*_.PENALTY_N3),E=this.modules[x][R],O=1);y+=this.finderPenaltyTerminateAndCount(E,O,C)*_.PENALTY_N3}for(var x=0;x<this.size-1;x++)for(var R=0;R<this.size-1;R++){var A=this.modules[x][R];A==this.modules[x][R+1]&&A==this.modules[x+1][R]&&A==this.modules[x+1][R+1]&&(y+=_.PENALTY_N2)}for(var M=0,P=0,F=this.modules;P<F.length;P++){var L=F[P];M=L.reduce(function(W,G){return W+(G?1:0)},M)}var K=this.size*this.size,j=Math.ceil(Math.abs(M*20-K*10)/K)-1;return m(0<=j&&j<=9),y+=j*_.PENALTY_N4,m(0<=y&&y<=2568888),y},_.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var y=Math.floor(this.version/7)+2,x=Math.floor((this.version*8+y*3+5)/(y*4-4))*2,E=[6],b=this.size-7;E.length<y;b-=x)E.splice(1,0,b);return E},_.getNumRawDataModules=function(y){if(y<_.MIN_VERSION||y>_.MAX_VERSION)throw new RangeError("Version number out of range");var x=(16*y+128)*y+64;if(y>=2){var E=Math.floor(y/7)+2;x-=(25*E-10)*E-55,y>=7&&(x-=36)}return m(208<=x&&x<=29648),x},_.getNumDataCodewords=function(y,x){return Math.floor(_.getNumRawDataModules(y)/8)-_.ECC_CODEWORDS_PER_BLOCK[x.ordinal][y]*_.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][y]},_.reedSolomonComputeDivisor=function(y){if(y<1||y>255)throw new RangeError("Degree out of range");for(var x=[],E=0;E<y-1;E++)x.push(0);x.push(1);for(var b=1,E=0;E<y;E++){for(var C=0;C<x.length;C++)x[C]=_.reedSolomonMultiply(x[C],b),C+1<x.length&&(x[C]^=x[C+1]);b=_.reedSolomonMultiply(b,2)}return x},_.reedSolomonComputeRemainder=function(y,x){for(var E=x.map(function(A){return 0}),b=function(A){var M=A^E.shift();E.push(0),x.forEach(function(P,F){return E[F]^=_.reedSolomonMultiply(P,M)})},C=0,R=y;C<R.length;C++){var O=R[C];b(O)}return E},_.reedSolomonMultiply=function(y,x){if(y>>>8||x>>>8)throw new RangeError("Byte out of range");for(var E=0,b=7;b>=0;b--)E=E<<1^(E>>>7)*285,E^=(x>>>b&1)*y;return m(E>>>8==0),E},_.prototype.finderPenaltyCountPatterns=function(y){var x=y[1];m(x<=this.size*3);var E=x>0&&y[2]==x&&y[3]==x*3&&y[4]==x&&y[5]==x;return(E&&y[0]>=x*4&&y[6]>=x?1:0)+(E&&y[6]>=x*4&&y[0]>=x?1:0)},_.prototype.finderPenaltyTerminateAndCount=function(y,x,E){return y&&(this.finderPenaltyAddHistory(x,E),x=0),x+=this.size,this.finderPenaltyAddHistory(x,E),this.finderPenaltyCountPatterns(E)},_.prototype.finderPenaltyAddHistory=function(y,x){x[0]==0&&(y+=this.size),x.pop(),x.unshift(y)},_.MIN_VERSION=1,_.MAX_VERSION=40,_.PENALTY_N1=3,_.PENALTY_N2=3,_.PENALTY_N3=40,_.PENALTY_N4=10,_.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],_.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],_}();f.QrCode=r;function d(_,y,x){if(y<0||y>31||_>>>y)throw new RangeError("Value out of range");for(var E=y-1;E>=0;E--)x.push(_>>>E&1)}function g(_,y){return(_>>>y&1)!=0}function m(_){if(!_)throw new Error("Assertion error")}var v=function(){function _(y,x,E){if(this.mode=y,this.numChars=x,this.bitData=E,x<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}return _.makeBytes=function(y){for(var x=[],E=0,b=y;E<b.length;E++){var C=b[E];d(C,8,x)}return new _(_.Mode.BYTE,y.length,x)},_.makeNumeric=function(y){if(!_.isNumeric(y))throw new RangeError("String contains non-numeric characters");for(var x=[],E=0;E<y.length;){var b=Math.min(y.length-E,3);d(parseInt(y.substring(E,E+b),10),b*3+1,x),E+=b}return new _(_.Mode.NUMERIC,y.length,x)},_.makeAlphanumeric=function(y){if(!_.isAlphanumeric(y))throw new RangeError("String contains unencodable characters in alphanumeric mode");var x=[],E;for(E=0;E+2<=y.length;E+=2){var b=_.ALPHANUMERIC_CHARSET.indexOf(y.charAt(E))*45;b+=_.ALPHANUMERIC_CHARSET.indexOf(y.charAt(E+1)),d(b,11,x)}return E<y.length&&d(_.ALPHANUMERIC_CHARSET.indexOf(y.charAt(E)),6,x),new _(_.Mode.ALPHANUMERIC,y.length,x)},_.makeSegments=function(y){return y==""?[]:_.isNumeric(y)?[_.makeNumeric(y)]:_.isAlphanumeric(y)?[_.makeAlphanumeric(y)]:[_.makeBytes(_.toUtf8ByteArray(y))]},_.makeEci=function(y){var x=[];if(y<0)throw new RangeError("ECI assignment value out of range");if(y<128)d(y,8,x);else if(y<16384)d(2,2,x),d(y,14,x);else if(y<1e6)d(6,3,x),d(y,21,x);else throw new RangeError("ECI assignment value out of range");return new _(_.Mode.ECI,0,x)},_.isNumeric=function(y){return _.NUMERIC_REGEX.test(y)},_.isAlphanumeric=function(y){return _.ALPHANUMERIC_REGEX.test(y)},_.prototype.getData=function(){return this.bitData.slice()},_.getTotalBits=function(y,x){for(var E=0,b=0,C=y;b<C.length;b++){var R=C[b],O=R.mode.numCharCountBits(x);if(R.numChars>=1<<O)return 1/0;E+=4+O+R.bitData.length}return E},_.toUtf8ByteArray=function(y){y=encodeURI(y);for(var x=[],E=0;E<y.length;E++)y.charAt(E)!="%"?x.push(y.charCodeAt(E)):(x.push(parseInt(y.substring(E+1,E+3),16)),E+=2);return x},_.NUMERIC_REGEX=/^[0-9]*$/,_.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,_.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_}();f.QrSegment=v})(qrcodegen||(qrcodegen={}));(function(f){(function(r){var d=function(){function g(m,v){this.ordinal=m,this.formatBits=v}return g.LOW=new g(0,1),g.MEDIUM=new g(1,0),g.QUARTILE=new g(2,3),g.HIGH=new g(3,2),g}();r.Ecc=d})(f.QrCode||(f.QrCode={}))})(qrcodegen||(qrcodegen={}));(function(f){(function(r){var d=function(){function g(m,v){this.modeBits=m,this.numBitsCharCount=v}return g.prototype.numCharCountBits=function(m){return this.numBitsCharCount[Math.floor((m+7)/17)]},g.NUMERIC=new g(1,[10,12,14]),g.ALPHANUMERIC=new g(2,[9,11,13]),g.BYTE=new g(4,[8,16,16]),g.KANJI=new g(8,[8,10,12]),g.ECI=new g(7,[0,0,0]),g}();r.Mode=d})(f.QrSegment||(f.QrSegment={}))})(qrcodegen||(qrcodegen={}));var QR=qrcodegen,defaultErrorCorrectLevel="L",ErrorCorrectLevelMap={L:QR.QrCode.Ecc.LOW,M:QR.QrCode.Ecc.MEDIUM,Q:QR.QrCode.Ecc.QUARTILE,H:QR.QrCode.Ecc.HIGH},SUPPORTS_PATH2D=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function validErrorCorrectLevel(f){return f in ErrorCorrectLevelMap}function generatePath(f,r){r===void 0&&(r=0);var d=[];return f.forEach(function(g,m){var v=null;g.forEach(function(_,y){if(!_&&v!==null){d.push("M".concat(v+r," ").concat(m+r,"h").concat(y-v,"v1H").concat(v+r,"z")),v=null;return}if(y===g.length-1){if(!_)return;v===null?d.push("M".concat(y+r,",").concat(m+r," h1v1H").concat(y+r,"z")):d.push("M".concat(v+r,",").concat(m+r," h").concat(y+1-v,"v1H").concat(v+r,"z"));return}_&&v===null&&(v=y)})}),d.join("")}function getImageSettings(f,r,d,g){var m=g.width,v=g.height,_=g.x,y=g.y,x=f.length+d*2,E=Math.floor(r*.1),b=x/r,C=(m||E)*b,R=(v||E)*b,O=_==null?f.length/2-C/2:_*b,A=y==null?f.length/2-R/2:y*b,M=null;if(g.excavate){var P=Math.floor(O),F=Math.floor(A),L=Math.ceil(C+O-P),K=Math.ceil(R+A-F);M={x:P,y:F,w:L,h:K}}return{x:O,y:A,h:R,w:C,excavation:M}}function excavateModules(f,r){return f.slice().map(function(d,g){return g<r.y||g>=r.y+r.h?d:d.map(function(m,v){return v<r.x||v>=r.x+r.w?m:!1})})}var QRCodeProps={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:defaultErrorCorrectLevel,validator:function(f){return validErrorCorrectLevel(f)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(f){return["linear","radial"].indexOf(f)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},QRCodeVueProps=__assign(__assign({},QRCodeProps),{renderAs:{type:String,required:!1,default:"canvas",validator:function(f){return["canvas","svg"].indexOf(f)>-1}}}),QrcodeSvg=defineComponent({name:"QRCodeSvg",props:QRCodeProps,setup:function(f){var r=ref$1(0),d=ref$1(""),g,m=function(){var _=f.value,y=f.level,x=f.margin,E=x>>>0,b=validErrorCorrectLevel(y)?y:defaultErrorCorrectLevel,C=QR.QrCode.encodeText(_,ErrorCorrectLevelMap[b]).getModules();if(r.value=C.length+E*2,f.imageSettings.src){var R=getImageSettings(C,f.size,E,f.imageSettings);g={x:R.x+E,y:R.y+E,width:R.w,height:R.h},R.excavation&&(C=excavateModules(C,R.excavation))}d.value=generatePath(C,E)},v=function(){if(!f.gradient)return null;var _=f.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return h$1(f.gradientType==="linear"?"linearGradient":"radialGradient",__assign({id:"qr-gradient"},_),[h$1("stop",{offset:"0%",style:{stopColor:f.gradientStartColor}}),h$1("stop",{offset:"100%",style:{stopColor:f.gradientEndColor}})])};return m(),onUpdated(m),function(){return h$1("svg",{width:f.size,height:f.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(r.value," ").concat(r.value)},[h$1("defs",{},[v()]),h$1("rect",{width:"100%",height:"100%",fill:f.background}),h$1("path",{fill:f.gradient?"url(#qr-gradient)":f.foreground,d:d.value}),f.imageSettings.src&&h$1("image",__assign({href:f.imageSettings.src},g))])}}}),QrcodeCanvas=defineComponent({name:"QRCodeCanvas",props:QRCodeProps,setup:function(f,r){var d=ref$1(null),g=ref$1(null),m=function(){var _=f.value,y=f.level,x=f.size,E=f.margin,b=f.background,C=f.foreground,R=f.gradient,O=f.gradientType,A=f.gradientStartColor,M=f.gradientEndColor,P=E>>>0,F=validErrorCorrectLevel(y)?y:defaultErrorCorrectLevel,L=d.value;if(L){var K=L.getContext("2d");if(K){var j=QR.QrCode.encodeText(_,ErrorCorrectLevelMap[F]).getModules(),W=j.length+P*2,G=g.value,Q={x:0,y:0,width:0,height:0},re=f.imageSettings.src&&G!=null&&G.naturalWidth!==0&&G.naturalHeight!==0;if(re){var ne=getImageSettings(j,f.size,P,f.imageSettings);Q={x:ne.x+P,y:ne.y+P,width:ne.w,height:ne.h},ne.excavation&&(j=excavateModules(j,ne.excavation))}var ie=window.devicePixelRatio||1,z=x/W*ie;if(L.height=L.width=x*ie,K.scale(z,z),K.fillStyle=b,K.fillRect(0,0,W,W),R){var T=void 0;O==="linear"?T=K.createLinearGradient(0,0,W,W):T=K.createRadialGradient(W/2,W/2,0,W/2,W/2,W/2),T.addColorStop(0,A),T.addColorStop(1,M),K.fillStyle=T}else K.fillStyle=C;SUPPORTS_PATH2D?K.fill(new Path2D(generatePath(j,P))):j.forEach(function(D,w){D.forEach(function(S,$){S&&K.fillRect($+P,w+P,1,1)})}),re&&K.drawImage(G,Q.x,Q.y,Q.width,Q.height)}}};onMounted(m),onUpdated(m);var v=r.attrs.style;return function(){return h$1(Fragment,[h$1("canvas",__assign(__assign({},r.attrs),{ref:d,style:__assign(__assign({},v),{width:"".concat(f.size,"px"),height:"".concat(f.size,"px")})})),f.imageSettings.src&&h$1("img",{ref:g,src:f.imageSettings.src,style:{display:"none"},onLoad:m})])}}}),QrcodeVue=defineComponent({name:"Qrcode",render:function(){var f=this.$props,r=f.renderAs,d=f.value,g=f.size,m=f.margin,v=f.level,_=f.background,y=f.foreground,x=f.imageSettings,E=f.gradient,b=f.gradientType,C=f.gradientStartColor,R=f.gradientEndColor;return h$1(r==="svg"?QrcodeSvg:QrcodeCanvas,{value:d,size:g,margin:m,level:v,background:_,foreground:y,imageSettings:x,gradient:E,gradientType:b,gradientStartColor:C,gradientEndColor:R})},props:QRCodeVueProps});const _sfc_main$1=defineComponent({components:{QrcodeVue},props:{onClickUiCheckbox:Function,showModal:Boolean,setShowModal:Function,qrValue:String},setup(f){const r=ref$1(["before","success","error"]),d=ref$1("none"),g=ref$1("tg://resolve"),m=ref$1("en_US"),v=ref$1(THEME.LIGHT),_=ref$1("none"),y=ref$1("tg://resolve"),x=ref$1(localStorage.getItem("autoRefresh")!="false"),E=toRef(()=>f.qrValue),b=computed({get:()=>f.showModal,set:C=>{var R;return(R=f.setShowModal)==null?void 0:R.call(f,C)}});return{selectedModals:r,selectedReturnStrategyOption:d,selectedDeepLink:g,selectedLanguage:m,selectedTheme:v,selectedRedirectParam:_,selectedRedirectDeepLink:y,THEME,locales:["en_US","ru_RU","zh_CN","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"],returnStrategies:["none","back","deeplink"],withUI:x,onClickUiCheckbox:f.onClickUiCheckbox,showModal:b,qrValue:E}},computed:{selectedReturnStrategy(){return this.selectedReturnStrategyOption==="deeplink"?this.selectedDeepLink:this.selectedReturnStrategyOption}},methods:{closeModal(){this.showModal=!1},handleModalsSelect(f){if(!providerStore.provider){alert("Please connect a wallet first");return}this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:f.length===3?"all":f},language:this.selectedLanguage,uiPreferences:{theme:this.selectedTheme}})},handleReturnStrategySelect(f){if(!providerStore.provider){alert("Please connect a wallet first");return}f==="deeplink"&&(this.selectedReturnStrategy=this.selectedDeepLink),this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:this.selectedModals.length===3?"all":this.selectedModals},language:this.selectedLanguage,uiPreferences:{theme:this.selectedTheme}})},handleReturnStrategyDeeplink(f){if(!providerStore.provider){alert("Please connect a wallet first");return}this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:f,modals:this.selectedModals.length===3?"all":this.selectedModals},language:this.selectedLanguage,uiPreferences:{theme:this.selectedTheme}})},handleLanguageSelect(f){if(!providerStore.provider){alert("Please connect a wallet first");return}this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:this.selectedModals.length===3?"all":this.selectedModals},language:f,uiPreferences:{theme:this.selectedTheme}})},handleThemeSelect(f){this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:this.selectedModals.length===3?"all":this.selectedModals},language:this.selectedLanguage,uiPreferences:{theme:f}})}}});function _sfc_render$1(f,r,d,g,m,v){const _=resolveComponent("el-checkbox"),y=resolveComponent("el-row"),x=resolveComponent("qrcode-vue"),E=resolveComponent("el-col"),b=resolveComponent("el-option"),C=resolveComponent("el-select"),R=resolveComponent("el-input"),O=resolveComponent("el-card");return openBlock(),createBlock(O,null,{header:withCtx(()=>r[9]||(r[9]=[createBaseVNode("div",null,"Configuration",-1)])),default:withCtx(()=>[createVNode(y,{class:"info-row",span:24,style:{"justify-content":"center"}},{default:withCtx(()=>[createVNode(_,{modelValue:f.withUI,"onUpdate:modelValue":r[0]||(r[0]=A=>f.withUI=A),onChange:f.onClickUiCheckbox},{default:withCtx(()=>r[10]||(r[10]=[createTextVNode("Use UI")])),_:1},8,["modelValue","onChange"])]),_:1}),(openBlock(),createBlock(Teleport,{to:"body"},[f.showModal?(openBlock(),createElementBlock("div",{key:0,class:"modal-overlay",onClick:r[3]||(r[3]=(...A)=>f.closeModal&&f.closeModal(...A))},[createBaseVNode("div",{class:"modal-content",onClick:r[2]||(r[2]=withModifiers(()=>{},["stop"]))},[createBaseVNode("button",{class:"close-button",onClick:r[1]||(r[1]=(...A)=>f.closeModal&&f.closeModal(...A))},"  "),r[11]||(r[11]=createBaseVNode("h2",null,"Scan to connect",-1)),createVNode(x,{value:f.qrValue,size:350,level:"L"},null,8,["value"])])])):createCommentVNode("",!0)])),createVNode(y,{style:{"align-items":"center"}},{default:withCtx(()=>[createVNode(E,{span:4},{default:withCtx(()=>r[12]||(r[12]=[createBaseVNode("p",{style:{"font-size":"11pt"}},"Modals",-1)])),_:1}),createVNode(E,{span:20},{default:withCtx(()=>[createVNode(C,{modelValue:f.selectedModals,"onUpdate:modelValue":r[4]||(r[4]=A=>f.selectedModals=A),placeholder:"Modals",onChange:f.handleModalsSelect,multiple:""},{default:withCtx(()=>[createVNode(b,{label:"Before",value:"before"}),createVNode(b,{label:"Success",value:"success"}),createVNode(b,{label:"Error",value:"error"})]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),createVNode(y,{style:{"align-items":"center","justify-content":"space-between"}},{default:withCtx(()=>[createVNode(E,{span:4,style:{gap:"2px"}},{default:withCtx(()=>r[13]||(r[13]=[createBaseVNode("p",{style:{"font-size":"11pt",margin:"0px"}},"Return Strategy",-1),createBaseVNode("p",{style:{"font-size":"9pt",margin:"0px"}},"(Mobile only)",-1)])),_:1}),createVNode(E,{span:10},{default:withCtx(()=>[createVNode(C,{modelValue:f.selectedReturnStrategyOption,"onUpdate:modelValue":r[5]||(r[5]=A=>f.selectedReturnStrategyOption=A),onChange:f.handleReturnStrategySelect,placeholder:"Return Strategy"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.returnStrategies,A=>(openBlock(),createBlock(b,{key:`return-strategy-select-option-${A}`,label:A,value:A},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),createVNode(E,{span:10},{default:withCtx(()=>[f.selectedReturnStrategyOption==="deeplink"?(openBlock(),createBlock(R,{key:0,modelValue:f.selectedDeepLink,"onUpdate:modelValue":r[6]||(r[6]=A=>f.selectedDeepLink=A),onChange:f.handleReturnStrategyDeeplink,placeholder:"Deeplink",disabled:f.selectedReturnStrategyOption!=="deeplink",style:{margin:"0px"}},null,8,["modelValue","onChange","disabled"])):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(y,{style:{"align-items":"center"}},{default:withCtx(()=>[createVNode(E,{span:4},{default:withCtx(()=>r[14]||(r[14]=[createBaseVNode("p",{style:{"font-size":"11pt"}},"Language",-1)])),_:1}),createVNode(E,{span:20},{default:withCtx(()=>[createVNode(C,{modelValue:f.selectedLanguage,"onUpdate:modelValue":r[7]||(r[7]=A=>f.selectedLanguage=A),onChange:f.handleLanguageSelect,placeholder:"Language"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.locales,A=>(openBlock(),createBlock(b,{key:`language-select-option-${A}`,label:A,value:A},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),createVNode(y,{style:{"align-items":"center"}},{default:withCtx(()=>[createVNode(E,{span:4},{default:withCtx(()=>r[15]||(r[15]=[createBaseVNode("p",{style:{"font-size":"11pt"}},"Theme",-1)])),_:1}),createVNode(E,{span:20},{default:withCtx(()=>[createVNode(C,{modelValue:f.selectedTheme,"onUpdate:modelValue":r[8]||(r[8]=A=>f.selectedTheme=A),onChange:f.handleThemeSelect,placeholder:"Theme"},{default:withCtx(()=>[createVNode(b,{label:"LIGHT",value:f.THEME.LIGHT},null,8,["value"]),createVNode(b,{label:"DARK",value:f.THEME.DARK},null,8,["value"])]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})}const ConfigurationCard=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main=defineComponent({components:{ConfigurationCard},props:{chainId:{type:String,required:!0},chainNamespaces:{type:Object,required:!0},method:String,transaction:Object,transactionResult:String,sendTransaction:Function,onEditMethod:Function,onEditTransaction:Function,tonProofValue:String,onEditTonProof:Function},setup(f){const r=ref$1(!1),d=ref$1(!0),g=toRef(()=>f.chainNamespaces),m=computed({get:()=>f.method,set:C=>{var R;return(R=f.onEditMethod)==null?void 0:R.call(f,C)}}),v=computed({get:()=>JSON.stringify(f.transaction),set:C=>{var R;return(R=f.onEditTransaction)==null?void 0:R.call(f,C)}}),_=computed(()=>f.transactionResult),y=computed({get:()=>JSON.stringify(f.tonProofValue),set:C=>{var R;return(R=f.onEditTonProof)==null?void 0:R.call(f,C)}}),x=ref$1(!1),E=C=>{x.value=C},b=ref$1("");return{chainId:f.chainId,chainNamespaces:g,computedMethod:m,computedTransaction:v,transactionResult:_,sendTransaction:f.sendTransaction,onEditMethod:f.onEditMethod,onEditTransaction:f.onEditTransaction,computedTonProof:y,connectReady:!1,isConnected:r,isCorrectChain:d,connectStr:"Connect",disconnectStr:"Disconnect",connectStatusStr:"Connected",disconnectStatusStr:"Disconnected",sendTransactionStr:"Send",showModal:x,setShowModal:E,qrValue:b}},computed:{isUseUi(){return localStorage.getItem("autoRefresh")!="false"}},mounted(){console.log("connect mounted",providerStore);var f=document.createElement("script");if(f.src="https://telegram.org/js/telegram-web-app.js",f.id="tgsdk",document.getElementsByTagName("head")[0].appendChild(f),this.connectReady=!0,document.title="OKX Connect",providerStore.provider){this.addProviderListeners(providerStore.provider),providerStore.provider.session?this.connectCallback(providerStore.provider.session):this.checkIsCorrectChain();return}let r;this.isUseUi?r=OKXUniversalConnectUI.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX Connect UI Example"},actionsConfiguration:{returnStrategy:"none",modals:"all"},language:"en_US",uiPreferences:{theme:THEME.LIGHT}}):r=srcExports.OKXUniversalProvider.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX Connect Example"}}),r.then(d=>{console.log("init finished:",d),console.log("init finished session:",JSON.stringify(d.session)),this.addProviderListeners(d),providerStore.provider=d})},methods:{goBack:()=>router.go(-1),onClickUiCheckbox:f=>{localStorage.setItem("autoRefresh",`${f}`),location.reload()},checkIsCorrectChain(){const f=providerStore.connectedChain&&providerStore.connectedChain!==this.chainId;console.log("check correct chain",f),this.isCorrectChain&&f?(this.isCorrectChain=!1,alert("You are not connected to this chain. Please disconnect first.")):!this.isCorrectChain&&!f&&(this.isCorrectChain=!0)},isPC(){const f=navigator.userAgent;console.log("current device ua is ===>",f);const r=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let d=!0;for(let g=0;g<r.length;g++)if(f.indexOf(r[g])>0){d=!1;break}return d},async onConnectClick(){providerStore.provider?this.connectUiConnect():console.log("connectBtnClicked provider not finish init")},async onDisconnectClick(){var f;try{console.log("get disconnect wallet btn clicked"),await((f=providerStore.provider)==null?void 0:f.disconnect()),localStorage.removeItem("connectedChain")}catch(r){console.error("Disconnect error: ",r)}this.isCorrectChain||location.reload()},async connectUiConnect(){console.log("ConnectLayout.connectUiConnect: chainId:",this.chainId,"chainNamespaces:",this.chainNamespaces);let f;providerStore.provider instanceof OKXUniversalConnectUI?f=providerStore.provider.openModal({namespaces:this.chainNamespaces}):f=providerStore.provider.connect({namespaces:this.chainNamespaces}),f.then(()=>{this.isPC()&&(this.showModal=!1)}).catch(r=>console.error("",r))},async onSendTransaction(){var f;if(console.log("sendTransaction",providerStore.provider,this.sendTransaction),!providerStore.provider){console.error(" ");return}(f=this.sendTransaction)==null||f.call(this)},connectCallback(f){if(console.log("connectcallback session",f,f.namespaces),f.namespaces){const r=Object.values(f.namespaces)[0].chains[0];providerStore.connectedChain=r,console.log("setting chain"),localStorage.setItem("connectedChain",r)}else providerStore.connectedChain=void 0,localStorage.removeItem("connectedChain");this.isConnected=!0,this.checkIsCorrectChain()},addProviderListeners(f){f.on("display_uri",r=>{src$6.useShortLink()||this.isPC()&&r&&!this.isUseUi&&(this.qrValue=r,this.showModal=!0),console.log(">>>display_uri  ==> ",r)}),f.on("connect",r=>{const d="session"in r?r.session:r;console.log(">>>get connect session",d),this.connectCallback(d)}),f.on("reconnect",r=>{const d="session"in r?r.session:r;console.log(">>>get reconnect session",d),this.connectCallback(d)}),f.on("disconnect",({topic:r})=>{console.log(`>>>get disconnect  ${r}`),providerStore.connectedChain=void 0,this.isConnected=!1}),f.on("session_delete",({topic:r})=>{console.log(`>>>get session_delete  ${r}`)}),f.on("session_update",r=>{console.log(">>>get session_update ",JSON.stringify(r))})}}}),_hoisted_1={key:0};function _sfc_render(f,r,d,g,m,v){const _=resolveComponent("el-button"),y=resolveComponent("el-col"),x=resolveComponent("el-card"),E=resolveComponent("ConfigurationCard"),b=resolveComponent("el-input"),C=resolveComponent("el-row"),R=resolveComponent("el-main"),O=resolveComponent("el-container");return openBlock(),createBlock(O,null,{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[createVNode(y,{class:"change-chain-col"},{default:withCtx(()=>[createVNode(_,{class:"change-chain-btn",text:"",onClick:r[0]||(r[0]=A=>f.goBack()),disabled:f.isConnected},{default:withCtx(()=>r[6]||(r[6]=[createTextVNode(" Change chain ")])),_:1},8,["disabled"]),f.isConnected?(openBlock(),createElementBlock("p",_hoisted_1,"To change chains, please disconnect first.")):createCommentVNode("",!0)]),_:1}),createVNode(x,{class:"wallet-info"},{header:withCtx(()=>r[7]||(r[7]=[createBaseVNode("div",null,"Wallet Info",-1)])),default:withCtx(()=>[createVNode(y,{span:24},{default:withCtx(()=>[createBaseVNode("p",null,[r[8]||(r[8]=createBaseVNode("strong",null,"Status :",-1)),createTextVNode(" "+toDisplayString(f.isConnected?f.connectStatusStr:f.disconnectStatusStr),1)])]),_:1})]),_:1}),f.isCorrectChain?(openBlock(),createBlock(E,{key:0,onClickUiCheckbox:f.onClickUiCheckbox,showModal:f.showModal,setShowModal:f.setShowModal,qrValue:f.qrValue},null,8,["onClickUiCheckbox","showModal","setShowModal","qrValue"])):createCommentVNode("",!0),createVNode(x,{class:"wallet-actions"},{header:withCtx(()=>r[9]||(r[9]=[createBaseVNode("div",null,"Connect actions",-1)])),default:withCtx(()=>[f.tonProofValue!==void 0?(openBlock(),createBlock(C,{key:0},{default:withCtx(()=>[r[10]||(r[10]=createBaseVNode("div",{class:"input-label"},"Ton proof:",-1)),createVNode(b,{modelValue:f.computedTonProof,"onUpdate:modelValue":r[1]||(r[1]=A=>f.computedTonProof=A),type:"textarea",rows:1,placeholder:"ton proof",disabled:!f.onEditTonProof},null,8,["modelValue","disabled"])]),_:1})):createCommentVNode("",!0),createVNode(y,{span:24},{default:withCtx(()=>[createVNode(_,{type:"primary",onClick:f.onConnectClick,disabled:f.isConnected},{default:withCtx(()=>[createTextVNode(toDisplayString(f.connectStr),1)]),_:1},8,["onClick","disabled"]),createVNode(_,{type:"danger",onClick:f.onDisconnectClick,disabled:!f.isConnected},{default:withCtx(()=>[createTextVNode(toDisplayString(f.disconnectStr),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1}),f.isCorrectChain?renderSlot(f.$slots,"default",{key:1}):createCommentVNode("",!0),f.isCorrectChain?(openBlock(),createBlock(x,{key:2,class:"transaction-actions"},{header:withCtx(()=>r[11]||(r[11]=[createBaseVNode("div",null,"Transaction actions",-1)])),default:withCtx(()=>[f.computedMethod!==void 0?(openBlock(),createBlock(C,{key:0,xs:24,sm:12},{default:withCtx(()=>[r[12]||(r[12]=createBaseVNode("div",{class:"input-label"},"Method:",-1)),createVNode(b,{modelValue:f.computedMethod,"onUpdate:modelValue":r[2]||(r[2]=A=>f.computedMethod=A),type:"textarea",rows:1,placeholder:"method",disabled:!f.onEditMethod},null,8,["modelValue","disabled"])]),_:1})):createCommentVNode("",!0),f.computedTransaction!==void 0?(openBlock(),createBlock(C,{key:1,xs:24,sm:12},{default:withCtx(()=>[r[13]||(r[13]=createBaseVNode("div",{class:"input-label"},"Data:",-1)),createVNode(b,{modelValue:f.computedTransaction,"onUpdate:modelValue":r[3]||(r[3]=A=>f.computedTransaction=A),type:"textarea",rows:5,placeholder:"data",disabled:!f.onEditTransaction},null,8,["modelValue","disabled"])]),_:1})):createCommentVNode("",!0),f.transactionResult!==void 0?(openBlock(),createBlock(C,{key:2,xs:24,sm:12},{default:withCtx(()=>[r[14]||(r[14]=createBaseVNode("div",{class:"input-label"},"Result:",-1)),createVNode(b,{modelValue:f.transactionResult,"onUpdate:modelValue":r[4]||(r[4]=A=>f.transactionResult=A),type:"textarea",rows:5,placeholder:"result",disabled:!0},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),f.sendTransaction?(openBlock(),createBlock(y,{key:3,span:24},{default:withCtx(()=>[createVNode(_,{type:"primary",onClick:r[5]||(r[5]=A=>f.onSendTransaction())},{default:withCtx(()=>[createTextVNode(toDisplayString(f.sendTransactionStr),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:3})]),_:3})}const ConnectLayout=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{Buffer as B,ConnectLayout as C,src$6 as a,requireBrowser$9 as b,requireBrowser$8 as c,safeBufferExports as d,e$1 as e,requireBn$2 as f,requireElliptic as g,requireUtil$1 as h,eventemitter3Exports as i,Buffer$1 as j,requireSrc as k,nacl as n,providerStore as p,require$$0$2 as r,srcExports as s};
