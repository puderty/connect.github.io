{"version":3,"file":"js/app.9dfc9a99.js","mappings":"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I,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,KACV,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAA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","sources":["webpack://okxconnectdemo/../packages/core/src/connect/commands.js","webpack://okxconnectdemo/../packages/core/src/connect/connect.js","webpack://okxconnectdemo/../packages/core/src/connect/connectionManager.js","webpack://okxconnectdemo/../packages/core/src/connect/constants.js","webpack://okxconnectdemo/../packages/core/src/connect/engine.js","webpack://okxconnectdemo/../packages/core/src/connect/index.js","webpack://okxconnectdemo/../packages/core/src/connect/jwt.js","webpack://okxconnectdemo/../packages/core/src/connect/jwtconstants.js","webpack://okxconnectdemo/../packages/core/src/connect/sessionUtils.js","webpack://okxconnectdemo/../packages/core/src/connect/storage.js","webpack://okxconnectdemo/../packages/core/src/connect/storageconstants.js","webpack://okxconnectdemo/../packages/core/src/connect/walletConnectionConstants.js","webpack://okxconnectdemo/../packages/core/src/connect/walletConnectionManager.js","webpack://okxconnectdemo/../packages/core/src/crypto/crypto.js","webpack://okxconnectdemo/../packages/core/src/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/engine.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/json-rpc.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/connect-event.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/connect-wallet.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/wallet-info.js","webpack://okxconnectdemo/../packages/core/src/protocol/constants.js","webpack://okxconnectdemo/../packages/core/src/protocol/error/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/error/okx-connect.error.js","webpack://okxconnectdemo/../packages/core/src/protocol/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/misc.js","webpack://okxconnectdemo/../packages/core/src/utils/call-for-success.js","webpack://okxconnectdemo/../packages/core/src/utils/index.js","webpack://okxconnectdemo/../packages/core/src/utils/log.js","webpack://okxconnectdemo/../packages/core/src/utils/safejson.js","webpack://okxconnectdemo/../packages/core/src/utils/stringUtils.js","webpack://okxconnectdemo/../packages/core/src/utils/tma-api.js","webpack://okxconnectdemo/../packages/core/src/utils/url.js","webpack://okxconnectdemo/../packages/core/src/utils/utils.js","webpack://okxconnectdemo/../packages/core/src/utils/web-api.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXBtcProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXUniversalProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/sign-client/client.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/utils/namespaces.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/events.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/values.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/aptos.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/btc.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/eip155.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/rpc/JsonRpcConnection.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/rpc/JsonRpcProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/solana.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/sui.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/ton.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/misc.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/providers.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/globals.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/misc.js","webpack://okxconnectdemo/./src/App.vue","webpack://okxconnectdemo/./src/components/BtcTransactionPanel.vue","webpack://okxconnectdemo/./src/components/BtcTransactionPanel.vue?1b44","webpack://okxconnectdemo/./src/components/FractalTransactionPanel.vue","webpack://okxconnectdemo/./src/components/FractalTransactionPanel.vue?e4fb","webpack://okxconnectdemo/./src/App.vue?7ccd","webpack://okxconnectdemo/./src/main.js","webpack://okxconnectdemo/../packages/ui/lib/index.cjs","webpack://okxconnectdemo/webpack/bootstrap","webpack://okxconnectdemo/webpack/runtime/amd options","webpack://okxconnectdemo/webpack/runtime/chunk loaded","webpack://okxconnectdemo/webpack/runtime/compat get default export","webpack://okxconnectdemo/webpack/runtime/define property getters","webpack://okxconnectdemo/webpack/runtime/global","webpack://okxconnectdemo/webpack/runtime/hasOwnProperty shorthand","webpack://okxconnectdemo/webpack/runtime/make namespace object","webpack://okxconnectdemo/webpack/runtime/node module decorator","webpack://okxconnectdemo/webpack/runtime/jsonp chunk loading","webpack://okxconnectdemo/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_METHOD_BATCH_FETCHMSG = exports.CONNECT_METHOD_FETCHMSG = exports.CONNECT_METHOD_RECEIVE = exports.CONNECT_METHOD_UNSUB = exports.CONNECT_METHOD_SUB = exports.CONNECT_METHOD_PUBLISH = exports.CONNECT_METHOD_LOGIN = exports.CONNECT_METHOD_PUSH = void 0;\n// --------------- ws methods -------------\nexports.CONNECT_METHOD_PUSH = \"push\";\nexports.CONNECT_METHOD_LOGIN = \"login\";\nexports.CONNECT_METHOD_PUBLISH = \"publish\";\nexports.CONNECT_METHOD_SUB = \"subscribe\";\nexports.CONNECT_METHOD_UNSUB = \"unsubscribe\";\nexports.CONNECT_METHOD_RECEIVE = \"receive\";\nexports.CONNECT_METHOD_FETCHMSG = \"fetchMessages\";\nexports.CONNECT_METHOD_BATCH_FETCHMSG = \"batchFetchMessages\";\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXWalletConnector = void 0;\nconst constants_1 = require(\"./constants\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils\");\nconst utils_2 = require(\"../utils/utils\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst log = __importStar(require(\"../utils/log\"));\nconst protocol_1 = require(\"../protocol\");\nconst WS = (0, utils_2.resolveWebSocketImplementation)();\nclass OKXWalletConnector {\n    constructor(url) {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.state = constants_1.ConnectorState.InitState;\n        this.selectedUrlIndex = 0;\n        // reconnect\n        this.retryCount = 0;\n        // default timeout limit: 8 sec\n        this.timeOutLimit = 8000;\n        if (!(0, utils_2.checkWSUrl)(url)) {\n            throw new Error(`CONNECTOR: invalid url ${url}`);\n        }\n        this.url = url;\n        this.heartbeatTimer = null;\n        this.connectionTimeoutTimer = null;\n        this.connectURLStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY + storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n    }\n    get connecting() {\n        return this.state == constants_1.ConnectorState.Connecting;\n    }\n    // ------------------------------------------------------\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        log.logDebug('get received data');\n        log.logDebug(e);\n        if (typeof e.data === \"string\") {\n            let rsp = e.data;\n            if (rsp === \"pong\") {\n                log.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);\n                return;\n            }\n        }\n        this.events.emit(\"payload\", e.data);\n    }\n    onClose(event) {\n        var _a;\n        log.logDebug('socket get closed: ', (_a = this.socket) === null || _a === void 0 ? void 0 : _a.url, event.code);\n        this.socket = undefined;\n        this.events.emit(\"close\", event);\n    }\n    onError(id, e) {\n        const payload = { id: id, msg: e.toString() };\n        this.events.emit(\"payload\", payload);\n    }\n    onopen(socket) {\n        socket.onmessage = (event) => this.onPayload(event);\n        socket.onclose = (event) => this.onClose(event);\n        this.socket = socket;\n        this.state = constants_1.ConnectorState.Connected;\n        this.events.emit(\"open\");\n    }\n    // ------------------------------------------------------\n    emitError(errorEvent) {\n        this.events.emit(\"fail\", errorEvent);\n    }\n    // ------------------------------------------------------\n    heartbeat() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.heartbeatTimer) {\n                clearTimeout(this.heartbeatTimer);\n            }\n            if (this.state != constants_1.ConnectorState.Connected && this.state != constants_1.ConnectorState.OnError) {\n                log.logDebug('heart beat close');\n                return;\n            }\n            if (!this.socket) {\n                log.logDebug('socket not exist');\n                if (this.state == constants_1.ConnectorState.Connected || this.state == constants_1.ConnectorState.OnError) {\n                    log.logDebug('socket reconnect by heartbeat');\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                        this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n                    }\n                }\n                return;\n            }\n            if (this.socket.readyState !== WebSocket.OPEN) {\n                log.logDebug('socket not ready');\n                if (this.state == constants_1.ConnectorState.Connected || this.state == constants_1.ConnectorState.OnError) {\n                    log.logDebug('socket reconnect by heartbeat with state', this.state, this.socket.readyState);\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                        this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n                    }\n                }\n                return;\n            }\n            log.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`);\n            this.socket.send(\"ping\");\n            this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n        });\n    }\n    registOpen(url = this.url, inRetry = false) {\n        if (!(0, utils_2.checkWSUrl)(url)) {\n            throw new Error(`CONNECTOR: invalid url ${url}`);\n        }\n        this.url = url;\n        if (!inRetry) {\n            log.logDebug('Connection connect:', this.url, new Date().toUTCString());\n        }\n        this.state = constants_1.ConnectorState.Connecting;\n        const origin = new URLSearchParams(url).get(\"origin\");\n        return new Promise((resolve, reject) => {\n            const socket = new WS(url, []);\n            log.logDebug('Connection connect Begin:', this.url, new Date().toUTCString());\n            this.startTimeOutTimer(socket);\n            if ((0, utils_2.hasBuiltInWebSocket)()) {\n                log.logDebug('Add socket error handler');\n                socket.onerror = () => {\n                    reject(new Error('socket error'));\n                    socket.close();\n                };\n            }\n            else {\n                log.logDebug('Add socket error handler');\n                socket.on(\"error\", () => {\n                    reject(new Error('socket error'));\n                    socket.close();\n                });\n            }\n            socket.onopen = () => {\n                log.logDebug('socket opened');\n                this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED);\n                this.onopen(socket);\n                this.heartbeat();\n                resolve(socket);\n            };\n        });\n    }\n    checkMaxRetry() {\n        log.logDebug('current retry count:', this.retryCount, 'of', constants_1.OKXCONNECTOR_WS_URL_LIST.length);\n        return this.retryCount > constants_1.OKXCONNECTOR_WS_URL_LIST.length;\n    }\n    connectionTryNext() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.checkMaxRetry()) {\n                //TODO: mark descent\n                this.retryCount += 1;\n                let nextUrl = this.getNextSelectUrl();\n                log.logDebug('Connection retry:', nextUrl, new Date().toUTCString());\n                return this.registOpen(nextUrl, true);\n            }\n            else {\n                log.logDebug('Max Connection retry ', this.retryCount, new Date().toUTCString());\n            }\n        });\n    }\n    startTimeOutTimer(socket) {\n        if (this.connectionTimeoutTimer) {\n            this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED);\n        }\n        this.pendingSocket = socket;\n        this.connectionTimeoutTimer = setTimeout(() => {\n            if (this.pendingSocket) {\n                this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT);\n            }\n        }, this.timeOutLimit);\n    }\n    resetTimeOutTimer(code) {\n        var _a;\n        // 1. cancel connecting pending sockets\n        if (code != constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED) {\n            (_a = this.pendingSocket) === null || _a === void 0 ? void 0 : _a.close(code);\n        }\n        this.pendingSocket = undefined;\n        // 2. remove timer\n        clearTimeout(this.connectionTimeoutTimer);\n    }\n    cacheSuccessUrlSelect() {\n        this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(), storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n    }\n    getSuccessUrlSelect() {\n        var _a;\n        let selectIndex = (_a = this.connectURLStorage.getItem(storageconstants_1.OKXCONNECTOR_CACHE_KEY)) === null || _a === void 0 ? void 0 : _a.content;\n        let index = 0;\n        if (selectIndex) {\n            index = Number(selectIndex);\n        }\n        this.selectedUrlIndex = index;\n        return constants_1.OKXCONNECTOR_WS_URL_LIST[index];\n    }\n    getNextSelectUrl() {\n        this.selectedUrlIndex += 1;\n        this.selectedUrlIndex = this.selectedUrlIndex % constants_1.OKXCONNECTOR_WS_URL_LIST.length;\n        return constants_1.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex];\n    }\n    // ------------------------------------------------------\n    onVisibleChanged() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (document.visibilityState === 'visible') {\n                // check and restore\n                log.logDebug(`get changed ${this.state}, ${this.socket}`);\n                if (this.state == constants_1.ConnectorState.Connected && typeof this.socket === \"undefined\") {\n                    log.logDebug('CONNECTION need reopen');\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                    }\n                    return;\n                }\n            }\n        });\n    }\n    tryRegistOpen() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            if (this.connecting) {\n                log.logDebug('tryRegistOpen => connecting state');\n                return new Promise((resolve, reject) => {\n                    this.events.once('fail', (e) => {\n                        log.logDebug('tryRegistOpen => connecting fail listener', e);\n                        return reject(e);\n                    });\n                    this.events.once(\"open\", () => {\n                        if (typeof this.socket == \"undefined\") {\n                            return reject(new Error(\"Connect lost\"));\n                        }\n                        return resolve(this.socket);\n                    });\n                });\n            }\n            log.logDebug('tryRegistOpen => try registOpen until retry limit is hit');\n            let inRetry = false;\n            while (!this.checkMaxRetry() && !this.socket) {\n                try {\n                    log.logDebug('tryRegistOpen => call registOpen, try count:', this.retryCount, inRetry);\n                    yield this.registOpen(url, inRetry);\n                }\n                catch (err) {\n                    log.logDebug('tryRegistOpen => registOpen failed', err);\n                    this.retryCount += 1;\n                    url = this.getNextSelectUrl();\n                    inRetry = true;\n                }\n            }\n            log.logDebug('tryRegistOpen => exit while loop', this.retryCount, this.socket);\n            if (!this.socket && this.checkMaxRetry()) {\n                log.logDebug('tryRegistOpen => failed to open a socket', this.retryCount, this.socket);\n                this.retryCount = 0;\n                this.state = constants_1.ConnectorState.OnError;\n                this.emitError(new Error('tryRegistOpen failed'));\n                throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR, \"Failed to connect\");\n            }\n        });\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.tryRegistOpen();\n                // listener for reconnect\n                document.removeEventListener('visibilitychange', this.onVisibleChanged.bind(this));\n                document.addEventListener('visibilitychange', this.onVisibleChanged.bind(this));\n            }\n            catch (e) {\n                log.logDebug('connect => failed to connect', e);\n                throw e;\n            }\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.state = constants_1.ConnectorState.Disconnected;\n            return new Promise((resolve, reject) => {\n                if (typeof this.socket === \"undefined\") {\n                    // reject(new Error(\"CONNECTION closed\"))\n                    resolve();\n                    return;\n                }\n                this.socket.onclose = (event) => {\n                    this.onClose(event);\n                    resolve();\n                };\n                this.socket.close();\n                if (this.heartbeatTimer) {\n                    clearTimeout(this.heartbeatTimer);\n                }\n            });\n        });\n    }\n    currentStatus() {\n        return {\n            state: this.state,\n            url: this.url\n        };\n    }\n    // event will be jsonstr\n    /// @params Promise\n    /// @params success/failed callback\n    addListener(event, decrypt, success, failed) {\n        if (this.listenPayloadHandler) {\n            this.events.removeListener(\"payload\", this.listenPayloadHandler);\n        }\n        this.listenPayloadHandler = (e) => {\n            var _a;\n            log.logDebug(`<<< get payload ${e}`);\n            let parsedEvent = (0, utils_1.safeJsonParse)(e);\n            // parse the data to chose success or failed\n            if (parsedEvent.params && parsedEvent.params.data) {\n                let rawMsg = (_a = parsedEvent.params.data) === null || _a === void 0 ? void 0 : _a.message;\n                if (rawMsg) {\n                    try {\n                        let msg = decrypt(rawMsg);\n                        if (msg === undefined) {\n                            log.logDebug(`CONNECT: decrypt undefined`);\n                            failed(event, 'Decrypt undefined');\n                        }\n                        else {\n                            success(event, msg);\n                        }\n                    }\n                    catch (e) {\n                        log.logDebug(`CONNECT: decrypt failed: ${e}`);\n                        failed(event, e.message);\n                    }\n                }\n            }\n        };\n        this.events.on(\"payload\", this.listenPayloadHandler);\n        if (this.failHandler) {\n            this.events.removeListener(\"fail\", this.failHandler);\n        }\n        this.failHandler = (e) => {\n            if (e) {\n                log.logDebug(`CONNECT failed: ${e}`);\n                failed(event, e.message);\n            }\n            else {\n                failed(event, \"Unkonow error\");\n            }\n        };\n        this.events.on(\"fail\", this.failHandler);\n    }\n    addPackageParse(callback) {\n        if (this.payloadHandler) {\n            this.events.removeListener(\"payload\", this.payloadHandler);\n        }\n        this.payloadHandler = (e) => __awaiter(this, void 0, void 0, function* () {\n            // parse the data to chose success or failed\n            log.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${e}`);\n            let param = (0, utils_1.safeJsonParse)(e);\n            yield callback(param);\n        });\n        this.events.on(\"payload\", this.payloadHandler);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    send(doLogin, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof this.socket === \"undefined\") {\n                log.logDebug(`>>> send payload undefined ${payload}`);\n                // this.socket = await this.registOpen();\n                yield doLogin();\n            }\n            try {\n                log.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0, utils_1.safeJsonStringify)(payload)}`);\n                if (this.socket) {\n                    this.socket.send((0, utils_1.safeJsonStringify)(payload));\n                }\n            }\n            catch (e) {\n                this.onError(payload.id, e);\n            }\n        });\n    }\n    getMsgPayloadFromHistory(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof msg === \"undefined\")\n                return;\n            let tmpMsg = {\n                params: {\n                    data: msg\n                }\n            };\n            let jsonstr = (0, utils_1.safeJsonStringify)(msg);\n            log.logDebug('get received data from history');\n            log.logDebug(jsonstr);\n            jsonstr = (0, utils_1.safeJsonStringify)(tmpMsg);\n            this.events.emit(\"payload\", jsonstr);\n        });\n    }\n    onOpen(callback) {\n        if (this.openHandler) {\n            this.events.removeListener(\"open\", this.openHandler);\n        }\n        this.openHandler = () => __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `);\n            yield callback();\n        });\n        this.events.on(\"open\", this.openHandler);\n        this.cacheSuccessUrlSelect();\n    }\n}\nexports.OKXWalletConnector = OKXWalletConnector;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionManager = void 0;\nconst connect_1 = require(\"./connect\");\nconst commands_1 = require(\"./commands\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst jwtconstants_1 = require(\"./jwtconstants\");\nconst constants_1 = require(\"./constants\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils/utils\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst jwt_1 = require(\"./jwt\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst url_1 = require(\"../utils/url\");\nclass ConnectionManager {\n    constructor(appname = undefined) {\n        this.events = new eventemitter3_1.EventEmitter();\n        // local storage\n        this.connectStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY_DAPP + appname, storageconstants_1.OKXCONNECTOR_CACHE_KEY_DAPP);\n        this.crypto = new crypto_1.SessionCrypto();\n        let inTMA = (0, url_1.isInTMA)();\n        (0, log_1.logDebug)('do init:', inTMA);\n        if (inTMA) {\n            // recovery from cache\n            const keyPairInfo = this.getCachedCryptoKeyPair();\n            (0, log_1.logDebug)('use same pk:', keyPairInfo);\n            this.crypto = new crypto_1.SessionCrypto(keyPairInfo);\n        }\n        this.jwtKeyPair = this.getCachedJWTKeyPair();\n        this.saveJWTKeyPair(this.jwtKeyPair);\n        // wss connection\n        this.connector = new connect_1.OKXWalletConnector(constants_1.OKXCONNECTOR_WS_URL_1);\n        this.packageId = Date.now();\n        // connection state\n        this.connectedWalletPK = '';\n        this.currentTopic = '';\n        log.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`);\n    }\n    refreshPackageId() {\n        this.packageId = Date.now();\n    }\n    saveCryptoKeyPair(keyPair) {\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(keyPair);\n        // encrypt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_CRYPTO_KEY);\n    }\n    getCachedCryptoKeyPair() {\n        // decrypt kp\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            log.logDebug('get cached crypto key:');\n            log.logDebug(content);\n            let keyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            return keyPairInfo;\n        }\n        else {\n            this.connectStorage.clearCache();\n        }\n        return null;\n    }\n    saveJWTKeyPair(keyPair) {\n        var strkeyPair = {\n            publicKey: (0, utils_1.toHexString)(keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(keyPair.secretKey)\n        };\n        log.logDebug('save jwt kp');\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(strkeyPair);\n        log.logDebug(cacheInfo);\n        // encrypt jwt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_JWT_KEY);\n    }\n    getCachedJWTKeyPair() {\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            // TODO: decrypt jwt kp\n            log.logDebug('get cached jwt kp:');\n            log.logDebug(content);\n            let strKeyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            log.logDebug('save jwt kp');\n            log.logDebug(strKeyPairInfo);\n            var keyPair = {\n                publicKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.publicKey),\n                secretKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.secretKey)\n            };\n            return keyPair;\n        }\n        else {\n            return (0, jwt_1.generateKeyPair)();\n        }\n    }\n    isWalletPKReady() {\n        log.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`);\n        return this.connectedWalletPK.length > 0;\n    }\n    makeJWT(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, jwt_1.signJWT)(topic, jwtconstants_1.OKXCONNECTOR_JWT_SIDE, jwtconstants_1.OKXCONNECTOR_JWT_TTL, // 24h\n            this.jwtKeyPair);\n        });\n    }\n    parsePackage(input_1) {\n        return __awaiter(this, arguments, void 0, function* (input, ignoreACK = false) {\n            var _a, _b, _c, _d, _e;\n            this.events.emit(input.id, input);\n            // send back ACK\n            if (!ignoreACK) {\n                yield this.sendACK(input.id, true);\n                let topic = (_a = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE)) === null || _a === void 0 ? void 0 : _a.content;\n                if (topic) {\n                    let inputObj = input;\n                    if ((_c = (_b = inputObj.params) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.messageId) {\n                        this.refreshPackageId();\n                        yield this.sendReceive(this.packageId.toString(), (_e = (_d = inputObj.params) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.messageId, topic);\n                    }\n                }\n            }\n        });\n    }\n    restoreConnect(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`connectionManager  restoreConenct   ${topic}`);\n            if ((typeof topic !== 'string') || topic.length === 0) {\n                throw new Error('CONNECTION: invalid topic');\n            }\n            log.logDebug(`connectionManager  restoreConenct   disconnect`);\n            yield this.disconnect(true);\n            this.connectStorage.saveContent(topic, storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`connectionManager  restoreConenct   conect`);\n            yield this.connect(true);\n        });\n    }\n    getConnectInfo() {\n        var topic = (0, utils_1.generateTopic)();\n        log.logDebug(`generate topic token: ${topic}`);\n        this.currentTopic = topic;\n        const info = {\n            channelId: topic,\n            clientId: this.crypto.stringifyKeypair().publicKey,\n        };\n        return info;\n    }\n    connect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            this.timeLog = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---enter->\", this.timeLog);\n            let lastConnectId = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            //1. generate topic & jwt\n            var topic = this.currentTopic;\n            log.logDebug(`generate topic token: ${topic}`);\n            // crypto keypair\n            if (fromRestore) {\n                if (typeof lastConnectId !== 'undefined' && lastConnectId !== null) {\n                    log.logDebug(`read last connect id: ${lastConnectId}`);\n                    topic = lastConnectId.content;\n                }\n                var cachedSenderPublicKey = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                if (cachedSenderPublicKey) {\n                    this.connectedWalletPK = cachedSenderPublicKey.content;\n                    (0, log_1.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`);\n                }\n            }\n            if (fromRestore) {\n                // recovery from cache\n                const keyPairInfo = this.getCachedCryptoKeyPair();\n                if (keyPairInfo) {\n                    this.crypto = new crypto_1.SessionCrypto(keyPairInfo);\n                }\n            }\n            log.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`);\n            // cache topic\n            this.connectStorage.saveContent(topic, storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            var jwtToken = yield this.makeJWT(topic);\n            log.logDebug(`generate jwt token: ${jwtToken}`);\n            this.connectStorage.saveContent(jwtToken, 'jwt');\n            return new Promise((resolve, reject) => {\n                // 1. when websocket opened\n                this.connector.onOpen(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug(`1. connector on open`);\n                    const timeOne = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---open->\", timeOne - this.timeLog);\n                    //2. send jwt to login\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when login');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // throw error\n                            reject(error);\n                        }\n                        //3. send subscribe\n                        this.refreshPackageId();\n                        this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                            // ack\n                            if (rsp && rsp.error) {\n                                log.logError('failed when subscribe');\n                                yield this.connector.disconnect();\n                                var error = new Error();\n                                error.message = rsp.error.message;\n                                error.name = rsp.error.code.toString();\n                                // throw error\n                                reject(error);\n                            }\n                            this.refreshPackageId();\n                            log.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`);\n                            const timeF = new Date().getTime();\n                            (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n                            // 4. fetch messages\n                            yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                            resolve();\n                        }));\n                        log.logDebug(`3. login callback then send subscribe: ${this.packageId}`);\n                        const timeTh = new Date().getTime();\n                        (0, log_1.logDebug)(\"ConnectTime---login callback->\", timeTh - this.timeLog);\n                        yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                            log.logDebug('CONNECT: reconnect before send');\n                            yield this.connector.connect()\n                                .catch((err) => {\n                                (0, log_1.logDebug)('ConnectionManager connect error', err);\n                                reject(err);\n                            });\n                        }), {\n                            id: this.packageId.toString(),\n                            jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                            method: commands_1.CONNECT_METHOD_SUB,\n                            params: {\n                                topic: topic\n                            }\n                        });\n                    }));\n                    log.logDebug(`2. login called`);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        yield this.connector.connect()\n                            .catch((err) => {\n                            (0, log_1.logDebug)('ConnectionManager connect error', err);\n                            reject(err);\n                        });\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_LOGIN,\n                        params: {\n                            token: jwtToken\n                        }\n                    });\n                    // 4. listen when dapp back to front, receive wallet public key\n                    this.connector.addPackageParse((event) => {\n                        var _a;\n                        log.logDebug(`connect: parse package`);\n                        log.logDebug(event);\n                        if (!(\"params\" in event) || !(\"data\" in event[\"params\"])) {\n                            this.parsePackage(event, true);\n                            return;\n                        }\n                        let rawMsg = (_a = event.params.data) === null || _a === void 0 ? void 0 : _a.message;\n                        if (typeof rawMsg !== 'undefined') {\n                            rawMsg = rawMsg.replace(/'/g, '\"');\n                            let parsedMessage = (0, safejson_1.safeJsonParse)(rawMsg);\n                            if (typeof parsedMessage !== 'string' && \"clientId\" in parsedMessage && parsedMessage.clientId && parsedMessage.clientId.length > 0) {\n                                this.connectedWalletPK = parsedMessage.clientId;\n                                log.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`);\n                                // exchange sender public key\n                                // cache wallet public key\n                                this.connectStorage.saveContent(this.connectedWalletPK, storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                                // cache crypto keypair\n                                this.saveCryptoKeyPair(this.crypto.stringifyKeypair());\n                            }\n                        }\n                        // ignore receive echo\n                        this.parsePackage(event, event.method === commands_1.CONNECT_METHOD_RECEIVE);\n                    });\n                }));\n                this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                    reject(err);\n                });\n            });\n        });\n    }\n    disconnect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            yield this.connector.disconnect();\n            //clean cached topic\n            //public key\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            if (!fromRestore) {\n                this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                this.connectedWalletPK = '';\n                (0, log_1.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`);\n            }\n        });\n    }\n    addListener(event, success, fail) {\n        this.connector.addListener((0, safejson_1.safeJsonStringify)(event), (rawMsg) => {\n            rawMsg = rawMsg.replace(/'/g, '\"');\n            log.logDebug(`addListener ===> ${rawMsg}`);\n            if (typeof rawMsg !== 'undefined') {\n                var msgObj = (0, safejson_1.safeJsonParse)(rawMsg);\n                var msg = msgObj.message;\n                if (msgObj.clientId && msgObj.clientId.length > 0) {\n                    this.connectedWalletPK = msgObj.clientId;\n                    this.connectStorage.saveContent(this.connectedWalletPK, storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                    log.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`);\n                    log.logDebug(`this.cryptoKey  addListener   ${(0, utils_1.toHexString)(this.crypto.keyPair.publicKey)}`);\n                    // cache crypto keypair\n                    this.saveCryptoKeyPair(this.crypto.stringifyKeypair());\n                }\n                var result = this.crypto.decrypt(msg, this.connectedWalletPK);\n                log.logDebug(`addListener ===> ${result}`);\n                return result;\n            }\n            return undefined;\n        }, success, fail);\n    }\n    sendRaw(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`message send =====> ${msg}`);\n            let message = msg;\n            log.logDebug(`message send =====encrypt message.length>>>> ${message.length}`);\n            // only one topic\n            let topic = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`message send =====topic>>>> ${topic === null || topic === void 0 ? void 0 : topic.content}`);\n            this.refreshPackageId();\n            const payload = {\n                id: this.packageId.toString(),\n                method: commands_1.CONNECT_METHOD_PUBLISH,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                params: {\n                    message: {\n                        topic: topic === null || topic === void 0 ? void 0 : topic.content,\n                        message: message,\n                        ttl: constants_1.OKXCONNECTOR_MESSAGE_TTL\n                    }\n                } // crypted\n            };\n            this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                // ack\n                if (rsp && rsp.error) {\n                    log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                }\n                else if (rsp && !rsp.error) {\n                    log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                }\n            }));\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                });\n            }), payload);\n            return this.packageId;\n        });\n    }\n    send(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // make send msg payload\n            log.logDebug(`message send =====> ${msg}`);\n            if (!this.isWalletPKReady()) {\n                // channel not ready\n                throw new Error('connection not finish');\n            }\n            let message = this.crypto.encrypt(msg, this.connectedWalletPK);\n            log.logDebug(`message send =====encrypt message.length>>>> ${message.length}`);\n            // only one topic\n            let topic = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`message send =====topic>>>> ${topic === null || topic === void 0 ? void 0 : topic.content}`);\n            this.refreshPackageId();\n            const payload = {\n                id: this.packageId.toString(),\n                method: commands_1.CONNECT_METHOD_PUBLISH,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                params: {\n                    message: {\n                        topic: topic === null || topic === void 0 ? void 0 : topic.content,\n                        message: message,\n                        ttl: constants_1.OKXCONNECTOR_MESSAGE_TTL\n                    }\n                } // crypted\n            };\n            this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                // ack\n                if (rsp && rsp.error) {\n                    log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                }\n                else if (rsp && !rsp.error) {\n                    log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                }\n            }));\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                });\n            }), payload);\n            return this.packageId;\n        });\n    }\n    sendACK(msgId_1, success_1) {\n        return __awaiter(this, arguments, void 0, function* (msgId, success, reason = undefined) {\n            if (success === true) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    result: true\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    yield this.connector.connect().catch((err) => {\n                        (0, log_1.logDebug)('ConnectionManager connect error', err);\n                    });\n                }), payload);\n            }\n            else if (reason) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    error: {\n                        code: reason.code, //int\n                        message: reason.message\n                    }\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    yield this.connector.connect().catch((err) => {\n                        (0, log_1.logDebug)('ConnectionManager connect error', err);\n                    });\n                }), payload);\n            }\n        });\n    }\n    // send receive\n    sendReceive(msgId, messageId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_RECEIVE,\n                params: {\n                    data: {\n                        messageId: messageId,\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                });\n            }), payload);\n        });\n    }\n    sendConnectSessionInfo(msgId, messageId, topic, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n    // send receive\n    // 1. fetch all \n    // 2. send back receive\n    // 3. check has more, if so, repeat from 1st step\n    sendFetchAndConsumeMessages(msgId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(msgId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic == topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId();\n                                yield this.sendReceive(this.packageId.toString(), messageId, topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_FETCHMSG,\n                params: {\n                    data: {\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                });\n            }), payload);\n        });\n    }\n    cleanCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.connectStorage.clearCache();\n        });\n    }\n    saveSessionContent(key, data) {\n        if (!data) {\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(data);\n        this.connectStorage.encryptStoreMsg(jsonData, storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n    }\n    getSessionContent(key) {\n        let jsonStr = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        if (jsonStr) {\n            let object = (0, safejson_1.safeJsonParse)(jsonStr);\n            return object;\n        }\n        return undefined;\n    }\n    getCurrentConnectionReady() {\n        return this.isWalletPKReady();\n    }\n}\nexports.ConnectionManager = ConnectionManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectorState = exports.CONNECT_JSONRPC_VER = exports.OKXCONNECTOR_MESSAGE_TTL = exports.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE = exports.OKXCONNECTOR_WS_URL_LIST = exports.OKXCONNECTOR_WS_URL_IDX_KEY = exports.OKXCONNECTOR_WS_URL_2 = exports.OKXCONNECTOR_WS_URL_1 = exports.EVENT_EMITTER_MAX_LISTENERS = void 0;\nexports.EVENT_EMITTER_MAX_LISTENERS = 10;\nexports.OKXCONNECTOR_WS_URL_1 = \"wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_2 = \"wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_IDX_KEY = \"wuik\";\nexports.OKXCONNECTOR_WS_URL_LIST = [\n    exports.OKXCONNECTOR_WS_URL_1,\n    exports.OKXCONNECTOR_WS_URL_2,\n];\nexports.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE = {\n    TIME_OUT: 3990,\n    CANCELED: 3991,\n    FINISHED: 3992,\n};\nexports.OKXCONNECTOR_MESSAGE_TTL = 300000;\n// --------------- JSON RPC ---------------\nexports.CONNECT_JSONRPC_VER = \"2.0\";\nexports.ConnectorState = {\n    InitState: 0,\n    Connecting: 1,\n    Connected: 2,\n    Disconnected: 3,\n    OnError: 4,\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Engine = void 0;\nconst safejson_1 = require(\"../utils/safejson\");\nconst log_1 = require(\"../utils/log\");\nconst protocol_1 = require(\"../protocol\");\n// import {standardDeeplink, tonConnectSdkVersion} from \"../../ton/tonsdk/constants/version\";\nconst utils_1 = require(\"../utils\");\nconst utils_2 = require(\"../utils\");\nconst sessionUtils_1 = require(\"./sessionUtils\");\nconst url_1 = require(\"../utils/url\");\nclass Engine {\n    constructor(connectionManager) {\n        this.pendingRequests = new Map();\n        this.disconnectListener = [];\n        this.connectionManager = connectionManager;\n        this.connectionManager.addListener(\"sdk_response\", (event, msg) => {\n            var jsonResponse = (0, safejson_1.safeJsonParse)(msg);\n            (0, log_1.logDebug)(`Engine ==>> addListener ==> success ==> ${jsonResponse}`);\n            this.handleResponse(event, jsonResponse);\n        }, function () {\n        });\n    }\n    addDisconnectListener(disconnecter) {\n        this.disconnectListener.push(disconnecter);\n    }\n    disconnect() {\n        (0, log_1.logDebug)('Engine ==>> disconnect');\n        this.pendingRequests.clear();\n    }\n    getRequestId() {\n        const requestId = Date.now().toString();\n        (0, log_1.logDebug)('Engine ==>> getRequestId ==>', requestId);\n        return requestId;\n    }\n    bindRequestForPromise(requestId, resolve) {\n        this.pendingRequests.set(requestId, resolve);\n    }\n    send(request, requestAnswer, option) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('Engine ==>> send  request==>', JSON.stringify(request));\n            const requestId = this.getRequestId();\n            try {\n                let packageId = yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({}, request), { requestId: requestId })));\n                this.connectionManager.events.once(packageId.toString(), (event) => {\n                    var _a;\n                    (0, log_1.logDebug)(`Engine ==> send => onAck => ${(0, safejson_1.safeJsonStringify)(event)}`);\n                    if (event && event.result) {\n                        (_a = requestAnswer.onAck) === null || _a === void 0 ? void 0 : _a.call(requestAnswer);\n                    }\n                });\n                if (requestAnswer.resolve) {\n                    this.bindRequestForPromise(requestId, requestAnswer.resolve);\n                }\n            }\n            catch (e) {\n                return Promise.reject(e);\n            }\n        });\n    }\n    sendSession(sessionInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('[Connect] sendSession called:', sessionInfo);\n            const requestId = this.getRequestId();\n            let request = {\n                method: 'session_info',\n                params: { sessionInfo: sessionInfo }\n            };\n            yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({}, request), { requestId: requestId })));\n            // try {\n            //     let packageId = await callForSuccess(() =>\n            //         , option)\n            //     this.connectionManager.events.once(packageId.toString(),(event)=>{\n            //         logDebug(`Engine ==> send => onAck => ${safeJsonStringify(event)}`)\n            //         if (event && event.result){\n            //             requestAnswer.onAck?.()\n            //         }\n            //     })\n            //     if (requestAnswer.resolve){\n            //         this.bindRequestForPromise(requestId, requestAnswer.resolve)\n            //     }\n            // }catch (e) {\n            //     return Promise.reject(e)\n            // }\n        });\n    }\n    handleResponse(event, response) {\n        (0, log_1.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0, safejson_1.safeJsonStringify)(response)}`, event);\n        if (\"requestId\" in response) {\n            (0, log_1.logDebug)(\"Engine ==>> handleResponse_2  ===> in response\");\n            let requestId = response.requestId;\n            const resolve = this.pendingRequests.get(requestId);\n            if (resolve) {\n                (0, log_1.logDebug)(\"Engine ==>> handleResponse_3  ===> find resolve:\", resolve);\n                resolve(response);\n                // pendingRequestsPromise\n                this.pendingRequests.delete(requestId);\n            }\n            else {\n                (0, log_1.logDebug)(\"Engine ==>> handleResponse_3  ===> not find resolve:\");\n                if (response.method === \"disconnect\") {\n                    this.disconnectListener.forEach(listener => listener());\n                    this.disconnectListener = [];\n                    this.disconnect();\n                }\n            }\n        }\n    }\n    restoreconnect(sessionInfo, onConnectResult) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            yield ((_a = this.connectionManager) === null || _a === void 0 ? void 0 : _a.restoreConnect(sessionInfo.topic));\n            onConnectResult(sessionInfo);\n        });\n    }\n    conect(request, sessionConfig, onConnectResult) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const connectInfo = this.connectionManager.getConnectInfo();\n            const requestId = this.getRequestId();\n            let openUniversalLink = (_a = sessionConfig.openUniversalUrl) !== null && _a !== void 0 ? _a : false;\n            const connectRequest = {\n                protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                topic: connectInfo.channelId,\n                clientId: connectInfo.clientId,\n                requestId: requestId,\n                dAppInfo: sessionConfig.dappInfo,\n                requests: request,\n            };\n            const connectRequestStr = JSON.stringify(connectRequest);\n            const utf8Array = new TextEncoder().encode(connectRequestStr);\n            const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n            const deeplinkUrl = `${protocol_1.standardDeeplink}?param=${base64Encoded}`;\n            (0, log_1.logDebug)('engine ==>> connect ==>>deeplinkUrl:', deeplinkUrl);\n            const isIOS = (0, utils_2.isIos)();\n            (0, log_1.logDebug)(`engine ==>> connect ==>>isIOS: ${isIOS}   openUniversalLink: ${openUniversalLink}`);\n            if (isIOS && openUniversalLink) {\n                (0, log_1.logDebug)('bridge-provider ==>> connect_3');\n                (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n            }\n            yield ((_b = this.connectionManager) === null || _b === void 0 ? void 0 : _b.disconnect(false));\n            this.bindRequestForPromise(requestId, (response) => {\n                let session = this.onConnect(response, sessionConfig, connectInfo.channelId);\n                onConnectResult(session, response);\n            });\n            try {\n                yield this.connectionManager.connect();\n            }\n            catch (e) {\n                (0, log_1.logDebug)('Engine conect error', e);\n                throw e;\n            }\n            if (!isIOS && openUniversalLink) {\n                (0, log_1.logDebug)('bridge-provider ==>> connect_4');\n                (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n            }\n            return {\n                connectInfo: connectInfo,\n                deeplinkUrl: (0, utils_1.getUniversalLink)(deeplinkUrl)\n            };\n        });\n    }\n    onConnect(connectResponse, sessionConfig, topic) {\n        if (connectResponse.method == \"connect\") {\n            let namespaces = (0, sessionUtils_1.buildNameSpacesByConnectResponse)(connectResponse);\n            if (namespaces) {\n                let session = {\n                    topic: topic,\n                    sessionConfig: sessionConfig,\n                    namespaces: namespaces\n                };\n                return session;\n            }\n        }\n        return null;\n    }\n    universalConnect(request, sessionConfig, connectInfoAndUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d;\n                try {\n                    (0, log_1.logDebug)(\"engine universalConnect request :\", JSON.stringify(request));\n                    (0, log_1.logDebug)(\"engine universalConnect sessionConfig :\", JSON.stringify(sessionConfig));\n                    let tonRequest = [];\n                    let universalRequest = [];\n                    request.forEach((item) => {\n                        let name = item.name;\n                        if (name.startsWith(\"requestAccounts\")) {\n                            universalRequest.push(item);\n                        }\n                        else if (name.startsWith(\"ton\")) {\n                            tonRequest.push(item);\n                        }\n                    });\n                    (0, log_1.logDebug)(\"engine universalConnect tonRequest :\", JSON.stringify(tonRequest));\n                    (0, log_1.logDebug)(\"engine universalConnect universalRequest :\", JSON.stringify(universalRequest));\n                    const connectInfo = this.connectionManager.getConnectInfo();\n                    const requestId = this.getRequestId();\n                    let openUniversalLink = (_a = sessionConfig.openUniversalUrl) !== null && _a !== void 0 ? _a : false;\n                    const universalConnectRequest = {\n                        protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                        topic: connectInfo.channelId,\n                        clientId: connectInfo.clientId,\n                        requestId: requestId,\n                        dAppInfo: sessionConfig.dappInfo,\n                        requests: universalRequest,\n                    };\n                    const base64Encoded = (0, url_1.encodeConnectParams)(universalConnectRequest);\n                    universalConnectRequest.redirect = (_b = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _b !== void 0 ? _b : \"none\";\n                    const tonConnectRequest = {\n                        protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                        topic: connectInfo.channelId,\n                        clientId: connectInfo.clientId,\n                        requestId: requestId,\n                        dAppInfo: sessionConfig.dappInfo,\n                        requests: tonRequest,\n                        redirect: (_c = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _c !== void 0 ? _c : \"none\"\n                    };\n                    let isFromTonSDK = false;\n                    if (tonRequest.length > 0) { //from tonsdk\n                        isFromTonSDK = true;\n                    }\n                    let defaultConnectRequest = isFromTonSDK ? tonConnectRequest : universalConnectRequest;\n                    (0, log_1.logDebug)('engine universalConnect ==>>defaultConnectRequest:', isFromTonSDK, JSON.stringify(defaultConnectRequest));\n                    var deeplinkUrl = \"\";\n                    // open app wallet\n                    if (openUniversalLink) {\n                        const base64Encoded = (0, url_1.encodeConnectParams)(defaultConnectRequest);\n                        deeplinkUrl = `${protocol_1.standardDeeplink}?param=${base64Encoded}`;\n                    }\n                    (0, log_1.logDebug)('engine universalConnect ==>>deeplinkUrl:', deeplinkUrl);\n                    const isIOS = (0, utils_2.isIos)();\n                    if (isIOS && openUniversalLink) {\n                        (0, log_1.logDebug)(`engine universalConnect ==>>isIOS: ${isIOS}   openUniversalLink: ${openUniversalLink}`);\n                        (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n                    }\n                    yield ((_d = this.connectionManager) === null || _d === void 0 ? void 0 : _d.disconnect(false));\n                    this.bindRequestForPromise(requestId, (response) => {\n                        var _a, _b;\n                        try {\n                            let connectResponse = response;\n                            if (connectResponse.method == \"connect\") {\n                                (0, log_1.logDebug)(\"engin  universalConnect success connectResponse:>>>\", JSON.stringify(connectResponse));\n                                let namespaces = (0, sessionUtils_1.buildNameSpacesByConnectResponse)(connectResponse);\n                                if (namespaces) {\n                                    let session = {\n                                        topic: connectInfo.channelId,\n                                        sessionConfig: sessionConfig,\n                                        namespaces: namespaces,\n                                        wallet: Object.assign({}, (_a = connectResponse.payload) === null || _a === void 0 ? void 0 : _a.wallet),\n                                    };\n                                    (0, log_1.logDebug)(\"engin  universalConnect success session:>>>\", JSON.stringify(session));\n                                    resolve(session);\n                                }\n                                else {\n                                    throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);\n                                }\n                            }\n                            else if (connectResponse.method == \"connect_error\" && ((_b = connectResponse.payload) === null || _b === void 0 ? void 0 : _b.code)) {\n                                throw new protocol_1.OKXConnectError(connectResponse.payload.code);\n                            }\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    });\n                    try {\n                        yield this.connectionManager.connect();\n                    }\n                    catch (e) {\n                        (0, log_1.logDebug)('Engine universalConnect error', e);\n                        throw e;\n                    }\n                    if (!isIOS && openUniversalLink) {\n                        (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n                    }\n                    (0, log_1.logDebug)('engin  universalConnect ==>> connectInfoAndUrl:', connectInfoAndUrl);\n                    this.sendSession(base64Encoded);\n                    if (connectInfoAndUrl) {\n                        const info = {\n                            connectRequest: universalConnectRequest,\n                            redirect: sessionConfig.redirect,\n                            tmaReturnUrl: sessionConfig.tmaReturnUrl,\n                        };\n                        if (isFromTonSDK) {\n                            info.tonConnectRequest = tonConnectRequest;\n                        }\n                        (0, log_1.logDebug)(\"universalConnect connectInfoAndUrl info :\", JSON.stringify(info));\n                        connectInfoAndUrl(info);\n                    }\n                }\n                catch (error) {\n                    (0, log_1.logDebug)(\"Engine universalConnect catch error\", error);\n                    reject(error);\n                }\n            }));\n        });\n    }\n}\nexports.Engine = Engine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = exports.Engine = exports.WalletConnectionManager = exports.ConnectionManager = exports.OKXWalletConnector = void 0;\nvar connect_1 = require(\"./connect\");\nObject.defineProperty(exports, \"OKXWalletConnector\", { enumerable: true, get: function () { return connect_1.OKXWalletConnector; } });\nvar connectionManager_1 = require(\"./connectionManager\");\nObject.defineProperty(exports, \"ConnectionManager\", { enumerable: true, get: function () { return connectionManager_1.ConnectionManager; } });\nvar walletConnectionManager_1 = require(\"./walletConnectionManager\");\nObject.defineProperty(exports, \"WalletConnectionManager\", { enumerable: true, get: function () { return walletConnectionManager_1.WalletConnectionManager; } });\nvar engine_1 = require(\"./engine\");\nObject.defineProperty(exports, \"Engine\", { enumerable: true, get: function () { return engine_1.Engine; } });\nvar storage_1 = require(\"./storage\");\nObject.defineProperty(exports, \"Storage\", { enumerable: true, get: function () { return storage_1.Storage; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MULTICODEC_ED25519_LENGTH = exports.MULTICODEC_ED25519_HEADER = exports.MULTICODEC_ED25519_BASE = exports.MULTICODEC_ED25519_ENCODING = exports.DID_METHOD = exports.DID_PREFIX = exports.DID_DELIMITER = exports.KEY_PAIR_SEED_LENGTH = exports.DATA_ENCODING = exports.JSON_ENCODING = exports.JWT_ENCODING = exports.JWT_DELIMITER = exports.JWT_IRIDIUM_TYP = exports.JWT_IRIDIUM_ALG = exports.JWTHeaderType = void 0;\nexports.generateKeyPair = generateKeyPair;\nexports.decodeJSON = decodeJSON;\nexports.encodeJSON = encodeJSON;\nexports.encodeIss = encodeIss;\nexports.decodeIss = decodeIss;\nexports.encodeSig = encodeSig;\nexports.decodeSig = decodeSig;\nexports.encodeData = encodeData;\nexports.decodeData = decodeData;\nexports.encodeJWT = encodeJWT;\nexports.decodeJWT = decodeJWT;\nexports.signJWT = signJWT;\nexports.verifyJWT = verifyJWT;\nconst ed25519 = __importStar(require(\"@stablelib/ed25519\"));\nconst safejson_1 = require(\"../utils/safejson\");\nconst utils_1 = require(\"../utils/utils\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst log = __importStar(require(\"../utils/log\"));\nconst stringUtils_1 = require(\"../utils/stringUtils\");\nexports.JWTHeaderType = \"dapp\";\nexports.JWT_IRIDIUM_ALG = \"EdDSA\";\nexports.JWT_IRIDIUM_TYP = \"JWT\";\nexports.JWT_DELIMITER = \".\";\nexports.JWT_ENCODING = \"base64url\";\nexports.JSON_ENCODING = \"utf8\";\nexports.DATA_ENCODING = \"utf8\";\nexports.KEY_PAIR_SEED_LENGTH = 32;\nexports.DID_DELIMITER = \":\";\nexports.DID_PREFIX = \"did\";\nexports.DID_METHOD = \"key\";\nexports.MULTICODEC_ED25519_ENCODING = \"base58btc\";\nexports.MULTICODEC_ED25519_BASE = \"z\";\nexports.MULTICODEC_ED25519_HEADER = \"K36\";\nexports.MULTICODEC_ED25519_LENGTH = 32;\nfunction generateKeyPair() {\n    // let local_seed = randomBytes(KEY_PAIR_SEED_LENGTH)\n    // return ed25519.generateKeyPairFromSeed(local_seed);\n    return tweetnacl_1.default.sign.keyPair();\n}\nfunction decodeJSON(str) {\n    return (0, safejson_1.safeJsonParse)((0, stringUtils_1.okxtoString)((0, stringUtils_1.okxfromString)(str, exports.JWT_ENCODING), exports.JSON_ENCODING));\n}\nfunction encodeJSON(val) {\n    return (0, stringUtils_1.okxtoString)((0, stringUtils_1.okxfromString)((0, safejson_1.safeJsonStringify)(val), exports.JSON_ENCODING), exports.JWT_ENCODING);\n}\nfunction encodeIss(publicKey) {\n    log.logDebug(`publicKey: ${(0, utils_1.toHexString)(publicKey)}`);\n    var publicKeyStr = (0, stringUtils_1.okxtoString)(publicKey, exports.MULTICODEC_ED25519_ENCODING);\n    return [exports.DID_PREFIX, exports.DID_METHOD, publicKeyStr].join(exports.DID_DELIMITER);\n}\nfunction decodeIss(issuer) {\n    const [prefix, method, multicodec] = issuer.split(exports.DID_DELIMITER);\n    if (prefix !== exports.DID_PREFIX || method !== exports.DID_METHOD) {\n        throw new Error(`Issuer must be a DID with method \"key\"`);\n    }\n    if (multicodec === undefined) {\n        throw new Error('multicodec is undefined');\n    }\n    const publicKey = (0, stringUtils_1.okxfromString)(multicodec, exports.MULTICODEC_ED25519_ENCODING);\n    if (publicKey === undefined || publicKey.length !== exports.MULTICODEC_ED25519_LENGTH) {\n        throw new Error(`Issuer must be a public key with length 32 bytes`);\n    }\n    return publicKey;\n}\n// ---------- Signature ----------------------------------------------- //\nfunction encodeSig(bytes) {\n    return (0, stringUtils_1.okxtoString)(bytes, exports.JWT_ENCODING);\n}\nfunction decodeSig(encoded) {\n    return (0, stringUtils_1.okxfromString)(encoded, exports.JWT_ENCODING);\n}\n// ---------- Data ----------------------------------------------- //\nfunction encodeData(params) {\n    return (0, stringUtils_1.okxfromString)([encodeJSON(params.header), encodeJSON(params.payload)].join(exports.JWT_DELIMITER), exports.DATA_ENCODING);\n}\nfunction decodeData(data) {\n    var _a, _b;\n    const params = (0, stringUtils_1.okxtoString)(data, exports.DATA_ENCODING).split(exports.JWT_DELIMITER);\n    const header = decodeJSON((_a = params[0]) !== null && _a !== void 0 ? _a : '{}');\n    const payload = decodeJSON((_b = params[1]) !== null && _b !== void 0 ? _b : '{}');\n    return { header, payload };\n}\n// ---------- JWT ----------------------------------------------- //\nfunction encodeJWT(params) {\n    return [encodeJSON(params.header), encodeJSON(params.payload), encodeSig(params.signature)].join(exports.JWT_DELIMITER);\n}\nfunction decodeJWT(jwt) {\n    var _a, _b, _c;\n    const params = jwt.split(exports.JWT_DELIMITER);\n    const header = decodeJSON((_a = params[0]) !== null && _a !== void 0 ? _a : '{}');\n    const payload = decodeJSON((_b = params[1]) !== null && _b !== void 0 ? _b : '{}');\n    const signature = decodeSig((_c = params[2]) !== null && _c !== void 0 ? _c : '{}');\n    const data = (0, stringUtils_1.okxfromString)(params.slice(0, 2).join(exports.JWT_DELIMITER), exports.DATA_ENCODING);\n    return { header, payload, signature, data };\n}\nfunction signJWT(sub_1, aud_1, ttl_1, keyPair_1) {\n    return __awaiter(this, arguments, void 0, function* (sub, aud, ttl, keyPair, iat = Math.floor(Date.now())) {\n        const header = { alg: exports.JWT_IRIDIUM_ALG, typ: exports.JWT_IRIDIUM_TYP };\n        const iss = encodeIss(keyPair.publicKey);\n        const exp = iat + ttl;\n        const act = \"authenticate user\";\n        const payload = { iss, sub, aud, act, iat, exp };\n        const data = encodeData({ header, payload });\n        // const signature = ed25519.sign(keyPair.secretKey, data);\n        log.logDebug(`get sec kp: ${keyPair.secretKey} {${keyPair.secretKey.length}}`);\n        const signature = tweetnacl_1.default.sign.detached(data, keyPair.secretKey);\n        return encodeJWT({ header, payload, signature });\n    });\n}\nfunction verifyJWT(jwt) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { header, payload, data, signature } = decodeJWT(jwt);\n        if (header.alg !== exports.JWT_IRIDIUM_ALG || header.typ !== exports.JWT_IRIDIUM_TYP) {\n            throw new Error(\"JWT must use EdDSA algorithm\");\n        }\n        const publicKey = decodeIss(payload.iss);\n        return ed25519.verify(publicKey, data, signature);\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_JWT_TTL = exports.OKXCONNECTOR_JWT_WALLET_SIDE = exports.OKXCONNECTOR_JWT_SIDE = void 0;\nexports.OKXCONNECTOR_JWT_SIDE = \"wallet\";\nexports.OKXCONNECTOR_JWT_WALLET_SIDE = \"dapp\";\nexports.OKXCONNECTOR_JWT_TTL = 86400000;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildNameSpacesByConnectResponse = buildNameSpacesByConnectResponse;\nexports.buildRequestAccountNameSpacesByConnectResponse = buildRequestAccountNameSpacesByConnectResponse;\nconst log_1 = require(\"../utils/log\");\nfunction buildNameSpacesByConnectResponse(connectResponse) {\n    let requestAccountNameSpaces = buildRequestAccountNameSpacesByConnectResponse(connectResponse);\n    return requestAccountNameSpaces;\n}\nfunction buildRequestAccountNameSpacesByConnectResponse(connectResponse) {\n    let result = {};\n    (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse start connectResponse>>', JSON.stringify(connectResponse));\n    let universalResponse = connectResponse.payload.responses.find(item => item.name === 'requestAccounts');\n    const tonAddress = connectResponse.payload.responses.find(item => item.name === 'ton_addr');\n    const tonProof = connectResponse.payload.responses.find(item => item.name === 'ton_proof');\n    if (tonAddress && !universalResponse) { //adapt tonsdk\n        (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse adapt ton data >>');\n        let address = tonAddress.address;\n        address = 'ton:' + tonAddress.network + \":\" + address;\n        let data = {\n            ton_addr: tonAddress\n        };\n        if (tonProof) {\n            data.ton_proof = tonProof;\n        }\n        universalResponse = {\n            name: \"requestAccounts\",\n            accounts: [{\n                    namespace: 'ton',\n                    addresses: [address],\n                    methods: ['ton_sendTransaction'],\n                    extra: {},\n                    data: data,\n                }]\n        };\n    }\n    (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>', JSON.stringify(universalResponse));\n    universalResponse.accounts.forEach(item => {\n        var chains = [];\n        var accounts = [];\n        item.addresses.forEach(addressItem => {\n            var addressArr = addressItem.split(\":\");\n            (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse addressArr>>', addressArr.length);\n            if (addressArr.length >= 3) {\n                let chain = addressArr.slice(0, 2).join(\":\");\n                chains.push(chain);\n                accounts.push(addressItem);\n                (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse chain:>>', chain, \"addressItem:\", addressItem);\n            }\n        });\n        if (item.data && item.data.ton_addr) {\n            item.data.ton_addr.name = 'ton_addr';\n        }\n        if (item.data && item.data.ton_proof) {\n            item.data.ton_proof.name = 'ton_proof';\n        }\n        result[item.namespace] = {\n            chains: chains,\n            accounts: accounts,\n            methods: item.methods,\n            extra: item.extra,\n            payload: item.data\n        };\n        (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse result>>', JSON.stringify(result));\n    });\n    return result;\n}\n/*export function buildTonNameSpaceByConnectResponse(connectResponse: ConnectResponseSuccess): Namespaces | undefined {\n    const tonAddrItem: TonAddressItemReply = connectResponse.payload.responses.find(\n        item => item.name === 'ton_addr'\n    ) as TonAddressItemReply;\n\n    const tonProfItem: TonProofItemReply = connectResponse.payload.responses.find(\n        item => item.name === 'ton_proof'\n    ) as TonProofItemReply;\n\n    if (!tonAddrItem) {\n        return undefined\n    }\n\n    return {\n        NameSpaceKeyTON: {\n            chains: [tonAddrItem.network],\n            accounts: [],\n            methods: connectResponse.payload.wallet.features?.ton,\n            payload: {\n                tonAccount: {\n                    address: tonAddrItem.address,\n                    chain: tonAddrItem.network,\n                    walletStateInit: tonAddrItem.walletStateInit,\n                    publicKey: tonAddrItem.publicKey\n                },\n                tonProof: tonProfItem\n            }\n        }\n    }\n}*/\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nconst storageconstants_1 = require(\"./storageconstants\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst utils_1 = require(\"../utils/utils\");\nconst utils_2 = require(\"../utils\");\nconst log = __importStar(require(\"../utils/log\"));\nconst utils_3 = require(\"../utils\");\nconst crypto_js_1 = require(\"crypto-js\");\nclass Storage {\n    constructor(subKey, beforeKey = undefined) {\n        const localStorage = (0, utils_1.resolveLocalStorage)();\n        // 0. check and upgrade beforeKey\n        log.logDebug('------ update before cache ------');\n        if (beforeKey) {\n            this.checkAndUpgradeCache(beforeKey, subKey);\n        }\n        // 1. load data from local storage\n        this.storeKey = '';\n        this.cipherIV = '';\n        this.subKey = subKey;\n        log.logDebug('--------get current local storage --------');\n        log.logDebug(localStorage);\n        const cacheStr = localStorage.getItem(Storage.cacheKey + subKey);\n        if (typeof cacheStr === \"undefined\" || cacheStr === null) {\n            log.logDebug(\"with no cache\");\n            this.cache = {};\n            return;\n        }\n        log.logDebug(cacheStr);\n        if ((cacheStr === null || cacheStr === void 0 ? void 0 : cacheStr.length) > 0) {\n            var cacheObj = (0, utils_2.safeJsonParse)(cacheStr);\n            this.cache = cacheObj;\n        }\n        log.logDebug(`get cache obj: ${this.cache}`);\n        if (typeof this.cache === 'undefined' || this.cache == null) {\n            this.cache = {};\n        }\n    }\n    checkAndUpgradeCache(fromCacheKey, toCacheKey) {\n        if (fromCacheKey && fromCacheKey.length > 0 && toCacheKey && toCacheKey.length > 0) {\n            // 1. get all infos from from-cache-key\n            log.logDebug('--------get current local storage --------');\n            log.logDebug(localStorage);\n            const cacheStr = localStorage.getItem(Storage.cacheKey + fromCacheKey);\n            if (typeof cacheStr === \"undefined\" || cacheStr === null) {\n                log.logDebug(\"no pre cache content\");\n                return;\n            }\n            log.logDebug(cacheStr);\n            if ((cacheStr === null || cacheStr === void 0 ? void 0 : cacheStr.length) > 0) {\n                // 2. save to to-cache-key\n                log.logDebug(\"write in cache content: \", fromCacheKey, '->', toCacheKey);\n                localStorage.setItem(Storage.cacheKey + toCacheKey, cacheStr);\n                // 3. clean from item\n                log.logDebug(\"clean in cache content: \", fromCacheKey);\n                localStorage.removeItem(Storage.cacheKey + fromCacheKey);\n            }\n        }\n        else {\n            log.logDebug('no pre cache key:', fromCacheKey);\n        }\n    }\n    saveContent(content, key, id = '-') {\n        let item = {\n            id: id,\n            timestamp: Date.now().toString(),\n            content: content\n        };\n        this.saveItem(item, key);\n    }\n    saveItem(item, key) {\n        let localKey = Storage.cacheKey + this.subKey;\n        const localStorage = (0, utils_1.resolveLocalStorage)();\n        log.logDebug(this.cache);\n        log.logDebug(`get cache obj: ${this.cache}, ${key}, ${item}`);\n        this.cache[key] = item;\n        let totalCacheStr = (0, utils_2.safeJsonStringify)(this.cache);\n        log.logDebug(`STORAGE: ${key} @ ${this.cache}`);\n        localStorage.setItem(localKey, totalCacheStr);\n    }\n    getItem(key) {\n        log.logDebug(`STORAGE >> getItem: ${key} @ ${this.cache}`);\n        return this.cache[key];\n    }\n    getCachedPBKDF2InfoKey() {\n        var _a, _b, _c, _d;\n        const pwLen = 32;\n        const saltLen = 24;\n        if (this.storeKey.length > 0 && ((_a = this.cipherIV) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return {\n                pw: this.storeKey,\n                iv: this.cipherIV\n            };\n        }\n        let salt = (_b = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGER_CRYPTO_SALT)) === null || _b === void 0 ? void 0 : _b.content;\n        if (!salt) {\n            salt = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(saltLen));\n            this.saveContent(salt, storageconstants_1.OKXCONNECTOR_STORAGER_CRYPTO_SALT);\n        }\n        let pw = (_c = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD)) === null || _c === void 0 ? void 0 : _c.content;\n        if (!pw) {\n            pw = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(pwLen));\n            this.saveContent(pw, storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD);\n        }\n        let cipherIV = (_d = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)) === null || _d === void 0 ? void 0 : _d.content;\n        if (!cipherIV) {\n            // let ivBuffer = Buffer.from(nacl.randomBytes(16))\n            let ivBuffer = tweetnacl_1.default.randomBytes(16);\n            cipherIV = (0, utils_1.toHexString)(ivBuffer);\n            this.saveContent(cipherIV, storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV);\n        }\n        this.cipherIV = cipherIV;\n        this.storeKey = (0, crypto_js_1.PBKDF2)(pw, salt, { iterations: 10 }).toString();\n        return {\n            pw: this.storeKey,\n            iv: this.cipherIV\n        };\n    }\n    encryptStoreMsg(msg, key) {\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);\n        let storeInfo = this.getCachedPBKDF2InfoKey();\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);\n        var result = crypto_js_1.AES.encrypt(msg, storeInfo.pw).toString();\n        this.saveContent(result, key);\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`);\n    }\n    getAndDecrypt(key) {\n        (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);\n        let item = this.getItem(key);\n        if (item && item.content) {\n            let storeInfo = this.getCachedPBKDF2InfoKey();\n            (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);\n            let result = crypto_js_1.AES.decrypt(item.content, storeInfo.pw).toString(crypto_js_1.enc.Utf8);\n            (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`);\n            return result;\n        }\n        return null;\n    }\n    clearCache(key = undefined) {\n        if (key === undefined) {\n            // clean all\n            this.cache = {};\n            let localKey = Storage.cacheKey + this.subKey;\n            localStorage.setItem(localKey, '');\n        }\n        else {\n            let localKey = Storage.cacheKey + this.subKey;\n            const localStorage = (0, utils_1.resolveLocalStorage)();\n            log.logDebug(this.cache);\n            this.cache[key] = null;\n            let totalCacheStr = (0, utils_2.safeJsonStringify)(this.cache);\n            log.logDebug(`STORAGE: clean key ${key} @ ${this.cache}`);\n            localStorage.setItem(localKey, totalCacheStr);\n        }\n    }\n}\nexports.Storage = Storage;\nStorage.cacheKey = 'OKXStorageKey';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_STORAGE_CIPHER_METHOD = exports.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV = exports.OKXCONNECTOR_STORAGER_CRYPTO_SALT = exports.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD = exports.OKXCONNECTOR_TON_KEY = exports.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE = exports.OKXCONNECTOR_TOKEN_CACHE = exports.OKXCONNECTOR_JWT_KEY = exports.OKXCONNECTOR_SESSION_PREFIX_KEY = exports.OKXCONNECTOR_CRYPTO_KEY = exports.OKXCONNECTOR_CACHE_KEY_DAPP = exports.OKXCONNECTOR_CACHE_KEY = void 0;\nexports.OKXCONNECTOR_CACHE_KEY = \"ck\";\nexports.OKXCONNECTOR_CACHE_KEY_DAPP = \"ck_dapp\";\nexports.OKXCONNECTOR_CRYPTO_KEY = \"cck_k\";\nexports.OKXCONNECTOR_SESSION_PREFIX_KEY = \"cspk_\";\nexports.OKXCONNECTOR_JWT_KEY = \"cjk_k\";\nexports.OKXCONNECTOR_TOKEN_CACHE = \"ct\";\nexports.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE = \"csp\";\nexports.OKXCONNECTOR_TON_KEY = \"OKXStorage_ctc\";\nexports.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD = \"scp\";\nexports.OKXCONNECTOR_STORAGER_CRYPTO_SALT = \"scs\";\nexports.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV = \"scpc\";\nexports.OKXCONNECTOR_STORAGE_CIPHER_METHOD = \"aes-256-cbc\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnectionManagerEvent = exports.WalletConnectionManagerTopicInfoCacheKey = void 0;\nexports.WalletConnectionManagerTopicInfoCacheKey = \"wcmtic\";\nexports.WalletConnectionManagerEvent = {\n    RECEIVE_REQUEST: \"payload\"\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnectionManager = void 0;\nconst connect_1 = require(\"./connect\");\nconst commands_1 = require(\"./commands\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst jwtconstants_1 = require(\"./jwtconstants\");\nconst constants_1 = require(\"./constants\");\nconst walletConnectionConstants_1 = require(\"./walletConnectionConstants\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils/utils\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst jwt_1 = require(\"./jwt\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst utils_2 = require(\"../utils\");\nclass WalletConnectionManager {\n    constructor() {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.communicateEvents = new eventemitter3_1.EventEmitter();\n        log.logDebug('connect manager construct');\n        // local storage\n        this.connectStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n        // this.crypto = new SessionCrypto()\n        this.jwtKeyPair = this.getCachedJWTKeyPair();\n        this.saveJWTKeyPair(this.jwtKeyPair);\n        // wss connection\n        this.connector = new connect_1.OKXWalletConnector(constants_1.OKXCONNECTOR_WS_URL_1);\n        this.packageId = Date.now();\n        // connection state\n        this.sessionCryptoInfoMap = new Map();\n        // log.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)\n        this.inLogin = false;\n        this.isLogined = false;\n    }\n    refreshPackageId(offset = 0) {\n        this.packageId = Date.now() + offset;\n    }\n    saveCryptoKeyPair(topicId, keyPair) {\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(keyPair);\n        // encrypt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_CRYPTO_KEY + topicId);\n    }\n    getCachedCryptoKeyPair(topicId) {\n        // decrypt kp\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY + topicId);\n        const content = kp;\n        if (typeof content == 'string') {\n            log.logDebug('get cached crypto key:');\n            log.logDebug(content);\n            let keyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            return keyPairInfo;\n        }\n        else {\n            this.connectStorage.clearCache();\n        }\n        return null;\n    }\n    saveJWTKeyPair(keyPair) {\n        var strkeyPair = {\n            publicKey: (0, utils_1.toHexString)(keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(keyPair.secretKey)\n        };\n        log.logDebug('save jwt kp');\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(strkeyPair);\n        log.logDebug(cacheInfo);\n        // encrypt jwt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        log.logDebug('after save jwt kp');\n    }\n    getCachedJWTKeyPair() {\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            // TODO: decrypt jwt kp\n            log.logDebug('get cached jwt kp:');\n            log.logDebug(content);\n            let strKeyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            log.logDebug('save jwt kp');\n            log.logDebug(strKeyPairInfo);\n            var keyPair = {\n                publicKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.publicKey),\n                secretKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.secretKey)\n            };\n            return keyPair;\n        }\n        else {\n            return (0, jwt_1.generateKeyPair)();\n        }\n    }\n    isTopicPublicKeyExist(topicId) {\n        log.logDebug(`isTopicPublicKeyExist  ===> ${topicId}`);\n        return this.sessionCryptoInfoMap.get(topicId);\n    }\n    makeJWT(timestampStr) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, jwt_1.signJWT)(timestampStr, jwtconstants_1.OKXCONNECTOR_JWT_WALLET_SIDE, jwtconstants_1.OKXCONNECTOR_JWT_TTL, // 24h\n            this.jwtKeyPair);\n        });\n    }\n    parseInternalMsg(internalMsg) {\n        try {\n            let internalObj = (0, safejson_1.safeJsonParse)(internalMsg);\n            let origin = internalObj['ivur-igbfft-ptjip'];\n            if (origin && origin.length > 0) {\n                let originContent = (0, utils_2.base64decode)(origin, true);\n                return originContent.toString();\n            }\n        }\n        catch (error) {\n            log.logError('parse internal msg', error);\n        }\n    }\n    parsePackage(topic_1, input_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, input, ignoreACK = false) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            this.events.emit(input.id, input);\n            // emit event\n            let sessionInfo = this.sessionCryptoInfoMap.get(topic);\n            log.logDebug('get sessionInfo for decrypt topic:', topic);\n            log.logDebug('get sessionInfo for decrypt:', input.id, topic, sessionInfo, this.sessionCryptoInfoMap);\n            if (sessionInfo && input.params.data) {\n                if ((_a = input.params.data) === null || _a === void 0 ? void 0 : _a.message) {\n                    // try parse internal message\n                    if ((_b = input.params.data) === null || _b === void 0 ? void 0 : _b.isInternalData) {\n                        let inner_message = (_c = input.params.data) === null || _c === void 0 ? void 0 : _c.message;\n                        let inner_topic = (_d = input.params.data) === null || _d === void 0 ? void 0 : _d.topic;\n                        let originContent = this.parseInternalMsg(inner_message);\n                        (0, log_1.logDebug)('parse internal origin: ', originContent);\n                        if (originContent && originContent.length > 0) {\n                            this.communicateEvents.emit(\"origin\", originContent, inner_topic);\n                        }\n                    }\n                    else {\n                        // try parse message base64\n                        try {\n                            let message = (_e = input.params.data) === null || _e === void 0 ? void 0 : _e.message;\n                            if (message.trimStart().startsWith('{')) {\n                                let messageObj = (0, safejson_1.safeJsonParse)(message);\n                                if (messageObj.method) {\n                                    (0, log_1.logDebug)('<<< parse raw msg:', topic, messageObj);\n                                    this.communicateEvents.emit(topic, message);\n                                }\n                            }\n                            else {\n                                let message = sessionInfo.crypto.decryptWallet((_f = input.params.data) === null || _f === void 0 ? void 0 : _f.message, sessionInfo.dappPublicKey);\n                                (0, log_1.logDebug)('<<< receive msg:', topic, message);\n                                this.communicateEvents.emit(topic, message);\n                            }\n                        }\n                        catch (error) {\n                            let message = sessionInfo.crypto.decryptWallet((_g = input.params.data) === null || _g === void 0 ? void 0 : _g.message, sessionInfo.dappPublicKey);\n                            (0, log_1.logDebug)('<<< receive msg:', topic, message);\n                            this.communicateEvents.emit(topic, message);\n                        }\n                    }\n                }\n                else {\n                }\n            }\n            // send back ACK\n            if (!ignoreACK) {\n                yield this.sendACK(input.id, true);\n                if (topic) {\n                    let inputObj = input;\n                    if ((_j = (_h = inputObj.params) === null || _h === void 0 ? void 0 : _h.data) === null || _j === void 0 ? void 0 : _j.messageId) {\n                        this.refreshPackageId();\n                        yield this.sendReceive(this.packageId.toString(), (_l = (_k = inputObj.params) === null || _k === void 0 ? void 0 : _k.data) === null || _l === void 0 ? void 0 : _l.messageId, topic);\n                    }\n                }\n            }\n        });\n    }\n    recovrySessionInfoFromCache() {\n        // get topic ids and keys from session\n        // WalletConnectionCryptoCacheMap\n        // {[topicId]: {cryptoKeypair: {publicKey:string, secretKey:string}, dappPublicKey:clientId}}\n        let jsonStr = this.connectStorage.getAndDecrypt(walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);\n        log.logDebug('get cached sessionInfos:', jsonStr);\n        if (jsonStr) {\n            let cacheMap = (0, safejson_1.safeJsonParse)(jsonStr);\n            for (let topicId in cacheMap) {\n                let topicItem = cacheMap[topicId];\n                log.logDebug('make topicItem:', topicItem);\n                let cryptoItem = {\n                    topic: topicId,\n                    crypto: new crypto_1.SessionCrypto({\n                        publicKey: topicItem.cryptoKeyPair.publicKey,\n                        secretKey: topicItem.cryptoKeyPair.secretKey\n                    }),\n                    dappPublicKey: topicItem.dappPublicKey\n                };\n                this.sessionCryptoInfoMap.set(topicId, cryptoItem);\n            }\n        }\n        log.logDebug('get cached sessionInfos map:', this.sessionCryptoInfoMap);\n    }\n    syncCacheSessionInfo() {\n        let cacheMap = {};\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            log.logDebug('for each Keys', topicId);\n            if (cryptoItem) {\n                cacheMap[topicId] = {\n                    cryptoKeyPair: cryptoItem.crypto.stringifyKeypair(),\n                    dappPublicKey: cryptoItem.dappPublicKey\n                };\n            }\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(cacheMap);\n        log.logDebug('sync cache sessionInfos:', jsonData);\n        this.connectStorage.encryptStoreMsg(jsonData, walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);\n    }\n    cacheSessionInfo(topic, sessionInfo, sync = true) {\n        let dappPublicKey = sessionInfo.dappPublicKey;\n        // 1. search dapp public related topic ids\n        let duplicatedTopics = [];\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            log.logDebug('for each Keys', topicId);\n            if (cryptoItem.dappPublicKey == dappPublicKey) {\n                log.logDebug('duplicated dapp public key:', topicId, dappPublicKey);\n                duplicatedTopics.push(topicId);\n            }\n        }\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            if (duplicatedTopics.includes(topicId)) {\n                this.sessionCryptoInfoMap.delete(topicId);\n            }\n        }\n        // discard useless topics\n        log.logDebug('cleaned connect session cache:', this.sessionCryptoInfoMap);\n        // 2. remove previous connected topic ids\n        // 3. write in current topic\n        this.sessionCryptoInfoMap.set(topic, sessionInfo);\n        // TODO: search domain info and then delete \n        log.logDebug('cache sessionInfo:', topic, sessionInfo, this.sessionCryptoInfoMap);\n        if (sync) {\n            this.syncCacheSessionInfo();\n        }\n        return duplicatedTopics;\n    }\n    // add and subscribe topic\n    appendTopic(topic, sessionPublicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('4.1. get append Topic:', topic);\n            // 1. check if connected\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                if (!this.isLogined) {\n                    var error = new Error();\n                    error.message = \"connection is not logined\";\n                    error.name = \"append error\";\n                    // throw error\n                    reject(error);\n                    return;\n                }\n                // 2. subscribe topic and session public key\n                let cryptoItem = {\n                    topic: topic,\n                    crypto: new crypto_1.SessionCrypto(),\n                    dappPublicKey: sessionPublicKey\n                };\n                let duplicatedTopics = this.cacheSessionInfo(topic, cryptoItem, false);\n                // make sure cache session info before subscribe\n                yield this.subscribeTopics(Array.from([topic]));\n                this.refreshPackageId();\n                log.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${topic}`);\n                const timeF = new Date().getTime();\n                (0, log_1.logDebug)(\"Append --subscribe callback->\", timeF - this.timeLog);\n                resolve(duplicatedTopics);\n            }));\n        });\n    }\n    confirmAppendingTopics() {\n        this.syncCacheSessionInfo();\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.timeLog = new Date().getTime();\n            (0, log_1.logDebug)(\"[Wallet] ConnectTime---enter->\", this.timeLog);\n            // 0. get cached topics and infos\n            let timestampStr = Date.now().toString();\n            var jwtToken = yield this.makeJWT(timestampStr);\n            log.logDebug(`generate jwt token: ${jwtToken}`);\n            this.connectStorage.saveContent(jwtToken, 'jwt');\n            this.recovrySessionInfoFromCache();\n            // 1.\n            return new Promise((resolve, reject) => {\n                // 1. when websocket opened\n                this.inLogin = true;\n                this.connector.onOpen(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug(`1. connector on open`);\n                    const timeOne = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---open->\", timeOne - this.timeLog);\n                    //2. send jwt to login\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when login');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // throw error\n                            reject(error);\n                        }\n                        else {\n                            this.isLogined = true;\n                            resolve();\n                            // 3. subscribe cached topics\n                            log.logDebug('3. subscribe cached topics', this.sessionCryptoInfoMap);\n                            if (this.sessionCryptoInfoMap.size > 0) {\n                                yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys()));\n                            }\n                        }\n                    }));\n                    log.logDebug(`2. login called`);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        yield this.connector.connect().catch((err) => {\n                            (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                        });\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_LOGIN,\n                        params: {\n                            token: jwtToken\n                        }\n                    });\n                }));\n                this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                    reject(err);\n                });\n                // add callback\n                this.connector.addPackageParse((event) => {\n                    var _a, _b;\n                    log.logDebug(`connect: parse package`);\n                    log.logDebug(event);\n                    if (!(\"params\" in event) || !(\"data\" in event[\"params\"])) {\n                        this.parsePackage(\"\", event, true);\n                        return;\n                    }\n                    // ignore receive echo\n                    if ((_a = event.params.data) === null || _a === void 0 ? void 0 : _a.topic) {\n                        this.parsePackage((_b = event.params.data) === null || _b === void 0 ? void 0 : _b.topic, event, event.method === commands_1.CONNECT_METHOD_RECEIVE);\n                    }\n                });\n                // this.connector.addListener(safeJsonStringify(event), (rawMsg: string)=> {\n                //    rawMsg = rawMsg.replace(/'/g, '\"')\n                //    log.logDebug(`addListener ===> ${rawMsg}`)\n                //    if (typeof rawMsg !== 'undefined') {\n                //       var msgObj = safeJsonParse(rawMsg)\n                //       var msg = msgObj.message\n                //       let crypto = \n                //       var result = this.crypto.decrypt(msg, this.connectedWalletPK)\n                //       log.logDebug(`addListener ===> ${result}`)\n                //       return result\n                //    }\n                //    return undefined\n                // }, ()=>{\n                //    // emit success\n                // }, ()=>{\n                //    // emit fail\n                // })\n            });\n        });\n    }\n    // topic session\n    // approveclientId\n    getSessionPublicKey(topicId) {\n        if (this.isTopicPublicKeyExist(topicId)) {\n            let item = this.sessionCryptoInfoMap.get(topicId);\n            if (item) {\n                return (0, utils_1.toHexString)(item.crypto.keyPair.publicKey);\n            }\n        }\n        return undefined;\n    }\n    getCurrentCachedTopicIdList() {\n        return Array.from(this.sessionCryptoInfoMap.keys());\n    }\n    disconnect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            yield this.connector.disconnect();\n            //clean cached topic\n            //public key\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            if (!fromRestore) {\n                this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n            }\n        });\n    }\n    send(topic_1, msg_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, msg, needPublicKey = false) {\n            var _a, _b;\n            // make send msg payload\n            log.logDebug(`message send =====> ${msg}`);\n            if (!this.isTopicPublicKeyExist(topic)) {\n                // channel not ready\n                throw new Error('connection not finish');\n            }\n            let connectedDappPK = (_a = this.sessionCryptoInfoMap.get(topic)) === null || _a === void 0 ? void 0 : _a.dappPublicKey;\n            let cryptoObject = (_b = this.sessionCryptoInfoMap.get(topic)) === null || _b === void 0 ? void 0 : _b.crypto;\n            if (cryptoObject && connectedDappPK) {\n                let message = cryptoObject.encryptWallet(msg, connectedDappPK);\n                let messageObj = {\n                    message: message,\n                };\n                if (needPublicKey) {\n                    messageObj.clientId = (0, utils_1.toHexString)(cryptoObject.keyPair.publicKey);\n                    // let privateKey = toHexString(cryptoObject.keyPair.secretKey)\n                    // log.logDebug(`message send use dapp publicKey =====> ${connectedDappPK}`)\n                    // log.logDebug(`message send use publicKey =====> ${messageObj.clientId}`)\n                    // log.logDebug(`message send use secretKey =====> ${privateKey}`)\n                }\n                this.refreshPackageId();\n                const payload = {\n                    id: this.packageId.toString(),\n                    method: commands_1.CONNECT_METHOD_PUBLISH,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    params: {\n                        message: {\n                            topic: topic,\n                            message: (0, safejson_1.safeJsonStringify)(messageObj),\n                            ttl: constants_1.OKXCONNECTOR_MESSAGE_TTL\n                        }\n                    } // crypted\n                };\n                this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                    // ack\n                    if (rsp && rsp.error) {\n                        log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                    }\n                    else if (rsp && !rsp.error) {\n                        log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                    }\n                }));\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    yield this.connector.connect().catch((err) => {\n                        (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                    });\n                }), payload);\n                return this.packageId;\n            }\n        });\n    }\n    sendACK(msgId_1, success_1) {\n        return __awaiter(this, arguments, void 0, function* (msgId, success, reason = undefined) {\n            if (success === true) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    result: true\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    yield this.connector.connect().catch((err) => {\n                        (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                    });\n                }), payload);\n            }\n            else if (reason) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    error: {\n                        code: reason.code, //int\n                        message: reason.message\n                    }\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    yield this.connector.connect().catch((err) => {\n                        (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                    });\n                }), payload);\n            }\n        });\n    }\n    // send receive\n    sendReceive(msgId, messageId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_RECEIVE,\n                params: {\n                    data: {\n                        messageId: messageId,\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                });\n            }), payload);\n        });\n    }\n    sendUnsubscribe(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: make disconnect payload\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                });\n            }), {\n                id: this.packageId.toString(),\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_UNSUB,\n                params: {\n                    topic: topic\n                }\n            });\n            // remove topicId\n            this.sessionCryptoInfoMap.delete(topic);\n            this.syncCacheSessionInfo();\n        });\n    }\n    // send receive\n    // 1. fetch all \n    // 2. send back receive\n    // 3. check has more, if so, repeat from 1st step\n    sendFetchAndConsumeMessages(msgId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(msgId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic == topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId();\n                                yield this.sendReceive(this.packageId.toString(), messageId, topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_FETCHMSG,\n                params: {\n                    data: {\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                });\n            }), payload);\n        });\n    }\n    sendBatchFetchAndConsumeMessages(packageId, topicIdList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(packageId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId(i);\n                                yield this.sendReceive(this.packageId.toString(), messageId, msg.topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(), topicIdList);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: packageId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_BATCH_FETCHMSG,\n                params: {\n                    topics: topicIdList,\n                    withInternalData: true\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect();\n            }), payload);\n        });\n    }\n    cleanCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.connectStorage.clearCache();\n        });\n    }\n    saveSessionContent(key, data) {\n        if (!data) {\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(data);\n        this.connectStorage.encryptStoreMsg(jsonData, storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n    }\n    getSessionContent(key) {\n        let jsonStr = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        if (jsonStr) {\n            let object = (0, safejson_1.safeJsonParse)(jsonStr);\n            return object;\n        }\n        return undefined;\n    }\n    // subscribe then fetch messages for each topics\n    subscribeTopics(topicIdList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)(\"4. topicid list\", topicIdList);\n            this.refreshPackageId();\n            const timeF = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let finishCount = 0;\n                //3. send subscribe\n                for (let idx = 0; idx < topicIdList.length; ++idx) {\n                    let topicId = topicIdList[idx];\n                    this.refreshPackageId(idx);\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when subscribe');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // reject(error)\n                            finishCount += 1;\n                            if (finishCount == topicIdList.length) {\n                                resolve();\n                            }\n                        }\n                        this.refreshPackageId(idx);\n                        const timeF = new Date().getTime();\n                        (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n                        finishCount += 1;\n                        if (finishCount == topicIdList.length) {\n                            // 4. fetch messages\n                            log.logDebug(`5. send fetch msg: ${this.packageId}, ${topicId}`);\n                            yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(), topicIdList);\n                            resolve();\n                        }\n                    }));\n                    log.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${topicId}`);\n                    const timeTh = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---login callback->\", timeTh - this.timeLog);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        yield this.connector.connect().catch((err) => {\n                            (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                        });\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_SUB,\n                        params: {\n                            topic: topicId\n                        }\n                    });\n                }\n            }));\n        });\n    }\n}\nexports.WalletConnectionManager = WalletConnectionManager;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionCrypto = void 0;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst utils_1 = require(\"../utils/utils\");\nclass SessionCrypto {\n    constructor(keyPair = undefined) {\n        this.nonceLength = 24;\n        this.sessionKeyPair = keyPair ? this.createKeypairFromString(keyPair) : this.createKeypair();\n    }\n    createKeypair() {\n        return tweetnacl_1.default.box.keyPair();\n    }\n    createKeypairFromString(keyPair) {\n        return {\n            publicKey: (0, utils_1.hexToByteArray)(keyPair.publicKey),\n            secretKey: (0, utils_1.hexToByteArray)(keyPair.secretKey),\n        };\n    }\n    createNonce() {\n        return tweetnacl_1.default.randomBytes(this.nonceLength);\n    }\n    get keyPair() {\n        return this.sessionKeyPair;\n    }\n    // dapp :\n    // base64(hexnonce+)\n    encrypt(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = tweetnacl_1.default.box(encodedMessage, nonce, (0, utils_1.hexToByteArray)(receiverPublicKey), this.keyPair.secretKey);\n        let concatInfo = (0, utils_1.concatUint8Arrays)(nonce, encrypted);\n        var hexResult = (0, utils_1.toHexString)(concatInfo);\n        var encodedResult = new TextEncoder().encode(hexResult);\n        return (0, utils_1.base64encode)(encodedResult, false);\n    }\n    // \n    // hex\n    // base64nonce+)\n    encryptWallet(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = tweetnacl_1.default.box(encodedMessage, nonce, (0, utils_1.hexToByteArray)(receiverPublicKey), this.keyPair.secretKey);\n        let concatInfo = (0, utils_1.concatUint8Arrays)(nonce, encrypted);\n        return (0, utils_1.base64encode)(concatInfo, false);\n    }\n    // dapp \n    // base64(split(nonce+))\n    decrypt(message, senderPublicKey) {\n        let base64Content = (0, utils_1.base64decode)(message, true);\n        let messageByteArray = base64Content.toUint8Array();\n        const [nonce, internalMessage] = (0, utils_1.splitToUint8Arrays)(messageByteArray, this.nonceLength);\n        const decrypted = tweetnacl_1.default.box.open(internalMessage, nonce, (0, utils_1.hexToByteArray)(senderPublicKey), this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${(0, utils_1.toHexString)(this.keyPair.publicKey)} \\n keypair secretkey: ${(0, utils_1.toHexString)(this.keyPair.secretKey)}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    // dapp \n    // base64(hextoByte(split(nonce+)))\n    decryptWallet(message, senderPublicKey) {\n        let base64Content = (0, utils_1.base64decode)(message, true);\n        let messageByteArray = (0, utils_1.hexToByteArray)(base64Content.toString());\n        const [nonce, internalMessage] = (0, utils_1.splitToUint8Arrays)(messageByteArray, this.nonceLength);\n        const decrypted = tweetnacl_1.default.box.open(internalMessage, nonce, (0, utils_1.hexToByteArray)(senderPublicKey), this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${(0, utils_1.toHexString)(this.keyPair.publicKey)} \\n keypair secretkey: ${(0, utils_1.toHexString)(this.keyPair.secretKey)}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    stringifyKeypair() {\n        return {\n            publicKey: (0, utils_1.toHexString)(this.keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(this.keyPair.secretKey)\n        };\n    }\n}\nexports.SessionCrypto = SessionCrypto;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./connect\"), exports);\n__exportStar(require(\"./protocol\"), exports);\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IEngine = exports.ISignClient = exports.ISignClientEvents = exports.IEngineEvents = void 0;\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nclass IEngineEvents extends eventemitter3_1.default {\n    constructor() {\n        super();\n    }\n}\nexports.IEngineEvents = IEngineEvents;\nclass ISignClientEvents extends eventemitter3_1.default {\n    constructor() {\n        super();\n    }\n}\nexports.ISignClientEvents = ISignClientEvents;\nclass ISignClient {\n    constructor(data) {\n        this.data = data;\n    }\n}\nexports.ISignClient = ISignClient;\nclass IEngine {\n    constructor(client) {\n        this.client = client;\n    }\n}\nexports.IEngine = IEngine;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatOKXMiniAppWalletInfo = exports.creatOKXWalletInfo = exports.ISignClientEvents = exports.IEngine = exports.IEngineEvents = exports.ISignClient = exports.getBigIntRpcId = exports.formatJsonRpcRequest = exports.isJsonRpcError = exports.isJsonRpcResponse = exports.parseConnectionError = exports.isHttpUrl = exports.formatJsonRpcError = void 0;\nvar json_rpc_1 = require(\"./json-rpc\");\nObject.defineProperty(exports, \"formatJsonRpcError\", { enumerable: true, get: function () { return json_rpc_1.formatJsonRpcError; } });\nObject.defineProperty(exports, \"isHttpUrl\", { enumerable: true, get: function () { return json_rpc_1.isHttpUrl; } });\nObject.defineProperty(exports, \"parseConnectionError\", { enumerable: true, get: function () { return json_rpc_1.parseConnectionError; } });\nObject.defineProperty(exports, \"isJsonRpcResponse\", { enumerable: true, get: function () { return json_rpc_1.isJsonRpcResponse; } });\nObject.defineProperty(exports, \"isJsonRpcError\", { enumerable: true, get: function () { return json_rpc_1.isJsonRpcError; } });\nObject.defineProperty(exports, \"formatJsonRpcRequest\", { enumerable: true, get: function () { return json_rpc_1.formatJsonRpcRequest; } });\nObject.defineProperty(exports, \"getBigIntRpcId\", { enumerable: true, get: function () { return json_rpc_1.getBigIntRpcId; } });\nvar engine_1 = require(\"./engine\");\nObject.defineProperty(exports, \"ISignClient\", { enumerable: true, get: function () { return engine_1.ISignClient; } });\nObject.defineProperty(exports, \"IEngineEvents\", { enumerable: true, get: function () { return engine_1.IEngineEvents; } });\nObject.defineProperty(exports, \"IEngine\", { enumerable: true, get: function () { return engine_1.IEngine; } });\nObject.defineProperty(exports, \"ISignClientEvents\", { enumerable: true, get: function () { return engine_1.ISignClientEvents; } });\n__exportStar(require(\"./ton\"), exports);\nvar wallet_info_1 = require(\"./wallet-info\");\nObject.defineProperty(exports, \"creatOKXWalletInfo\", { enumerable: true, get: function () { return wallet_info_1.creatOKXWalletInfo; } });\nObject.defineProperty(exports, \"creatOKXMiniAppWalletInfo\", { enumerable: true, get: function () { return wallet_info_1.creatOKXMiniAppWalletInfo; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isJsonRpcPayload = isJsonRpcPayload;\nexports.isJsonRpcRequest = isJsonRpcRequest;\nexports.isJsonRpcResponse = isJsonRpcResponse;\nexports.isJsonRpcResult = isJsonRpcResult;\nexports.isJsonRpcError = isJsonRpcError;\nexports.payloadId = payloadId;\nexports.getBigIntRpcId = getBigIntRpcId;\nexports.formatJsonRpcRequest = formatJsonRpcRequest;\nexports.formatJsonRpcResult = formatJsonRpcResult;\nexports.formatJsonRpcError = formatJsonRpcError;\nexports.isReservedErrorCode = isReservedErrorCode;\nexports.getError = getError;\nexports.getErrorByCode = getErrorByCode;\nexports.formatErrorMessage = formatErrorMessage;\nexports.isHttpUrl = isHttpUrl;\nexports.isWsUrl = isWsUrl;\nexports.parseConnectionError = parseConnectionError;\nfunction isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nconst okx_connect_error_1 = require(\"../error/okx-connect.error\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nclass IncrementalRandomGenerator {\n    constructor(bits) {\n        this.i = 1;\n        const typedArray = bits === 8 ? new Uint8Array(1) : bits === 16 ? new Uint16Array(1) : new Uint32Array(1);\n        this.initialValue = tweetnacl_1.default.randomBytes(bits / 8)[0];\n    }\n    getNextValue() {\n        return this.initialValue + this.i++;\n    }\n}\nconst uint8Generator = new IncrementalRandomGenerator(8);\nconst uint16Generator = new IncrementalRandomGenerator(16);\nfunction payloadId() {\n    const date = Date.now() * 1000;\n    const extra = uint8Generator.getNextValue();\n    return date + extra;\n}\nfunction getBigIntRpcId() {\n    const date = BigInt(Date.now()) * BigInt(1000000);\n    const extra = BigInt(uint16Generator.getNextValue());\n    return date + extra;\n}\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nfunction formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nfunction isReservedErrorCode(code) {\n    return okx_connect_error_1.RESERVED_ERROR_CODES.includes(code);\n}\nfunction getError(type) {\n    if (!Object.keys(okx_connect_error_1.STANDARD_ERROR_MAP).includes(type)) {\n        return okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR];\n    }\n    return okx_connect_error_1.STANDARD_ERROR_MAP[type];\n}\nfunction getErrorByCode(code) {\n    const match = Object.values(okx_connect_error_1.STANDARD_ERROR_MAP).find((e) => e.code === code);\n    if (!match) {\n        return okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR];\n    }\n    return match;\n}\nfunction formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return getError(okx_connect_error_1.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, getError(okx_connect_error_1.SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if (isReservedErrorCode(error.code)) {\n        error = getErrorByCode(error.code);\n    }\n    return error;\n}\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, \"^https?:\");\n}\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, \"^wss?:\");\n}\nfunction parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_ITEM_ERROR_CODES = void 0;\nvar CONNECT_ITEM_ERROR_CODES;\n(function (CONNECT_ITEM_ERROR_CODES) {\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(CONNECT_ITEM_ERROR_CODES || (exports.CONNECT_ITEM_ERROR_CODES = CONNECT_ITEM_ERROR_CODES = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TONCHAIN = void 0;\nvar TONCHAIN;\n(function (TONCHAIN) {\n    TONCHAIN[\"MAINNET\"] = \"-239\";\n})(TONCHAIN || (exports.TONCHAIN = TONCHAIN = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_ITEM_ERROR_CODES = exports.TONCHAIN = void 0;\nvar connect_wallet_1 = require(\"./connect-wallet\");\nObject.defineProperty(exports, \"TONCHAIN\", { enumerable: true, get: function () { return connect_wallet_1.TONCHAIN; } });\nvar connect_event_1 = require(\"./connect-event\");\nObject.defineProperty(exports, \"CONNECT_ITEM_ERROR_CODES\", { enumerable: true, get: function () { return connect_event_1.CONNECT_ITEM_ERROR_CODES; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatOKXWalletInfo = creatOKXWalletInfo;\nexports.creatOKXMiniAppWalletInfo = creatOKXMiniAppWalletInfo;\nconst constants_1 = require(\"../constants\");\nfunction creatOKXWalletInfo() {\n    return {\n        \"appName\": \"okxAppWallet\",\n        \"name\": \"OKX Wallet\",\n        \"imageUrl\": \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n        \"aboutUrl\": \"https://www.okx.com/web3\",\n        \"universalLink\": constants_1.standardUniversalLink,\n        \"deepLink\": constants_1.standardDeeplink,\n        \"platforms\": [\"ios\", \"android\"]\n    };\n}\nfunction creatOKXMiniAppWalletInfo() {\n    return {\n        \"appName\": \"okxMiniApp\",\n        \"name\": \"OKX Mini Wallet\",\n        \"imageUrl\": \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n        \"aboutUrl\": \"https://www.okx.com/web3\",\n        \"universalLink\": `https://t.me/${constants_1.tgwalletName}/start`,\n        \"deepLink\": \"\",\n        \"platforms\": [\"ios\", \"android\", 'macos', 'windows']\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tgwalletName = exports.tonConnectSdkVersion = exports.standardDeeplink = exports.standardUniversalLink = exports.okxDeeplink = void 0;\nexports.okxDeeplink = 'okx://web3';\nexports.standardUniversalLink = 'https://www.okx.com/download';\n// export const standardUniversalLink = 'http://localhost:5173';\nexports.standardDeeplink = `${exports.okxDeeplink}/wallet/connect`;\n// export const standardDeeplink = 'http://localhost:5173';\nexports.tonConnectSdkVersion = '1';\n// export const tgwalletName: string = \"TCTestqdqwdqwdqBot\"\nexports.tgwalletName = \"OKX_WALLET_BOT\";\n// https://t.me/OKX_WALLET_BOT/start\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKX_CONNECT_ERROR_CODES = exports.OKXConnectError = void 0;\nvar okx_connect_error_1 = require(\"./okx-connect.error\");\nObject.defineProperty(exports, \"OKXConnectError\", { enumerable: true, get: function () { return okx_connect_error_1.OKXConnectError; } });\nObject.defineProperty(exports, \"OKX_CONNECT_ERROR_CODES\", { enumerable: true, get: function () { return okx_connect_error_1.OKX_CONNECT_ERROR_CODES; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_ERROR = exports.STANDARD_ERROR_MAP = exports.SERVER_ERROR_CODE_RANGE = exports.RESERVED_ERROR_CODES = exports.SERVER_ERROR = exports.INTERNAL_ERROR = exports.INVALID_PARAMS = exports.METHOD_NOT_FOUND = exports.INVALID_REQUEST = exports.PARSE_ERROR = exports.OKX_CONNECT_ERROR_CODES = exports.OKXConnectError = void 0;\nclass OKXConnectError extends Error {\n    constructor(code, message) {\n        if (message == undefined) {\n            message = getDefaultMessageByCode(code);\n        }\n        super(message);\n        this.code = code;\n        this.message = `${OKXConnectError.prefix} ${message ? '\\n' + message : ''}`;\n        Object.setPrototypeOf(this, OKXConnectError.prototype);\n    }\n    toJSON() {\n        return {\n            message: this.message,\n            code: this.code\n        };\n    }\n}\nexports.OKXConnectError = OKXConnectError;\nOKXConnectError.prefix = '[OKX_CONNECT_SDK_ERROR]';\nfunction getDefaultMessageByCode(code) {\n    if (code == OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR) {\n        return \"unknown error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR) {\n        return \"bad request error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR) {\n        return \"already connected error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR) {\n        return \"not connected error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.UNKNOWN_APP_ERROR) {\n        return \"unknown app error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR) {\n        return \"user rejects error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED) {\n        return \"method not supported\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR) {\n        return \"connect error\";\n    }\n    return \"unknown error\";\n}\nvar OKX_CONNECT_ERROR_CODES;\n(function (OKX_CONNECT_ERROR_CODES) {\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"ALREADY_CONNECTED_ERROR\"] = 11] = \"ALREADY_CONNECTED_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"NOT_CONNECTED_ERROR\"] = 12] = \"NOT_CONNECTED_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"USER_REJECTS_ERROR\"] = 300] = \"USER_REJECTS_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"CHAIN_NOT_SUPPORTED\"] = 500] = \"CHAIN_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"WALLET_NOT_SUPPORTED\"] = 600] = \"WALLET_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"CONNECTION_ERROR\"] = 700] = \"CONNECTION_ERROR\";\n})(OKX_CONNECT_ERROR_CODES || (exports.OKX_CONNECT_ERROR_CODES = OKX_CONNECT_ERROR_CODES = {}));\nexports.PARSE_ERROR = \"PARSE_ERROR\";\nexports.INVALID_REQUEST = \"INVALID_REQUEST\";\nexports.METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nexports.INVALID_PARAMS = \"INVALID_PARAMS\";\nexports.INTERNAL_ERROR = \"INTERNAL_ERROR\";\nexports.SERVER_ERROR = \"SERVER_ERROR\";\nexports.RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nexports.SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nexports.STANDARD_ERROR_MAP = {\n    [exports.PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [exports.INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [exports.METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [exports.INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [exports.INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [exports.SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nexports.DEFAULT_ERROR = exports.SERVER_ERROR;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.okxDeeplink = exports.tonConnectSdkVersion = exports.standardDeeplink = exports.standardUniversalLink = exports.NameSpaceKeyAptos = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.NameSpaceKeyTON = exports.NameSpaceKeySOL = exports.NameSpaceKeyEip155 = void 0;\n__exportStar(require(\"./error\"), exports);\nvar misc_1 = require(\"./misc\");\nObject.defineProperty(exports, \"NameSpaceKeyEip155\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyEip155; } });\nObject.defineProperty(exports, \"NameSpaceKeySOL\", { enumerable: true, get: function () { return misc_1.NameSpaceKeySOL; } });\nObject.defineProperty(exports, \"NameSpaceKeyTON\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyTON; } });\nObject.defineProperty(exports, \"NameSpaceKeySui\", { enumerable: true, get: function () { return misc_1.NameSpaceKeySui; } });\nObject.defineProperty(exports, \"NameSpaceKeyBtc\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyBtc; } });\nObject.defineProperty(exports, \"NameSpaceKeyAptos\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyAptos; } });\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"standardUniversalLink\", { enumerable: true, get: function () { return constants_1.standardUniversalLink; } });\nObject.defineProperty(exports, \"standardDeeplink\", { enumerable: true, get: function () { return constants_1.standardDeeplink; } });\nObject.defineProperty(exports, \"tonConnectSdkVersion\", { enumerable: true, get: function () { return constants_1.tonConnectSdkVersion; } });\nObject.defineProperty(exports, \"okxDeeplink\", { enumerable: true, get: function () { return constants_1.okxDeeplink; } });\n__exportStar(require(\"./connect\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NameSpaceKeyAptos = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.NameSpaceKeyTON = exports.NameSpaceKeySOL = exports.NameSpaceKeyEip155 = void 0;\nexports.NameSpaceKeyEip155 = \"eip155\";\nexports.NameSpaceKeySOL = \"solana\";\nexports.NameSpaceKeyTON = \"ton\";\nexports.NameSpaceKeySui = \"sui\";\nexports.NameSpaceKeyBtc = \"btc\";\nexports.NameSpaceKeyAptos = \"aptos\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callForSuccess = callForSuccess;\nexports.delay = delay;\n/**\n * Function to call ton api until we get response.\n * Because ton network is pretty unstable we need to make sure response is final.\n * @param {T} fn - function to call\n * @param {CallForSuccessOptions} [options] - optional configuration options\n */\nfunction callForSuccess(fn, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        const attempts = (_a = options === null || options === void 0 ? void 0 : options.attempts) !== null && _a !== void 0 ? _a : 3;\n        const delayMs = (_b = options === null || options === void 0 ? void 0 : options.delayMs) !== null && _b !== void 0 ? _b : 800;\n        if (typeof fn !== 'function') {\n            throw new Error(`Expected a function, got ${typeof fn}`);\n        }\n        let i = 0;\n        let lastError;\n        while (i < attempts) {\n            try {\n                return yield fn();\n            }\n            catch (err) {\n                lastError = err;\n                i++;\n                if (i < attempts) {\n                    yield delay(delayMs);\n                }\n            }\n        }\n        throw lastError;\n    });\n}\n/**\n * Delays the execution of code for a specified number of milliseconds.\n * @param {number} timeout - The number of milliseconds to delay the execution.\n * @param {DelayOptions} [options] - Optional configuration options for the delay.\n * @return {Promise<void>} - A promise that resolves after the specified delay, or rejects if the delay is aborted.\n */\nfunction delay(timeout, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            var _a, _b;\n            if ((_a = options === null || options === void 0 ? void 0 : options.signal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                reject(new Error('Delay aborted'));\n                return;\n            }\n            const timeoutId = setTimeout(() => resolve(), timeout);\n            (_b = options === null || options === void 0 ? void 0 : options.signal) === null || _b === void 0 ? void 0 : _b.addEventListener('abort', () => {\n                clearTimeout(timeoutId);\n                reject(new Error('Delay aborted'));\n            });\n        });\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = exports.isOS = exports.isMobileUserAgent = exports.openDeeplinkWithFallback = exports.openLinkBlank = exports.openLink = exports.isValidObject = exports.isIos = exports.base64decode = exports.base64encode = exports.splitToUint8Arrays = exports.concatUint8Arrays = exports.toHexString = exports.hexToByteArray = exports.encodeTWAConnectURLParams = exports.encodeConnectParams = exports.openOKXTMAWalletlinkWithFallback = exports.getTelegramWalletTWAUrl = exports.getAppWalletDeepLink = exports.encodeTelegramUrlParameters = exports.isTelegramUrl = exports.openOKXDeeplinkWithFallback = exports.openOKXDeeplink = exports.getUniversalLink = exports.safeJsonStringify = exports.safeJsonParse = exports.logWarning = exports.logError = exports.logDebug = exports.callForSuccess = void 0;\nvar call_for_success_1 = require(\"./call-for-success\");\nObject.defineProperty(exports, \"callForSuccess\", { enumerable: true, get: function () { return call_for_success_1.callForSuccess; } });\nvar log_1 = require(\"./log\");\nObject.defineProperty(exports, \"logDebug\", { enumerable: true, get: function () { return log_1.logDebug; } });\nObject.defineProperty(exports, \"logError\", { enumerable: true, get: function () { return log_1.logError; } });\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return log_1.logWarning; } });\nvar safejson_1 = require(\"./safejson\");\nObject.defineProperty(exports, \"safeJsonParse\", { enumerable: true, get: function () { return safejson_1.safeJsonParse; } });\nObject.defineProperty(exports, \"safeJsonStringify\", { enumerable: true, get: function () { return safejson_1.safeJsonStringify; } });\nvar url_1 = require(\"./url\");\nObject.defineProperty(exports, \"getUniversalLink\", { enumerable: true, get: function () { return url_1.getUniversalLink; } });\nObject.defineProperty(exports, \"openOKXDeeplink\", { enumerable: true, get: function () { return url_1.openOKXDeeplink; } });\nObject.defineProperty(exports, \"openOKXDeeplinkWithFallback\", { enumerable: true, get: function () { return url_1.openOKXDeeplinkWithFallback; } });\nObject.defineProperty(exports, \"isTelegramUrl\", { enumerable: true, get: function () { return url_1.isTelegramUrl; } });\nObject.defineProperty(exports, \"encodeTelegramUrlParameters\", { enumerable: true, get: function () { return url_1.encodeTelegramUrlParameters; } });\nObject.defineProperty(exports, \"getAppWalletDeepLink\", { enumerable: true, get: function () { return url_1.getAppWalletDeepLink; } });\nObject.defineProperty(exports, \"getTelegramWalletTWAUrl\", { enumerable: true, get: function () { return url_1.getTelegramWalletTWAUrl; } });\nObject.defineProperty(exports, \"openOKXTMAWalletlinkWithFallback\", { enumerable: true, get: function () { return url_1.openOKXTMAWalletlinkWithFallback; } });\nObject.defineProperty(exports, \"encodeConnectParams\", { enumerable: true, get: function () { return url_1.encodeConnectParams; } });\nObject.defineProperty(exports, \"encodeTWAConnectURLParams\", { enumerable: true, get: function () { return url_1.encodeTWAConnectURLParams; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"hexToByteArray\", { enumerable: true, get: function () { return utils_1.hexToByteArray; } });\nObject.defineProperty(exports, \"toHexString\", { enumerable: true, get: function () { return utils_1.toHexString; } });\nObject.defineProperty(exports, \"concatUint8Arrays\", { enumerable: true, get: function () { return utils_1.concatUint8Arrays; } });\nObject.defineProperty(exports, \"splitToUint8Arrays\", { enumerable: true, get: function () { return utils_1.splitToUint8Arrays; } });\nObject.defineProperty(exports, \"base64encode\", { enumerable: true, get: function () { return utils_1.base64encode; } });\nObject.defineProperty(exports, \"base64decode\", { enumerable: true, get: function () { return utils_1.base64decode; } });\nObject.defineProperty(exports, \"isIos\", { enumerable: true, get: function () { return utils_1.isIos; } });\nObject.defineProperty(exports, \"isValidObject\", { enumerable: true, get: function () { return utils_1.isValidObject; } });\nvar web_api_1 = require(\"./web-api\");\nObject.defineProperty(exports, \"openLink\", { enumerable: true, get: function () { return web_api_1.openLink; } });\nObject.defineProperty(exports, \"openLinkBlank\", { enumerable: true, get: function () { return web_api_1.openLinkBlank; } });\nObject.defineProperty(exports, \"openDeeplinkWithFallback\", { enumerable: true, get: function () { return web_api_1.openDeeplinkWithFallback; } });\nObject.defineProperty(exports, \"isMobileUserAgent\", { enumerable: true, get: function () { return web_api_1.isMobileUserAgent; } });\nObject.defineProperty(exports, \"isOS\", { enumerable: true, get: function () { return web_api_1.isOS; } });\nObject.defineProperty(exports, \"isBrowser\", { enumerable: true, get: function () { return web_api_1.isBrowser; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logDebug = logDebug;\nexports.logError = logError;\nexports.logWarning = logWarning;\nconst debug = false;\nfunction logDebug(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.log('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction logError(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.error('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction logWarning(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.warn('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeJsonParse = safeJsonParse;\nexports.safeJsonStringify = safeJsonStringify;\nconst log_1 = require(\"./log\");\nconst JSONStringify = (data) => JSON.stringify(data, (_, value) => (typeof value === \"bigint\" ? value.toString() + \"n\" : value));\n/*\n  Function to parse JSON.\n  If JSON has values in our custom format BigInt (strings with \"n\" character at the end), we just parse them to BigInt values.\n  If JSON has big number values, but not in our custom format, we copy it, and in a copy we convert those values to our custom format,\n  then parse them to BigInt values.\n  Other values (not big numbers and not our custom format BigInt values) are not affected and parsed as native JSON.parse() would parse them.\n*/\nconst JSONParse = (json) => {\n    /*\n      Big numbers are found and marked using Regex with this condition:\n      Number's length is bigger than 16 || Number's length is 16 and any numerical digit of the number is greater than that of the Number.MAX_SAFE_INTEGER\n      Additionally, it skips values that are strings (between double quotes).\n      */\n    // prettier-ignore\n    // eslint-disable-next-line no-useless-escape\n    const numbersBiggerThanMaxInt = /:(\\b\\d{17,}|\\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\\}\\]]|$)/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, (match) => `\"${match}n\"`);\n    return JSON.parse(serializedData, (_, value) => {\n        const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n        if (isCustomFormatBigInt)\n            return BigInt(value.substring(0, value.length - 1));\n        return value;\n    });\n};\nfunction safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        (0, log_1.logDebug)(value);\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.error(\"safeJsonParse error:\", e);\n        return value;\n    }\n}\nfunction safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.okxfromString = okxfromString;\nexports.okxtoString = okxtoString;\nexports.alloc = alloc;\nexports.allocUnsafe = allocUnsafe;\nconst basics_1 = require(\"multiformats/basics\");\nconst log_1 = require(\"../utils/log\");\nfunction okxfromString(string, encoding = 'utf8') {\n    const base = BASES[encoding];\n    (0, log_1.logDebug)(\"okxfromstring ====> \");\n    if (!base) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    return base.decoder.decode(`${base.prefix}${string}`);\n}\nfunction okxtoString(array, encoding = 'utf8') {\n    const base = BASES[encoding];\n    (0, log_1.logDebug)(\"okxtoString ====> \");\n    if (!base) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    return base.encoder.encode(array).substring(1);\n}\nfunction alloc(size = 0) {\n    return new Uint8Array(size);\n}\nfunction allocUnsafe(size = 0) {\n    return new Uint8Array(size);\n}\nfunction createCodec(name, prefix, encode, decode) {\n    return {\n        name,\n        prefix,\n        encoder: {\n            name,\n            prefix,\n            encode\n        },\n        decoder: { decode }\n    };\n}\nconst string = createCodec('utf8', 'u', buf => {\n    const decoder = new TextDecoder('utf8');\n    return 'u' + decoder.decode(buf);\n}, str => {\n    const encoder = new TextEncoder();\n    return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n    let result = 'a';\n    for (let i = 0; i < buf.length; i++) {\n        result += String.fromCharCode(buf[i]);\n    }\n    return result;\n}, str => {\n    str = str.substring(1);\n    const buf = allocUnsafe(str.length);\n    for (let i = 0; i < str.length; i++) {\n        buf[i] = str.charCodeAt(i);\n    }\n    return buf;\n});\nconst BASES = Object.assign({ utf8: string, 'utf-8': string, hex: basics_1.bases.base16, latin1: ascii, ascii: ascii, binary: ascii }, basics_1.bases);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTmaPlatform = isTmaPlatform;\nexports.isInTMA = isInTMA;\nexports.isInTelegramBrowser = isInTelegramBrowser;\nexports.sendExpand = sendExpand;\nexports.sendOpenTelegramLink = sendOpenTelegramLink;\nexports.versionCompare = versionCompare;\nconst url_1 = require(\"./url\");\nconst log_1 = require(\"./log\");\nconst protocol_1 = require(\"../protocol\");\nconst web_api_1 = require(\"./web-api\");\nlet initParams = {};\ntry {\n    let locationHash = location.hash.toString();\n    initParams = urlParseHashParams(locationHash);\n}\ncatch (e) { }\nlet tmaPlatform = 'unknown';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppPlatform) {\n    tmaPlatform = (_a = initParams.tgWebAppPlatform) !== null && _a !== void 0 ? _a : 'unknown';\n}\nif (tmaPlatform === 'unknown') {\n    const window = (0, url_1.getWindow)();\n    tmaPlatform = (_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) === null || _c === void 0 ? void 0 : _c.platform) !== null && _d !== void 0 ? _d : 'unknown';\n}\nlet webAppVersion = '6.0';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppVersion) {\n    webAppVersion = initParams.tgWebAppVersion;\n}\nif (!webAppVersion) {\n    const window = (0, url_1.getWindow)();\n    webAppVersion = (_g = (_f = (_e = window === null || window === void 0 ? void 0 : window.Telegram) === null || _e === void 0 ? void 0 : _e.WebApp) === null || _f === void 0 ? void 0 : _f.version) !== null && _g !== void 0 ? _g : '6.0';\n}\n/**\n * Returns true if the app is running in TMA on the specified platform.\n * @param platforms\n */\nfunction isTmaPlatform(...platforms) {\n    return platforms.includes(tmaPlatform);\n}\n/**\n * Returns true if the app is running in TMA.\n */\nfunction isInTMA() {\n    var _a;\n    return tmaPlatform !== 'unknown' || !!((_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n}\n/**\n * Returns true if the app is running in the Telegram browser.\n */\nfunction isInTelegramBrowser() {\n    var _a;\n    const isTelegramWebview = !!((_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.TelegramWebview);\n    return (isInTMA() || isTelegramWebview) && tmaPlatform === 'unknown';\n}\n/**\n * Expand the app window.\n */\nfunction sendExpand() {\n    postEvent('web_app_expand', {});\n}\n/**\n * Opens link in TMA or in new tab and returns a function that closes the tab.\n * @param link The link to open.\n * @param fallback The function to call if the link can't be opened in TMA.\n */\nfunction sendOpenTelegramLink(link, fallback) {\n    const url = new URL(link);\n    if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n        if (fallback) {\n            return fallback();\n        }\n        throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Url protocol is not supported: ${url}`);\n    }\n    if (url.hostname !== 't.me') {\n        if (fallback) {\n            return fallback();\n        }\n        throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Url host is not supported: ${url}`);\n    }\n    const pathFull = url.pathname + url.search;\n    if (isIframe() || versionAtLeast('6.1')) {\n        postEvent('web_app_open_tg_link', { path_full: pathFull });\n    }\n    else {\n        (0, web_api_1.openLinkBlank)('https://t.me' + pathFull);\n    }\n}\nfunction isIframe() {\n    try {\n        const window = (0, url_1.getWindow)();\n        if (!window) {\n            return false;\n        }\n        return window.parent != null && window !== window.parent;\n    }\n    catch (e) {\n        return false;\n    }\n}\nfunction postEvent(eventType, eventData) {\n    try {\n        const window = (0, url_1.getWindow)();\n        if (!window) {\n            throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Can't post event to parent window: window is not defined`);\n        }\n        if (window.TelegramWebviewProxy !== undefined) {\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n        }\n        else if (window.external && 'notify' in window.external) {\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.external.notify(JSON.stringify({ eventType: eventType, eventData: eventData }));\n        }\n        else if (isIframe()) {\n            const trustedTarget = '*';\n            const message = JSON.stringify({ eventType: eventType, eventData: eventData });\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.parent.postMessage(message, trustedTarget);\n        }\n        else {\n            throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Can't post event to TMA`);\n        }\n    }\n    catch (e) {\n        (0, log_1.logError)(`Can't post event to parent window: ${e}`);\n    }\n}\nfunction urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    let params = {};\n    if (!locationHash.length) {\n        return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n        params._path = urlSafeDecode(locationHash);\n        return params;\n    }\n    let qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n        let pathParam = locationHash.substr(0, qIndex);\n        params._path = urlSafeDecode(pathParam);\n        locationHash = locationHash.substr(qIndex + 1);\n    }\n    let query_params = urlParseQueryString(locationHash);\n    for (let k in query_params) {\n        params[k] = query_params[k];\n    }\n    return params;\n}\nfunction urlSafeDecode(urlencoded) {\n    try {\n        urlencoded = urlencoded.replace(/\\+/g, '%20');\n        return decodeURIComponent(urlencoded);\n    }\n    catch (e) {\n        return urlencoded;\n    }\n}\nfunction urlParseQueryString(queryString) {\n    let params = {};\n    if (!queryString.length) {\n        return params;\n    }\n    let queryStringParams = queryString.split('&');\n    let i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n        param = queryStringParams[i].split('=');\n        paramName = urlSafeDecode(param[0]);\n        paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n        params[paramName] = paramValue;\n    }\n    return params;\n}\nfunction versionCompare(v1, v2) {\n    if (typeof v1 !== 'string')\n        v1 = '';\n    if (typeof v2 !== 'string')\n        v2 = '';\n    let v1List = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n    let v2List = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n    let a, i, p1, p2;\n    a = Math.max(v1List.length, v2List.length);\n    for (i = 0; i < a; i++) {\n        p1 = parseInt(v1List[i]) || 0;\n        p2 = parseInt(v2List[i]) || 0;\n        if (p1 === p2)\n            continue;\n        if (p1 > p2)\n            return 1;\n        return -1;\n    }\n    return 0;\n}\nfunction versionAtLeast(ver) {\n    return versionCompare(webAppVersion, ver) >= 0;\n}\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeUrlLastSlash = removeUrlLastSlash;\nexports.addPathToUrl = addPathToUrl;\nexports.getUniversalLink = getUniversalLink;\nexports.openOKXDeeplink = openOKXDeeplink;\nexports.openOKXDeeplinkWithFallback = openOKXDeeplinkWithFallback;\nexports.getWindow = getWindow;\nexports.isTelegramUrl = isTelegramUrl;\nexports.encodeTelegramUrlParameters = encodeTelegramUrlParameters;\nexports.encodeConnectParams = encodeConnectParams;\nexports.encodeTWAConnectURLParams = encodeTWAConnectURLParams;\nexports.getAppWalletDeepLink = getAppWalletDeepLink;\nexports.getTelegramWalletTWAUrl = getTelegramWalletTWAUrl;\nexports.openOKXTMAWalletlinkWithFallback = openOKXTMAWalletlinkWithFallback;\nexports.isInTMA = isInTMA;\nexports.isInTelegramBrowser = isInTelegramBrowser;\nconst protocol_1 = require(\"../protocol\");\nconst log_1 = require(\"./log\");\nconst constants_1 = require(\"../protocol/constants\");\nconst utils_1 = require(\"./utils\");\nconst tma_api_1 = require(\"./tma-api\");\nfunction removeUrlLastSlash(url) {\n    if (url.slice(-1) === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\nfunction addPathToUrl(url, path) {\n    return removeUrlLastSlash(url) + '/' + path;\n}\nfunction getUniversalLink(deeplinkUrl) {\n    const deeplinkEncodeUrl = encodeURIComponent(deeplinkUrl);\n    return `${protocol_1.standardUniversalLink}?deeplink=${deeplinkEncodeUrl}`;\n}\nfunction openOKXDeeplink(deeplinkUrl) {\n    var _a;\n    const fullUrl = getUniversalLink(deeplinkUrl);\n    const isTelegram = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n    console.log(\"openOKXDeeplink fullUrl:\", fullUrl);\n    if (!(0, utils_1.isIos)()) {\n        let newWindow = null;\n        if (isTelegram) {\n            newWindow = window.open(deeplinkUrl, '_blank');\n        }\n        else {\n            window.location.href = deeplinkUrl;\n        }\n    }\n    else {\n        if (isTelegram) {\n            window.open(fullUrl, '_blank');\n        }\n        else {\n            console.log(\"windowOpen[before]: \", Date.now());\n            if (window === null || window === void 0 ? void 0 : window.okxLogDebug) {\n                window.open(fullUrl, '_blank');\n            }\n            else {\n                window.open(fullUrl, '_self');\n            }\n            console.log(\"windowOpen[after]: \", Date.now());\n        }\n    }\n}\nfunction openOKXDeeplinkWithFallback(deeplinkUrl) {\n    var _a;\n    const fullUrl = getUniversalLink(deeplinkUrl);\n    const isTelegram = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n    console.log(\"openOKXDeeplinkWithFallback fullUrl:\", fullUrl);\n    let deepLinkOpened = false;\n    const timeoutDuration = 1500; // 1.5\n    const downloadUrl = protocol_1.standardUniversalLink;\n    if (!(0, utils_1.isIos)()) {\n        let newWindow = null;\n        var fallbackToDownloadPage = () => {\n            if (!deepLinkOpened) {\n                if (newWindow) {\n                    newWindow.open(downloadUrl, '_self');\n                }\n                else {\n                    window.open(downloadUrl, '_blank');\n                }\n            }\n        };\n        if (isTelegram) {\n            newWindow = window.open(deeplinkUrl, '_blank');\n        }\n        else {\n            window.location.href = deeplinkUrl;\n        }\n        setTimeout(fallbackToDownloadPage, timeoutDuration);\n        window.addEventListener('blur', () => {\n            deepLinkOpened = true;\n        }, { once: true });\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                deepLinkOpened = true;\n            }\n        });\n    }\n    else {\n        if (isTelegram) {\n            window.open(fullUrl, '_blank');\n        }\n        else {\n            console.log(\"windowOpen[before]: \", Date.now());\n            if (window === null || window === void 0 ? void 0 : window.okxLogDebug) {\n                window.open(fullUrl, '_blank');\n            }\n            else {\n                window.open(fullUrl, '_self');\n            }\n            console.log(\"windowOpen[after]: \", Date.now());\n        }\n    }\n}\nfunction getWindow() {\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    return undefined;\n}\nfunction isTelegramUrl(link) {\n    if (!link) {\n        return false;\n    }\n    const url = new URL(link);\n    return url.protocol === 'tg:' || url.hostname === 't.me';\n}\nfunction encodeTelegramUrlParameters(parameters) {\n    let encodedParameters = parameters;\n    encodedParameters = encodedParameters.replace(/\\./g, '%2E');\n    encodedParameters = encodedParameters.replace(/-/g, '%2D');\n    encodedParameters = encodedParameters.replace(/_/g, '%5F');\n    encodedParameters = encodedParameters.replace(/&/g, '-');\n    encodedParameters = encodedParameters.replace(/=/g, '__');\n    encodedParameters = encodedParameters.replace(/%/g, '--');\n    return encodedParameters;\n}\nfunction encodeConnectParams(connectRequest) {\n    const connectRequestStr = JSON.stringify(connectRequest);\n    (0, log_1.logDebug)(\"url encodeConnectParams connectRequestStr \", connectRequestStr);\n    const utf8Array = new TextEncoder().encode(connectRequestStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    return base64Encoded;\n}\nfunction encodeTWAConnectURLParams(connectRequest) {\n    const connectRequestStr = JSON.stringify({ topic: connectRequest.topic, clientId: connectRequest.clientId });\n    (0, log_1.logDebug)(\"url encodeConnectParams connectRequestStr\", connectRequestStr);\n    const utf8Array = new TextEncoder().encode(connectRequestStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    return base64Encoded;\n}\nfunction getAppWalletDeepLink(connectParam) {\n    return `${protocol_1.standardDeeplink}?param=${connectParam}`;\n}\n//  make telegram okx wallet TWA url\nfunction getTelegramWalletTWAUrl(connectParam, redirectStr, browserDebug = false) {\n    let base64Content = { okxconnect: \"\", redirect: \"\", extraparams: \"\" };\n    if (connectParam) {\n        base64Content.okxconnect = connectParam;\n    }\n    if (redirectStr) {\n        base64Content.redirect = redirectStr;\n    }\n    let base64ContentStr = JSON.stringify(base64Content);\n    const utf8Array = new TextEncoder().encode(base64ContentStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    (0, log_1.logDebug)('[TWA] open link:', base64Content, base64Encoded);\n    if (connectParam || redirectStr) {\n        if (browserDebug) {\n            return `http://localhost:5173?tgWebAppStartParam=${base64Encoded}`;\n        }\n        else {\n            return `https://t.me/${constants_1.tgwalletName}/start?startapp=${base64Encoded}`;\n        }\n    }\n    if (browserDebug) {\n        return \"http://localhost:5173\";\n    }\n    else {\n        return `https://t.me/${constants_1.tgwalletName}/start`;\n    }\n}\n//  open TWA url in telegram\nfunction openOKXTMAWalletlinkWithFallback(twaDeepLink, browserDebug = false) {\n    var _a, _b, _c, _d, _e;\n    (0, log_1.logDebug)('[TWA] open link:', twaDeepLink, \"browserDebug ==> \", browserDebug);\n    if (browserDebug) {\n        window.open(twaDeepLink, '_blank');\n    }\n    else {\n        if ((_b = (_a = getWindow()) === null || _a === void 0 ? void 0 : _a.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) {\n            (_e = (_d = (_c = getWindow()) === null || _c === void 0 ? void 0 : _c.Telegram) === null || _d === void 0 ? void 0 : _d.WebApp) === null || _e === void 0 ? void 0 : _e.openTelegramLink(twaDeepLink);\n        }\n        else {\n            (0, tma_api_1.sendOpenTelegramLink)(twaDeepLink);\n        }\n    }\n}\n/**\n * Returns true if the app is running in TMA.\n */\nfunction urlSafeDecode(urlencoded) {\n    try {\n        urlencoded = urlencoded.replace(/\\+/g, '%20');\n        return decodeURIComponent(urlencoded);\n    }\n    catch (e) {\n        return urlencoded;\n    }\n}\nfunction urlParseQueryString(queryString) {\n    let params = {};\n    if (!queryString.length) {\n        return params;\n    }\n    let queryStringParams = queryString.split('&');\n    let i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n        param = queryStringParams[i].split('=');\n        paramName = urlSafeDecode(param[0]);\n        paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n        params[paramName] = paramValue;\n    }\n    return params;\n}\nfunction urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    let params = {};\n    if (!locationHash.length) {\n        return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n        params._path = urlSafeDecode(locationHash);\n        return params;\n    }\n    let qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n        let pathParam = locationHash.substr(0, qIndex);\n        params._path = urlSafeDecode(pathParam);\n        locationHash = locationHash.substr(qIndex + 1);\n    }\n    let query_params = urlParseQueryString(locationHash);\n    for (let k in query_params) {\n        params[k] = query_params[k];\n    }\n    return params;\n}\nlet initParams = {};\ntry {\n    let locationHash = location.hash.toString();\n    initParams = urlParseHashParams(locationHash);\n}\ncatch (e) { }\nlet tmaPlatform = 'unknown';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppPlatform) {\n    tmaPlatform = (_a = initParams.tgWebAppPlatform) !== null && _a !== void 0 ? _a : 'unknown';\n}\nif (tmaPlatform === 'unknown') {\n    const window = getWindow();\n    tmaPlatform = (_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) === null || _c === void 0 ? void 0 : _c.platform) !== null && _d !== void 0 ? _d : 'unknown';\n}\nfunction isInTMA() {\n    var _a;\n    return tmaPlatform !== 'unknown' || !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n}\n/**\n * Returns true if the app is running in the Telegram browser.\n */\nfunction isInTelegramBrowser() {\n    var _a;\n    const isTelegramWebview = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebview);\n    return (isInTMA() || isTelegramWebview) && tmaPlatform === 'unknown';\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidObject = exports.RANDOM_LENGTH = exports.isBrowser = exports.resolveLocalStorage = exports.hasLocalStorage = exports.hasBuiltInWebSocket = exports.resolveWebSocketImplementation = void 0;\nexports.hexToByteArray = hexToByteArray;\nexports.toHexString = toHexString;\nexports.concatUint8Arrays = concatUint8Arrays;\nexports.splitToUint8Arrays = splitToUint8Arrays;\nexports.base64encode = base64encode;\nexports.base64decode = base64decode;\nexports.checkWSUrl = checkWSUrl;\nexports.hashKey = hashKey;\nexports.generateRandomBytes32 = generateRandomBytes32;\nexports.generateTopic = generateTopic;\nexports.isIos = isIos;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst tweetnacl_util_1 = __importDefault(require(\"tweetnacl-util\"));\nconst to_string_1 = require(\"uint8arrays/to-string\");\nconst sha256_1 = require(\"@stablelib/sha256\");\nconst safejson_1 = require(\"./safejson\");\nconst log_1 = require(\"./log\");\nconst stringUtils_1 = require(\"../utils/stringUtils\");\nconst BASE16 = \"base16\";\nfunction hexToByteArray(hexString) {\n    if (hexString.length % 2 !== 0) {\n        throw new Error(`Cannot convert ${hexString} to bytesArray`);\n    }\n    const result = new Uint8Array(hexString.length / 2);\n    for (let i = 0; i < hexString.length; i += 2) {\n        result[i / 2] = parseInt(hexString.slice(i, i + 2), 16);\n    }\n    return result;\n}\nfunction toHexString(byteArray) {\n    let hexString = '';\n    byteArray.forEach(byte => {\n        hexString += ('0' + (byte & 0xff).toString(16)).slice(-2);\n    });\n    return hexString;\n}\nfunction concatUint8Arrays(buffer1, buffer2) {\n    const mergedArray = new Uint8Array(buffer1.length + buffer2.length);\n    mergedArray.set(buffer1);\n    mergedArray.set(buffer2, buffer1.length);\n    return mergedArray;\n}\nfunction splitToUint8Arrays(array, index) {\n    if (index >= array.length) {\n        throw new Error('Index is out of buffer');\n    }\n    const subArray1 = array.slice(0, index);\n    const subArray2 = array.slice(index);\n    return [subArray1, subArray2];\n}\nfunction encodeUint8Array(value, urlSafe) {\n    const encoded = tweetnacl_util_1.default.encodeBase64(value);\n    if (!urlSafe) {\n        return encoded;\n    }\n    return encodeURIComponent(encoded);\n}\nfunction decodeToUint8Array(value, urlSafe) {\n    if (urlSafe) {\n        value = decodeURIComponent(value);\n    }\n    return tweetnacl_util_1.default.decodeBase64(value);\n}\nfunction base64encode(value, urlSafe) {\n    let uint8Array;\n    if (value instanceof Uint8Array) {\n        uint8Array = value;\n    }\n    else {\n        if (typeof value !== 'string') {\n            value = (0, safejson_1.safeJsonStringify)(value);\n        }\n        uint8Array = tweetnacl_util_1.default.decodeUTF8(value);\n    }\n    return encodeUint8Array(uint8Array, urlSafe);\n}\nfunction base64decode(value, urlSafe) {\n    const decodedUint8Array = decodeToUint8Array(value, urlSafe);\n    return {\n        toString() {\n            return tweetnacl_util_1.default.encodeUTF8(decodedUint8Array);\n        },\n        toObject() {\n            try {\n                return (0, safejson_1.safeJsonParse)(tweetnacl_util_1.default.encodeUTF8(decodedUint8Array));\n            }\n            catch (e) {\n                return null;\n            }\n        },\n        toUint8Array() {\n            return decodedUint8Array;\n        }\n    };\n}\nfunction checkWSUrl(url) {\n    const match = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!match || !match.length) {\n        return false;\n    }\n    let scheme = match[0];\n    if (scheme === undefined) {\n        return false;\n    }\n    return new RegExp(\"^wss?:\").test(scheme);\n}\nconst resolveWebSocketImplementation = () => {\n    if (typeof WebSocket !== \"undefined\") {\n        return WebSocket;\n    }\n    else if (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") {\n        return global.WebSocket;\n    }\n    else if (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") {\n        return window.WebSocket;\n    }\n    else if (typeof self !== \"undefined\" && typeof self.WebSocket !== \"undefined\") {\n        return self.WebSocket;\n    }\n    return WebSocket;\n    //\n    // return require(\"ws\");\n};\nexports.resolveWebSocketImplementation = resolveWebSocketImplementation;\nconst hasBuiltInWebSocket = () => typeof WebSocket !== \"undefined\" ||\n    (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") ||\n    (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") ||\n    (typeof self !== \"undefined\" && typeof self.WebSocket !== \"undefined\");\nexports.hasBuiltInWebSocket = hasBuiltInWebSocket;\nconst hasLocalStorage = () => (typeof global !== \"undefined\" && (typeof global.localStorage !== \"undefined\")) ||\n    (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\");\nexports.hasLocalStorage = hasLocalStorage;\nconst resolveLocalStorage = () => {\n    if (typeof global !== \"undefined\" && typeof global.localStorage !== \"undefined\") {\n        return global.localStorage;\n    }\n    else if (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\") {\n        return window.localStorage;\n    }\n    return localStorage;\n};\nexports.resolveLocalStorage = resolveLocalStorage;\nconst isBrowser = () => typeof window !== \"undefined\";\nexports.isBrowser = isBrowser;\nexports.RANDOM_LENGTH = 32;\nfunction hashKey(key, encode = BASE16) {\n    (0, log_1.logDebug)(`hash key called ${key}`);\n    const result = (0, sha256_1.hash)((0, stringUtils_1.okxfromString)(key, encode));\n    return (0, to_string_1.toString)(result, encode);\n}\nfunction generateRandomBytes32() {\n    return tweetnacl_1.default.randomBytes(exports.RANDOM_LENGTH);\n}\nfunction generateTopic() {\n    let randomBytes32 = generateRandomBytes32();\n    (0, log_1.logDebug)(`generate topic called ${randomBytes32}`);\n    return hashKey((0, to_string_1.toString)(randomBytes32, BASE16));\n}\nconst isValidObject = (obj) => Object.getPrototypeOf(obj) === Object.prototype && Object.keys(obj).length;\nexports.isValidObject = isValidObject;\nfunction isIos() {\n    const userAgent = navigator.userAgent;\n    const maxTouchPoints = navigator.maxTouchPoints || 0;\n    //  iPhoneiPod  iPad\n    const isIOSDevice = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;\n    //  iPadOS 13 \n    const isIPadOS = (userAgent.includes('Mac') && maxTouchPoints > 1);\n    (0, log_1.logDebug)(`utils isIos >>>isIOSDevice: ${isIOSDevice}    >> isIPadOS: ${isIPadOS}`);\n    //  iOS  iPadOS  true\n    return isIOSDevice || isIPadOS;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.openLink = openLink;\nexports.openLinkBlank = openLinkBlank;\nexports.openDeeplinkWithFallback = openDeeplinkWithFallback;\nexports.isMobileUserAgent = isMobileUserAgent;\nexports.getUserAgent = getUserAgent;\nexports.isOS = isOS;\nexports.isBrowser = isBrowser;\nconst ua_parser_js_1 = __importDefault(require(\"ua-parser-js\"));\nconst log_1 = require(\"./log\");\nfunction openLink(href, target = '_self') {\n    (0, log_1.logDebug)('openLink', href, target);\n    window.open(href, target, 'noopener noreferrer');\n}\nfunction openLinkBlank(href) {\n    openLink(href, '_blank');\n}\nfunction openDeeplinkWithFallback(href, fallback) {\n    const doFallback = () => {\n        if (isBrowser('safari') || (isOS('android') && isBrowser('firefox'))) {\n            // Safari does not support fallback to direct link.\n            return;\n        }\n        fallback();\n    };\n    const fallbackTimeout = setTimeout(() => doFallback(), 500);\n    window.addEventListener('blur', () => clearTimeout(fallbackTimeout), { once: true });\n    openLink(href, '_self');\n}\nfunction isMobileUserAgent() {\n    let check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) ||\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.slice(0, 4)))\n            check = true;\n    })(navigator.userAgent ||\n        navigator.vendor ||\n        window.opera);\n    return check;\n}\nfunction getUserAgent() {\n    var _a, _b, _c;\n    const results = new ua_parser_js_1.default().getResult();\n    const osName = (_a = results.os.name) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    const deviceModel = (_b = results.device.model) === null || _b === void 0 ? void 0 : _b.toLowerCase();\n    let os;\n    switch (true) {\n        case deviceModel === 'ipad':\n            os = 'ipad';\n            break;\n        case osName === 'ios':\n            os = 'ios';\n            break;\n        case osName === 'android':\n            os = 'android';\n            break;\n        case osName === 'mac os':\n            os = 'macos';\n            break;\n        case osName === 'linux':\n            os = 'linux';\n            break;\n        case osName === null || osName === void 0 ? void 0 : osName.includes('windows'):\n            os = 'windows';\n            break;\n    }\n    const browserName = (_c = results.browser.name) === null || _c === void 0 ? void 0 : _c.toLowerCase();\n    let browser;\n    switch (true) {\n        case browserName === 'chrome':\n            browser = 'chrome';\n            break;\n        case browserName === 'firefox':\n            browser = 'firefox';\n            break;\n        case browserName === null || browserName === void 0 ? void 0 : browserName.includes('safari'):\n            browser = 'safari';\n            break;\n        case browserName === null || browserName === void 0 ? void 0 : browserName.includes('opera'):\n            browser = 'opera';\n            break;\n    }\n    return {\n        os,\n        browser\n    };\n}\nfunction isOS(...os) {\n    return os.includes(getUserAgent().os);\n}\nfunction isBrowser(...browser) {\n    return browser.includes(getUserAgent().browser);\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXBtcProvider = void 0;\nconst _1 = require(\"./\");\nclass OKXBtcProvider {\n    constructor(generator) {\n        this.caip = [\n            \"btc:mainnet\",\n            \"fractal:mainnet\"\n        ];\n        this.provider = generator.getUniversalProvider();\n    }\n    getAddressForChainId(chainId) {\n        var _a, _b;\n        let ns = this.checkChainId(chainId);\n        if (ns == undefined) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n        }\n        let accounts = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces['btc']) === null || _b === void 0 ? void 0 : _b.accounts.filter(function (account) {\n            return account.startsWith(chainId);\n        });\n        if (accounts == undefined || accounts.length < 0) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `no connected account`);\n        }\n        let account = accounts[0];\n        const address = account.split(':')[2];\n        return address;\n    }\n    getAccount(chainId) {\n        var _a, _b, _c;\n        let ns = this.checkChainId(chainId);\n        if (ns == undefined) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n        }\n        let extra = (_c = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces[ns]) === null || _b === void 0 ? void 0 : _b.extra) === null || _c === void 0 ? void 0 : _c[chainId];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n        }\n        return {\n            address: this.getAddressForChainId(chainId),\n            publicKey: publicKey\n        };\n    }\n    /**\n     *\n     * @param signStr\n     * @param chainId\n     * @param type\n     * @returns\n     */\n    signMessage(chainId, signStr, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (signStr === 'undefined') {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signMessage parmas error`);\n            }\n            let params = {\n                signStr: signStr,\n                from: this.getAddressForChainId(chainId)\n            };\n            if (type) {\n                params.type = type;\n            }\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signMessage\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param toAddress\n     * @param satoshis\n     * @param options { feeRate: 0 }\n     * @returns\n     */\n    sendBitcoin(chainId, toAddress, satoshis, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            let params = {\n                from: this.getAddressForChainId(chainId),\n                to: toAddress,\n                value: (satoshis / 100000000).toString(),\n            };\n            if (options === null || options === void 0 ? void 0 : options.feeRate) {\n                params[\"satBytes\"] = options.feeRate.toString();\n            }\n            let result = yield this.send(chainId, params);\n            if (result !== undefined && ('txhash' in result)) {\n                // return txhash directly\n                return result.txhash;\n            }\n            // or return unexpected result\n            return result;\n        });\n    }\n    //  from - string BTC \n    //  to - string BTC \n    //  value - string BTC \n    //  satBytes - string () \n    //  memo - string ()  outputs OP_RETURN  \n    //  memoPos - number ()  outputs OP_RETURN  memo  memoPos  memo \n    send(chainId, input) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (!this.checkParameters(input, 'to', 'value')) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send parmas  error`);\n            }\n            input[\"from\"] = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: 'btc_send',\n                    params: input\n                }, chainId);\n                if ('result' in ret) {\n                    return {\n                        txhash: ret.result\n                    };\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param psbtHex string  psbt \n     * @param options object { autoFinalized: 0 }\n     */\n    signPsbt(chainId, psbtHex, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.signPsbts(chainId, [psbtHex], [options]).then(psbtResults => {\n                    let results = JSON.parse(psbtResults);\n                    resolve(results[0]);\n                }).catch(error => {\n                    reject(error);\n                });\n            });\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param psbtHexs Array\n     * @param options Array [{ autoFinalized: 0 }]\n     * @returns\n     */\n    signPsbts(chainId, psbtHexs, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (psbtHexs === undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signPsbts params error`);\n            }\n            let params = {\n                psbtHexs: psbtHexs,\n                options: options\n            };\n            params.from = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signPsbts\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param psbtHex string\n     * @param options object\n     * @returns\n     */\n    signAndPushPsbt(chainId, psbtHex, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (psbtHex === undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signPsbts params error`);\n            }\n            let params = {\n                psbtHex: psbtHex,\n                options: options\n            };\n            params.from = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signAndPushPsbt\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return JSON.parse(ret.result);\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param address string, receiver address\n     * @param inscriptionId string,  ID +  Ordinals NFT  Ordinals  Atomicals \n     * @param options object, { feeRate: number } custom rates\n     */\n    sendInscription(chainId, address, inscriptionId, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let extension = {\n                address: address,\n                inscriptionId: inscriptionId,\n                options: options\n            };\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (address === 'undefined') {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method sendInscription params error`);\n            }\n            var feeRate = 0;\n            if (options && ('feeRate' in options)) {\n                feeRate = options.feeRate;\n            }\n            let coinId = '';\n            let from = this.getAddressForChainId(chainId);\n            var protocolId = 7; //ProtocolIdBRCNFT\n            if (inscriptionId !== 'undefined') {\n                let atomicSuffix = \"-Atomicals\";\n                let ordinalsSuffix = \"-Ordinals\";\n                if (inscriptionId === null || inscriptionId === void 0 ? void 0 : inscriptionId.toLowerCase().endsWith(atomicSuffix.toLowerCase())) {\n                    protocolId = 8; //WXRCProtocolIdARCNFT\n                    inscriptionId = this.removeSuffix(inscriptionId, atomicSuffix);\n                }\n                else if (inscriptionId === null || inscriptionId === void 0 ? void 0 : inscriptionId.toLowerCase().endsWith(ordinalsSuffix.toLowerCase())) {\n                    inscriptionId = this.removeSuffix(inscriptionId, ordinalsSuffix);\n                }\n            }\n            let params = {\n                scenario: 5,\n                feeRate: feeRate,\n                txType: \"20\",\n                to: address,\n                batchBean: [\n                    {\n                        coinAmount: \"1\",\n                        nftId: inscriptionId,\n                        protocolId: protocolId,\n                        coinId: coinId,\n                        inscriptionId: \"\",\n                        from: from\n                    }\n                ],\n                extension: extension\n            };\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_sendInscription\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    removeSuffix(str, suffix) {\n        if (str.endsWith(suffix)) {\n            return str.slice(0, str.length - suffix.length);\n        }\n        return str;\n    }\n    checkParameters(params, ...keys) {\n        var unexistKeys = [];\n        keys.forEach(key => {\n            if (!(`${key}` in params)) {\n                unexistKeys.push(key);\n            }\n        });\n        if (unexistKeys.length > 0) {\n            console.log('not find key: ', unexistKeys.join(\",\"));\n            return false;\n        }\n        return true;\n    }\n    /**\n     *\n     * @param chainId eg. btc:mainnet\n     * @returns eg. btc\n     */\n    checkChainId(chainId) {\n        if (this.caip.includes(chainId)) {\n            let [namespaceKey, _] = chainId.split(\":\");\n            return namespaceKey;\n        }\n        return undefined;\n    }\n}\nexports.OKXBtcProvider = OKXBtcProvider;\nexports.default = OKXBtcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXUniversalProvider = void 0;\nconst utils_1 = require(\"./provider/utils\");\nconst eip155_1 = require(\"./provider/providers/eip155\");\nconst sui_1 = require(\"./provider/providers/sui\");\nconst constants_1 = require(\"./provider/constants\");\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst client_1 = require(\"./packages/sign-client/client\");\nconst core_1 = require(\"@okxconnect/core\");\nconst namespaces_1 = require(\"./packages/utils/namespaces\");\nconst solana_1 = __importDefault(require(\"./provider/providers/solana\"));\nconst btc_1 = __importDefault(require(\"./provider/providers/btc\"));\nconst aptos_1 = __importDefault(require(\"./provider/providers/aptos\"));\nconst ton_1 = __importDefault(require(\"./provider/providers/ton\"));\nclass OKXUniversalProvider {\n    static init(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const provider = new OKXUniversalProvider(opts);\n            yield provider.initialize();\n            return provider;\n        });\n    }\n    getUniversalProvider() {\n        return this;\n    }\n    constructor(opts) {\n        this.rpcProviders = {};\n        this.events = new eventemitter3_1.default();\n        this.providerOpts = opts;\n    }\n    request(args, chain) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.connected()) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);\n            }\n            const { namespace, requestParam } = this.buildRequestParamFromRequest(args, chain);\n            return yield this.getProvider(namespace).request(requestParam);\n        });\n    }\n    buildRequestParamFromRequest(args, chain) {\n        (0, core_1.logDebug)(\"UniversalProvider request args >>>: \", chain, JSON.stringify(args));\n        const [namespace, chainId] = this.validateChain(chain);\n        if (!this.session) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Please call connect() before request()\");\n        }\n        let keyArr = Object.keys(this.session.namespaces);\n        if (!chain && keyArr && keyArr.length > 1) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Multiple chains have been linked, the request method requires chain`);\n        }\n        (0, core_1.logDebug)(\"UniversalProvider request >>args>>>: \", args);\n        const requestParam = Object.assign(Object.assign({}, args), { chainId: `${namespace}:${chainId}` });\n        return { namespace, requestParam };\n    }\n    enable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.client) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n            }\n            if (!this.session) {\n                if (this.connectOpts) {\n                    yield this.connect(this.connectOpts);\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n                }\n            }\n            const accounts = yield this.requestAccounts();\n            return accounts;\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.session) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);\n            }\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let called = false;\n                const onRequestSent = () => __awaiter(this, void 0, void 0, function* () {\n                    if (!called) {\n                        called = true;\n                        yield this.disconnectAndEmit();\n                        yield this.cleanup();\n                        resolve();\n                        (0, core_1.logDebug)(\"UniversalProvider disconnect Disconnected\");\n                    }\n                });\n                try {\n                    yield this.client.disconnect();\n                    yield onRequestSent();\n                }\n                catch (e) {\n                    yield onRequestSent();\n                }\n            }));\n        });\n    }\n    disconnectAndEmit() {\n        var _a, _b;\n        this.client.engine.connectionManager.disconnect();\n        this.events.emit(\"disconnect\", { topic: (_a = this.session) === null || _a === void 0 ? void 0 : _a.topic });\n        this.events.emit(\"session_delete\", { topic: (_b = this.session) === null || _b === void 0 ? void 0 : _b.topic });\n    }\n    aptosChainNameToGeneralId(chainId) {\n        if (chainId == \"aptos:mainnet\") {\n            return \"aptos:637\";\n        }\n        else if (chainId == \"movement:testnet\") {\n            return \"aptos:70000060\";\n        }\n        else {\n            return chainId;\n        }\n    }\n    replaceAptos(opts) {\n        var _a, _b;\n        let aptosNameSpace = (_a = opts.namespaces) === null || _a === void 0 ? void 0 : _a[\"aptos\"];\n        if (aptosNameSpace != undefined) {\n            let realNS = this.replaceAptosInner(aptosNameSpace);\n            if (opts.namespaces != undefined && \"aptos\" in opts.namespaces && realNS != undefined) {\n                opts.namespaces.aptos = realNS;\n            }\n        }\n        let optionAptosNameSpace = (_b = opts.optionalNamespaces) === null || _b === void 0 ? void 0 : _b[\"aptos\"];\n        if (optionAptosNameSpace != undefined) {\n            let realOptionNS = this.replaceAptosInner(optionAptosNameSpace);\n            if (opts.optionalNamespaces != undefined && \"aptos\" in opts.optionalNamespaces && realOptionNS != undefined) {\n                opts.optionalNamespaces.aptos = realOptionNS;\n            }\n        }\n        return opts;\n    }\n    replaceAptosInner(aptosNameSpace) {\n        var _a;\n        if (aptosNameSpace != undefined) {\n            aptosNameSpace.chains = (_a = aptosNameSpace.chains) === null || _a === void 0 ? void 0 : _a.map(chainId => {\n                return this.aptosChainNameToGeneralId(chainId);\n            });\n            if (aptosNameSpace.defaultChain != undefined) {\n                aptosNameSpace.defaultChain = this.aptosChainNameToGeneralId(aptosNameSpace.defaultChain);\n            }\n        }\n        return aptosNameSpace;\n    }\n    connected() {\n        let disconnectInner = () => {\n            try {\n                this.cleanup();\n                this.client.engine.connectionManager.disconnect();\n            }\n            catch (e) {\n                (0, core_1.logDebug)(\"Error during disconnect:\", e);\n            }\n        };\n        try {\n            if (!this.session)\n                return false;\n            if (!this.client.engine.connectionManager.getCurrentConnectionReady()) {\n                disconnectInner();\n                return false;\n            }\n            return true;\n        }\n        catch (e) {\n            disconnectInner();\n            return false;\n        }\n    }\n    connect(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.client) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n            }\n            opts = this.replaceAptos(opts);\n            if (this.connected()) {\n                return this.session;\n            }\n            (0, core_1.logDebug)(`OKXUniversalProvider connect >>>>`, JSON.stringify(opts));\n            if (opts.sessionConfig === undefined) {\n                opts.sessionConfig = {};\n            }\n            if (opts.sessionConfig.openUniversalUrl === undefined) {\n                opts.sessionConfig.openUniversalUrl = (0, core_1.isMobileUserAgent)();\n            }\n            this.setNamespaces(opts);\n            try {\n                (0, core_1.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(opts)}`);\n                let session = yield this.client.connect(opts);\n                (0, core_1.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(session)}`);\n                if (session) {\n                    this.session = session;\n                    this.onConnect();\n                    return session;\n                }\n                return undefined;\n            }\n            catch (error) {\n                (0, core_1.logDebug)(`UniversalProvider connect error ====> `, JSON.stringify(error));\n                throw error;\n            }\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    setDefaultChain(chain, rpcUrl) {\n        chain = this.aptosChainNameToGeneralId(chain);\n        try {\n            // ignore without active session\n            if (!this.connected())\n                return;\n            const [namespace, chainId] = this.validateChain(chain);\n            const provider = this.getProvider(namespace);\n            provider.setDefaultChain(chainId, rpcUrl);\n        }\n        catch (error) {\n            // ignore the error if the fx is used prematurely before namespaces are set\n            if (!/Please call connect/.test(error.message))\n                throw error;\n        }\n    }\n    checkStorage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sessionInfoStr = yield this.getFromStore(\"connectSession\");\n            (0, core_1.logDebug)(sessionInfoStr);\n            if (sessionInfoStr) {\n                let sessionInfo = sessionInfoStr;\n                this.session = sessionInfo;\n                this.client.session = this.session;\n                this.sessionConfig = sessionInfo.sessionConfig;\n                this.client.sessionConfig = this.sessionConfig;\n                (0, core_1.logDebug)('[evm u-provider] do reconnection', this.session);\n                yield this.client.restoreconnect(sessionInfo);\n                this.createProviders();\n                this.registerEventListeners();\n                setTimeout(() => {\n                    this.events.emit(\"reconnect\", { session: this.session });\n                }, 100);\n            }\n        });\n    }\n    initialize() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = Object.assign({ url: window.location.hostname, origin: window.location.origin }, this.providerOpts.dappMetaData);\n            (0, utils_1.setGlobal)(\"events\", this.events);\n            this.client = new client_1.SignClient(data);\n            (0, utils_1.setGlobal)(\"client\", this.client);\n            yield this.checkStorage();\n        });\n    }\n    createProviders() {\n        if (!this.client) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n        }\n        if (!this.connected()) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Session not initialized. Please call connect() before enable()\");\n        }\n        const providersToCreate = [\n            ...new Set(Object.keys(this.session.namespaces).map((namespace) => (0, namespaces_1.parseNamespaceKey)(namespace))),\n        ];\n        providersToCreate.forEach((namespace) => {\n            if (!this.session)\n                return;\n            const namespacesValue = this.session.namespaces;\n            const currentNameSpace = namespacesValue[namespace];\n            (0, core_1.logDebug)(\"init eip155 >> \", currentNameSpace);\n            switch (namespace) {\n                case \"eip155\":\n                    const opts = {\n                        namespace: currentNameSpace\n                    };\n                    this.rpcProviders[namespace] = new eip155_1.Eip155Provider(opts);\n                    break;\n                case \"solana\":\n                    const opts1 = {\n                        namespace: currentNameSpace\n                    };\n                    let solanaProvider = new solana_1.default(opts1, \"solana\");\n                    this.rpcProviders[namespace] = solanaProvider;\n                    let sonicProvider = new solana_1.default(opts1, \"sonic\");\n                    this.rpcProviders['sonic'] = sonicProvider;\n                    let svmProvider = new solana_1.default(opts1, \"svm\");\n                    this.rpcProviders['svm'] = svmProvider;\n                    // this.rpcProviders[namespace] = new SolanaProvider(opts1, () => { return this.session; });\n                    break;\n                case \"ton\":\n                    const optsTon = {\n                        namespace: currentNameSpace\n                    };\n                    let tonProvider = new ton_1.default(optsTon);\n                    this.rpcProviders[namespace] = tonProvider;\n                    break;\n                case \"sui\":\n                    const optsSui = {\n                        namespace: currentNameSpace\n                    };\n                    let suiProvider = new sui_1.SuiProvider(optsSui);\n                    suiProvider.name = \"sui\";\n                    this.rpcProviders[namespace] = suiProvider;\n                    break;\n                case \"btc\":\n                    const optsBtc = {\n                        namespace: currentNameSpace\n                    };\n                    let btcProvider = new btc_1.default(optsBtc, \"btc\");\n                    this.rpcProviders[\"btc\"] = btcProvider;\n                    let fbProvider = new btc_1.default(optsBtc, \"fractal\");\n                    this.rpcProviders[\"fractal\"] = fbProvider;\n                    break;\n                case \"aptos\":\n                    let aptosProvider = new aptos_1.default({\n                        namespace: currentNameSpace\n                    }, \"aptos\");\n                    this.rpcProviders[namespace] = aptosProvider;\n                    break;\n            }\n        });\n    }\n    registerEventListeners() {\n        if (typeof this.client === \"undefined\") {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client is not initialized\");\n        }\n        this.client.engine.addDisconnectListener(() => {\n            this.disconnectAndEmit();\n            this.cleanup();\n        });\n        this.on(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, (caip2ChainId) => {\n            this.onChainChanged(caip2ChainId);\n        });\n        this.on(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, (nameSpaces) => {\n            if (nameSpaces) {\n                const nameSpacekey = Object.keys(nameSpaces)[0];\n                if (this.session) {\n                    this.session.namespaces[nameSpacekey] = nameSpaces[nameSpacekey];\n                    if (this.session) {\n                        this.persist(\"connectSession\", this.session);\n                        this.events.emit(\"session_update\", this.session);\n                    }\n                    (0, core_1.logDebug)(\"PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>\", JSON.stringify(this.session));\n                }\n            }\n        });\n    }\n    getProvider(namespace) {\n        (0, core_1.logDebug)('current get providers', this.rpcProviders);\n        (0, core_1.logDebug)('query namespace: ', namespace);\n        return this.rpcProviders[namespace];\n    }\n    setNamespaces(params) {\n        this.connectOpts = params;\n        const { namespaces, sessionConfig } = params;\n        const data = {\n            origin: window.location.origin,\n            url: window.location.hostname,\n            name: this.providerOpts.dappMetaData.name,\n            icon: this.providerOpts.dappMetaData.icon,\n        };\n        this.sessionConfig = {\n            dappInfo: data,\n            openUniversalUrl: sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.openUniversalUrl,\n            redirect: sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect,\n        };\n        (0, core_1.logDebug)(\"setNamespaces sessionConfig>>>\", this.sessionConfig);\n        this.client.sessionConfig = this.sessionConfig;\n        this.persist(\"sessionConfig\", sessionConfig);\n    }\n    validateChain(chain) {\n        var _a;\n        let [namespace, chainId] = (chain === null || chain === void 0 ? void 0 : chain.split(\":\")) || [\"\", \"\"];\n        if (!this.session || !this.session.namespaces || !Object.keys(this.session.namespaces).length) {\n            (0, core_1.logDebug)('get name & chain', namespace, chainId);\n            return [namespace, chainId];\n        }\n        if (namespace) {\n            if (!this.isChainNamespaceInSession(namespace)) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Namespace '${namespace}' is not configured. Please call connect() first with namespace config.`);\n            }\n            if (chainId && chain) {\n                (0, core_1.logDebug)('this.session.namespaces -->> ', namespace, JSON.stringify(this.session.namespaces));\n                const chainsArr = (_a = this.session.namespaces[namespace]) === null || _a === void 0 ? void 0 : _a.chains;\n                (0, core_1.logDebug)('get chainsArr & chain', JSON.stringify(chainsArr), chain);\n                if (chainsArr && !chainsArr.includes(chain)) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Namespace not include the chain '${chain}'`);\n                }\n            }\n        }\n        if (namespace && chainId) {\n            (0, core_1.logDebug)('get name & chain', namespace, chainId);\n            return [namespace, chainId];\n        }\n        let defaultNamespace = (0, namespaces_1.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);\n        const defaultChain = this.rpcProviders[defaultNamespace].getDefaultChain();\n        (0, core_1.logDebug)('get default chain:', defaultChain);\n        return [defaultNamespace, defaultChain];\n    }\n    isChainNamespaceInSession(namespaceStr) {\n        var _a, _b;\n        if (Object.keys(((_a = this.session) === null || _a === void 0 ? void 0 : _a.namespaces) || {})\n            .map((key) => (0, namespaces_1.parseNamespaceKey)(key))\n            .includes(namespaceStr)) {\n            return true;\n        }\n        let isChainNamespaceInSession = false;\n        Object.values(((_b = this.session) === null || _b === void 0 ? void 0 : _b.namespaces) || {})\n            .forEach(namespace => {\n            namespace.chains.forEach(chain => {\n                if (chain.split(\":\")[0] == namespaceStr) {\n                    isChainNamespaceInSession = true;\n                }\n            });\n        });\n        return isChainNamespaceInSession;\n    }\n    requestAccountsWithNamespace(namespace) {\n        return this.getProvider(namespace).requestAccounts();\n    }\n    requestDefaultChainWithNamespace(namespace) {\n        return this.getProvider(namespace).getDefaultChain();\n    }\n    requestAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [namespace] = this.validateChain();\n            return yield this.getProvider(namespace).requestAccounts();\n        });\n    }\n    onChainChanged(caip2Chain) {\n        var _a;\n        if (!((_a = this.session) === null || _a === void 0 ? void 0 : _a.namespaces))\n            return;\n        const [namespace, chainId] = this.validateChain(caip2Chain);\n        if (!chainId)\n            return;\n        if (this.session.namespaces[namespace]) {\n            this.session.namespaces[namespace].defaultChain = chainId;\n            this.persist(\"connectSession\", this.session);\n        }\n        this.events.emit(\"chainChanged\", chainId);\n    }\n    onConnect() {\n        this.createProviders();\n        if (this.session) {\n            this.persist(\"connectSession\", this.session);\n        }\n        this.events.emit(\"connect\", { session: this.session });\n        this.registerEventListeners();\n    }\n    cleanup() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.session = undefined;\n            this.sessionProperties = undefined;\n            this.persist(\"optionalNamespaces\", undefined);\n            this.persist(\"sessionProperties\", undefined);\n            this.persist(\"connectSession\", undefined);\n        });\n    }\n    persist(key, data) {\n        (0, core_1.logDebug)('[evm u-provider] persisit data', key, data);\n        return this.client.engine.connectionManager.saveSessionContent(key, data);\n    }\n    getFromStore(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.client.engine.connectionManager.getSessionContent(key);\n        });\n    }\n    showRequestModal(args, chain) {\n        try {\n            const { namespace, requestParam } = this.buildRequestParamFromRequest(args, chain);\n            return this.getProvider(namespace).showRequestModal(requestParam);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n}\nexports.OKXUniversalProvider = OKXUniversalProvider;\nexports.default = OKXUniversalProvider;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXConnectError = exports.OKX_CONNECT_ERROR_CODES = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.OKXBtcProvider = exports.OKXUniversalProvider = void 0;\n__exportStar(require(\"./provider/types\"), exports);\nvar OKXUniversalProvider_1 = require(\"./OKXUniversalProvider\");\nObject.defineProperty(exports, \"OKXUniversalProvider\", { enumerable: true, get: function () { return OKXUniversalProvider_1.OKXUniversalProvider; } });\nvar OKXBtcProvider_1 = require(\"./OKXBtcProvider\");\nObject.defineProperty(exports, \"OKXBtcProvider\", { enumerable: true, get: function () { return OKXBtcProvider_1.OKXBtcProvider; } });\nvar core_1 = require(\"@okxconnect/core\");\nObject.defineProperty(exports, \"NameSpaceKeySui\", { enumerable: true, get: function () { return core_1.NameSpaceKeySui; } });\nObject.defineProperty(exports, \"NameSpaceKeyBtc\", { enumerable: true, get: function () { return core_1.NameSpaceKeyBtc; } });\nObject.defineProperty(exports, \"OKX_CONNECT_ERROR_CODES\", { enumerable: true, get: function () { return core_1.OKX_CONNECT_ERROR_CODES; } });\nObject.defineProperty(exports, \"OKXConnectError\", { enumerable: true, get: function () { return core_1.OKXConnectError; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignClient = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nconst namespaces_1 = require(\"../utils/namespaces\");\nconst utils_1 = require(\"../../provider/utils\");\nclass SignClient extends core_1.ISignClient {\n    constructor(metaData) {\n        super(metaData);\n        // ---------- Engine ----------------------------------------------- //\n        this.connect = (params) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                var connectRequest = [];\n                (0, core_1.logDebug)(`client connect params >>>`, JSON.stringify(params));\n                var requestAccountItem = {\n                    name: \"requestAccounts\",\n                    requiredNamespaces: (0, namespaces_1.nameSpaceToConnectWalletNameSpace)(params.namespaces),\n                    optionalNamespaces: (0, namespaces_1.nameSpaceToConnectWalletNameSpace)(params.optionalNamespaces)\n                };\n                (0, core_1.logDebug)(`client connect connectRequest >>>`, JSON.stringify(connectRequest));\n                connectRequest.push(requestAccountItem);\n                this.engine.universalConnect(connectRequest, Object.assign({ dappInfo: this.metadata }, params.sessionConfig), (info) => {\n                    if (info && info.connectRequest) {\n                        var encodeParams = (0, core_1.encodeConnectParams)(info.connectRequest);\n                        this.events.emit(\"display_uri\", (0, core_1.getUniversalLink)((0, core_1.getAppWalletDeepLink)(encodeParams)));\n                        (0, core_1.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(info)}`);\n                        this.events.emit(\"okx_engine_connect_params\", info);\n                    }\n                }).then((session) => {\n                    (0, namespaces_1.fillParamsToSession)(session, params.namespaces, params.optionalNamespaces, this.sessionConfig);\n                    (0, core_1.logDebug)(`signClient: connect: session ${JSON.stringify(session)}`);\n                    resolve(session);\n                }).catch((e) => {\n                    (0, core_1.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`);\n                    this.events.emit(\"connect_error\", e);\n                    reject(e);\n                });\n            });\n        });\n        this.restoreconnect = (sessionConfig) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.restoreconnect(sessionConfig, (session) => {\n                    resolve(session);\n                });\n            });\n        });\n        this.reject = (params) => __awaiter(this, void 0, void 0, function* () {\n            //   try {\n            //     return await this.engine.reject(params);\n            //   } catch (error: any) {\n            //     this.logger.error(error.message);\n            //     throw error;\n            //   }\n        });\n        //\n        // public update: ISignClient[\"update\"] = async (params) => {\n        //   return\n        // //   try {\n        // //     return await this.engine.update(params);\n        // //   } catch (error: any) {\n        // //     this.logger.error(error.message);\n        // //     throw error;\n        // //   }\n        // };\n        this.request = (params) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                (0, core_1.logDebug)(\"clint request --params>>>> >\", this.engine.connectionManager.getCurrentConnectionReady(), (_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.openUniversalUrl, JSON.stringify(params));\n                try {\n                    // this.sessionConfig\n                    if (((_b = this.sessionConfig) === null || _b === void 0 ? void 0 : _b.openUniversalUrl) && (0, core_1.isIos)()) {\n                        this.openOKXWallet();\n                    }\n                    yield this.engine.send(params, {\n                        resolve: (response) => {\n                            delete response.requestId;\n                            (0, core_1.logDebug)(\"clint request --response >\", JSON.stringify(response));\n                            if (('error' in response) && response.error) {\n                                let error = response.error;\n                                reject(new core_1.OKXConnectError(response.error.code, response.method + \":\" + error.message));\n                            }\n                            else {\n                                resolve(response);\n                            }\n                        },\n                        onAck: () => {\n                            var _a;\n                            if (!(0, core_1.isIos)() && ((_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.openUniversalUrl)) {\n                                this.openOKXWallet();\n                            }\n                        }\n                    });\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n        // public emit: ISignClient[\"emit\"] = async (params) => {\n        //     try {\n        //         // return await this.engine.emit(params);\n        //     } catch (error: any) {\n        //         throw error;\n        //     }\n        // };\n        this.disconnect = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.send({\n                    method: \"disconnect\"\n                }, {\n                    onAck: () => {\n                        resolve();\n                    }\n                }).catch((error) => {\n                    console.log(`disconnect : ${JSON.stringify(error)}`);\n                    reject(error);\n                });\n            });\n        });\n        this.engine = new core_1.Engine(new core_1.ConnectionManager(metaData.name));\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.metadata = metaData;\n    }\n    openOKXWallet() {\n        // if (this.openUniversalUrl){\n        (0, core_1.logDebug)('bridge-provider ==>> connect_5');\n        (0, core_1.openOKXDeeplink)(core_1.standardDeeplink);\n        // }\n    }\n}\nexports.SignClient = SignClient;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAccountsChains = getAccountsChains;\nexports.nameSpaceToConnectWalletNameSpace = nameSpaceToConnectWalletNameSpace;\nexports.fillParamsToSession = fillParamsToSession;\nexports.isCaipNamespace = isCaipNamespace;\nexports.parseNamespaceKey = parseNamespaceKey;\nconst core_1 = require(\"@okxconnect/core\");\nfunction getAccountsChains(accounts) {\n    const chains = [];\n    accounts.forEach((account) => {\n        const [chain, chainId] = account.split(\":\");\n        chains.push(`${chain}:${chainId}`);\n    });\n    return chains;\n}\nfunction nameSpaceToConnectWalletNameSpace(namespaces) {\n    var result = [];\n    if (!namespaces) {\n        return result;\n    }\n    Object.keys(namespaces).forEach((key) => {\n        if (key === core_1.NameSpaceKeyEip155 || key === core_1.NameSpaceKeySOL || key === core_1.NameSpaceKeySui || key === core_1.NameSpaceKeyAptos || key == core_1.NameSpaceKeyBtc || key === core_1.NameSpaceKeyTON) {\n            if (namespaces[key].chains) {\n                result.push({\n                    namespace: key,\n                    chains: namespaces[key].chains,\n                    params: namespaces[key].params\n                });\n            }\n        }\n    });\n    return result;\n}\nfunction fillParamsToSession(session, namespaces, optionalNamespaces, sessionConfig) {\n    // Helper function to merge rpcMaps\n    const mergeRpcMap = (targetRpcMap, sourceRpcMap) => {\n        Object.assign(targetRpcMap, sourceRpcMap);\n    };\n    // Merge function for namespaces\n    const mergeNamespaces = (target, source) => {\n        for (const key in source) {\n            if (source.hasOwnProperty(key) && source[key].rpcMap) {\n                if (source[key].rpcMap) {\n                    if (!target[key].rpcMap) {\n                        target[key].rpcMap = {};\n                    }\n                    //  rpcMap\n                    mergeRpcMap(target[key].rpcMap, source[key].rpcMap);\n                }\n                if (source[key].defaultChain && target[key].defaultChain === undefined) {\n                    //defaultChain need in session nameSpace\n                    if (target[key].chains.some(chain => chain.split(\":\")[1] === source[key].defaultChain)) {\n                        target[key].defaultChain = source[key].defaultChain;\n                    }\n                }\n            }\n        }\n    };\n    //  namespaces\n    if (namespaces) {\n        mergeNamespaces(session.namespaces, namespaces);\n    }\n    //  optionalNamespaces\n    if (optionalNamespaces) {\n        mergeNamespaces(session.namespaces, optionalNamespaces);\n    }\n    session.sessionConfig = sessionConfig;\n}\n/**\n * util designed for Wallets that builds namespaces structure by provided supported chains, methods, events & accounts.\n * It takes required & optional namespaces provided in the session proposal\n * along with the supported chains/methods/events/accounts by the wallet and returns a structured namespaces object\n * @param {BuildApprovedNamespacesParams} params\n * @returns {SessionTypes.Namespaces}\n */\n// export function buildApprovedNamespaces(\n//   params: BuildApprovedNamespacesParams,\n// ): SessionTypes.Namespaces {\n//   const {\n//     proposal: { requiredNamespaces, optionalNamespaces = {} },\n//     supportedNamespaces,\n//   } = params;\n//   const normalizedRequired = normalizeNamespaces(requiredNamespaces);\n//   const normalizedOptional = normalizeNamespaces(optionalNamespaces);\n//\n//   // build approved namespaces\n//   const namespaces = {};\n//   Object.keys(supportedNamespaces).forEach((namespace) => {\n//     const supportedChains = supportedNamespaces[namespace].chains;\n//     const supportedMethods = supportedNamespaces[namespace].methods;\n//     const supportedEvents = supportedNamespaces[namespace].events;\n//     const supportedAccounts = supportedNamespaces[namespace].accounts;\n//\n//     supportedChains.forEach((chain) => {\n//       if (!supportedAccounts.some((account) => account.includes(chain))) {\n//         throw new Error(`No accounts provided for chain ${chain} in namespace ${namespace}`);\n//       }\n//     });\n//\n//     namespaces[namespace] = {\n//       chains: supportedChains,\n//       methods: supportedMethods,\n//       events: supportedEvents,\n//       accounts: supportedAccounts,\n//     };\n//   });\n//\n//   // verify all required namespaces are supported\n//   const err = isConformingNamespaces(requiredNamespaces, namespaces, \"approve()\");\n//   if (err) throw new Error(err.message);\n//\n//   const approvedNamespaces = {};\n//\n//   // if both required & optional namespaces are empty, return all supported namespaces by the wallet\n//   if (!Object.keys(requiredNamespaces).length && !Object.keys(optionalNamespaces).length)\n//     return namespaces;\n//\n//   // assign accounts for the required namespaces\n//   Object.keys(normalizedRequired).forEach((requiredNamespace) => {\n//     const chains = supportedNamespaces[requiredNamespace].chains.filter((chain) =>\n//       normalizedRequired[requiredNamespace]?.chains?.includes(chain),\n//     );\n//     const methods = supportedNamespaces[requiredNamespace].methods.filter((method) =>\n//       normalizedRequired[requiredNamespace]?.methods?.includes(method),\n//     );\n//     const events = supportedNamespaces[requiredNamespace].events.filter((event) =>\n//       normalizedRequired[requiredNamespace]?.events?.includes(event),\n//     );\n//\n//     const accounts = chains\n//       .map((chain: string) =>\n//         supportedNamespaces[requiredNamespace].accounts.filter((account: string) =>\n//           account.includes(`${chain}:`),\n//         ),\n//       )\n//       .flat();\n//\n//     approvedNamespaces[requiredNamespace] = {\n//       chains,\n//       methods,\n//       events,\n//       accounts,\n//     };\n//   });\n//\n//   // add optional namespaces\n//   Object.keys(normalizedOptional).forEach((optionalNamespace) => {\n//     if (!supportedNamespaces[optionalNamespace]) return;\n//\n//     const chainsToAdd = normalizedOptional[optionalNamespace]?.chains?.filter((chain) =>\n//       supportedNamespaces[optionalNamespace].chains.includes(chain),\n//     );\n//     const methodsToAdd = supportedNamespaces[optionalNamespace].methods.filter((method) =>\n//       normalizedOptional[optionalNamespace]?.methods?.includes(method),\n//     );\n//     const eventsToAdd = supportedNamespaces[optionalNamespace].events.filter((event) =>\n//       normalizedOptional[optionalNamespace]?.events?.includes(event),\n//     );\n//\n//     const accountsToAdd = chainsToAdd\n//       ?.map((chain: string) =>\n//         supportedNamespaces[optionalNamespace].accounts.filter((account: string) =>\n//           account.includes(`${chain}:`),\n//         ),\n//       )\n//       .flat();\n//\n//     approvedNamespaces[optionalNamespace] = {\n//       chains: mergeArrays(approvedNamespaces[optionalNamespace]?.chains, chainsToAdd),\n//       methods: mergeArrays(approvedNamespaces[optionalNamespace]?.methods, methodsToAdd),\n//       events: mergeArrays(approvedNamespaces[optionalNamespace]?.events, eventsToAdd),\n//       accounts: mergeArrays(approvedNamespaces[optionalNamespace]?.accounts, accountsToAdd),\n//     };\n//   });\n//\n//   return approvedNamespaces;\n// }\nfunction isCaipNamespace(namespace) {\n    return namespace.includes(\":\");\n}\nfunction parseNamespaceKey(namespace) {\n    return isCaipNamespace(namespace) ? namespace.split(\":\")[0] : namespace;\n}\n/**\n * Converts\n * ```\n * {\n *  \"eip155:1\": {...},\n *  \"eip155:2\": {...},\n * }\n * ```\n * into\n * ```\n * {\n *  \"eip155\": {\n *      chains: [\"eip155:1\", \"eip155:2\"],\n *      ...\n *    }\n * }\n *```\n */\n// export function normalizeNamespaces(\n//   namespaces: ProposalTypes.RequiredNamespaces,\n// ): ProposalTypes.RequiredNamespaces {\n//   const normalizedNamespaces = {} as ProposalTypes.RequiredNamespaces;\n//   if (!isValidObject(namespaces)) return normalizedNamespaces;\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const chains = isCaipNamespace(key) ? [key] : values.chains;\n//     const methods = values.methods || [];\n//     const events = values.events || [];\n//     const normalizedKey = parseNamespaceKey(key);\n//     normalizedNamespaces[normalizedKey] = {\n//       ...normalizedNamespaces[normalizedKey],\n//       chains: mergeArrays(chains, normalizedNamespaces[normalizedKey]?.chains),\n//       methods: mergeArrays(methods, normalizedNamespaces[normalizedKey]?.methods),\n//       events: mergeArrays(events, normalizedNamespaces[normalizedKey]?.events),\n//     };\n//   }\n//   return normalizedNamespaces;\n// }\n// export function getNamespacesFromAccounts(accounts: string[]) {\n//   const namespaces = {};\n//   accounts?.forEach((account) => {\n//     const [namespace, chainId] = account.split(\":\");\n//     if (!namespaces[namespace]) {\n//       namespaces[namespace] = {\n//         accounts: [],\n//         chains: [],\n//         events: [],\n//       };\n//     }\n//     namespaces[namespace].accounts.push(account);\n//     namespaces[namespace].chains.push(`${namespace}:${chainId}`);\n//   });\n//\n//   return namespaces;\n// }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROVIDER_EVENTS = void 0;\nexports.PROVIDER_EVENTS = {\n    DEFAULT_CHAIN_CHANGED: \"default_chain_changed\",\n    UPDATE_NAMESPACES: \"update_name_spaces\",\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./values\"), exports);\n__exportStar(require(\"./events\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GENERIC_SUBPROVIDER_NAME = exports.RPC_URL = exports.STORAGE = exports.CONTEXT = exports.WC_VERSION = exports.PROTOCOL = exports.RELAY_URL = exports.LOGGER = void 0;\nexports.LOGGER = \"error\";\nexports.RELAY_URL = \"wss://relay.walletconnect.com\";\nexports.PROTOCOL = \"wc\";\nexports.WC_VERSION = 2;\nexports.CONTEXT = \"universal_provider\";\nexports.STORAGE = `${exports.PROTOCOL}@${exports.WC_VERSION}:${exports.CONTEXT}:`;\nexports.RPC_URL = \"https://rpc.walletconnect.com/v1/\";\nexports.GENERIC_SUBPROVIDER_NAME = \"generic\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass AptosProvider {\n    constructor(opts, name) {\n        this.name = \"aptos\";\n        this.namespace = opts.namespace;\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.client = (0, utils_1.getGlobal)(\"client\");\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"solana request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"solana provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // rpc\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = AptosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass BtcProvider {\n    constructor(opts, name) {\n        this.name = core_1.NameSpaceKeyBtc;\n        this.namespace = opts.namespace;\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.client = (0, utils_1.getGlobal)(\"client\");\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"btc request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"btc provider namespace: \", JSON.stringify(this.namespace));\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // rpc\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = BtcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Eip155Provider = void 0;\nconst utils_1 = require(\"../utils\");\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nclass Eip155Provider {\n    constructor(opts) {\n        this.name = \"eip155\";\n        this.namespace = opts.namespace;\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.client = (0, utils_1.getGlobal)(\"client\");\n        this.chainId = parseInt(this.getDefaultChain());\n        // rpc\n        this.httpProviders = this.createHttpProviders();\n        (0, core_1.logDebug)(\"eip155 constructor --opts.namespace-->\", opts.namespace);\n    }\n    isRecord(value) {\n        return typeof value === \"object\" && value !== null && !Array.isArray(value);\n    }\n    isArray(value) {\n        return typeof value === \"object\" && value !== null && Array.isArray(value);\n    }\n    updateRequestParams(args) {\n        let isDic = args.params && typeof args.params === 'object' && !Array.isArray(args.params);\n        if (args.method === 'wallet_switchEthereumChain') {\n            const switchChainId = args.chainId.split(\":\")[1];\n            // const hexChainId = parseInt(switchChainId, 16);\n            const decimalNumber = parseInt(switchChainId, 10);\n            if (isNaN(decimalNumber)) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid decimal number,  chainId: '${switchChainId}' `);\n            }\n            if (!args.params) {\n                args.params = { chainId: '0x' + decimalNumber.toString(16) };\n            }\n            else if (isDic) { // Record<string, unknown>\n                let params = args.params;\n                if (!('chainId' in params)) {\n                    params['chainId'] = '0x' + decimalNumber.toString(16);\n                    args.params = params;\n                }\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params error ,  method: '${args.method}' `);\n            }\n        }\n        else if (args.method === 'personal_sign'\n            || args.method === 'eth_signTypedData_v4'\n            || args.method === 'eth_sendTransaction'\n            || args.method === 'wallet_watchAsset') {\n            if (!args.params) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params is nil, method: '${args.method}'`);\n            }\n            if (this.isRecord(args.params)) {\n                let params = args.params;\n                (0, core_1.logDebug)(\"eip155 updateRequestParams params>\", JSON.stringify(params));\n                if ('chainId' in params) {\n                    const selectedChainId = args.chainId.split(\":\")[1];\n                    const chainNum = parseInt(selectedChainId, 10);\n                    let paramsChainString = String(params.chainId);\n                    let paramsChainId;\n                    if (paramsChainString.startsWith(this.name) && args.chainId === paramsChainString) { //\n                        paramsChainId = chainNum;\n                    }\n                    else if (paramsChainString.startsWith(\"0x\")) {\n                        paramsChainId = parseInt(paramsChainString, 16);\n                    }\n                    else if (!isNaN(Number(paramsChainString))) { //\n                        paramsChainId = parseInt(paramsChainString, 10);\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid params.chainId format, method: '${args.method}'`);\n                    }\n                    if (chainNum !== paramsChainId) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params.chainId not equal chain,  method: '${args.method}' `);\n                    }\n                }\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid request params type, method: '${args.method}'`);\n            }\n        }\n    }\n    //adapt array\n    adaptArray(args) {\n        if (args.method === 'wallet_switchEthereumChain'\n            || args.method === 'wallet_addEthereumChain'\n            || args.method === 'wallet_watchAsset'\n            || args.method === 'eth_sendTransaction') {\n            if (this.isArray(args.params)) {\n                let paramsArr = args.params;\n                if (paramsArr) {\n                    if (paramsArr.length === 1) {\n                        let firstParam = args.params[0];\n                        if (this.isRecord(firstParam)) {\n                            args.params = firstParam;\n                        }\n                    }\n                    else if (paramsArr.length > 1) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params only Support one data,  method: '${args.method}' `);\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                    }\n                }\n            }\n        }\n        else if (args.method === 'eth_signTypedData_v4') {\n            if (this.isArray(args.params)) {\n                let paramsArr = args.params;\n                if (paramsArr && paramsArr.length > 2) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params only Support one data,  method: '${args.method}' `);\n                }\n                else if (paramsArr && paramsArr.length === 0) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                }\n                let messageObj = {};\n                if (paramsArr && paramsArr.length === 2) {\n                    let addressObj = args.params[0]; //address\n                    if (addressObj && typeof addressObj === 'string') { //check address\n                        let isEqual = false;\n                        this.namespace.accounts.forEach((chain) => {\n                            let chainAddress = chain.split(':')[2];\n                            if (chainAddress === addressObj) {\n                                isEqual = true;\n                            }\n                        });\n                        (0, core_1.logDebug)(\"eip155 adaptArray eth_signTypedData_v4 >>>isEqual: \", isEqual);\n                        if (!isEqual) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error, not equal,  method: '${args.method}' `);\n                        }\n                        if (this.isRecord(args.params[1])) {\n                            messageObj = args.params[1];\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params message data error,  method: '${args.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error , not string,  method: '${args.method}' `);\n                    }\n                }\n                else if (paramsArr && paramsArr.length === 1) {\n                    if (this.isRecord(args.params[0])) {\n                        messageObj = args.params[0];\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params message data error,  method: '${args.method}' `);\n                    }\n                }\n                try {\n                    let messages = JSON.stringify(messageObj);\n                    args.params = {\n                        typedDataJson: messages\n                    };\n                }\n                catch (err) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params call JSON.stringify() failed,  method: '${args.method}' `);\n                }\n            }\n        }\n        else if (args.method === 'personal_sign') {\n            if (this.isArray(args.params)) {\n                if (args.params && args.params.length > 2) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params error,  method: '${args.method}' `);\n                }\n                else if (args.params && args.params.length === 0) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                }\n                let firstObj = args.params[0];\n                let secondObj = args.params[1];\n                if (secondObj && typeof secondObj === 'string') { //check address\n                    let isEqual = false;\n                    this.namespace.accounts.forEach((chain) => {\n                        let chainAddress = chain.split(':')[2];\n                        if (chainAddress === secondObj) {\n                            isEqual = true;\n                        }\n                    });\n                    (0, core_1.logDebug)(\"eip155 adaptArray personal_sign >>>isEqual: \", isEqual);\n                    if (!isEqual) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error,  method: '${args.method}' `);\n                    }\n                }\n                if (firstObj && typeof firstObj === 'string') {\n                    args.params = {\n                        message: firstObj\n                    };\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is error,  method: '${args.method}' `);\n                }\n            }\n        }\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"eth_requestAccounts\":\n            case \"eth_accounts\":\n            case \"eth_chainId\":\n                return false;\n            case \"eth_sendTransaction\":\n            case \"eth_signTransaction\":\n            case \"eth_sign\":\n            case \"personal_sign\":\n            case \"eth_signTypedData\":\n            case \"wallet_addEthereumChain\":\n            case \"wallet_watchAsset\":\n            case \"eth_signTypedData_v4\":\n                return true;\n            case \"wallet_switchEthereumChain\": {\n                this.adaptArray(args);\n                this.updateRequestParams(args);\n                const { parsedChainId, hexChainId } = this.getHexChainIdFromRequest(args);\n                return !this.isChainApproved(parsedChainId);\n            }\n            default:\n                return false;\n        }\n        return false;\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.adaptArray(args);\n            (0, core_1.logDebug)(\"eip155 request --args--string>\", JSON.stringify(args));\n            this.updateRequestParams(args);\n            (0, core_1.logDebug)(\"eip155 request --params--string>\", JSON.stringify(args));\n            switch (args.method) {\n                case \"eth_requestAccounts\":\n                    return this.getAccounts();\n                case \"eth_accounts\":\n                    return this.getAccounts();\n                case \"eth_chainId\":\n                    return parseInt(this.getDefaultChain());\n                case \"wallet_switchEthereumChain\": {\n                    return (yield this.handleSwitchChain(args));\n                }\n                case \"wallet_addEthereumChain\":\n                    return this.addEthereumChain(args);\n                default:\n                    break;\n            }\n            if (this.namespace.methods.includes(args.method)) {\n                // personal_sign\n                // eth_signTypedData_v4\n                // eth_sendTransaction\n                // wallet_watchAsset\n                try {\n                    const response = yield this.client.request(args);\n                    (0, core_1.logDebug)(\"eip155 request --response----string>\", JSON.stringify(response));\n                    if (this.isRecord(response)) {\n                        if ('result' in response) {\n                            let result = response.result;\n                            if (result && typeof result === 'string' && (result === \"true\" || result === \"false\")) {\n                                (0, core_1.logDebug)(\"eip155 request --wallet_watchAsset>>>>\", result === \"true\");\n                                return (result === \"true\");\n                            }\n                            return response.result;\n                        }\n                    }\n                    return response;\n                }\n                catch (e) {\n                    (0, core_1.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${e instanceof core_1.OKXConnectError}`, JSON.stringify(e));\n                    throw e;\n                }\n            }\n            else {\n                (0, core_1.logDebug)('[RPC] request begin');\n                return yield this.getHttpProvider().request(args);\n            }\n        });\n    }\n    addEthereumChain(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resultData = (yield this.client.request(args));\n            try {\n                if ('result' in resultData) {\n                    let successData = resultData;\n                    let account = resultData.result;\n                    if (account) {\n                        const nameSpace = account.split(\":\")[0];\n                        const chainId = account.split(\":\")[1];\n                        const chain = nameSpace + ':' + chainId;\n                        let newNameSpace = this.namespace;\n                        this.namespace.accounts.push(account);\n                        this.namespace.chains.push(chain);\n                        if (this.isRecord(args.params)) {\n                            if (\"rpcUrls\" in args.params) {\n                                let rpcUrls = args.params.rpcUrls;\n                                let rpcUrl = rpcUrls ? rpcUrls[0] : undefined;\n                                if (rpcUrl) {\n                                    if (this.namespace.rpcMap) {\n                                        this.namespace.rpcMap[chainId] = rpcUrl;\n                                    }\n                                    else {\n                                        this.namespace.rpcMap = {\n                                            [chainId]: rpcUrl\n                                        };\n                                    }\n                                    this.setHttpProvider(chainId, rpcUrl);\n                                }\n                            }\n                        }\n                        this.events.emit(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, {\n                            eip155: this.namespace\n                        });\n                    }\n                }\n                else {\n                    new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request error`);\n                }\n            }\n            catch (error) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request  error`);\n            }\n            return null;\n        });\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        this.chainId = parseInt(chainId);\n        // set rpc\n        if (!this.httpProviders[chainId]) {\n            const rpc = rpcUrl || (0, utils_1.getRpcUrl)(`${this.name}:${chainId}`, this.namespace);\n            if (!rpc) {\n                // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n                (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            }\n            else {\n                this.setHttpProvider(chainId, rpc);\n            }\n        }\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId.toString();\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // ---------- Private ----------------------------------------------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        (0, core_1.logDebug)(\"eip155 getAccounts \", accounts, this.chainId);\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    getHexChainIdFromRequest(args) {\n        let params = args.params;\n        let hexChainId = \"0x0\";\n        if (params && \"chainId\" in params) {\n            hexChainId = params.chainId;\n        }\n        hexChainId = hexChainId.startsWith(\"0x\") ? hexChainId : `0x${hexChainId}`;\n        (0, core_1.logDebug)(\"handleSwitchChain -->args \", args);\n        (0, core_1.logDebug)(\"handleSwitchChain -->hexChainId \", hexChainId);\n        const parsedChainId = parseInt(hexChainId, 16);\n        (0, core_1.logDebug)(\"handleSwitchChain -->parsedChainId \", parsedChainId);\n        return { parsedChainId, hexChainId };\n    }\n    handleSwitchChain(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { parsedChainId, hexChainId } = this.getHexChainIdFromRequest(args);\n            if (this.isChainApproved(parsedChainId)) {\n                this.setDefaultChain(`${parsedChainId}`);\n            }\n            else {\n                const resultData = (yield this.client.request({\n                    method: \"wallet_switchEthereumChain\",\n                    chainId: args.chainId,\n                    params: {\n                        chainId: hexChainId,\n                    },\n                }));\n                try {\n                    if ('result' in resultData) {\n                        let successData = resultData;\n                        let account = resultData.result;\n                        if (account) {\n                            const nameSpace = account.split(\":\")[0];\n                            const chainId = account.split(\":\")[1];\n                            const chain = nameSpace + ':' + chainId;\n                            let newNameSpace = this.namespace;\n                            this.namespace.accounts.push(account);\n                            this.namespace.chains.push(chain);\n                            (0, core_1.logDebug)(\"handleSwitchChain -->wallet_switchEthereumChain \", resultData);\n                            this.setDefaultChain(`${parsedChainId}`);\n                            this.events.emit(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, {\n                                eip155: this.namespace\n                            });\n                        }\n                    }\n                    else {\n                        new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request error`);\n                    }\n                }\n                catch (error) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request  error`);\n                }\n            }\n            return null;\n        });\n    }\n    isChainApproved(chainId) {\n        return this.namespace.chains.includes(`${this.name}:${chainId}`);\n    }\n    // rpc\n    createHttpProvider(chainId, rpcUrl) {\n        // rpc\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            //   throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            (0, core_1.logDebug)('get parsed chain and rpc:', parsedChainId, parsedRpc);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        (0, core_1.logDebug)('get http providermap:', http);\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n}\nexports.Eip155Provider = Eip155Provider;\nexports.default = Eip155Provider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcConnection = void 0;\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nconst core_1 = require(\"@okxconnect/core\");\nconst core_2 = require(\"@okxconnect/core\");\nconst DEFAULT_HTTP_HEADERS = {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n};\nconst DEFAULT_HTTP_METHOD = \"POST\";\nconst DEFAULT_FETCH_OPTS = {\n    headers: DEFAULT_HTTP_HEADERS,\n    method: DEFAULT_HTTP_METHOD,\n};\n// Source: https://nodejs.org/api/events.html#emittersetmaxlistenersn\nconst EVENT_EMITTER_MAX_LISTENERS_DEFAULT = 10;\nclass JsonRpcConnection {\n    constructor(url, disableProviderPing = false) {\n        this.url = url;\n        this.disableProviderPing = disableProviderPing;\n        this.events = new eventemitter3_1.EventEmitter();\n        this.isAvailable = false;\n        this.registering = false;\n        if (!(0, core_2.isHttpUrl)(url)) {\n            throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n        }\n        this.url = url;\n        this.disableProviderPing = disableProviderPing;\n    }\n    get connected() {\n        return this.isAvailable;\n    }\n    get connecting() {\n        return this.registering;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    open() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            yield this.register(url);\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isAvailable) {\n                throw new Error(\"Connection already closed\");\n            }\n            this.onClose();\n        });\n    }\n    send(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isAvailable) {\n                yield this.register();\n            }\n            try {\n                const body = (0, core_1.safeJsonStringify)(payload);\n                const res = yield (0, cross_fetch_1.default)(this.url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));\n                const data = yield res.json();\n                this.onPayload({ data });\n            }\n            catch (e) {\n                this.onError(payload.id, e);\n            }\n        });\n    }\n    // ---------- Private ----------------------------------------------- //\n    register() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            if (!(0, core_2.isHttpUrl)(url)) {\n                throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n            }\n            if (this.registering) {\n                return new Promise((resolve, reject) => {\n                    this.events.once(\"register_error\", (error) => {\n                        reject(error);\n                    });\n                    this.events.once(\"open\", () => {\n                        if (typeof this.isAvailable === \"undefined\") {\n                            return reject(new Error(\"HTTP connection is missing or invalid\"));\n                        }\n                        resolve();\n                    });\n                });\n            }\n            this.url = url;\n            this.registering = true;\n            try {\n                if (!this.disableProviderPing) {\n                    const body = (0, core_1.safeJsonStringify)({ id: 1, jsonrpc: \"2.0\", method: \"test\", params: [] });\n                    yield (0, cross_fetch_1.default)(url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));\n                }\n                this.onOpen();\n            }\n            catch (e) {\n                const error = this.parseError(e);\n                this.events.emit(\"register_error\", error);\n                this.onClose();\n                throw error;\n            }\n        });\n    }\n    onOpen() {\n        this.isAvailable = true;\n        this.registering = false;\n        this.events.emit(\"open\");\n    }\n    onClose() {\n        this.isAvailable = false;\n        this.registering = false;\n        this.events.emit(\"close\");\n    }\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        const payload = typeof e.data === \"string\" ? (0, core_1.safeJsonParse)(e.data) : e.data;\n        this.events.emit(\"payload\", payload);\n    }\n    onError(id, e) {\n        const error = this.parseError(e);\n        const message = error.message || error.toString();\n        const payload = (0, core_2.formatJsonRpcError)(id, message);\n        this.events.emit(\"payload\", payload);\n    }\n    parseError(e, url = this.url) {\n        return (0, core_2.parseConnectionError)(e, url, \"HTTP\");\n    }\n}\nexports.JsonRpcConnection = JsonRpcConnection;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = void 0;\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst types_1 = require(\"../../types\");\nconst core_1 = require(\"@okxconnect/core\");\nconst core_2 = require(\"@okxconnect/core\");\nclass JsonRpcProvider extends types_1.IJSONRpcProvider {\n    constructor(connection) {\n        super(connection);\n        this.events = new eventemitter3_1.EventEmitter();\n        this.connected = false;\n        this.connecting = false;\n        this.hasRegisteredEventListeners = false;\n        this.connection = this.setConnection(connection);\n        if (this.connection.connected) {\n            this.registerEventListeners();\n        }\n    }\n    connect() {\n        return __awaiter(this, arguments, void 0, function* (connection = this.connection) {\n            yield this.open(connection);\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.close();\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    request(request, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.requestStrict((0, core_1.formatJsonRpcRequest)(request.method, request.params || [], (0, core_1.getBigIntRpcId)().toString()), // casting to any is required in order to use BigInt as rpcId\n            context);\n        });\n    }\n    // ---------- Protected ----------------------------------------------- //\n    requestStrict(request, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                if (!this.connection.connected) {\n                    try {\n                        yield this.open();\n                    }\n                    catch (e) {\n                        reject(e);\n                    }\n                }\n                this.events.on(`${request.id}`, (response) => {\n                    if ((0, core_1.isJsonRpcError)(response)) {\n                        reject(response.error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n                try {\n                    (0, core_2.logDebug)('[RPC] >>> send request', request, context);\n                    yield this.connection.send(request, context);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n    }\n    setConnection(connection = this.connection) {\n        return connection;\n    }\n    onPayload(payload) {\n        this.events.emit(\"payload\", payload);\n        if ((0, core_1.isJsonRpcResponse)(payload)) {\n            this.events.emit(`${payload.id}`, payload);\n        }\n        else {\n            this.events.emit(\"message\", {\n                type: payload.method,\n                data: payload.params,\n            });\n        }\n    }\n    onClose(event) {\n        // Code 3000 indicates an abnormal closure signalled by the relay -> emit an error in this case.\n        if (event && event.code === 3000) {\n            this.events.emit(\"error\", new Error(`WebSocket connection closed abnormally with code: ${event.code} ${event.reason ? `(${event.reason})` : \"\"}`));\n        }\n        this.events.emit(\"disconnect\");\n    }\n    open() {\n        return __awaiter(this, arguments, void 0, function* (connection = this.connection) {\n            if (this.connection === connection && this.connection.connected)\n                return;\n            if (this.connection.connected)\n                this.close();\n            if (typeof connection === \"string\") {\n                yield this.connection.open(connection);\n                connection = this.connection;\n            }\n            this.connection = this.setConnection(connection);\n            yield this.connection.open();\n            this.registerEventListeners();\n            this.events.emit(\"connect\");\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.connection.close();\n        });\n    }\n    // ---------- Private ----------------------------------------------- //\n    registerEventListeners() {\n        if (this.hasRegisteredEventListeners)\n            return;\n        this.connection.on(\"payload\", (payload) => this.onPayload(payload));\n        this.connection.on(\"close\", (event) => this.onClose(event));\n        this.connection.on(\"error\", (error) => this.events.emit(\"error\", error));\n        this.connection.on(\"register_error\", (_error) => this.onClose());\n        this.hasRegisteredEventListeners = true;\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolanaProvider = void 0;\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass SolanaProvider {\n    constructor(opts, name) {\n        this.name = \"solana\";\n        this.namespace = opts.namespace;\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.client = (0, utils_1.getGlobal)(\"client\");\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"solana request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"solana provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // rpc\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    getPubkey(chainId) {\n        return this.getWalletAddress(chainId);\n    }\n    //   {\n    //     \"chains\": [\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\" ],\n    //     \"accounts\": [\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp:F7wnJc5wiBGy1k87jv6gyNwE3jMEWd18oTQiYsF1xVG7\"],\n    //     \"methods\": [\n    //         \"solana_signTransaction\",\n    //         \"solana_signMessage\"\n    //     ],\n    //     \"defaultChain\": \"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\"\n    // }\n    // TODO:defaultChainsolana\n    getWalletAddress(chainId) {\n        if (!chainId) {\n            chainId = this.namespace.defaultChain;\n            if (!(chainId === null || chainId === void 0 ? void 0 : chainId.startsWith(\"solana\"))) {\n                chainId = `solana:${chainId}`;\n            }\n        }\n        return this.namespace.accounts.filter(function (account) {\n            let components = account.split(\":\");\n            return components.length > 2 && account.startsWith(chainId);\n        }).map(function (account) {\n            let components = account.split(\":\");\n            return components[2];\n        })[0];\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.SolanaProvider = SolanaProvider;\nexports.default = SolanaProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SuiProvider = void 0;\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass SuiProvider {\n    constructor(opts) {\n        this.name = core_1.NameSpaceKeySui;\n        this.namespace = opts.namespace;\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.client = (0, utils_1.getGlobal)(\"client\");\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"sui request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"sui provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            (0, core_1.logDebug)(\"setHttpProvider\", chainId, rpcUrl);\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // rpc\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    getPubkey(chainId) {\n        return this.getWalletAddress(chainId);\n    }\n    getWalletAddress(chainId) {\n        if (!chainId) {\n            chainId = this.namespace.defaultChain;\n            if (!(chainId === null || chainId === void 0 ? void 0 : chainId.startsWith(\"sui\"))) {\n                chainId = `sui:${chainId}`;\n            }\n        }\n        return this.namespace.accounts.filter(function (account) {\n            let components = account.split(\":\");\n            return components.length > 2 && account.startsWith(chainId);\n        }).map(function (account) {\n            let components = account.split(\":\");\n            return components[2];\n        })[0];\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"sui_signMessage\":\n            case \"sui_signPersonalMessage\":\n            case \"sui_signTransactionBlock\":\n            case \"sui_signAndExecuteTransactionBlock\":\n                return true;\n            default:\n                return false;\n        }\n        return false;\n    }\n}\nexports.SuiProvider = SuiProvider;\nexports.default = SuiProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass TONProvider {\n    constructor(opts) {\n        this.name = core_1.NameSpaceKeyTON;\n        this.namespace = opts.namespace;\n        this.events = (0, utils_1.getGlobal)(\"events\");\n        this.client = (0, utils_1.getGlobal)(\"client\");\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    isRecord(value) {\n        return typeof value === \"object\" && value !== null && !Array.isArray(value);\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            (0, core_1.logDebug)(\"TONProvider request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"TONProvider request provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                if (!args.params) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton request params is nil\");\n                }\n                if (this.isRecord(args.params)) {\n                    const _e = args.params, { validUntil } = _e, newParams = __rest(_e, [\"validUntil\"]);\n                    let fromAddress = (_b = (_a = this.namespace.payload) === null || _a === void 0 ? void 0 : _a.ton_addr) === null || _b === void 0 ? void 0 : _b.address;\n                    if ('from' in newParams) {\n                        fromAddress = newParams.from || ((_d = (_c = this.namespace.payload) === null || _c === void 0 ? void 0 : _c.ton_addr) === null || _d === void 0 ? void 0 : _d.address);\n                    }\n                    args.params['from'] = fromAddress;\n                    args.params['network'] = this.getDefaultChain();\n                    args.params['valid_until'] = validUntil;\n                    let response = yield this.client.request(args);\n                    if (this.isRecord(response) && 'result' in response) {\n                        const result = {\n                            boc: response.result.toString()\n                        };\n                        (0, core_1.logDebug)(\"TONProvider request provider response: \", JSON.stringify(response));\n                        (0, core_1.logDebug)(\"TONProvider request provider result: \", JSON.stringify(result));\n                        return result;\n                    }\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton_send request response is nil\");\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton request params type add nil\");\n                }\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        var _a, _b;\n        const accounts = this.namespace.accounts;\n        (0, core_1.logDebug)(\"ton getAccounts accounts :\", accounts);\n        (0, core_1.logDebug)(\"ton getAccounts .namespace :\", JSON.stringify(this.namespace));\n        if (!accounts) {\n            return [];\n        }\n        let address = (_b = (_a = this.namespace.payload) === null || _a === void 0 ? void 0 : _a.ton_addr) === null || _b === void 0 ? void 0 : _b.address;\n        (0, core_1.logDebug)(\"ton getAccounts address :\", address);\n        if (address) {\n            return [\n                address\n            ];\n        }\n        return [];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            (0, core_1.logDebug)(\"setHttpProvider\", chainId, rpcUrl);\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // rpc\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"ton_sendTransaction\":\n                return true;\n            default:\n                return false;\n        }\n        return false;\n    }\n}\nexports.default = TONProvider;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./providers\"), exports);\n__exportStar(require(\"./misc\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IJSONRpcProvider = exports.IJSONRpcConnection = void 0;\nclass IJSONRpcConnection {\n}\nexports.IJSONRpcConnection = IJSONRpcConnection;\nclass IJSONRpcProvider {\n    constructor(opt) {\n    }\n}\nexports.IJSONRpcProvider = IJSONRpcProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setGlobal = exports.getGlobal = void 0;\nconst globals = {};\nconst getGlobal = (key) => {\n    return globals[key];\n};\nexports.getGlobal = getGlobal;\nconst setGlobal = (key, value) => {\n    globals[key] = value;\n};\nexports.setGlobal = setGlobal;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./misc\"), exports);\n__exportStar(require(\"./globals\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRpcUrl = getRpcUrl;\nexports.getChainId = getChainId;\nexports.convertChainIdToNumber = convertChainIdToNumber;\nexports.parseChainId = parseChainId;\nexports.mergeArrays = mergeArrays;\nfunction getRpcUrl(chainId, rpc, projectId) {\n    var _a;\n    const chain = parseChainId(chainId);\n    // no default\n    return (((_a = rpc.rpcMap) === null || _a === void 0 ? void 0 : _a[chain.reference]) ||\n        ``);\n}\nfunction getChainId(chain) {\n    return chain.includes(\":\") ? chain.split(\":\")[1] : chain;\n}\n// export function validateChainApproval(chain: string, chains: string[]): void {\n//   if (!chains.includes(chain)) {\n//     throw new Error(\n//       `Chain '${chain}' not approved. Please use one of the following: ${chains.toString()}`,\n//     );\n//   }\n// }\n// export function getChainsFromApprovedSession(accounts: string[]): string[] {\n//   return accounts.map((address) => `${address.split(\":\")[0]}:${address.split(\":\")[1]}`);\n// }\n// export function getAccountsFromSession(namespace: string, session: SessionTypes.Struct): string[] {\n//   // match namespaces e.g. eip155 with eip155:1\n//   const matchedNamespaceKeys = Object.keys(session.namespaces).filter((key) =>\n//     key.includes(namespace),\n//   );\n//   if (!matchedNamespaceKeys.length) return [];\n//   const accounts: string[] = [];\n//   matchedNamespaceKeys.forEach((key) => {\n//     const accountsForNamespace = session.namespaces[key].accounts;\n//     accounts.push(...accountsForNamespace);\n//   });\n//   return accounts;\n// }\n// export function mergeRequiredOptionalNamespaces(\n//   required: NamespaceConfig = {},\n//   optional: NamespaceConfig = {},\n// ){\n//   const requiredNamespaces = normalizeNamespaces(required);\n//   const optionalNamespaces = normalizeNamespaces(optional);\n//    return merge.merge(requiredNamespaces,optionalNamespaces)\n// }\n/**\n * Converts\n * {\n *  \"eip155:1\": {...},\n *  \"eip155:2\": {...},\n * }\n * into\n * {\n *  \"eip155\": {\n *      chains: [\"eip155:1\", \"eip155:2\"],\n *      ...\n *    }\n * }\n *\n */\n// export function normalizeNamespaces(namespaces: NamespaceConfig): NamespaceConfig {\n//   const normalizedNamespaces: NamespaceConfig = {};\n//   if (!isValidObject(namespaces)) return normalizedNamespaces;\n//\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const chains = isCaipNamespace(key) ? [key] : values.chains;\n//     const rpcMap = values.rpcMap || {};\n//     const normalizedKey = parseNamespaceKey(key);\n//     normalizedNamespaces[normalizedKey] = {\n//       ...normalizedNamespaces[normalizedKey],\n//       ...values,\n//       chains: mergeArrays(chains, normalizedNamespaces[normalizedKey]?.chains),\n//       rpcMap: { ...rpcMap, ...normalizedNamespaces[normalizedKey]?.rpcMap },\n//     };\n//   }\n//   return normalizedNamespaces;\n// }\n//\n// export function parseCaip10Account(caip10Account: string): string {\n//   return caip10Account.includes(\":\") ? caip10Account.split(\":\")[2] : caip10Account;\n// }\n/**\n * Populates the chains array for each namespace with the chains extracted from the accounts if are otherwise missing\n */\n// export function populateNamespacesChains(\n//   namespaces: SessionTypes.Namespaces,\n// ): Record<string, SessionTypes.Namespace> {\n//   const parsedNamespaces: Record<string, SessionTypes.Namespace> = {};\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const methods = values.methods || [];\n//     const events = values.events || [];\n//     const accounts = values.accounts || [];\n//     // If the key includes a CAIP separator `:` we know it's a namespace + chainId (e.g. `eip155:1`)\n//     const chains = isCaipNamespace(key)\n//       ? [key]\n//       : values.chains\n//       ? values.chains\n//       : getChainsFromApprovedSession(values.accounts);\n//     parsedNamespaces[key] = {\n//       chains,\n//       methods,\n//       events,\n//       accounts,\n//     };\n//   }\n//   return parsedNamespaces;\n// }\nfunction convertChainIdToNumber(chainId) {\n    if (typeof chainId === \"number\")\n        return chainId;\n    if (chainId.includes(\"0x\")) {\n        return parseInt(chainId, 16);\n    }\n    chainId = chainId.includes(\":\") ? chainId.split(\":\")[1] : chainId;\n    return isNaN(Number(chainId)) ? chainId : Number(chainId);\n}\nconst CAIP_DELIMITER = \":\";\nfunction parseChainId(chain) {\n    const [namespace, reference] = chain.split(CAIP_DELIMITER);\n    return { namespace, reference };\n}\nfunction mergeArrays(a = [], b = []) {\n    return [...new Set([...a, ...b])];\n}\n","<template>\n  <div id=\"app\">\n    <el-container>\n      <el-header>OKX Connect</el-header>\n      <el-main>\n        <!--  -->\n        <el-card class=\"wallet-info\">\n          <template #header>\n            <div>Wallet Info</div>\n          </template>\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <strong>Wallet Address:</strong> {{ getWalletAddress }}\n            </el-col>\n          </el-row>\n\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <strong>Status :</strong> {{ currentStatus }}\n            </el-col>\n          </el-row>\n\n          <!--          <el-row class=\"info-row\">-->\n          <!--            <el-col :span=\"24\">-->\n          <!--              <strong>Universal Link:</strong> {{ updateUniLink }}-->\n          <!--            </el-col>-->\n          <!--          </el-row>-->\n        </el-card>\n\n        <!--  -->\n        <el-card class=\"wallet-actions\">\n          <template #header>\n            <div>Actions</div>\n          </template>\n\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <el-checkbox v-model=\"withUI\" @change=\"handleWithUI\">\n                show UI</el-checkbox>\n            </el-col>\n          </el-row>\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Modals</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"modals\" placeholder=\"Modals\" @change=\"handleModalsSelect\" multiple>\n                <el-option label=\"Before\" value=\"before\" />\n                <el-option label=\"Success\" value=\"success\" />\n                <el-option label=\"Error\" value=\"error\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center; justify-content: space-between;\">\n            <el-col :span=\"4\" style=\"gap: 2px\">\n              <p style=\"font-size: 11pt; margin: 0px\">Return Strategy</p>\n              <p style=\"font-size: 9pt; margin: 0px\">(Mobile only)</p>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-select\n                v-model=\"returnStrategy\"\n                @change=\"handleReturnStrategySelect\"\n                placeholder=\"Return Strategy\"\n              >\n                <el-option\n                  v-for=\"strategy in returnStrategies\"\n                  :key=\"`return-strategy-select-option-${strategy}`\"\n                  :label=\"strategy\"\n                  :value=\"strategy\"\n                />\n              </el-select>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-input\n                v-if=\"returnStrategy === 'deeplink'\"\n                v-model=\"deeplink\"\n                @change=\"handleReturnStrategyDeeplink\"\n                placeholder=\"Deeplink\"\n                :disabled=\"returnStrategy !== 'deeplink'\"\n                style=\"margin: 0px\"\n              />\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Language</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"language\" @change=\"handleLanguageSelect\" placeholder=\"Language\">\n                <el-option v-for=\"locale in locales\" :key=\"`language-select-option-${locale}`\" :label=\"locale\"\n                  :value=\"locale\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Theme</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"theme\" @change=\"handleThemeSelect\" placeholder=\"Theme\">\n                <el-option label=\"LIGHT\" :value=\"THEME.LIGHT\" />\n                <el-option label=\"DARK\" :value=\"THEME.DARK\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">ton_proof</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-input v-model=\"tonProofValue\"  placeholder=\"input ton_proof\"></el-input>\n            </el-col>\n          </el-row>\n\n\n          <el-row :gutter=\"12\" align=\"middle\">\n            <el-col :span=\"4\">\n              <div>req</div>\n            </el-col>\n            <el-col\n              :span=\"6\"\n              v-for=\"item in Object.keys(availableChains)\"\n              :key=\"item\"\n            >\n              <el-checkbox\n                v-model=\"availableChains[item].checked\"\n                :disabled=\"!areChainsInit\"\n                >{{ availableChains[item].name }}</el-checkbox\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" align=\"middle\" style=\"margin-top: 20px\">\n            <el-col :span=\"4\">\n              <div>opt</div>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(43114)\" @change=\"() => handleOptionChange(43114)\">\n                avax</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(10)\" @change=\"() => handleOptionChange(10)\">op</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(8453)\" @change=\"() => handleOptionChange(8453)\">\n                BASE</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(99781165)\"\n                @change=\"() => handleOptionChange(99781165)\">Non-exist chain</el-checkbox>\n            </el-col>\n          </el-row>\n\n          <!-- <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button type=\"primary\" @click=\"deeplinkActionTest\" icon=\"el-icon-connection\">Deeplink</el-button>\n            </el-col>\n          </el-row> -->\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                type=\"primary\"\n                @click=\"connectBtnClicked\"\n                icon=\"el-icon-connection\"\n                :disabled=\"!areChainsInit\"\n                >{{ connectStatusStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                type=\"danger\"\n                @click=\"disconnectAction\"\n                icon=\"el-icon-switch-button\"\n                :disabled=\"!areChainsInit || walletAddress.length == 0\"\n                >{{ disconnectStatusStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <teleport to=\"body\">\n            <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\n              <div class=\"modal-content\" @click.stop>\n                <button class=\"close-button\" @click=\"closeModal\">\n                  &times;\n                </button>\n                <h2>Scan to connect</h2>\n                <qrcode-vue :value=\"qrValue\" :size=\"200\" level=\"H\" />\n              </div>\n            </div>\n          </teleport>\n        </el-card>\n\n        <!--  -->\n        <el-card class=\"wallet-actions\">\n          <template #header>\n            <div>Transactions</div>\n          </template>\n\n          <el-tabs v-model=\"activeTab\" type=\"border-card\" @tab-click=\"clickActiveTab\">\n            <!-- ETH -->\n            <el-tab-pane label=\"ETH\" name=\"eip155:1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts(ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId(ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain(switch to ETH)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve TONCoin)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_mint\">eth_sendTransaction(eth mint\n                    nft)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add SPX6900)\n                  </el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n            <!-- Polygon-->\n            <el-tab-pane label=\"Polygon\" name=\"eip155:137\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send POL)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve sushi)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_mint\">eth_sendTransaction(polygon mint\n                    nft)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add LGNS)\n                  </el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_testRpc()\">wallet_testRpc(Polygon)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- BSC-->\n            <el-tab-pane label=\"BNB\" name=\"eip155:56\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts(BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId(BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain(switch to BNB)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve POSI)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add FET)\n                  </el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_testRpc()\">wallet_testRpc(check balance on eth)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Fuse\" name=\"eip155:122\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_swap\">eth_sendTransaction(Swap)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"TON\" name=\"ton:-239\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"ton_getAccount\">ton_getAccount</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"ton_sendTransaction\">ton_sendTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- solana -->\n            <el-tab-pane label=\"Sol\" name=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sol_signVersionedTransaction\">solana_signVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sol_signAllVersionedTransactions\">sol_signAllVersionedTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sol_signAndSendVersionedTransaction\">signAndSendVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Sonic\" name=\"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Sonic(svm)\" name=\"svm:70000059\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- Sui-->\n            <el-tab-pane label=\"Sui\" name=\"sui:mainnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_getAccount()\">getAccount(Sui)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_signMessage()\">signMessage(Sui)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_signPersonalMessage()\">signPersonalMessage(Sui)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_signTransaction2()\">signTransaction(Sui)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_signAndExecuteTransaction()\">sendTransaction(send to Rally\n                    Tiger account)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_requestRpc()\">rpc(Sui)</el-button>\n                </el-col>\n              </el-row>\n\n              <div style=\"height: 48px\"></div>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sui_signTransaction_pre_execution()\">signTransaction(prepared data)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sui_signAndExecuteTransaction_pre_execution()\">sendTransaction(prepared data)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_signTransaction()\">signTransaction(Pattern account)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sui_signAndExecuteTransaction_stake()\">stake (Sui)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n            <!-- BTC -->\n            <el-tab-pane label=\"BTC\" name=\"btc:mainnet\">\n              <BTCPanel @generateTransactionParams=\"btc_generateTransactionParams\" />\n            </el-tab-pane>\n\n            <!-- Fractal BTC -->\n            <el-tab-pane label=\"Fractal\" name=\"fractal:mainnet\">\n              <FractalPanel @generateTransactionParams=\"fractal_generateTransactionParams\" />\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Aptos\" name=\"aptos:mainnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signMessage\">aptos_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signTransaction\">aptos_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"aptos_signAndSubmitTransaction\">aptos_signAndSubmitTransaction</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Movement\" name=\"movement:testnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signMessage\">aptos_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"move_signTransaction\">move_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"move_signAndSubmitTransaction\">move_signAndSubmitTransaction</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n          </el-tabs>\n\n          <el-col :xs=\"24\" :sm=\"12\">\n            <div class=\"input-label\">Data:</div>\n            <el-input v-model=\"testTransaction\" type=\"textarea\" :rows=\"5\" placeholder=\"sendTransactions\"></el-input>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\">\n            <div class=\"input-label\">Result :</div>\n            <el-input v-model=\"testboc\" type=\"textarea\" :rows=\"5\" placeholder=\"boc\"></el-input>\n          </el-col>\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button type=\"primary\" @click=\"sendTransaction()\">{{\n                testTransactionStr\n                }}</el-button>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<style scoped>\n/*  */\nbody,\nhtml {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\n/*  app  */\n#app {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0 auto;\n  /*  */\n  max-width: 600px;\n  /*  */\n  padding: 0 20px;\n  /*  */\n}\n\n/*  el-container  */\n.el-container {\n  min-height: 100vh;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n\n/*  el-header  */\n.el-header {\n  background-color: #333333;\n  color: white;\n  height: 50px;\n  line-height: 50px;\n  font-size: 18px;\n  font-weight: bold;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n}\n\n/*  el-main  */\n.el-main {\n  padding: 70px 0 20px;\n  /* header */\n  flex-grow: 1;\n}\n\n.el-card {\n  margin-bottom: 20px;\n}\n\n.info-row {\n  margin-bottom: 10px;\n}\n\n.input-label {\n  margin-bottom: 5px;\n  text-align: left;\n}\n\n.el-input {\n  margin-bottom: 10px;\n}\n\n/*  */\n.wallet-actions .el-button,\n.transaction .el-button,\n.clear-cache .el-button {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n}\n\n.wallet-actions .el-button span,\n.transaction .el-button span,\n.clear-cache .el-button span {\n  margin: 0 auto;\n}\n\n/*  */\n.wallet-actions .button-row,\n.transaction .button-row {\n  margin-bottom: 8px;\n}\n\n.wallet-actions .button-row:last-child,\n.transaction .button-row:last-child {\n  margin-bottom: 0;\n}\n\n/*  */\n.wallet-actions .el-button [class^=\"el-icon-\"],\n.transaction .el-button [class^=\"el-icon-\"],\n.clear-cache .el-button [class^=\"el-icon-\"] {\n  margin-right: 5px;\n  vertical-align: middle;\n}\n\n/*  */\n.transaction .el-row:not(:last-child) {\n  margin-bottom: 10px;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n  position: relative;\n  max-width: 90%;\n  width: 300px;\n}\n\n.close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 24px;\n  border: none;\n  background: none;\n  cursor: pointer;\n}\n\n/*  */\n@media (max-width: 600px) {\n  #app {\n    padding: 0 10px;\n  }\n\n  .el-main {\n    padding: 60px 0 10px;\n  }\n}\n</style>\n<script>\n\nimport {OKX_CONNECT_ERROR_CODES, safeJsonStringify} from \"@okxconnect/core\"\nimport {OKXBtcProvider, OKXUniversalProvider} from \"@okxconnect/universal-provider\"\nimport {OKXSolanaProvider} from \"@okxconnect/solana-provider\";\nimport {\n  Connection,\n  PublicKey,\n  SystemProgram,\n  Transaction,\n  TransactionMessage,\n  VersionedTransaction\n} from '@solana/web3.js';\nimport {OKXSuiProvider as SuiAdapter} from \"@okxconnect/sui-provider\"\nimport {Transaction as SuiTransaction} from '@mysten/sui/transactions';\nimport QrcodeVue from 'qrcode.vue'\nimport {getFullnodeUrl, SuiClient} from \"@mysten/sui/client\";\nimport { OKXTONProvider } from \"@okxconnect/ton-provider\"\n\nimport {OKXAptosProvider} from \"@okxconnect/aptos-provider\";\nimport {Aptos, AptosConfig, Network} from \"@aptos-labs/ts-sdk\";\n\nimport BTCPanel from \"./components/BtcTransactionPanel.vue\";\nimport FractalPanel from \"./components/FractalTransactionPanel.vue\"\n\nimport {OKXUniversalConnectUI, THEME} from \"@okxconnect/ui\";\nimport VConsole from 'vconsole';\nimport nacl from \"tweetnacl\";\n\nnew VConsole();\n\nconst allChains = {\n  1: { name: \"eth\", checked: false },\n  56: { name: \"BNB\", checked: false },\n  137: { name: \"Polygon\", checked: false },\n  122: { name: \"Fuse\", checked: false },\n  \"ton:-239\":{name: \"TON\",checked: false},\n  \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\": {\n    name: \"Sol mainnet\",\n    checked: false,\n  },\n  \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\": {\n    name: \"Sol testnet\",\n    checked: false,\n  },\n  \"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\": {\n    name: \"Sonic testnet\",\n    checked: false,\n  },\n  \"svm:70000059\": { name: \"70000059\", checked: false },\n  \"sui:mainnet\": { name: \"Sui mainnet\", checked: false },\n  \"aptos:mainnet\": { name: \"Aptos mainnet\", checked: false },\n  \"movement:testnet\": { name: \"Movement\", checked: false },\n  \"btc:mainnet\": { name: \"BTC\", checked: false },\n  \"fractal:mainnet\": { name: \"Fractal\", checked: false },\n  997865: { name: \"Non Exist chain\", checked: false },\n};\n\nvar optionChains = new Set([]);\nvar selectedModals = [\"before\", \"success\", \"error\"];\nvar selectedReturnStrategy = \"none\";\nvar selectedDeepLink = \"tg://resolve\";\nvar selectedLanguage = \"en_US\";\nvar selectedTheme = THEME.LIGHT;\n\n// import QrcodeVue from 'qrcode.vue'\nexport default {\n  name: \"App\",\n  components: {\n    QrcodeVue,\n    BTCPanel,\n    FractalPanel\n  },\n\n  data: () => {\n    return {\n      activeTab: \"eip155:1\",\n      testTopic: \"\",\n      testPublicKey: \"\",\n      testProofPayload: \"\",\n      tonProofValue:\"\",\n      pendingDeepLink: \"-\",\n      logList: [],\n      connectReady: false,\n      connectStatusStr: \"Connect\",\n      disconnectStatusStr: \"Disconnect\",\n      localPubKey: \"\",\n      localSecKey: \"\",\n      testTransaction: \"\",\n      selectedChain: \"eip155:1\",\n      testTransactionStr: \"Send\",\n      walletAddress: \"\",\n      testboc: \"\",\n      ProofPayloadVerify: \"\",\n      showModal: false,\n      showVerifyRow: false,\n      qrValue: \"https://www.okx.com/download\",\n      currentStatus: \"\",\n      areChainsInit: false,\n      availableChains: allChains,\n      isOptionalChecked: (chainId) => {\n        return optionChains.has(chainId);\n      },\n      withUI: localStorage.getItem(\"autoRefresh\") != \"false\",\n      modals: selectedModals,\n      returnStrategies: [\"none\", \"back\", \"deeplink\"],\n      returnStrategy: selectedReturnStrategy,\n      deeplink: selectedDeepLink,\n      locales: [\n        \"en_US\",\n        \"ru_RU\",\n        \"zh_CN\",\n        \"zh\",\n        \"ar_AE\",\n        \"cs_CZ\",\n        \"de_DE\",\n        \"es_ES\",\n        \"es_LAT\",\n        \"fr_FR\",\n        \"id_ID\",\n        \"it_IT\",\n        \"nl_NL\",\n        \"pl_PL\",\n        \"pt_BR\",\n        \"pt_PT\",\n        \"ro_RO\",\n        \"tr_TR\",\n        \"uk_UA\",\n        \"vi_VN\",\n      ],\n      language: selectedLanguage,\n      theme: selectedTheme,\n      THEME: THEME,\n      handleWithUI: (isChecked) => {\n        localStorage.setItem(\"autoRefresh\", `${isChecked}`);\n        location.reload();\n      },\n      handleOptionChange: (chainId) => {\n        if (optionChains.has(chainId)) {\n          optionChains.delete(chainId);\n        } else {\n          optionChains.add(chainId);\n        }\n      },\n    };\n  },\n  computed: {\n    getWalletAddress: function () {\n      return this.walletAddress;\n    },\n  },\n  methods: {\n    isChecked(chainId) {\n      return this.selectedChains.has(chainId);\n    },\n\n    initChains(newChains) {\n      if (newChains.length > 0) {\n        const updatedChains = Object.assign({}, this.availableChains);\n        for (const chainId of newChains) {\n          if (updatedChains[chainId]){\n            updatedChains[chainId].checked = !updatedChains[chainId].checked;\n          }\n        }\n        this.availableChains = updatedChains;\n      }\n\n      this.areChainsInit = true;\n    },\n\n    async clickActiveTab(tab) {\n      const tabName = tab.props ? tab.props.name : tab.name;\n      this.selectedChain = tabName;\n      console.log(` :`, tabName);\n\n      if (!window.provider) {\n        console.error(\" \");\n      }\n      window.provider.setDefaultChain(this.selectedChain);\n    },\n\n    async connectBtnClicked() {\n      console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`);\n      if (window.provider) {\n        this.testTonSdk();\n      } else {\n        console.log(`connectBtnClicked provider not finish init`);\n      }\n    },\n\n    async disconnectAction() {\n      try {\n        console.log(\"get disconnect wallet btn clicked\");\n        // await TON.disconnect();\n        var provider = window.provider;\n        await provider.disconnect();\n        this.walletAddress = \"disconnected\";\n      } catch (error) {\n        console.log(\"Disconnect  error ==>> \", error.message);\n        this.currentStatus = error.message;\n      }\n    },\n\n    async eth_requestAccounts() {\n      var data = { method: \"eth_requestAccounts\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async eth_chainId() {\n      var data = { method: \"eth_chainId\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async wallet_switchEthereumChain() {\n      var data = { method: \"wallet_switchEthereumChain\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async wallet_addEthereumChain() {\n      var data = {\n        method: \"wallet_addEthereumChain\",\n        params: {\n          blockExplorerUrls: [\"https://explorer.fuse.io\"],\n          chainId: \"0x7a\",\n          chainName: \"Fuse\",\n          nativeCurrency: { name: \"Fuse\", symbol: \"FUSE\", decimals: 18 },\n          rpcUrls: [\"https://rpc.fuse.io\"],\n        },\n      };\n\n      this.testTransaction = JSON.stringify(data);\n    },\n    async personal_sign() {\n      if (this.selectedChain === \"eip155:1\") {\n        // personal_sign\n        // address\n        // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n        // valid\n        // true\n        // result\n        // 0x1ca023f10e157d148deed210f8bee193657a1eaa7f187909e20a9dc3b071dbc364c41fde37960c05093359f410a061ec8a7dca8c0c39fc7c1e24de8a3329775d1b\n\n        var accounts = await window.provider.request(\n          { method: \"eth_requestAccounts\" },\n          \"eip155\"\n        );\n        var address = accounts[0];\n        console.log(\">>>\", address, JSON.stringify(accounts));\n\n        var dataETH = {\n          method: \"personal_sign\",\n          params: [\n            \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336\",\n            address,\n          ],\n        };\n\n        this.testTransaction = JSON.stringify(dataETH);\n      } else if (\n        this.selectedChain === \"eip155:137\" ||\n        this.selectedChain === \"eip155:122\"\n      ) {\n        // method\n        // personal_sign\n        // address\n        // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n        // valid\n        // true\n        // result\n        // 0xebda9cfa2af43999058dffa0107031d1ef7fc0252dca85dcbd22ea097af922ca39b64d509ef61ce42b7641c5840b8a80337ffd1411b13e87e2260a3f1b6c151c1b\n\n        var dataPolygon = {\n          method: \"personal_sign\",\n          params: {\n            message:\n              \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437\",\n          },\n        };\n        this.testTransaction = JSON.stringify(dataPolygon);\n      } else if (this.selectedChain === \"eip155:56\") {\n        var data = {\n          method: \"personal_sign\",\n          params: {\n            message:\n              \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437\",\n          },\n        };\n\n        this.testTransaction = JSON.stringify(data);\n      }\n    },\n\n    async eth_sendTransaction_swap() {\n      var data = {\n        method: \"eth_sendTransaction\",\n        chainId: \"eip155:122\",\n        params: {\n          value: \"0x38d7ea4c68000\",\n          gas: \"0x2665f\",\n          to: \"0xf2614A233c7C3e7f08b1F887Ba133a13f1eb2c55\",\n          from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n          data: \"0x2646478b000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000038d7ea4c68000000000000000000000000000620fd5fa44be6af63715ef4e65ddfa0387ad13f5000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000700301ffff0201602352A9Eb5234466Eac23E59e7B99bCaE79C39c0BE9e53fd7EDaC9F859882AfdDa116645287C629040BE9e53fd7EDaC9F859882AfdDa116645287C62900602352A9Eb5234466Eac23E59e7B99bCaE79C39c01f2F3e73be57031114dd1f4E75c1DD87658be7F0E000bb800000000000000000000000000000000\",\n        },\n      };\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_signTypedData_v4() {\n      // method\n      // eth_signTypedData\n      // address\n      // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n      // valid\n      // true\n      // result\n      // 0xa8bb3c6b33a119d2d567c7632195c21988df778006082742125a591f5c633f716107883a37f7de6531a6312a5f69022135bf46fe5ab77905b62c82b3395f985e1b\n      //\n\n      // var data = {\n      //   \"method\": \"eth_signTypedData_v4\",\n      //   \"params\": {\n      //     \"typedDataJson\":\"{\\\"types\\\":{\\\"EIP712Domain\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"version\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"chainId\\\",\\\"type\\\":\\\"uint256\\\"},{\\\"name\\\":\\\"verifyingContract\\\",\\\"type\\\":\\\"address\\\"}],\\\"Person\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"wallet\\\",\\\"type\\\":\\\"address\\\"}],\\\"Mail\\\":[{\\\"name\\\":\\\"from\\\",\\\"type\\\":\\\"Person\\\"},{\\\"name\\\":\\\"to\\\",\\\"type\\\":\\\"Person\\\"},{\\\"name\\\":\\\"contents\\\",\\\"type\\\":\\\"string\\\"}]},\\\"primaryType\\\":\\\"Mail\\\",\\\"domain\\\":{\\\"name\\\":\\\"Ether Mail\\\",\\\"version\\\":\\\"1\\\",\\\"chainId\\\":1,\\\"verifyingContract\\\":\\\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\\\"},\\\"message\\\":{\\\"from\\\":{\\\"name\\\":\\\"Cow\\\",\\\"wallet\\\":\\\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\\\"},\\\"to\\\":{\\\"name\\\":\\\"Bob\\\",\\\"wallet\\\":\\\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\\\"},\\\"contents\\\":\\\"Hello, Bob!\\\"}}\"\n      // }}\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\">>>\", address, JSON.stringify(accounts));\n\n      var data = {\n        method: \"eth_signTypedData_v4\",\n        params: [\n          address,\n          {\n            types: {\n              EIP712Domain: [\n                {\n                  name: \"name\",\n                  type: \"string\",\n                },\n                {\n                  name: \"version\",\n                  type: \"string\",\n                },\n                {\n                  name: \"chainId\",\n                  type: \"uint256\",\n                },\n                {\n                  name: \"verifyingContract\",\n                  type: \"address\",\n                },\n              ],\n              Person: [\n                {\n                  name: \"name\",\n                  type: \"string\",\n                },\n                {\n                  name: \"wallet\",\n                  type: \"address\",\n                },\n              ],\n              Mail: [\n                {\n                  name: \"from\",\n                  type: \"Person\",\n                },\n                {\n                  name: \"to\",\n                  type: \"Person\",\n                },\n                {\n                  name: \"contents\",\n                  type: \"string\",\n                },\n              ],\n            },\n            primaryType: \"Mail\",\n            domain: {\n              name: \"Ether Mail\",\n              version: \"1\",\n              chainId: 1,\n              verifyingContract: \"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\",\n            },\n            message: {\n              from: {\n                name: \"Cow\",\n                wallet: \"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\",\n              },\n              to: {\n                name: \"Bob\",\n                wallet: \"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\",\n              },\n              contents: \"Hello, Bob!\",\n            },\n          },\n        ],\n      };\n\n      this.testTransaction = JSON.stringify(data);\n    },\n    async eth_sendTransaction_transfer() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n            chainId: \"0x1\",\n            to: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n            value: \"0x5af3107a4000\",\n            maxPriorityFeePerGas: \"0x3b9aca00\",\n            gas: \"0x5e56\",\n            maxFeePerGas: \"0x2643b9db8\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gasPrice: \"0x17003f6530\",\n            nonce: \"0x0d30\",\n            data: \"0x\",\n            value: \"0x00\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            gasLimit: \"0x5208\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x5e56\",\n            value: \"0x5af3107a4000\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            gasPrice: \"0x3b9aca00\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            chainId: \"0x38\",\n          },\n        };\n      }\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"------\", address);\n      data.params[\"to\"] = address;\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_sendTransaction_approve() {\n      var data = {};\n\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n            data: \"0x095ea7b3000000000000000000000000000000000022d473030f116ddee9f6b43ac78ba3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n            to: \"0x582d872a1b094fc48f5de31d3b73f2d9be47def1\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n            data: \"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000f6f8096ac575b0\",\n            to: \"0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee\",\n            value: \"0x0\",\n            gas: \"0xe117\",\n            gasPrice: \"0xb2d05e00\",\n            data: \"0x095ea7b300000000000000000000000031c2f6fcff4f8759b3bd5bf0e1084a055615c768ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n            to: \"0x5CA42204cDaa70d5c773946e69dE942b85CA6706\",\n          },\n        };\n      }\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"------\", address);\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_sendTransaction_mint() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x4cacb\",\n            data: \"0xa64dfa75000000000000000000000000ed688002f3797599db8b4feacfe8b1dda0df1c8d000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cecb15396825a895ff8da8fc2d2c77a234dccee00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f6261667962656968643737366b6177706e71336f6f6a6635693274787a76617737737164656b34616a776472637472703261366f626b70723773792f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001\",\n            to: \"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c\",\n            value: \"0x0\",\n            from: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x30795\",\n            data: \"0xa64dfa75000000000000000000000000341b3687f0309778f08f29336b2c4b9c38b9f110000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f62616679626569686a6279676b68747a71376b68377434336266686e676e793236337668766f6578716a6d6e377161716166366e717a64743777712f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001\",\n            to: \"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c\",\n            value: \"0x0\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n          },\n        };\n      }\n\n      let str = JSON.stringify(data);\n      console.log(\"-------->\", str.length);\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"------\", address);\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async wallet_testRpc() {\n      let provider = window.provider;\n      provider.setDefaultChain(\n        `eip155:56`,\n        `https://eth-mainnet.g.alchemy.com/v2/NxUfYJUr-TQtEpLmSXhhD5pXn70GwsyV`\n      );\n      var data = {\n        method: \"eth_getBalance\",\n        params: [\"0x8D97689C9818892B700e27F316cc3E41e17fBeb9\", \"latest\"],\n      };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async wallet_watchAsset() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0xe0f63a424a4439cbe457d80e4f4b51ad25b2c56c\",\n              symbol: \"SPX6900\",\n              image:\n                \"https://assets.coingecko.com/coins/images/31401/standard/sticker_%281%29.jpg?1702371083\",\n              decimals: 8,\n            },\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0xeB51D9A39AD5EEF215dC0Bf39a8821ff804A0F01\",\n              symbol: \"LGNS\",\n              image: \"https://polygonscan.com/token/images/originlgns_32.png\",\n              decimals: 9,\n            },\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0x031b41e504677879370e9dbcf937283a8691fa7f\",\n              symbol: \"FET\",\n              image: \"https://bscscan.com/token/images/fetch_32.png\",\n              decimals: 18,\n            },\n          },\n        };\n      }\n\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async ton_sendTransaction() {\n      var data  = {\n        \"messages\":[{\"address\":\"EQARULUYsmJq1RiZ-YiH-IJLcAZUVkVff-KBPwEmmaQGH6aC\",\"amount\":\"205000000\",\"payload\":\"te6cckEBAgEAhwABbQ+KfqUAAADNgG7tIEATEtAIAO87mQKicbKgHIk4pSPP4k5xhHqutqYgAB7USnesDnCcECwbgQMBAJUlk4VhgBD3JEg1TUr75iTijBghOKm/sxNDXUBl7CD6WMut0Q85x4RafwA/Es89DBXoTxuqxVFxyBbzt9Rav2HBUKl7hmkvLuKHLBCW57aK\"}],\n        \"validUntil\":1792481054,\n        \"network\":'-239'}\n      this.testTransaction = JSON.stringify(data)\n    },\n    ton_getAccount() {\n      this.testTransaction = \"  <<>>\"\n      const adapter = new OKXTONProvider(window.provider);\n      let result =   adapter.getAccount()\n      if (result) {\n        this.testboc = JSON.stringify(result);\n      } else {\n        this.testboc = 'null'\n      }\n    },\n\n\n    async sendTransaction() {\n      if (this.selectedChain.startsWith(\"aptos\")\n        || this.selectedChain.startsWith(\"movement\")\n        || this.selectedChain.startsWith(\"solana\")\n        || this.selectedChain.startsWith(\"sonic\")) {\n        return\n      }\n      console.log(\"sendTransaction\", window.provider);\n      console.log(\"sendTransaction11------\", this.testTransaction);\n      if (!window.provider) {\n        console.error(\" \");\n      }\n\n      if (this.testTransaction && window.provider) {\n        // eslint-disable-next-line no-undef\n        const sendData = JSON.parse(this.testTransaction);\n        try {\n          console.log(\"sendTransaction-----22method>>\", sendData.method);\n\n          let chainId = \"eip155:1\";\n          if (this.selectedChain) {\n            chainId = this.selectedChain;\n            console.log(\n              \"sendTransaction-----this.selectedChain>>\",\n              this.selectedChain\n            );\n          }\n          console.log(\"windowOpen[click_1]: \", Date.now());\n          if (chainId == \"sui:mainnet\") {\n            const adapter = new SuiAdapter(window.provider);\n            var suiResult = \"invalid result\";\n            if (this.currentSuiMethod == \"sui_signTransaction\") {\n              suiResult = await adapter.signTransaction(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (\n              this.currentSuiMethod == \"sui_signAndExecuteTransaction\"\n            ) {\n              suiResult = await adapter.signAndExecuteTransaction(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_signMessage\") {\n              console.log(\"signMessage----\", this.currentSuiTransaction);\n              suiResult = await adapter.signMessage(this.currentSuiTransaction);\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_signPersonalMessage\") {\n              console.log(\n                \"signPersonalMessage----\",\n                this.currentSuiTransaction\n              );\n              suiResult = await adapter.signPersonalMessage(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_testRpc\") {\n              console.log(\"test rpc----\", this.currentSuiTransaction);\n              console.log(\n                ` rpc ----->> ${JSON.stringify(sendData)}`\n              );\n              const res = await window.provider.request(sendData, chainId);\n              console.log(` rpc ----->> ${JSON.stringify(result)}`);\n              if (typeof res == \"string\") {\n                this.testboc = res;\n              } else {\n                this.testboc = JSON.stringify(res);\n              }\n            }\n            console.log(\"windowOpen[click_2]: \", Date.now());\n            return;\n          }else if(chainId === \"ton:-239\"){\n            console.log(\n                ` sendTransaction ---ton-->> ${JSON.stringify(sendData)}`\n            );\n            const adapter = new OKXTONProvider(window.provider);\n            let result =  await adapter.sendTransaction(sendData)\n            console.log(\n                ` sendTransaction ----->> ${JSON.stringify(result)}`\n            );\n            if (typeof result == \"string\") {\n              this.testboc = result;\n            } else {\n              this.testboc = JSON.stringify(result);\n            }\n            return\n          }\n\n          if (chainId == 'btc:mainnet') {\n            const btcAdapter = new OKXBtcProvider(window.provider)\n            var btcResult = 'invalid result'\n\n            if (this.currentBtcMethod == 'btc_signMessage') {\n              btcResult = await btcAdapter.signMessage(chainId, this.currentBtcTransaction[\"signStr\"])\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_send') {\n              btcResult = await btcAdapter.send(chainId, this.currentBtcTransaction)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_signPsbt') {\n              btcResult = await btcAdapter.signPsbt(chainId, this.currentBtcTransaction.psbtHex, this.currentBtcTransaction.options)\n\n              this.hexToBase64(btcResult).then(bs64Str => {\n                this.testboc = JSON.stringify(bs64Str)\n              }).catch(error => {\n                this.testboc = error\n              })\n            } else if (this.currentBtcMethod == 'btc_signPsbts') {\n              btcResult = await btcAdapter.signPsbts(chainId, this.currentBtcTransaction.psbtHexs, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_sendInscription') {\n              btcResult = await btcAdapter.sendInscription(chainId, this.currentBtcTransaction.address, this.currentBtcTransaction.inscriptionId, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_signAndPushPsbt') {\n              btcResult = await btcAdapter.signAndPushPsbt(chainId, this.currentBtcTransaction.psbtHex, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            }else if (this.currentBtcMethod == 'btc_sendBitcoin') {\n              btcResult = await btcAdapter.sendBitcoin(chainId, this.currentBtcTransaction.toAddress, this.currentBtcTransaction.satoshis, this.currentBtcTransaction.options)\n\n              this.testboc = JSON.stringify(btcResult)\n            }\n            return\n          }\n\n          if (chainId == 'fractal:mainnet') {\n            const btcAdapter = new OKXBtcProvider(window.provider)\n            var fractalResult = 'invalid result'\n\n            if (this.currentFractalMethod == 'fractal_signMessage') {\n              fractalResult = await btcAdapter.signMessage(chainId, this.currentFractalTransaction['signStr'])\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_send') {\n              fractalResult = await btcAdapter.send(chainId, this.currentFractalTransaction)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_signPsbt') {\n              fractalResult = await btcAdapter.signPsbt(chainId, this.currentFractalTransaction.psbtHex, this.currentFractalTransaction.options)\n              this.hexToBase64(fractalResult).then(bs64Str => {\n                this.testboc = JSON.stringify(bs64Str)\n              }).catch(error => {\n                this.testboc = error\n              })\n            } else if (this.currentFractalMethod == 'fractal_signPsbts') {\n              fractalResult = await btcAdapter.signPsbts(chainId, this.currentFractalTransaction.psbtHexs, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_sendInscription') {\n              fractalResult = await btcAdapter.sendInscription(chainId, this.currentFractalTransaction.address, this.currentFractalTransaction.inscriptionId, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_signAndPushPsbt') {\n              fractalResult = await btcAdapter.signAndPushPsbt(chainId, this.currentFractalTransaction.psbtHex, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            }else if (this.currentFractalMethod == 'fractal_sendBitcoin') {\n              fractalResult = await btcAdapter.sendBitcoin(chainId, this.currentFractalTransaction.toAddress, this.currentFractalTransaction.satoshis, this.currentFractalTransaction.options)\n\n              this.testboc = JSON.stringify(fractalResult)\n            }\n\n            return\n          }\n\n          console.log(` sendTransaction ----->> ${JSON.stringify(sendData)}`)\n          var result = await window.provider.request(sendData, chainId)\n          console.log(` sendTransaction ----->> ${JSON.stringify(result)}`)\n\n          console.log(\"windowOpen[click_3]: \", Date.now());\n          if (typeof result == \"string\") {\n            this.testboc = result;\n          } else {\n            this.testboc = JSON.stringify(result);\n          }\n          console.log(\" --this.testboc--\", this.testboc);\n        } catch (error) {\n          console.error(\" --Error--\", error.message);\n\n          if (error.code === OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR) {\n            this.testboc = error.message;\n          } else {\n            this.testboc = \"\" + error.message;\n          }\n        }\n      } else {\n        alert(\"\");\n      }\n    },\n\n    hexToBase64(hexStr) {\n      var bytes = [];\n      for (var i = 0; i < hexStr.length; i += 2) {\n        bytes.push(parseInt(hexStr.substr(i, 2), 16));\n      }\n      const buffer = new Uint8Array(bytes)\n      const blob = new Blob([buffer]);\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = function (e) {\n          var base64Data = e.target.result.split(\",\")[1]\n          resolve(base64Data);\n        };\n        reader.onerror = function (e) {\n          reject(e);\n        };\n        reader.readAsDataURL(blob);\n      });\n    },\n\n    async testTonSdk() {\n      // 1. connect\n      //  create sub providers for each namespace/chain\n      let nameSpacesChains = [];\n      let optSpaceChains = [];\n\n      let solanaChains = [\n        \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n        \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",\n        \"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",\n      ];\n      let hasEip155, hasSolana, hasSui, hasBtc, hasAptos, hasTon = false\n\n      let suiChains = [\n        \"sui:mainnet\",\n      ];\n\n      let btcChains = [\n        \"btc:mainnet\",\n        \"fractal:mainnet\"\n      ];\n\n      const chains = Object.entries(this.availableChains)\n          .filter((chain) => chain[1].checked)\n          .map((chain) => chain[0]);\n      console.log(`chains  ===> ${chains.values()}`)\n      chains.forEach(function (chainId) {\n        console.log(`chains.forEach chainId  ===> ${chainId}`)\n\n        if (solanaChains.includes(chainId)) {\n          nameSpacesChains.push(chainId);\n          hasSolana = true;\n          return;\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"ton\")) {\n          nameSpacesChains.push(chainId)\n          hasTon = true\n          return\n        }\n        if (typeof chainId == 'string' && (chainId.startsWith(\"aptos\") || chainId.startsWith(\"movement\"))) {\n          nameSpacesChains.push(chainId)\n          hasAptos = true\n          return\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"svm\")) {\n          nameSpacesChains.push(chainId)\n          hasSolana = true\n          return\n        }\n\n        if (suiChains.includes(chainId)) {\n          console.log(`nameSpacesChains.push  ===> ${chainId}`);\n          nameSpacesChains.push(chainId);\n          hasSui = true;\n          return;\n        }\n\n        if (btcChains.includes(chainId)) {\n          console.log(`nameSpacesChains.push  ===> ${chainId}`)\n          nameSpacesChains.push(chainId)\n          hasBtc = true\n          return\n        }\n\n        hasEip155 = true\n        nameSpacesChains.push(`eip155:${chainId}`)\n      })\n\n\n      optionChains.forEach(function (chainId) {\n        if (solanaChains.includes(chainId)) {\n          optSpaceChains.push(chainId);\n          return;\n        }\n        if (typeof chainId == \"string\" && chainId.startsWith(\"svm\")) {\n          nameSpacesChains.push(chainId);\n          hasSolana = true;\n          return;\n        }\n        if (suiChains.includes(chainId)) {\n          optSpaceChains.push(chainId);\n          return;\n        }\n\n        if (btcChains.includes(chainId)) {\n          optSpaceChains.push(chainId)\n          return\n        }\n\n        optSpaceChains.push(`eip155:${chainId}`)\n      })\n\n      console.log(`namespaceChains  ===> ${JSON.stringify(nameSpacesChains)}`);\n      var connectData = {};\n      if (nameSpacesChains && nameSpacesChains.length > 0) {\n        var requireData = {};\n        if (hasEip155) {\n          requireData.eip155 = {\n            chains: nameSpacesChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            ),\n            defaultChain: nameSpacesChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            )[0],\n          };\n        }\n        if (hasSolana) {\n          requireData.solana = {\n            chains: nameSpacesChains.filter(\n              (item) =>\n                item.startsWith(\"solana\") ||\n                item.startsWith(\"sonic\") ||\n                item.startsWith(\"svm\")\n            ),\n            defaultChain: nameSpacesChains.filter(\n              (item) =>\n                item.startsWith(\"solana\") ||\n                item.startsWith(\"sonic\") ||\n                item.startsWith(\"svm\")\n            )[0],\n          };\n        }\n        if (hasTon) {\n\n          //\n          let tonParams = {\n            ton_addr:{\n              name: 'ton_addr',\n            }\n          };\n          if (this.tonProofValue){\n            tonParams = {\n              ton_addr:{\n                name: 'ton_addr',\n              },\n              ton_proof:{\n                name: 'ton_proof',\n                payload: this.tonProofValue,\n              }\n            };\n          }\n\n\n          requireData.ton = {\n            chains: nameSpacesChains.filter(item => item.startsWith(\"ton\")),\n            defaultChain: nameSpacesChains.filter(item => item.startsWith(\"ton\"))[0],\n            params:tonParams\n          };\n        }\n\n        if (hasSui) {\n          requireData.sui = {\n            chains: nameSpacesChains.filter((item) => item.startsWith(\"sui\")),\n            defaultChain: nameSpacesChains.filter((item) =>\n              item.startsWith(\"sui\")\n            )[0],\n            rpcMap: {\n              \"sui:mainnet\": \"https://www.okx.com/fullnode/sui/discover/rpc\"\n            }\n          };\n        }\n        if (hasAptos) {\n          requireData.aptos = {\n            chains: nameSpacesChains.filter(item => item.startsWith(\"aptos\") || item.startsWith(\"movement\")),\n            defaultChain: nameSpacesChains.filter(item => item.startsWith(\"aptos\") || item.startsWith(\"movement\"))[0]\n          }\n        }\n\n        if (hasBtc) {\n          let btcChains = nameSpacesChains.filter(item => item.startsWith(\"btc\") || item.startsWith(\"fractal\"))\n          requireData.btc = {\n            chains: btcChains,\n            defaultChain: btcChains[0]\n          }\n        }\n        console.log(`requireData  ===> ${JSON.stringify(requireData)}`)\n        connectData['namespaces'] = requireData;\n        console.log(JSON.stringify(connectData))\n      }\n\n      if (optSpaceChains && optSpaceChains.length > 0) {\n        var optData = {\n          eip155: {\n            chains: optSpaceChains.filter((item) => item.startsWith(\"eip155\")),\n            defaultChain: optSpaceChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            )[0],\n          },\n        };\n        connectData[\"optionalNamespaces\"] = optData;\n      }\n\n      if (nameSpacesChains.length === 0 && optSpaceChains.length === 0) {\n        //\n        alert(\"\");\n        return;\n      }\n      console.log(\"=====>connectData \");\n      console.log(connectData);\n\n      var connectMethod;\n      if (window.provider instanceof OKXUniversalConnectUI) {\n        connectMethod = window.provider.openModal(connectData);\n      } else {\n        connectMethod = window.provider.connect(connectData);\n      }\n\n      await connectMethod\n        .then(() => {\n          // 2. set defaul chain\n          this.walletAddress = \"connected\";\n          if (this.isPC()) {\n            this.showModal = false;\n          }\n        })\n        .catch((error) => {\n          console.error(\"\", error);\n        });\n    },\n\n    closeModal() {\n      this.showModal = false;\n    },\n\n    isPC() {\n      const userAgentInfo = navigator.userAgent;\n      console.log(\"current device ua is ===>\", userAgentInfo);\n\n      const Agents = [\n        \"Android\",\n        \"iPhone\",\n        \"SymbianOS\",\n        \"Windows Phone\",\n        \"iPad\",\n        \"iPod\",\n      ];\n      let flag = true;\n      for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n          flag = false;\n          break;\n        }\n      }\n      return flag;\n    },\n    isSafariOrChrome() {\n      const userAgentInfo = navigator.userAgent;\n      const Agents = [\"Safari\", \"Chrome\"];\n      let flag = false;\n      for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n          flag = true;\n          break;\n        }\n      }\n      return flag;\n    },\n\n    /// solana\n    async sol_signMessage() {\n      //  if (this.selectedChain === \"eip155:56\") {\n      let data = {\n        method: \"solana_signMessage\",\n        params: {\n          message: \"Hello Solana\",\n          pubkey: \"\",\n        },\n      };\n      this.testTransaction = JSON.stringify(data);\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let message = await provider.signMessage(\n          \"Hello Solana\",\n        this.selectedChain\n      );\n\n      const result1 = nacl.sign.detached.verify(\n          new TextEncoder().encode(\"Hello Solana\"),\n          message.signature,\n          new PublicKey(message.publicKey).toBytes()\n      );\n      console.log(result1)\n\n      if (typeof message == \"string\") {\n        this.testboc = result1;\n      } else {\n        this.testboc = result1;\n      }\n    },\n\n    async aptos_signMessage() {\n      //  if (this.selectedChain === \"eip155:56\") {\n      let data = {\n        address: true,\n        application: true,\n        chainId: true,\n        message: \"123 !\",\n        nonce: \"1234\"\n      }\n\n      let provider = new OKXAptosProvider(window.provider)\n      let message = await provider.signMessage(data, this.selectedChain)\n      this.testTransaction = JSON.stringify(data)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async aptos_signTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"],\n          functionArguments: [\"10000\", [\"9104\"], [\"5\"], [\"true\"]],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async move_signTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\"],\n          functionArguments: [\"10000\", \"12\"],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async move_signAndSubmitTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\"],\n          functionArguments: [\"10000\", \"12\"],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signAndSubmitTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async aptos_signAndSubmitTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"],\n          functionArguments: [\"10000\", [\"9104\"], [\"5\"], [\"true\"]],\n        },\n      });\n\n      // let data = {\n      //   \"arguments\": [\"100000\",[\"0\",\"0\",\"10533\"],[\"10\",\"5\",\"5\"],[\"false\",\"false\",\"true\"]],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x3\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\",\"0x73eb84966be67e4697fc5ae75173ca6c35089e802650f75422ab49a8729704ec::coin::DooDoo\",\"0x53a30a6e5936c0a4c5140daed34de39d17ca7fcae08f947c02e979cef98a3719::coin::LSD\",\"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::CurveV1\",\"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\",\"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\",\"0x54cb0bb2c18564b86e34539b9f89cfe1186e39d89fce54e1cd007b8e61673a85::bin_steps::X80\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signAndSubmitTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async sol_signVersionedTransaction() {\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let pubkey = new PublicKey(\n        provider.getAccount(\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\").address\n      );\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n         recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAndSendVersionedTransaction() {\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let pubkey = new PublicKey(provider.getAccount().address);\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n        recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAndSendTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAllVersionedTransactions() {\n      let provider = new OKXSolanaProvider(window.provider);\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      let pubkey = new PublicKey(provider.getAccount().address);\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n        recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAllTransactions(\n        [transaction],\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signTransaction() {\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n         recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: 1000,\n        })\n      );\n\n      this.testTransaction = safeJsonStringify(transaction)\n      let result = await provider.signTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAllTransactions() {\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n        recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: \"100\",\n        })\n      );\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAllTransactions(\n        [transaction],\n        this.selectedChain\n      );\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    getSolConnect() {\n      let rpc = \"https://www.okx.com/fullnode/sol/discover/rpc\"\n      if (this.selectedChain === \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\") {\n        rpc = \"https://www.okx.com//fullnode/sol/discover/rpc\"\n      } else if (this.selectedChain === \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"){\n        rpc = \"https://www.okx.com/fullnode/soltestnet/discover/rpc\"\n      } else if (this.selectedChain === \"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\") {\n        rpc = \"https://www.okx.com/fullnode/sonic/testnet/discover/rpc/sonic-testnet-rpc-light\"\n      }\n      return rpc\n    },\n\n    async sol_signAndSendTransaction() {\n\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n        recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: \"100\",\n        })\n      );\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAndSendTransaction(\n        transaction,\n        this.selectedChain\n      );\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    // Sui methods\n    sui_getAccount() {\n      let provider = new SuiAdapter(window.provider)\n      let result = provider.getAccount()\n      if (typeof result == \"string\") {\n        this.testboc = result\n      } else {\n        this.testboc = JSON.stringify(result)\n      }\n    },\n\n    //)\n    async sui_signMessage() {\n      const data = [\n        76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n        109, 111, 118, 101,\n      ];\n      const uint8Array = new Uint8Array(data);\n      let input = {\n        message: uint8Array,\n      };\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signMessage\";\n    },\n\n    async sui_signPersonalMessage() {\n      const data = [\n        76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n        109, 111, 118, 101,\n      ];\n      const uint8Array = new Uint8Array(data);\n      let input = {\n        message: uint8Array,\n      };\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signPersonalMessage\";\n    },\n\n    //\n    sui_signAndExecuteTransaction() {\n      // \n      const amount = 115; // \n      /// Rally Tiger\n      const recipientAddress =\n        \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // \n\n      /// \n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signAndExecuteTransaction\";\n    },\n\n    async deeplinkActionTest() {\n      // let url = \"okx://web3/wallet/connect\"\n      let url =\n        \"https://www.okx.com/download?deeplink=okx%3A%2F%2Fweb3%2Fwallet%2Fconnect\";\n      await this.performAsyncTask();\n      window.open(url, \"_self\");\n    },\n    async performAsyncTask() {\n      // \n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(\"Task completed\");\n        }, 5000); // 5\n      });\n    },\n\n    sui_signTransaction2() {\n      // \n      const amount = 109; // \n      /// Rally Tiger\n      const recipientAddress =\n        \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // \n\n      /// \n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signTransaction\";\n    },\n\n    //\n    async sui_signTransaction() {\n      // const tx = new Transaction();\n      // console.log(tx)\n      // // \n      // const amount = 100; // \n      // const recipientAddress = '0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2'; // \n      // const [coin] = tx.splitCoins(tx.gas, [amount]);\n      // tx.setSender('0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2')\n      // tx.transferObjects([coin], recipientAddress);\n      // console.log(\"====rpcUrl: \", rpcUrl)\n\n      let str =\n        '{\"version\":1, \"expiration\":null,\"gasConfig\":{\"payment\":[{\"objectId\":\"0x04a1673fa847afa845e477925c271cb3e8cf0d19cfb830e8c3e841adc299cbca\",\"version\":\"391804724\",\"digest\":\"AHXon1Qvb1xUj5r7aaHyHfLgGhdeNXQ1V3RaNW755mVK\"}],\"owner\":\"0xe62ee1c436125b5b6224cb11b0fa9fbf2c313743aea84eead0450ab49dd0d6ed\",\"price\":\"750\",\"budget\":\"8177120\"},\"inputs\":[{\"kind\":\"Input\",\"type\":\"object\",\"index\":0,\"value\":\"0x0000000000000000000000000000000000000000000000000000000000000006\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":1,\"value\":\"0xbb4e2f4b6205c2e2a2db47aeb4f830796ec7c005f88537ee775986639bc442fe\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":2,\"value\":\"0x96df0fce3c471489f4debaaa762cf960b3d97820bd1f3f025ff8190730e958c5\"},{\"kind\":\"Input\",\"index\":3,\"value\":{\"Pure\":[0]},\"type\":\"pure\"},{\"kind\":\"Input\",\"index\":4,\"value\":{\"Pure\":[0,202,154,59,0,0,0,0]},\"type\":\"pure\"},{\"kind\":\"Input\",\"index\":5,\"value\":{\"Pure\":[0,202,154,59,0,0,0,0]},\"type\":\"pure\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":6,\"value\":\"0xaaf735bf83ff564e1b219a0d644de894ef5bdc4b2250b126b2a46dd002331821\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":7,\"value\":\"0xf87a8acb8b81d14307894d12595541a73f19933f88e1326d5be349c7a6f7559c\"}],\"transactions\":[{\"kind\":\"SplitCoins\",\"coin\":{\"kind\":\"GasCoin\"},\"amounts\":[{\"kind\":\"Input\",\"index\":4,\"value\":{\"Pure\":[0,202,154,59,0,0,0,0]},\"type\":\"pure\"}]},{\"kind\":\"MoveCall\",\"target\":\"0x834a86970ae93a73faf4fff16ae40bdb72b91c47be585fff19a2af60a19ddca3::incentive_v2::entry_deposit\",\"typeArguments\":[\"0x2::sui::SUI\"],\"arguments\":[{\"kind\":\"Input\",\"type\":\"object\",\"index\":0,\"value\":\"0x0000000000000000000000000000000000000000000000000000000000000006\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":1,\"value\":\"0xbb4e2f4b6205c2e2a2db47aeb4f830796ec7c005f88537ee775986639bc442fe\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":2,\"value\":\"0x96df0fce3c471489f4debaaa762cf960b3d97820bd1f3f025ff8190730e958c5\"},{\"kind\":\"Input\",\"index\":3,\"value\":{\"Pure\":[0]},\"type\":\"pure\"},{\"kind\":\"Result\",\"index\":0},{\"kind\":\"Input\",\"index\":5,\"value\":{\"Pure\":[0,202,154,59,0,0,0,0]},\"type\":\"pure\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":6,\"value\":\"0xaaf735bf83ff564e1b219a0d644de894ef5bdc4b2250b126b2a46dd002331821\"},{\"kind\":\"Input\",\"type\":\"object\",\"index\":7,\"value\":\"0xf87a8acb8b81d14307894d12595541a73f19933f88e1326d5be349c7a6f7559c\"}]}]}';\n\n      /// transaction\n      const tx = SuiTransaction.from(str);\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// transaction\n      this.testTransaction = JSON.stringify(input);\n      /// transaction\n      this.currentSuiTransaction = input;\n      /// SuiAdaper\n      this.currentSuiMethod = \"sui_signTransaction\";\n    },\n\n    async sui_requestRpc() {\n      let provider = window.provider;\n      provider.setDefaultChain(\n        `sui:mainnet`,\n        `https://fullnode.mainnet.sui.io:443`\n      );\n      var data = {\n        method: \"suix_getBalance\",\n        params: [\n          \"0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae\",\n          \"0x168da5bf1f48dafc111b0a488fa454aca95e0b5e::usdc::USDC\",\n        ],\n      };\n      this.testTransaction = JSON.stringify(data);\n      this.currentSuiTransaction = JSON.stringify(data);\n      this.currentSuiMethod = \"sui_testRpc\";\n    },\n\n    async sui_signAndExecuteTransaction_stake() {\n      if (this.testboc.length == 0) {\n        alert(\"input.serilize()\");\n        return;\n      }\n      let str = this.testboc;\n\n      let tx;\n      try {\n        /// transaction\n        tx = SuiTransaction.from(str);\n      } catch (error) {\n        alert(\"\");\n      }\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// transaction\n      this.testTransaction = JSON.stringify(input);\n      /// transaction\n      this.currentSuiTransaction = input;\n      /// SuiAdaper\n      this.currentSuiMethod = \"sui_signAndExecuteTransaction\";\n    },\n\n    /// txBytestxSerizalize\n    async sui_signTransaction_pre_execution() {\n      // \n      const amount = 102; // \n      /// Rally Tiger\n      const recipientAddress =\n        \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // \n\n      /// \n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// txBytestxSerialize\n      const [txBytes, txSerialize] = await this.generateTsBytesAndSerizlize(\n        input\n      );\n      input.txBytes = txBytes;\n      input.txSerialize = txSerialize;\n\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signTransaction\";\n    },\n\n    /// txBytestxSerizalize\n    async sui_signAndExecuteTransaction_pre_execution() {\n      // \n      const amount = 115; // \n      /// Rally Tiger\n      const recipientAddress =\n        \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // \n\n      /// \n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n\n      const input = {\n        transactionBlock: tx,\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// txBytestxSerialize\n      const [txBytes, txSerialize] = await this.generateTsBytesAndSerizlize(\n        input\n      );\n      input.txBytes = txBytes;\n      input.txSerialize = txSerialize;\n\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signAndExecuteTransaction\";\n    },\n\n    /// generate txBytes and txSerialize\n    async generateTsBytesAndSerizlize(input) {\n      /// txBytes and txSerialize may be constructed in advance by the dapp side\n      let resultTuple = [\"\", \"\"];\n      if (\n        \"txBytes\" in input &&\n        input.txBytes.length > 0 &&\n        \"txSerialize\" in input &&\n        input.txSerialize.length > 0\n      ) {\n        resultTuple = [input.txBytes, input.txSerialize];\n      }\n\n      /// Otherwise, a transactionBlock parameter is required.\n      if (!(\"transactionBlock\" in input)) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      if (this.walletAddress != \"connected\") {\n        alert(\"\");\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      let senderAccounts = window.provider.requestAccountsWithNamespace(\"sui\");\n      if (senderAccounts.length == 0) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      try {\n        let rpcUrl = getFullnodeUrl(\"mainnet\");\n        rpcUrl = \"https://www.okx.com/fullnode/sui/discover/rpc\"\n        const suiClient = new SuiClient({ url: rpcUrl });\n\n        /// sender is required\n        input.transactionBlock.setSender(senderAccounts[0]);\n        const result = await input.transactionBlock.build({\n          client: suiClient,\n        });\n        const txBytes = Buffer(result).toString(\"base64\");\n        const txSerialize = await SuiTransaction.from(txBytes).toJSON();\n        resultTuple = [txBytes, txSerialize];\n      } catch (error) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      return new Promise((resolve) => {\n        resolve(resultTuple)\n      })\n    },\n\n    btc_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentBtcTransaction = params\n      this.currentBtcMethod = flag\n      console.log(\": \", params)\n      console.log(\"flag: \", flag)\n    },\n\n    fractal_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentFractalTransaction = params\n      this.currentFractalMethod = flag\n      console.log(\": \", params)\n      console.log(\"flag: \", flag)\n    },\n    handleModalsSelect(modals) {\n      selectedModals = modals;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedDeepLink,\n            modals: modals.length === 3 ? \"all\" : modals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleReturnStrategySelect(returnStrategy) {\n      selectedReturnStrategy = returnStrategy === \"deeplink\" ? this.deeplink : returnStrategy;\n\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleReturnStrategyDeeplink(deeplink) {\n      selectedReturnStrategy = deeplink;\n\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: deeplink,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleLanguageSelect(language) {\n      selectedLanguage = language;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: language,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleThemeSelect(theme) {\n      selectedTheme = theme;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: theme,\n          },\n        };\n      }\n    },\n  },\n  created() {\n    // for (const eventName of Object.values(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT)) {\n    //   console.log(eventName);\n    //   window.addEventListener(eventName, (event) => {\n    //     console.log(eventName,event.detail)\n    //     this.currentStatus = eventName\n    //   });\n    // }\n  },\n\n  mounted() {\n\n    var scriptTag = document.createElement(\"script\");\n    scriptTag.src = \"https://telegram.org/js/telegram-web-app.js\";\n    scriptTag.id = \"tgsdk\";\n    document.getElementsByTagName('head')[0].appendChild(scriptTag);\n\n    this.connectReady = true;\n    document.title = \"OKX Connect\";\n    var initCall;\n    if (!this.withUI) {\n      initCall = OKXUniversalProvider.init({\n        dappMetaData: {\n          name: \"univer test dapp\",\n          icon: \"https://avatars.githubusercontent.com/u/37784886\",\n        },\n      });\n    } else {\n      initCall = OKXUniversalConnectUI.init({\n        dappMetaData: {\n          icon: \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n          name: \"OKX WalletConnect UI Demo 2\",\n        },\n        actionsConfiguration: {\n          returnStrategy: selectedReturnStrategy,\n          modals: \"all\",\n        },\n        language: selectedLanguage,\n        uiPreferences: {\n          theme: selectedTheme\n        },\n      });\n    }\n\n    initCall.then((provider) => {\n      window.provider = provider;\n      console.log(\"init finished:\", provider);\n      console.log(\"init finished session:\", JSON.stringify(provider.session));\n\n      if (provider.session?.namespaces) {\n        const newChains = [];\n        console.log(\"namespaces\", provider.session.namespaces);\n        Object.entries(provider.session.namespaces).forEach(([key, value]) => {\n          if (key === \"eip155\") {\n            value.chains.forEach((chain) => {\n              newChains.push(parseInt(chain.substring(7)));\n            });\n          } else if (key === \"aptos\") {\n            value.chains.forEach((chain) => {\n              if (chain === \"aptos:637\") {\n                newChains.push(\"aptos:mainnet\")\n              } else {\n                newChains.push(\"movement:testnet\")\n              }\n            })\n          }\n          else {\n            value.chains.forEach((chain) => {\n              newChains.push(chain);\n            });\n          }\n        });\n\n        console.log(\"existing chains:\", newChains);\n        this.initChains(newChains);\n      } else {\n        this.initChains([]);\n      }\n\n      provider.on(\"display_uri\", (uri) => {\n        if (this.isPC()) {\n          if (uri && !this.withUI) {\n            this.qrValue = uri;\n            this.showModal = true;\n          }\n        }\n        console.log(\">>>display_uri  ==> \", uri);\n      });\n\n      provider.on(\"connect\", (session) => {\n        console.log(\">>>get connect session\", session);\n      });\n      provider.on(\"reconnect\", (session) => {\n        console.log(\">>>get reconnect session\", session);\n        this.walletAddress = \"connected\";\n      });\n      provider.on(\"disconnect\", ({ topic }) => {\n        console.log(`>>>get disconnect  ${topic}`);\n        this.walletAddress = \"disconnecteddddd\";\n      });\n      provider.on(\"session_delete\", ({ topic }) => {\n        console.log(`>>>get session_delete  ${topic}`);\n      });\n      provider.on(\"session_update\", (session) => {\n        console.log(`>>>get session_update `, JSON.stringify(session));\n      });\n    });\n  },\n};\n</script>\n","<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_signMessage()\">signMessage(BTC)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <div style=\"font-size: 12px; color: gray;\">(Patternlegacy)</div>\n      <el-input class=\"grid-content\" v-model=\"sendAmount\" clearable placeholder=\"\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_send()\">send(BTC)</el-button>\n      <br>\n      <el-input class=\"grid-content\" v-model=\"sendSatoshisAmount\" clearable placeholder=\"satoshi\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_sendBitcoin()\">sendBitcoin(BTC)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"psbtHex\" clearable placeholder=\"Psbt\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_signPsbt_up()\">signPsbt(NFT)</el-button>\n      <br>\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"btc_signAndPushPsbt_up()\">signAndPushPsbt(NFT)</el-button>\n      <br>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. OKX AppBtc NFT\n        </li>\n        <li>\n          2. \n        </li>\n        <li>\n          3. psbt\n        </li>\n        <li>\n          4.  https://chainquery.com/bitcoin-cli/decodepsbt\n        </li>\n      </div>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"nftId\" clearable placeholder=\"NFT ID\" />\n      <el-input class=\"grid-content\" v-model=\"receiver\" clearable placeholder=\"\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_sendInscription()\">sendInscription(BTC)</el-button>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. webNFTBtc NFT\n        </li>\n        <li>\n          2. NFTURLNFT idurl\n        </li>\n        <li>\n          3. sendInscription\n        </li>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n  name: 'BtcTransactionPanel',\n  props: {\n    msg: String\n  },\n  setup() {\n    const nftId = ref('')\n    const sendAmount = ref(0.000015)\n    const sendSatoshisAmount = ref(17100)\n    const psbtHex = ref('')\n    const receiver = ref('')\n    return {\n      nftId,\n      receiver,\n      psbtHex,\n      sendAmount,\n      sendSatoshisAmount\n    }\n  },\n  methods: {\n    btc_signMessage() {\n      let params = {\n        from: \"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\",\n        signStr: \"Welcome to UniSat!\\n\\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\\n    \\nThis request will not trigger a blockchain transaction.\\n    \\nYour authentication status will reset after 24 hours.\\n    \\nWallet address:\\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\\n    \\nNonce:\\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\\n\"\n      };\n      this.$emit('generateTransactionParams', params, \"btc_signMessage\")\n    },\n\n    btc_send() {\n      if (this.sendAmount == 0) {\n        alert(\"\")\n        return\n      }\n      let params = {\n        from: '',\n        to: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // patternlegacy\n        value: `${this.sendAmount}`\n      }\n      this.$emit('generateTransactionParams', params, \"btc_send\")\n    },\n\n    btc_sendBitcoin() {\n      if (this.sendAmount == 0) {\n        alert(\"\")\n        return\n      }\n\n      let params = {\n        from: '',\n        toAddress: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // patternlegacy\n        satoshis: `${this.sendSatoshisAmount}`,\n        options: {\n          feeRate: 16\n        }\n      }\n      this.$emit('generateTransactionParams', params, \"btc_sendBitcoin\")\n    },\n\n    btc_signPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: false\n        }\n      }, \"btc_signPsbt\")\n    },\n\n    btc_signAndPushPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: true\n        }\n      }, \"btc_signAndPushPsbt\")\n    },\n\n    btc_sendInscription() {\n      if (!this.nftId) {\n        alert(\"NFT ID\")\n        return\n      }\n\n      if (!this.receiver) {\n        alert(\"\")\n        return\n      }\n\n      this.$emit('generateTransactionParams', {\n        address: this.receiver,\n        inscriptionId: this.nftId,\n        options: {\n          feeRate: \"15\"\n        }\n      }, \"btc_sendInscription\")\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>\n","import { render } from \"./BtcTransactionPanel.vue?vue&type=template&id=17e9106e&scoped=true\"\nimport script from \"./BtcTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./BtcTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./BtcTransactionPanel.vue?vue&type=style&index=0&id=17e9106e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17e9106e\"]])\n\nexport default __exports__","<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_signMessage()\">signMessage(Fractal)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <div style=\"font-size: 12px; color: gray;\">(Patternlegacy)</div>\n      <el-input class=\"grid-content\" v-model=\"sendAmount\" clearable placeholder=\"\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_send()\">send(Fractal)</el-button>\n      <br>\n      <el-input class=\"grid-content\" v-model=\"sendSatoshisAmount\" clearable placeholder=\"satoshi\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_sendBitcoin()\">sendBitcoin(Fractal)</el-button>\n\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"psbtHex\" clearable placeholder=\"Psbt\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_signPsbt_up()\">signPsbt(NFT)</el-button>\n      <br>\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"fractal_signAndPushPsbt_up()\">signAndPushPsbt(NFT)</el-button>\n      <br>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. OKX AppFractal NFT\n        </li>\n        <li>\n          2. \n        </li>\n        <li>\n          3. psbt\n        </li>\n        <li>\n          4.  https://chainquery.com/bitcoin-cli/decodepsbt\n        </li>\n      </div>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"nftId\" clearable placeholder=\"NFT ID\" />\n      <el-input class=\"grid-content\" v-model=\"receiver\" clearable placeholder=\"\" />\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"fractal_sendInscription()\">sendInscription(Fractal)</el-button>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. webNFTFractal NFT\n        </li>\n        <li>\n          2. NFTURLNFT idurl\n        </li>\n        <li>\n          3. sendInscription\n        </li>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n  name: 'BtcTransactionPanel',\n  props: {\n    msg: String\n  },\n  setup() {\n    const nftId = ref('')\n    const sendAmount = ref(0.000015)\n    const sendSatoshisAmount = ref(17100)\n    const psbtHex = ref('')\n    const receiver = ref('')\n    return {\n      nftId,\n      receiver,\n      psbtHex,\n      sendAmount,\n      sendSatoshisAmount\n    }\n  },\n  methods: {\n    fractal_signMessage() {\n      let params = {\n        from: \"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\",\n        signStr: \"Welcome to UniSat!\\n\\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\\n    \\nThis request will not trigger a blockchain transaction.\\n    \\nYour authentication status will reset after 24 hours.\\n    \\nWallet address:\\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\\n    \\nNonce:\\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\\n\"\n      };\n      this.$emit('generateTransactionParams', params, \"fractal_signMessage\")\n    },\n\n    fractal_send() {\n      if (this.sendAmount == 0) {\n        alert(\"\")\n        return\n      }\n      let params = {\n        from: '',\n        to: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // patternlegacy\n        value: `${this.sendAmount}`\n      }\n      this.$emit('generateTransactionParams', params, \"fractal_send\")\n    },\n\n    fractal_sendBitcoin() {\n      if (this.sendAmount == 0) {\n        alert(\"\")\n        return\n      }\n\n      let params = {\n        from: '',\n        toAddress: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // patternlegacy\n        satoshis: `${this.sendSatoshisAmount}`,\n        options: {\n          feeRate: 16\n        }\n      }\n      this.$emit('generateTransactionParams', params, \"fractal_sendBitcoin\")\n    },\n\n    fractal_signPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: false\n        }\n      }, \"fractal_signPsbt\")\n    },\n\n    fractal_signAndPushPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: true\n        }\n      }, \"fractal_signAndPushPsbt\")\n    },\n\n    fractal_sendInscription() {\n      if (!this.nftId) {\n        alert(\"NFT ID\")\n        return\n      }\n\n      if (!this.receiver) {\n        alert(\"\")\n        return\n      }\n\n      this.$emit('generateTransactionParams', {\n        address: this.receiver,\n        inscriptionId: this.nftId,\n        options: {\n          feeRate: \"15\"\n        }\n      }, \"fractal_sendInscription\")\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>\n","import { render } from \"./FractalTransactionPanel.vue?vue&type=template&id=02b5b8a5&scoped=true\"\nimport script from \"./FractalTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./FractalTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./FractalTransactionPanel.vue?vue&type=style&index=0&id=02b5b8a5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-02b5b8a5\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=5b23de3c&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5b23de3c&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b23de3c\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(ElementPlus)\napp.mount('#app')","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a2, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a2, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a2, prop, b[prop]);\n    }\n  return a2;\n};\nvar __spreadProps = (a2, b) => __defProps(a2, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar _a, _b, _c, _d, _e, _f, _g, _i;\nObject.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: \"Module\" } });\nconst core = require(\"@okxconnect/core\");\nconst tonsdk = require(\"@okxconnect/tonsdk\");\nconst UAParser = require(\"ua-parser-js\");\nconst cn = require(\"classnames\");\nconst deepmerge = require(\"deepmerge\");\nconst universalProvider = require(\"@okxconnect/universal-provider\");\nconst _interopDefaultLegacy = (e2) => e2 && typeof e2 === \"object\" && \"default\" in e2 ? e2 : { default: e2 };\nconst UAParser__default = /* @__PURE__ */ _interopDefaultLegacy(UAParser);\nconst cn__default = /* @__PURE__ */ _interopDefaultLegacy(cn);\nconst deepmerge__default = /* @__PURE__ */ _interopDefaultLegacy(deepmerge);\nvar THEME = /* @__PURE__ */ ((THEME2) => {\n  THEME2[\"DARK\"] = \"DARK\";\n  THEME2[\"LIGHT\"] = \"LIGHT\";\n  return THEME2;\n})(THEME || {});\nclass OKXConnectUiError extends core.OKXConnectError {\n  constructor(message) {\n    super(1, message);\n  }\n}\nconst sharedConfig = {\n  context: void 0,\n  registry: void 0,\n  effects: void 0,\n  done: false,\n  getContextId() {\n    return getContextId(this.context.count);\n  },\n  getNextContextId() {\n    return getContextId(this.context.count++);\n  }\n};\nfunction getContextId(count) {\n  const num = String(count), len = num.length - 1;\n  return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : \"\") + num;\n}\nconst equalFn = (a2, b) => a2 === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst SUPPORTS_PROXY = typeof Proxy === \"function\";\nconst $TRACK = Symbol(\"solid-track\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nvar Owner = null;\nlet Transition$1 = null;\nlet ExternalSourceConfig = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener, owner = Owner, unowned = fn.length === 0, current = detachedOwner === void 0 ? owner : detachedOwner, root = unowned ? UNOWNED : {\n    owned: null,\n    cleanups: null,\n    context: current ? current.context : null,\n    owner: current\n  }, updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s2 = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || void 0\n  };\n  const setter = (value2) => {\n    if (typeof value2 === \"function\") {\n      value2 = value2(s2.value);\n    }\n    return writeSignal(s2, value2);\n  };\n  return [readSignal.bind(s2), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c2 = createComputation(fn, value, true, STALE);\n  updateComputation(c2);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c2 = createComputation(fn, value, false, STALE);\n  updateComputation(c2);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c2 = createComputation(fn, value, false, STALE);\n  if (!options || !options.render)\n    c2.user = true;\n  Effects ? Effects.push(c2) : updateComputation(c2);\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c2 = createComputation(fn, value, true, 0);\n  c2.observers = null;\n  c2.observerSlots = null;\n  c2.comparator = options.equals || void 0;\n  updateComputation(c2);\n  return readSignal.bind(c2);\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (Listener === null)\n    return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    if (ExternalSourceConfig)\n      ;\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null)\n    ;\n  else if (Owner.cleanups === null)\n    Owner.cleanups = [fn];\n  else\n    Owner.cleanups.push(fn);\n  return fn;\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o2, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o2;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  let value;\n  return Owner && Owner.context && (value = Owner.context[context.id]) !== void 0 ? value : context.defaultValue;\n}\nfunction children(fn) {\n  const children2 = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children2()));\n  memo.toArray = () => {\n    const c2 = memo();\n    return Array.isArray(c2) ? c2 : c2 != null ? [c2] : [];\n  };\n  return memo;\n}\nfunction readSignal() {\n  if (this.sources && this.state) {\n    if (this.state === STALE)\n      updateComputation(this);\n    else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current = node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i2 = 0; i2 < node.observers.length; i2 += 1) {\n          const o2 = node.observers[i2];\n          const TransitionRunning = Transition$1 && Transition$1.running;\n          if (TransitionRunning && Transition$1.disposed.has(o2))\n            ;\n          if (TransitionRunning ? !o2.tState : !o2.state) {\n            if (o2.pure)\n              Updates.push(o2);\n            else\n              Effects.push(o2);\n            if (o2.observers)\n              markDownstream(o2);\n          }\n          if (!TransitionRunning)\n            o2.state = STALE;\n        }\n        if (Updates.length > 1e6) {\n          Updates = [];\n          if (false)\n            ;\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn)\n    return;\n  cleanNode(node);\n  const time = ExecCount;\n  runComputation(node, node.value, time);\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  const owner = Owner, listener = Listener;\n  Listener = Owner = node;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    node.updatedAt = time + 1;\n    return handleError(err);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue);\n    } else\n      node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c2 = {\n    fn,\n    state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: Owner ? Owner.context : null,\n    pure\n  };\n  if (Owner === null)\n    ;\n  else if (Owner !== UNOWNED) {\n    {\n      if (!Owner.owned)\n        Owner.owned = [c2];\n      else\n        Owner.owned.push(c2);\n    }\n  }\n  return c2;\n}\nfunction runTop(node) {\n  if (node.state === 0)\n    return;\n  if (node.state === PENDING)\n    return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback))\n    return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (node.state)\n      ancestors.push(node);\n  }\n  for (let i2 = ancestors.length - 1; i2 >= 0; i2--) {\n    node = ancestors[i2];\n    if (node.state === STALE) {\n      updateComputation(node);\n    } else if (node.state === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates)\n    return fn();\n  let wait = false;\n  if (!init)\n    Updates = [];\n  if (Effects)\n    wait = true;\n  else\n    Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait)\n      Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    runQueue(Updates);\n    Updates = null;\n  }\n  if (wait)\n    return;\n  const e2 = Effects;\n  Effects = null;\n  if (e2.length)\n    runUpdates(() => runEffects(e2), false);\n}\nfunction runQueue(queue) {\n  for (let i2 = 0; i2 < queue.length; i2++)\n    runTop(queue[i2]);\n}\nfunction runUserEffects(queue) {\n  let i2, userLength = 0;\n  for (i2 = 0; i2 < queue.length; i2++) {\n    const e2 = queue[i2];\n    if (!e2.user)\n      runTop(e2);\n    else\n      queue[userLength++] = e2;\n  }\n  for (i2 = 0; i2 < userLength; i2++)\n    runTop(queue[i2]);\n}\nfunction lookUpstream(node, ignore) {\n  node.state = 0;\n  for (let i2 = 0; i2 < node.sources.length; i2 += 1) {\n    const source = node.sources[i2];\n    if (source.sources) {\n      const state = source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount))\n          runTop(source);\n      } else if (state === PENDING)\n        lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  for (let i2 = 0; i2 < node.observers.length; i2 += 1) {\n    const o2 = node.observers[i2];\n    if (!o2.state) {\n      o2.state = PENDING;\n      if (o2.pure)\n        Updates.push(o2);\n      else\n        Effects.push(o2);\n      o2.observers && markDownstream(o2);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i2;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(), index = node.sourceSlots.pop(), obs = source.observers;\n      if (obs && obs.length) {\n        const n2 = obs.pop(), s2 = source.observerSlots.pop();\n        if (index < obs.length) {\n          n2.sourceSlots[s2] = index;\n          obs[index] = n2;\n          source.observerSlots[index] = s2;\n        }\n      }\n    }\n  }\n  if (node.tOwned) {\n    for (i2 = node.tOwned.length - 1; i2 >= 0; i2--)\n      cleanNode(node.tOwned[i2]);\n    delete node.tOwned;\n  }\n  if (node.owned) {\n    for (i2 = node.owned.length - 1; i2 >= 0; i2--)\n      cleanNode(node.owned[i2]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i2 = node.cleanups.length - 1; i2 >= 0; i2--)\n      node.cleanups[i2]();\n    node.cleanups = null;\n  }\n  node.state = 0;\n}\nfunction castError(err) {\n  if (err instanceof Error)\n    return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", {\n    cause: err\n  });\n}\nfunction handleError(err, owner = Owner) {\n  const error = castError(err);\n  throw error;\n}\nfunction resolveChildren(children2) {\n  if (typeof children2 === \"function\" && !children2.length)\n    return resolveChildren(children2());\n  if (Array.isArray(children2)) {\n    const results = [];\n    for (let i2 = 0; i2 < children2.length; i2++) {\n      const result = resolveChildren(children2[i2]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children2;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(() => res = untrack(() => {\n      Owner.context = __spreadProps(__spreadValues({}, Owner.context), {\n        [id]: props.value\n      });\n      return children(() => props.children);\n    }), void 0);\n    return res;\n  };\n}\nfunction createComponent(Comp, props) {\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY)\n      return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY)\n      return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s2) {\n  return !(s2 = typeof s2 === \"function\" ? s2() : s2) ? {} : s2;\n}\nfunction resolveSources() {\n  for (let i2 = 0, length = this.length; i2 < length; ++i2) {\n    const v = this[i2]();\n    if (v !== void 0)\n      return v;\n  }\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i2 = 0; i2 < sources.length; i2++) {\n    const s2 = sources[i2];\n    proxy = proxy || !!s2 && $PROXY in s2;\n    sources[i2] = typeof s2 === \"function\" ? (proxy = true, createMemo(s2)) : s2;\n  }\n  if (SUPPORTS_PROXY && proxy) {\n    return new Proxy({\n      get(property) {\n        for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n          const v = resolveSource(sources[i2])[property];\n          if (v !== void 0)\n            return v;\n        }\n      },\n      has(property) {\n        for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n          if (property in resolveSource(sources[i2]))\n            return true;\n        }\n        return false;\n      },\n      keys() {\n        const keys = [];\n        for (let i2 = 0; i2 < sources.length; i2++)\n          keys.push(...Object.keys(resolveSource(sources[i2])));\n        return [...new Set(keys)];\n      }\n    }, propTraps);\n  }\n  const sourcesMap = {};\n  const defined = /* @__PURE__ */ Object.create(null);\n  for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n    const source = sources[i2];\n    if (!source)\n      continue;\n    const sourceKeys = Object.getOwnPropertyNames(source);\n    for (let i3 = sourceKeys.length - 1; i3 >= 0; i3--) {\n      const key = sourceKeys[i3];\n      if (key === \"__proto__\" || key === \"constructor\")\n        continue;\n      const desc = Object.getOwnPropertyDescriptor(source, key);\n      if (!defined[key]) {\n        defined[key] = desc.get ? {\n          enumerable: true,\n          configurable: true,\n          get: resolveSources.bind(sourcesMap[key] = [desc.get.bind(source)])\n        } : desc.value !== void 0 ? desc : void 0;\n      } else {\n        const sources2 = sourcesMap[key];\n        if (sources2) {\n          if (desc.get)\n            sources2.push(desc.get.bind(source));\n          else if (desc.value !== void 0)\n            sources2.push(() => desc.value);\n        }\n      }\n    }\n  }\n  const target = {};\n  const definedKeys = Object.keys(defined);\n  for (let i2 = definedKeys.length - 1; i2 >= 0; i2--) {\n    const key = definedKeys[i2], desc = defined[key];\n    if (desc && desc.get)\n      Object.defineProperty(target, key, desc);\n    else\n      target[key] = desc ? desc.value : void 0;\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  if (SUPPORTS_PROXY && $PROXY in props) {\n    const blocked = new Set(keys.length > 1 ? keys.flat() : keys[0]);\n    const res = keys.map((k) => {\n      return new Proxy({\n        get(property) {\n          return k.includes(property) ? props[property] : void 0;\n        },\n        has(property) {\n          return k.includes(property) && property in props;\n        },\n        keys() {\n          return k.filter((property) => property in props);\n        }\n      }, propTraps);\n    });\n    res.push(new Proxy({\n      get(property) {\n        return blocked.has(property) ? void 0 : props[property];\n      },\n      has(property) {\n        return blocked.has(property) ? false : property in props;\n      },\n      keys() {\n        return Object.keys(props).filter((k) => !blocked.has(k));\n      }\n    }, propTraps));\n    return res;\n  }\n  const otherObject = {};\n  const objects = keys.map(() => ({}));\n  for (const propName of Object.getOwnPropertyNames(props)) {\n    const desc = Object.getOwnPropertyDescriptor(props, propName);\n    const isDefaultDesc = !desc.get && !desc.set && desc.enumerable && desc.writable && desc.configurable;\n    let blocked = false;\n    let objectIndex = 0;\n    for (const k of keys) {\n      if (k.includes(propName)) {\n        blocked = true;\n        isDefaultDesc ? objects[objectIndex][propName] = desc.value : Object.defineProperty(objects[objectIndex], propName, desc);\n      }\n      ++objectIndex;\n    }\n    if (!blocked) {\n      isDefaultDesc ? otherObject[propName] = desc.value : Object.defineProperty(otherObject, propName, desc);\n    }\n  }\n  return [...objects, otherObject];\n}\nconst narrowedError = (name) => `Stale read from <${name}>.`;\nfunction Show(props) {\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, void 0, {\n    equals: (a2, b) => keyed ? a2 === b : !a2 === !b\n  });\n  return createMemo(() => {\n    const c2 = condition();\n    if (c2) {\n      const child = props.children;\n      const fn = typeof child === \"function\" && child.length > 0;\n      return fn ? untrack(() => child(keyed ? c2 : () => {\n        if (!untrack(condition))\n          throw narrowedError(\"Show\");\n        return props.when;\n      })) : child;\n    }\n    return props.fallback;\n  }, void 0, void 0);\n}\nfunction Switch(props) {\n  let keyed = false;\n  const equals = (a2, b) => (keyed ? a2[1] === b[1] : !a2[1] === !b[1]) && a2[2] === b[2];\n  const conditions = children(() => props.children), evalConditions = createMemo(() => {\n    let conds = conditions();\n    if (!Array.isArray(conds))\n      conds = [conds];\n    for (let i2 = 0; i2 < conds.length; i2++) {\n      const c2 = conds[i2].when;\n      if (c2) {\n        keyed = !!conds[i2].keyed;\n        return [i2, c2, conds[i2]];\n      }\n    }\n    return [-1];\n  }, void 0, {\n    equals\n  });\n  return createMemo(() => {\n    const [index, when, cond] = evalConditions();\n    if (index < 0)\n      return props.fallback;\n    const c2 = cond.children;\n    const fn = typeof c2 === \"function\" && c2.length > 0;\n    return fn ? untrack(() => c2(keyed ? when : () => {\n      if (untrack(evalConditions)[0] !== index)\n        throw narrowedError(\"Match\");\n      return cond.when;\n    })) : c2;\n  }, void 0, void 0);\n}\nfunction Match(props) {\n  return props;\n}\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /* @__PURE__ */ new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /* @__PURE__ */ new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /* @__PURE__ */ Object.assign(/* @__PURE__ */ Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /* @__PURE__ */ Object.assign(/* @__PURE__ */ Object.create(null), {\n  class: \"className\",\n  formnovalidate: {\n    $: \"formNoValidate\",\n    BUTTON: 1,\n    INPUT: 1\n  },\n  ismap: {\n    $: \"isMap\",\n    IMG: 1\n  },\n  nomodule: {\n    $: \"noModule\",\n    SCRIPT: 1\n  },\n  playsinline: {\n    $: \"playsInline\",\n    VIDEO: 1\n  },\n  readonly: {\n    $: \"readOnly\",\n    INPUT: 1,\n    TEXTAREA: 1\n  }\n});\nfunction getPropAlias(prop, tagName) {\n  const a2 = PropAliases[prop];\n  return typeof a2 === \"object\" ? a2[tagName] ? a2[\"$\"] : void 0 : a2;\n}\nconst DelegatedEvents = /* @__PURE__ */ new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /* @__PURE__ */ new Set([\n  \"altGlyph\",\n  \"altGlyphDef\",\n  \"altGlyphItem\",\n  \"animate\",\n  \"animateColor\",\n  \"animateMotion\",\n  \"animateTransform\",\n  \"circle\",\n  \"clipPath\",\n  \"color-profile\",\n  \"cursor\",\n  \"defs\",\n  \"desc\",\n  \"ellipse\",\n  \"feBlend\",\n  \"feColorMatrix\",\n  \"feComponentTransfer\",\n  \"feComposite\",\n  \"feConvolveMatrix\",\n  \"feDiffuseLighting\",\n  \"feDisplacementMap\",\n  \"feDistantLight\",\n  \"feDropShadow\",\n  \"feFlood\",\n  \"feFuncA\",\n  \"feFuncB\",\n  \"feFuncG\",\n  \"feFuncR\",\n  \"feGaussianBlur\",\n  \"feImage\",\n  \"feMerge\",\n  \"feMergeNode\",\n  \"feMorphology\",\n  \"feOffset\",\n  \"fePointLight\",\n  \"feSpecularLighting\",\n  \"feSpotLight\",\n  \"feTile\",\n  \"feTurbulence\",\n  \"filter\",\n  \"font\",\n  \"font-face\",\n  \"font-face-format\",\n  \"font-face-name\",\n  \"font-face-src\",\n  \"font-face-uri\",\n  \"foreignObject\",\n  \"g\",\n  \"glyph\",\n  \"glyphRef\",\n  \"hkern\",\n  \"image\",\n  \"line\",\n  \"linearGradient\",\n  \"marker\",\n  \"mask\",\n  \"metadata\",\n  \"missing-glyph\",\n  \"mpath\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialGradient\",\n  \"rect\",\n  \"set\",\n  \"stop\",\n  \"svg\",\n  \"switch\",\n  \"symbol\",\n  \"text\",\n  \"textPath\",\n  \"tref\",\n  \"tspan\",\n  \"use\",\n  \"view\",\n  \"vkern\"\n]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nfunction reconcileArrays(parentNode, a2, b) {\n  let bLength = b.length, aEnd = a2.length, bEnd = bLength, aStart = 0, bStart = 0, after = a2[aEnd - 1].nextSibling, map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a2[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a2[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd)\n        parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a2[aStart]))\n          a2[aStart].remove();\n        aStart++;\n      }\n    } else if (a2[aStart] === b[bEnd - 1] && b[bStart] === a2[aEnd - 1]) {\n      const node = a2[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a2[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a2[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = /* @__PURE__ */ new Map();\n        let i2 = bStart;\n        while (i2 < bEnd)\n          map.set(b[i2], i2++);\n      }\n      const index = map.get(a2[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i2 = aStart, sequence = 1, t2;\n          while (++i2 < aEnd && i2 < bEnd) {\n            if ((t2 = map.get(a2[i2])) == null || t2 !== index + sequence)\n              break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a2[aStart];\n            while (bStart < index)\n              parentNode.insertBefore(b[bStart++], node);\n          } else\n            parentNode.replaceChild(b[bStart++], a2[aStart++]);\n        } else\n          aStart++;\n      } else\n        a2[aStart++].remove();\n    }\n  }\n}\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot((dispose) => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : void 0, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template$1(html, isImportNode, isSVG) {\n  let node;\n  const create = () => {\n    const t2 = document.createElement(\"template\");\n    t2.innerHTML = html;\n    return isSVG ? t2.content.firstChild.firstChild : t2.content.firstChild;\n  };\n  const fn = isImportNode ? () => untrack(() => document.importNode(node || (node = create()), true)) : () => (node || (node = create())).cloneNode(true);\n  fn.cloneNode = fn;\n  return fn;\n}\nfunction delegateEvents(eventNames, document2 = window.document) {\n  const e2 = document2[$$EVENTS] || (document2[$$EVENTS] = /* @__PURE__ */ new Set());\n  for (let i2 = 0, l2 = eventNames.length; i2 < l2; i2++) {\n    const name = eventNames[i2];\n    if (!e2.has(name)) {\n      e2.add(name);\n      document2.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction setAttribute(node, name, value) {\n  if (value == null)\n    node.removeAttribute(name);\n  else\n    node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (value == null)\n    node.removeAttributeNS(namespace, name);\n  else\n    node.setAttributeNS(namespace, name, value);\n}\nfunction setBoolAttribute(node, name, value) {\n  value ? node.setAttribute(name, \"\") : node.removeAttribute(name);\n}\nfunction className(node, value) {\n  if (value == null)\n    node.removeAttribute(\"class\");\n  else\n    node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else\n      node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = (e2) => handlerFn.call(node, handler[1], e2));\n  } else\n    node.addEventListener(name, handler, typeof handler !== \"function\" && handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}), prevKeys = Object.keys(prev);\n  let i2, len;\n  for (i2 = 0, len = prevKeys.length; i2 < len; i2++) {\n    const key = prevKeys[i2];\n    if (!key || key === \"undefined\" || value[key])\n      continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i2 = 0, len = classKeys.length; i2 < len; i2++) {\n    const key = classKeys[i2], classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue)\n      continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value)\n    return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\")\n    return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = void 0);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s2;\n  for (s2 in prev) {\n    value[s2] == null && nodeStyle.removeProperty(s2);\n    delete prev[s2];\n  }\n  for (s2 in value) {\n    v = value[s2];\n    if (v !== prev[s2]) {\n      nodeStyle.setProperty(s2, v);\n      prev[s2] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => typeof props.ref === \"function\" && use(props.ref, node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== void 0 && !initial)\n    initial = [];\n  if (typeof accessor !== \"function\")\n    return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect((current) => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\")\n        continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef, props);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren)\n        insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef, props);\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i2 = 0, nameLen = classNames.length; i2 < nameLen; i2++)\n    node.classList.toggle(classNames[i2], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef, props) {\n  let isCE, isProp, isChildProp, propAlias, forceProp;\n  if (prop === \"style\")\n    return style(node, value, prev);\n  if (prop === \"classList\")\n    return classList(node, value, prev);\n  if (value === prev)\n    return prev;\n  if (prop === \"ref\") {\n    if (!skipRef)\n      value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e2 = prop.slice(3);\n    prev && node.removeEventListener(e2, prev, typeof prev !== \"function\" && prev);\n    value && node.addEventListener(e2, value, typeof value !== \"function\" && value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e2 = prop.slice(10);\n    prev && node.removeEventListener(e2, prev, true);\n    value && node.addEventListener(e2, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h2 = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h2);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if (prop.slice(0, 5) === \"attr:\") {\n    setAttribute(node, prop.slice(5), value);\n  } else if (prop.slice(0, 5) === \"bool:\") {\n    setBoolAttribute(node, prop.slice(5), value);\n  } else if ((forceProp = prop.slice(0, 5) === \"prop:\") || (isChildProp = ChildProperties.has(prop)) || !isSVG && ((propAlias = getPropAlias(prop, node.tagName)) || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\") || \"is\" in props)) {\n    if (forceProp) {\n      prop = prop.slice(5);\n      isProp = true;\n    }\n    if (prop === \"class\" || prop === \"className\")\n      className(node, value);\n    else if (isCE && !isProp && !isChildProp)\n      node[toPropertyName(prop)] = value;\n    else\n      node[propAlias || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns)\n      setAttributeNS(node, ns, prop, value);\n    else\n      setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e2) {\n  let node = e2.target;\n  const key = `$$${e2.type}`;\n  const oriTarget = e2.target;\n  const oriCurrentTarget = e2.currentTarget;\n  const retarget = (value) => Object.defineProperty(e2, \"target\", {\n    configurable: true,\n    value\n  });\n  const handleNode = () => {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== void 0 ? handler.call(node, data, e2) : handler.call(node, e2);\n      if (e2.cancelBubble)\n        return;\n    }\n    node.host && typeof node.host !== \"string\" && !node.host._$host && node.contains(e2.target) && retarget(node.host);\n    return true;\n  };\n  const walkUpTree = () => {\n    while (handleNode() && (node = node._$host || node.parentNode || node.host))\n      ;\n  };\n  Object.defineProperty(e2, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (e2.composedPath) {\n    const path = e2.composedPath();\n    retarget(path[0]);\n    for (let i2 = 0; i2 < path.length - 2; i2++) {\n      node = path[i2];\n      if (!handleNode())\n        break;\n      if (node._$host) {\n        node = node._$host;\n        walkUpTree();\n        break;\n      }\n      if (node.parentNode === oriCurrentTarget) {\n        break;\n      }\n    }\n  } else\n    walkUpTree();\n  retarget(oriTarget);\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  while (typeof current === \"function\")\n    current = current();\n  if (value === current)\n    return current;\n  const t2 = typeof value, multi = marker !== void 0;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t2 === \"string\" || t2 === \"number\") {\n    if (t2 === \"number\") {\n      value = value.toString();\n      if (value === current)\n        return current;\n    }\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data !== value && (node.data = value);\n      } else\n        node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else\n        current = parent.textContent = value;\n    }\n  } else if (value == null || t2 === \"boolean\") {\n    current = cleanChildren(parent, current, marker);\n  } else if (t2 === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\")\n        v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi)\n        return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else\n        reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value.nodeType) {\n    if (Array.isArray(current)) {\n      if (multi)\n        return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else\n      parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else\n    ;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap2) {\n  let dynamic = false;\n  for (let i2 = 0, len = array.length; i2 < len; i2++) {\n    let item = array[i2], prev = current && current[normalized.length], t2;\n    if (item == null || item === true || item === false)\n      ;\n    else if ((t2 = typeof item) === \"object\" && item.nodeType) {\n      normalized.push(item);\n    } else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if (t2 === \"function\") {\n      if (unwrap2) {\n        while (typeof item === \"function\")\n          item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value)\n        normalized.push(prev);\n      else\n        normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i2 = 0, len = array.length; i2 < len; i2++)\n    parent.insertBefore(array[i2], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === void 0)\n    return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i2 = current.length - 1; i2 >= 0; i2--) {\n      const el = current[i2];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i2)\n          isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);\n        else\n          isParent && el.remove();\n      } else\n        inserted = true;\n    }\n  } else\n    parent.insertBefore(node, marker);\n  return [node];\n}\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nfunction Portal(props) {\n  const {\n    useShadow\n  } = props, marker = document.createTextNode(\"\"), mount = () => props.mount || document.body, owner = getOwner();\n  let content;\n  let hydrating = !!sharedConfig.context;\n  createEffect(() => {\n    content || (content = runWithOwner(owner, () => createMemo(() => props.children)));\n    const el = mount();\n    if (el instanceof HTMLHeadElement) {\n      const [clean, setClean] = createSignal(false);\n      const cleanup = () => setClean(true);\n      createRoot((dispose) => insert(el, () => !clean() ? content() : dispose(), null));\n      onCleanup(cleanup);\n    } else {\n      const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG), renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n        mode: \"open\"\n      }) : container;\n      Object.defineProperty(container, \"_$host\", {\n        get() {\n          return marker.parentNode;\n        },\n        configurable: true\n      });\n      insert(renderRoot, content);\n      el.appendChild(container);\n      props.ref && props.ref(container);\n      onCleanup(() => el.removeChild(container));\n    }\n  }, void 0, {\n    render: !hydrating\n  });\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p2, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p2.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\nlet e = { data: \"\" }, t = (t2) => \"object\" == typeof window ? ((t2 ? t2.querySelector(\"#_goober\") : window._goober) || Object.assign((t2 || document.head).appendChild(document.createElement(\"style\")), { innerHTML: \" \", id: \"_goober\" })).firstChild : t2 || e, l = /(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g, a = /\\/\\*[^]*?\\*\\/|  +/g, n = /\\n+/g, o = (e2, t2) => {\n  let r = \"\", l2 = \"\", a2 = \"\";\n  for (let n2 in e2) {\n    let c2 = e2[n2];\n    \"@\" == n2[0] ? \"i\" == n2[1] ? r = n2 + \" \" + c2 + \";\" : l2 += \"f\" == n2[1] ? o(c2, n2) : n2 + \"{\" + o(c2, \"k\" == n2[1] ? \"\" : t2) + \"}\" : \"object\" == typeof c2 ? l2 += o(c2, t2 ? t2.replace(/([^,])+/g, (e3) => n2.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g, (t3) => /&/.test(t3) ? t3.replace(/&/g, e3) : e3 ? e3 + \" \" + t3 : t3)) : n2) : null != c2 && (n2 = /^--/.test(n2) ? n2 : n2.replace(/[A-Z]/g, \"-$&\").toLowerCase(), a2 += o.p ? o.p(n2, c2) : n2 + \":\" + c2 + \";\");\n  }\n  return r + (t2 && a2 ? t2 + \"{\" + a2 + \"}\" : a2) + l2;\n}, c = {}, s = (e2) => {\n  if (\"object\" == typeof e2) {\n    let t2 = \"\";\n    for (let r in e2)\n      t2 += r + s(e2[r]);\n    return t2;\n  }\n  return e2;\n}, i = (e2, t2, r, i2, p2) => {\n  let u2 = s(e2), d = c[u2] || (c[u2] = ((e3) => {\n    let t3 = 0, r2 = 11;\n    for (; t3 < e3.length; )\n      r2 = 101 * r2 + e3.charCodeAt(t3++) >>> 0;\n    return \"go\" + r2;\n  })(u2));\n  if (!c[d]) {\n    let t3 = u2 !== e2 ? e2 : ((e3) => {\n      let t4, r2, o2 = [{}];\n      for (; t4 = l.exec(e3.replace(a, \"\")); )\n        t4[4] ? o2.shift() : t4[3] ? (r2 = t4[3].replace(n, \" \").trim(), o2.unshift(o2[0][r2] = o2[0][r2] || {})) : o2[0][t4[1]] = t4[2].replace(n, \" \").trim();\n      return o2[0];\n    })(e2);\n    c[d] = o(p2 ? { [\"@keyframes \" + d]: t3 } : t3, r ? \"\" : \".\" + d);\n  }\n  let f = r && c.g ? c.g : null;\n  return r && (c.g = c[d]), ((e3, t3, r2, l2) => {\n    l2 ? t3.data = t3.data.replace(l2, e3) : -1 === t3.data.indexOf(e3) && (t3.data = r2 ? e3 + t3.data : t3.data + e3);\n  })(c[d], t2, i2, f), d;\n}, p = (e2, t2, r) => e2.reduce((e3, l2, a2) => {\n  let n2 = t2[a2];\n  if (n2 && n2.call) {\n    let e4 = n2(r), t3 = e4 && e4.props && e4.props.className || /^go/.test(e4) && e4;\n    n2 = t3 ? \".\" + t3 : e4 && \"object\" == typeof e4 ? e4.props ? \"\" : o(e4, \"\") : false === e4 ? \"\" : e4;\n  }\n  return e3 + l2 + (null == n2 ? \"\" : n2);\n}, \"\");\nfunction u(e2) {\n  let r = this || {}, l2 = e2.call ? e2(r.p) : e2;\n  return i(l2.unshift ? l2.raw ? p(l2, [].slice.call(arguments, 1), r.p) : l2.reduce((e3, t2) => Object.assign(e3, t2 && t2.call ? t2(r.p) : t2), {}) : l2, t(r.target), r.g, r.o, r.k);\n}\nu.bind({ g: 1 });\nlet h = u.bind({ k: 1 });\nconst ThemeContext = createContext();\nfunction ThemeProvider(props) {\n  return createComponent(ThemeContext.Provider, {\n    value: props.theme,\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction useTheme() {\n  return useContext(ThemeContext);\n}\nfunction makeStyled(tag) {\n  let _ctx = this || {};\n  return (...args) => {\n    const Styled = (props) => {\n      const theme = useContext(ThemeContext);\n      const withTheme = mergeProps(props, { theme });\n      const clone = mergeProps(withTheme, {\n        get class() {\n          const pClass = withTheme.class, append = \"class\" in withTheme && /^go[0-9]+/.test(pClass);\n          let className2 = u.apply(\n            { target: _ctx.target, o: append, p: withTheme, g: _ctx.g },\n            args\n          );\n          return [pClass, className2].filter(Boolean).join(\" \");\n        }\n      });\n      const [local, newProps] = splitProps(clone, [\"as\", \"theme\"]);\n      const htmlProps = newProps;\n      const createTag = local.as || tag;\n      let el;\n      if (typeof createTag === \"function\") {\n        el = createTag(htmlProps);\n      } else {\n        {\n          if (_ctx.g == 1) {\n            el = document.createElement(createTag);\n            spread(el, htmlProps);\n          } else {\n            el = Dynamic(mergeProps({ component: createTag }, htmlProps));\n          }\n        }\n      }\n      return el;\n    };\n    Styled.class = (props) => {\n      return untrack(() => {\n        return u.apply({ target: _ctx.target, p: props, g: _ctx.g }, args);\n      });\n    };\n    return Styled;\n  };\n}\nconst styled = new Proxy(makeStyled, {\n  get(target, tag) {\n    return target(tag);\n  }\n});\nfunction createGlobalStyles() {\n  const fn = makeStyled.call({ g: 1 }, \"div\").apply(null, arguments);\n  return function GlobalStyles2(props) {\n    fn(props);\n    return null;\n  };\n}\nconst globalStylesTag = \"okxc-root\";\nconst disableScrollClass = \"okxc-disable-scroll\";\nconst usingMouseClass = \"okxc-using-mouse\";\nconst GlobalStyles = () => {\n  document.body.addEventListener(\"mousedown\", () => document.body.classList.add(usingMouseClass));\n  document.body.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"Tab\") {\n      document.body.classList.remove(usingMouseClass);\n    }\n  });\n  const Styles = createGlobalStyles`\n    ${globalStylesTag} * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        \n        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;        \n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    ${globalStylesTag} img {\n      -webkit-user-select: none;\n      -webkit-touch-callout: none;\n    }   \n \n    ${globalStylesTag} *:focus {\n        outline: #08f auto 2px;\n    }\n    \n    ${globalStylesTag} li {\n        list-style: none;\n    }\n    \n    ${globalStylesTag} button {\n        outline: none;\n    }\n    \n    body.${disableScrollClass} {\n        position: fixed; \n        overflow-y: scroll;\n        right: 0;\n        left: 0;\n    }\n    \n    body.${usingMouseClass} ${globalStylesTag} *:focus {\n        outline: none;\n    }\n`;\n  return createComponent(Styles, {});\n};\nfunction hexToRgb(hex) {\n  if (hex[0] === \"#\") {\n    hex = hex.slice(1);\n  }\n  const bigint = parseInt(hex, 16);\n  const r = bigint >> 16 & 255;\n  const g = bigint >> 8 & 255;\n  const b = bigint & 255;\n  return [r, g, b].join(\",\");\n}\nfunction rgba(color, opacity) {\n  if (color[0] === \"#\") {\n    color = hexToRgb(color);\n  }\n  return `rgba(${color}, ${opacity})`;\n}\nfunction toPx(value) {\n  return value.toString() + \"px\";\n}\nconst _InMemoryStorage = class {\n  constructor() {\n    __publicField(this, \"storage\", {});\n  }\n  static getInstance() {\n    if (!_InMemoryStorage.instance) {\n      _InMemoryStorage.instance = new _InMemoryStorage();\n    }\n    return _InMemoryStorage.instance;\n  }\n  get length() {\n    return Object.keys(this.storage).length;\n  }\n  clear() {\n    this.storage = {};\n  }\n  getItem(key) {\n    var _a2;\n    return (_a2 = this.storage[key]) != null ? _a2 : null;\n  }\n  key(index) {\n    var _a2;\n    const keys = Object.keys(this.storage);\n    if (index < 0 || index >= keys.length) {\n      return null;\n    }\n    return (_a2 = keys[index]) != null ? _a2 : null;\n  }\n  removeItem(key) {\n    delete this.storage[key];\n  }\n  setItem(key, value) {\n    this.storage[key] = value;\n  }\n};\nlet InMemoryStorage = _InMemoryStorage;\n__publicField(InMemoryStorage, \"instance\");\nconst debug = false;\nfunction logDebug(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.debug(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction logError(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.error(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction logWarning(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.warn(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction uniq(array) {\n  return [...new Set(array)];\n}\nlet initParams = {};\ntry {\n  let locationHash = location.hash.toString();\n  initParams = urlParseHashParams(locationHash);\n} catch (e2) {\n}\nlet tmaPlatform = \"unknown\";\nif (initParams == null ? void 0 : initParams.tgWebAppPlatform) {\n  tmaPlatform = (_a = initParams.tgWebAppPlatform) != null ? _a : \"unknown\";\n}\nif (tmaPlatform === \"unknown\") {\n  const window2 = getWindow$1();\n  tmaPlatform = (_d = (_c = (_b = window2 == null ? void 0 : window2.Telegram) == null ? void 0 : _b.WebApp) == null ? void 0 : _c.platform) != null ? _d : \"unknown\";\n}\nlet webAppVersion = \"6.0\";\nif (initParams == null ? void 0 : initParams.tgWebAppVersion) {\n  webAppVersion = initParams.tgWebAppVersion;\n}\nif (!webAppVersion) {\n  const window2 = getWindow$1();\n  webAppVersion = (_g = (_f = (_e = window2 == null ? void 0 : window2.Telegram) == null ? void 0 : _e.WebApp) == null ? void 0 : _f.version) != null ? _g : \"6.0\";\n}\nfunction isTmaPlatform(...platforms) {\n  return platforms.includes(tmaPlatform);\n}\nfunction isInTMA() {\n  var _a2;\n  return tmaPlatform !== \"unknown\" || !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebviewProxy);\n}\nfunction isInTelegramBrowser() {\n  var _a2;\n  const isTelegramWebview = !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebview);\n  return (isInTMA() || isTelegramWebview) && tmaPlatform === \"unknown\";\n}\nfunction sendExpand() {\n  postEvent(\"web_app_expand\", {});\n}\nfunction isIframe() {\n  try {\n    const window2 = getWindow$1();\n    if (!window2) {\n      return false;\n    }\n    return window2.parent != null && window2 !== window2.parent;\n  } catch (e2) {\n    return false;\n  }\n}\nfunction postEvent(eventType, eventData) {\n  try {\n    const window2 = getWindow$1();\n    if (!window2) {\n      throw new OKXConnectUiError(`Can't post event to parent window: window is not defined`);\n    }\n    if (window2.TelegramWebviewProxy !== void 0) {\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n    } else if (window2.external && \"notify\" in window2.external) {\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.external.notify(JSON.stringify({ eventType, eventData }));\n    } else if (isIframe()) {\n      const trustedTarget = \"*\";\n      const message = JSON.stringify({ eventType, eventData });\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.parent.postMessage(message, trustedTarget);\n    } else {\n      throw new OKXConnectUiError(`Can't post event to TMA`);\n    }\n  } catch (e2) {\n    logError(`Can't post event to parent window: ${e2}`);\n  }\n}\nfunction urlParseHashParams(locationHash) {\n  locationHash = locationHash.replace(/^#/, \"\");\n  let params = {};\n  if (!locationHash.length) {\n    return params;\n  }\n  if (locationHash.indexOf(\"=\") < 0 && locationHash.indexOf(\"?\") < 0) {\n    params._path = urlSafeDecode(locationHash);\n    return params;\n  }\n  let qIndex = locationHash.indexOf(\"?\");\n  if (qIndex >= 0) {\n    let pathParam = locationHash.substr(0, qIndex);\n    params._path = urlSafeDecode(pathParam);\n    locationHash = locationHash.substr(qIndex + 1);\n  }\n  let query_params = urlParseQueryString(locationHash);\n  for (let k in query_params) {\n    params[k] = query_params[k];\n  }\n  return params;\n}\nfunction urlSafeDecode(urlencoded) {\n  try {\n    urlencoded = urlencoded.replace(/\\+/g, \"%20\");\n    return decodeURIComponent(urlencoded);\n  } catch (e2) {\n    return urlencoded;\n  }\n}\nfunction urlParseQueryString(queryString) {\n  let params = {};\n  if (!queryString.length) {\n    return params;\n  }\n  let queryStringParams = queryString.split(\"&\");\n  let i2, param, paramName, paramValue;\n  for (i2 = 0; i2 < queryStringParams.length; i2++) {\n    param = queryStringParams[i2].split(\"=\");\n    paramName = urlSafeDecode(param[0]);\n    paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n    params[paramName] = paramValue;\n  }\n  return params;\n}\nconst maxWidth = {\n  mobile: 440,\n  tablet: 1020\n};\nfunction isDevice(device) {\n  var _a2;\n  const window2 = getWindow$1();\n  if (!window2) {\n    return device === \"desktop\";\n  }\n  if (isTmaPlatform(\"weba\")) {\n    return true;\n  }\n  const width = window2.innerWidth;\n  switch (device) {\n    case \"desktop\":\n      return width > maxWidth.tablet;\n    case \"tablet\":\n      return width > maxWidth.mobile;\n    default:\n    case \"mobile\":\n      let isMobile2 = width <= maxWidth.mobile || isOS(\"ios\", \"android\", \"ipad\");\n      if (isMobile2) {\n        const isTelegram = !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebviewProxy);\n        const maxTouchPoints = navigator.maxTouchPoints || 0;\n        if (isTelegram && maxTouchPoints === 0) {\n          isMobile2 = false;\n        }\n        core.logDebug(\"isDevice mobile isTelegram and maxTouchPoints:\", isMobile2, isTelegram, maxTouchPoints);\n      }\n      return isMobile2;\n  }\n}\nfunction media(device) {\n  switch (device) {\n    case \"mobile\":\n      return `@media (max-width: ${maxWidth.mobile}px)`;\n    case \"tablet\":\n      return `@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;\n    default:\n    case \"desktop\":\n      return `@media (min-width: ${maxWidth.tablet}px)`;\n  }\n}\nconst mediaTouch = \"@media (hover: none)\";\nconst mediaNotTouch = \"@media not all and (hover: none)\";\nconst [isMobile, setIsMobile] = createSignal(isDevice(\"mobile\"));\nconst updateIsMobile = () => setIsMobile(isDevice(\"mobile\"));\nif (getWindow$1()) {\n  window.addEventListener(\"resize\", () => updateIsMobile());\n  window.addEventListener(\"load\", () => updateIsMobile(), { once: true });\n}\nfunction eqWalletName(wallet1, name) {\n  if (!name) {\n    return false;\n  }\n  return wallet1.name.toLowerCase() === name.toLowerCase() || wallet1.appName.toLowerCase() === name.toLowerCase();\n}\nfunction inTg() {\n  return true;\n}\nfunction showTonTgWallet() {\n  return true;\n}\nfunction showUniversalTgWalletByRequestNameSpaces(nameSpaces, optionalNameSpace) {\n  return EqnameSpace();\n}\nfunction showUniversalTgWalletBySessionNameSpaces(sessionNameSpace) {\n  return EqnameSpace();\n}\nfunction EqnameSpace(_) {\n  return true;\n}\nfunction defaultOpenUniversalLink(nameSpaces, optionalNameSpace) {\n  if (!showUniversalTgWalletByRequestNameSpaces()) {\n    return isMobile();\n  }\n  return false;\n}\nfunction defaultOpenTonUniversalLink() {\n  if (!showTonTgWallet()) {\n    return isMobile();\n  }\n  return false;\n}\nfunction isAppWallet(walletInfo) {\n  if (!walletInfo)\n    return false;\n  return walletInfo.name === core.creatOKXWalletInfo().name;\n}\nfunction openUniversalWallet(walletInfo, twaReturnUrl, sessionNameSpace) {\n  core.logDebug(\"wallets openUniversalWallet\");\n  if (showUniversalTgWalletBySessionNameSpaces()) {\n    openWallet(walletInfo, twaReturnUrl);\n  }\n}\nfunction openTonWallet(walletInfo, twaReturnUrl) {\n  core.logDebug(\"wallets openTonWallet\");\n  if (showTonTgWallet()) {\n    openWallet(walletInfo, twaReturnUrl);\n  }\n}\nfunction openWallet(walletInfo, twaReturnUrl) {\n  core.logDebug(\"wallets openWallet\");\n  if (walletInfo) {\n    if (isAppWallet(walletInfo)) {\n      core.logDebug(`wallets openWallet openOKXDeeplinkWithFallback ${walletInfo.universalLink}`);\n      core.openOKXDeeplinkWithFallback(walletInfo.deepLink);\n    } else {\n      core.logDebug(`wallets openWallet openOKXTMAWalletlinkWithFallback ${walletInfo.universalLink}`);\n      core.openOKXTMAWalletlinkWithFallback(core.getTelegramWalletTWAUrl(void 0, twaReturnUrl, browserDebug()), browserDebug());\n    }\n  }\n}\nfunction browserDebug() {\n  return !(isInTelegramBrowser() || isInTMA());\n}\nfunction openWalletForUIRequest(walletInfo) {\n  if (!isAppWallet(walletInfo)) {\n    return true;\n  }\n  return isMobile();\n}\nfunction openLink(href, target = \"_self\") {\n  logDebug(\"web-api  openLink\", href, target);\n  window.open(href, target, \"noopener noreferrer\");\n}\nfunction openLinkBlank(href) {\n  openLink(href, \"_blank\");\n}\nfunction openDeeplinkWithFallback(href, fallback) {\n  logDebug(`web-api openDeeplinkWithFallback ${href}`);\n  const doFallback = () => {\n    if (isBrowser(\"safari\") || isOS(\"android\") && isBrowser(\"firefox\")) {\n      return;\n    }\n    fallback();\n  };\n  const fallbackTimeout = setTimeout(() => doFallback(), 3e3);\n  window.addEventListener(\"blur\", () => clearTimeout(fallbackTimeout), { once: true });\n  if (isOS(\"android\") && inTg()) {\n    openLink(href, \"_blank\");\n  } else {\n    openLink(href, \"_self\");\n  }\n}\nfunction getSystemTheme() {\n  if (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: light)\").matches) {\n    return THEME.LIGHT;\n  }\n  return THEME.DARK;\n}\nfunction subscribeToThemeChange(callback) {\n  const handler = (event) => callback(event.matches ? THEME.DARK : THEME.LIGHT);\n  window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", handler);\n  return () => window.matchMedia(\"(prefers-color-scheme: dark)\").removeEventListener(\"change\", handler);\n}\nfunction disableScroll() {\n  if (document.documentElement.scrollHeight === document.documentElement.clientHeight) {\n    return;\n  }\n  document.body.style.top = toPx(-document.documentElement.scrollTop);\n  document.body.classList.add(disableScrollClass);\n}\nfunction enableScroll() {\n  document.body.classList.remove(disableScrollClass);\n  document.documentElement.scrollTo({ top: -parseFloat(getComputedStyle(document.body).top) });\n  document.body.style.top = \"auto\";\n}\nfunction fixMobileSafariActiveTransition() {\n  if (!document.body.hasAttribute(\"ontouchstart\")) {\n    document.body.setAttribute(\"ontouchstart\", \"\");\n  }\n}\nfunction defineStylesRoot() {\n  if (document.body.getElementsByTagName(globalStylesTag)) {\n    return;\n  }\n  customElements.define(\n    globalStylesTag,\n    class TcRootElement extends HTMLElement {\n    }\n  );\n}\nfunction createMacrotask(callback) {\n  return __async(this, null, function* () {\n    yield new Promise((resolve) => requestAnimationFrame(resolve));\n    callback();\n  });\n}\nfunction createMacrotaskAsync(callback) {\n  return __async(this, null, function* () {\n    yield new Promise((resolve) => requestAnimationFrame(resolve));\n    return callback();\n  });\n}\nfunction preloadImages(images) {\n  if (document.readyState !== \"complete\") {\n    window.addEventListener(\"load\", () => createMacrotask(() => preloadImages(images)), {\n      once: true\n    });\n  } else {\n    images.forEach((img) => {\n      const node = new window.Image();\n      node.src = img;\n    });\n  }\n}\nfunction getWindow$1() {\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  return void 0;\n}\nfunction tryGetLocalStorage() {\n  if (isLocalStorageAvailable()) {\n    return localStorage;\n  }\n  if (isNodeJs()) {\n    throw new OKXConnectUiError(\n      \"`localStorage` is unavailable, but it is required for TonConnect\"\n    );\n  }\n  return InMemoryStorage.getInstance();\n}\nfunction isLocalStorageAvailable() {\n  try {\n    return typeof localStorage !== \"undefined\";\n  } catch (e2) {\n    return false;\n  }\n}\nfunction isNodeJs() {\n  return typeof process !== \"undefined\" && process.versions != null && process.versions.node != null;\n}\nfunction getUserAgent() {\n  var _a2, _b2, _c2;\n  const results = new UAParser__default.default().getResult();\n  const osName = (_a2 = results.os.name) == null ? void 0 : _a2.toLowerCase();\n  const deviceModel = (_b2 = results.device.model) == null ? void 0 : _b2.toLowerCase();\n  let os;\n  switch (true) {\n    case deviceModel === \"ipad\":\n      os = \"ipad\";\n      break;\n    case osName === \"ios\":\n      os = \"ios\";\n      break;\n    case osName === \"android\":\n      os = \"android\";\n      break;\n    case osName === \"mac os\":\n      os = \"macos\";\n      break;\n    case osName === \"linux\":\n      os = \"linux\";\n      break;\n    case (osName == null ? void 0 : osName.includes(\"windows\")):\n      os = \"windows\";\n      break;\n  }\n  const browserName = (_c2 = results.browser.name) == null ? void 0 : _c2.toLowerCase();\n  let browser;\n  switch (true) {\n    case browserName === \"chrome\":\n      browser = \"chrome\";\n      break;\n    case browserName === \"firefox\":\n      browser = \"firefox\";\n      break;\n    case (browserName == null ? void 0 : browserName.includes(\"safari\")):\n      browser = \"safari\";\n      break;\n    case (browserName == null ? void 0 : browserName.includes(\"opera\")):\n      browser = \"opera\";\n      break;\n  }\n  return {\n    os,\n    browser\n  };\n}\nfunction isOS(...os) {\n  return os.includes(getUserAgent().os);\n}\nfunction isBrowser(...browser) {\n  return browser.includes(getUserAgent().browser);\n}\nfunction toDeeplink(universalLink, deeplink) {\n  const url = new URL(universalLink);\n  return deeplink + url.search;\n}\nclass WalletInfoStorage {\n  constructor(storageKey) {\n    __publicField(this, \"localStorage\");\n    __publicField(this, \"storageKey\", \"okx-wallet-connect-ui_wallet-info\");\n    this.localStorage = tryGetLocalStorage();\n    this.storageKey = storageKey;\n  }\n  setWalletInfo(walletInfo) {\n    this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n  }\n  getWalletInfo() {\n    const walletInfoString = this.localStorage.getItem(this.storageKey);\n    if (!walletInfoString) {\n      return null;\n    }\n    return JSON.parse(walletInfoString);\n  }\n  removeWalletInfo() {\n    this.localStorage.removeItem(this.storageKey);\n  }\n}\nclass LastSelectedWalletInfoStorage {\n  constructor() {\n    __publicField(this, \"localStorage\");\n    __publicField(this, \"storageKey\", \"okx_wallet_connect_ui_last-selected-wallet-info\");\n    this.localStorage = tryGetLocalStorage();\n  }\n  setLastSelectedWalletInfo(walletInfo) {\n    this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n  }\n  getLastSelectedWalletInfo() {\n    const walletInfoString = this.localStorage.getItem(this.storageKey);\n    if (!walletInfoString) {\n      return null;\n    }\n    return JSON.parse(walletInfoString);\n  }\n  removeLastSelectedWalletInfo() {\n    this.localStorage.removeItem(this.storageKey);\n  }\n}\nconst [tonWalletsModalState, setTonWalletsModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\ncreateMemo(() => tonWalletsModalState().status === \"opened\");\nconst [tonSingleWalletModalState, setTonSingleWalletModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\nconst getTonSingleWalletModalIsOpened = createMemo(\n  () => tonSingleWalletModalState().status === \"opened\"\n);\nconst getTonSingleWalletModalWalletInfo = createMemo(() => {\n  const state = tonSingleWalletModalState();\n  if (state.status === \"opened\") {\n    return state.walletInfo;\n  }\n  return null;\n});\nlet lastSelectedWalletInfoStorage$1 = typeof window !== \"undefined\" ? new LastSelectedWalletInfoStorage() : void 0;\nconst [lastTonSelectedWalletInfo, _setLastTonSelectedWalletInfo] = createSignal((lastSelectedWalletInfoStorage$1 == null ? void 0 : lastSelectedWalletInfoStorage$1.getLastSelectedWalletInfo()) || null);\nconst setLastTonSelectedWalletInfo = (walletInfo) => {\n  if (!lastSelectedWalletInfoStorage$1) {\n    lastSelectedWalletInfoStorage$1 = new LastSelectedWalletInfoStorage();\n  }\n  if (walletInfo) {\n    logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(walletInfo)}`);\n    lastSelectedWalletInfoStorage$1.setLastSelectedWalletInfo(walletInfo);\n  } else {\n    logDebug(\"modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo\");\n    lastSelectedWalletInfoStorage$1.removeLastSelectedWalletInfo();\n  }\n  _setLastTonSelectedWalletInfo(walletInfo);\n};\nconst [tonAction, setTonAction] = createSignal(null);\nconst ImagePlaceholder = styled.div`\n    background-color: ${(props) => props.theme.colors.background.secondary};\n`;\nconst Image = (props) => {\n  let imgRef;\n  const [image, setImage] = createSignal(null);\n  createEffect(() => {\n    const img = new window.Image();\n    img.src = props.src;\n    img.alt = props.alt || \"\";\n    img.setAttribute(\"draggable\", \"false\");\n    if (props.class) {\n      img.classList.add(props.class);\n    }\n    if (img.complete) {\n      return setImage(img);\n    }\n    img.addEventListener(\"load\", () => setImage(img));\n    return () => img.removeEventListener(\"load\", () => setImage(img));\n  });\n  return [createComponent(Show, {\n    get when() {\n      return image();\n    },\n    get children() {\n      return image();\n    }\n  }), createComponent(Show, {\n    get when() {\n      return !image();\n    },\n    get children() {\n      return createComponent(ImagePlaceholder, {\n        get [\"class\"]() {\n          return props.class;\n        },\n        ref(r$) {\n          var _ref$ = imgRef;\n          typeof _ref$ === \"function\" ? _ref$(r$) : imgRef = r$;\n        }\n      });\n    }\n  })];\n};\nconst borders$2 = {\n  m: \"100vh\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst scaleValues = {\n  s: 0.02,\n  m: 0.04\n};\nconst ButtonStyled$1 = styled.button`\n    display: ${(props) => props.leftIcon || props.rightIcon ? \"flex\" : \"inline-block\"};\n    gap: ${(props) => props.leftIcon || props.rightIcon ? \"6px\" : \"unset\"};\n    align-items: ${(props) => props.leftIcon || props.rightIcon ? \"center\" : \"unset\"};\n    justify-content: ${(props) => props.leftIcon || props.rightIcon ? \"space-between\" : \"unset\"};\n    background-color: ${(props) => props.appearance === \"flat\" ? \"transparent\" : props.appearance === \"secondary\" ? props.theme.colors.background.tint : rgba(props.theme.colors.accent, 0.12)};\n    color: ${(props) => props.appearance === \"secondary\" ? props.theme.colors.text.primary : props.theme.colors.accent};\n\n    padding: ${(props) => props.appearance === \"flat\" ? \"0\" : \"9px 16px\"};\n    padding-left: ${(props) => props.leftIcon && props.appearance !== \"flat\" ? \"12px\" : \"16px\"};\n    padding-right: ${(props) => props.rightIcon && props.appearance !== \"flat\" ? \"12px\" : \"16px\"};\n    border: none;\n    border-radius: ${(props) => borders$2[props.theme.borderRadius]};\n    cursor: ${(props) => props.disabled ? \"not-allowed\" : \"pointer\"};\n\n    font-size: 14px;\n    font-weight: 510;\n    line-height: 18px;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 + scaleValues[props.scale]})`};\n        }\n    }\n\n    &:active {\n        transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 - scaleValues[props.scale]})`};\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 - scaleValues[props.scale] * 2})`};\n        }\n    }\n`;\nfunction useDataAttributes(props) {\n  const keys = untrack(() => Object.keys(props).filter((key) => key.startsWith(\"data-\")));\n  const [dataAttrs] = splitProps(props, keys);\n  return dataAttrs;\n}\nconst Button = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  return createComponent(ButtonStyled$1, mergeProps({\n    get appearance() {\n      return props.appearance || \"primary\";\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    onClick: (e2) => {\n      var _a2;\n      return (_a2 = props.onClick) == null ? void 0 : _a2.call(props, e2);\n    },\n    onMouseEnter: (e2) => {\n      var _a2;\n      return (_a2 = props.onMouseEnter) == null ? void 0 : _a2.call(props, e2);\n    },\n    onMouseLeave: (e2) => {\n      var _a2;\n      return (_a2 = props.onMouseLeave) == null ? void 0 : _a2.call(props, e2);\n    },\n    ref(r$) {\n      var _ref$ = props.ref;\n      typeof _ref$ === \"function\" ? _ref$(r$) : props.ref = r$;\n    },\n    get disabled() {\n      return props.disabled;\n    },\n    get scale() {\n      return props.scale || \"m\";\n    },\n    get leftIcon() {\n      return !!props.leftIcon;\n    },\n    get rightIcon() {\n      return !!props.rightIcon;\n    },\n    \"data-tc-button\": \"true\"\n  }, dataAttrs, {\n    get children() {\n      return [createMemo(() => props.leftIcon), createMemo(() => props.children), createMemo(() => props.rightIcon)];\n    }\n  }));\n};\nfunction nextFrame(fn) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(fn);\n  });\n}\nconst Transition = (props) => {\n  let el;\n  let first = true;\n  const [s1, set1] = createSignal();\n  const [s2, set2] = createSignal();\n  const resolved = children(() => props.children);\n  const {\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeExit,\n    onExit,\n    onAfterExit\n  } = props;\n  const classnames = createMemo(() => {\n    const name = props.name || \"s\";\n    return {\n      enterActiveClass: props.enterActiveClass || name + \"-enter-active\",\n      enterClass: props.enterClass || name + \"-enter\",\n      enterToClass: props.enterToClass || name + \"-enter-to\",\n      exitActiveClass: props.exitActiveClass || name + \"-exit-active\",\n      exitClass: props.exitClass || name + \"-exit\",\n      exitToClass: props.exitToClass || name + \"-exit-to\"\n    };\n  });\n  function enterTransition(el2, prev) {\n    if (!first || props.appear) {\n      let endTransition = function(e2) {\n        if (el2 && (!e2 || e2.target === el2)) {\n          el2.removeEventListener(\"transitionend\", endTransition);\n          el2.removeEventListener(\"animationend\", endTransition);\n          el2.classList.remove(...enterActiveClasses);\n          el2.classList.remove(...enterToClasses);\n          batch(() => {\n            s1() !== el2 && set1(el2);\n            s2() === el2 && set2(void 0);\n          });\n          onAfterEnter && onAfterEnter(el2);\n          if (props.mode === \"inout\")\n            exitTransition(el2, prev);\n        }\n      };\n      const enterClasses = classnames().enterClass.split(\" \");\n      const enterActiveClasses = classnames().enterActiveClass.split(\" \");\n      const enterToClasses = classnames().enterToClass.split(\" \");\n      onBeforeEnter && onBeforeEnter(el2);\n      el2.classList.add(...enterClasses);\n      el2.classList.add(...enterActiveClasses);\n      nextFrame(() => {\n        el2.classList.remove(...enterClasses);\n        el2.classList.add(...enterToClasses);\n        onEnter && onEnter(el2, () => endTransition());\n        if (!onEnter || onEnter.length < 2) {\n          el2.addEventListener(\"transitionend\", endTransition);\n          el2.addEventListener(\"animationend\", endTransition);\n        }\n      });\n    }\n    prev && !props.mode ? set2(el2) : set1(el2);\n  }\n  function exitTransition(el2, prev) {\n    const exitClasses = classnames().exitClass.split(\" \");\n    const exitActiveClasses = classnames().exitActiveClass.split(\" \");\n    const exitToClasses = classnames().exitToClass.split(\" \");\n    if (!prev.parentNode)\n      return endTransition();\n    onBeforeExit && onBeforeExit(prev);\n    prev.classList.add(...exitClasses);\n    prev.classList.add(...exitActiveClasses);\n    nextFrame(() => {\n      prev.classList.remove(...exitClasses);\n      prev.classList.add(...exitToClasses);\n    });\n    onExit && onExit(prev, () => endTransition());\n    if (!onExit || onExit.length < 2) {\n      prev.addEventListener(\"transitionend\", endTransition);\n      prev.addEventListener(\"animationend\", endTransition);\n    }\n    function endTransition(e2) {\n      if (!e2 || e2.target === prev) {\n        prev.removeEventListener(\"transitionend\", endTransition);\n        prev.removeEventListener(\"animationend\", endTransition);\n        prev.classList.remove(...exitActiveClasses);\n        prev.classList.remove(...exitToClasses);\n        s1() === prev && set1(void 0);\n        onAfterExit && onAfterExit(prev);\n        if (props.mode === \"outin\")\n          enterTransition(el2, prev);\n      }\n    }\n  }\n  createComputed((prev) => {\n    el = resolved();\n    while (typeof el === \"function\")\n      el = el();\n    return untrack(() => {\n      if (el && el !== prev) {\n        if (props.mode !== \"outin\")\n          enterTransition(el, prev);\n        else if (first)\n          set1(el);\n      }\n      if (prev && prev !== el && props.mode !== \"inout\")\n        exitTransition(el, prev);\n      first = false;\n      return el;\n    });\n  });\n  return [s1, s2];\n};\nfunction clickOutside$1(el, accessor) {\n  const onClick = (e2) => {\n    var _a2;\n    return !el.contains(e2.target) && ((_a2 = accessor()) == null ? void 0 : _a2());\n  };\n  document.body.addEventListener(\"click\", onClick);\n  onCleanup(() => document.body.removeEventListener(\"click\", onClick));\n}\nfunction escPressed(_, accessor) {\n  const onKeyPress = (e2) => {\n    var _a2, _b2;\n    if (e2.key === \"Escape\") {\n      (_a2 = document.activeElement) == null ? void 0 : _a2.blur();\n      (_b2 = accessor()) == null ? void 0 : _b2();\n    }\n  };\n  document.body.addEventListener(\"keydown\", onKeyPress);\n  onCleanup(() => document.body.removeEventListener(\"keydown\", onKeyPress));\n}\nfunction androidBackHandler$1(_, config) {\n  const {\n    isEnabled,\n    onClose\n  } = config();\n  if (!isEnabled) {\n    return;\n  }\n  const userOSIsAndroid = getUserAgent().os === \"android\";\n  if (!userOSIsAndroid) {\n    return;\n  }\n  window.history.pushState(ROUTE_STATE, \"\");\n  const popstateHandler = (event) => {\n    event.preventDefault();\n    onClose();\n  };\n  window.addEventListener(\"popstate\", popstateHandler, {\n    once: true\n  });\n  onCleanup(() => {\n    window.removeEventListener(\"popstate\", popstateHandler);\n    createMacrotask(() => {\n      var _a2;\n      if (((_a2 = window.history.state) == null ? void 0 : _a2[ROUTE_STATE_KEY]) === true) {\n        window.history.back();\n      }\n    });\n  });\n}\nconst ROUTE_STATE_KEY = \"androidBackHandler\";\nconst ROUTE_STATE = {\n  [ROUTE_STATE_KEY]: true\n};\nvar _tmpl$$g = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z\"></svg>`, false, true);\nconst rotationDegrees = {\n  left: 0,\n  top: 90,\n  right: 180,\n  bottom: 270\n};\nconst ArrowIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  const direction = () => props.direction || \"left\";\n  const Svg = styled(\"svg\")`\n        transform: rotate(${(props2) => rotationDegrees[props2.svgDirection]}deg);\n        transition: transform 0.1s ease-in-out;\n    `;\n  return createComponent(Svg, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    get svgDirection() {\n      return direction();\n    },\n    get children() {\n      var _el$ = _tmpl$$g();\n      createRenderEffect(() => setAttribute(_el$, \"fill\", fill()));\n      return _el$;\n    }\n  });\n};\nvar _tmpl$$f = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z\">`);\nconst CloseIcon = (props) => {\n  const theme = useTheme();\n  logDebug(`CloseIcon  ${theme}`);\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$f(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$e = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d=\"M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z\">`);\nconst TonIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$e(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$d = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d=\"M4.75 8.50098L7 10.751L11.75 6.00098\"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform=\"translate(0 0.000976562)\">`), _tmpl$2$3 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d=\"M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z\">`), _tmpl$3$2 = /* @__PURE__ */ template$1(`<svg width=72 height=72 viewBox=\"0 0 72 72\"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d=\"M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z\">`);\nconst SuccessIcon = (props) => {\n  const theme = useTheme();\n  const size2 = () => props.size || \"s\";\n  const fill = () => props.fill || theme.colors.icon.success;\n  return createMemo(() => createMemo(() => size2() === \"xs\")() ? (() => {\n    var _el$ = _tmpl$$d(), _el$2 = _el$.firstChild, _el$3 = _el$2.firstChild, _el$4 = _el$3.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = props.class, _v$2 = fill(), _v$3 = theme.colors.constant.white;\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$3, \"fill\", _p$.t = _v$2);\n      _v$3 !== _p$.a && setAttribute(_el$4, \"stroke\", _p$.a = _v$3);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$;\n  })() : createMemo(() => size2() === \"s\")() ? (() => {\n    var _el$5 = _tmpl$2$3(), _el$6 = _el$5.firstChild, _el$7 = _el$6.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$4 = props.class, _v$5 = fill(), _v$6 = theme.colors.constant.white;\n      _v$4 !== _p$.e && setAttribute(_el$5, \"class\", _p$.e = _v$4);\n      _v$5 !== _p$.t && setAttribute(_el$6, \"fill\", _p$.t = _v$5);\n      _v$6 !== _p$.a && setAttribute(_el$7, \"fill\", _p$.a = _v$6);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$5;\n  })() : (() => {\n    var _el$8 = _tmpl$3$2(), _el$9 = _el$8.firstChild, _el$10 = _el$9.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$7 = props.class, _v$8 = fill(), _v$9 = theme.colors.constant.white;\n      _v$7 !== _p$.e && setAttribute(_el$8, \"class\", _p$.e = _v$7);\n      _v$8 !== _p$.t && setAttribute(_el$9, \"fill\", _p$.t = _v$8);\n      _v$9 !== _p$.a && setAttribute(_el$10, \"fill\", _p$.a = _v$9);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$8;\n  })());\n};\nvar _tmpl$$c = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`), _tmpl$2$2 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`), _tmpl$3$1 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`);\nconst ErrorIcon = (props) => {\n  useTheme();\n  const size2 = () => props.size || \"m\";\n  return createMemo(() => createMemo(() => size2() === \"m\")() ? _tmpl$$c() : createMemo(() => size2() === \"s\")() ? _tmpl$2$2() : _tmpl$3$1());\n};\nvar _tmpl$$b = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z\">`), _tmpl$2$1 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox=\"0 0 44 44\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z\">`), _tmpl$3 = /* @__PURE__ */ template$1(`<svg width=72 height=72 viewBox=\"0 0 72 72\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999\"stroke-width=4 stroke-linecap=round stroke-linejoin=round>`);\nconst LoaderIcon = (props) => {\n  const theme = useTheme();\n  const size2 = () => props.size || \"xs\";\n  const fill = () => props.fill || theme.colors.icon.tertiary;\n  const rotateAnimation = h`\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n    `;\n  const svgClass = u`\n        animation: ${rotateAnimation} 1s linear infinite;\n    `;\n  return createMemo(() => createMemo(() => size2() === \"xs\")() ? (() => {\n    var _el$ = _tmpl$$b(), _el$2 = _el$.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$ = cn__default.default(svgClass, props.class), _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$2, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })() : createMemo(() => size2() === \"s\")() ? (() => {\n    var _el$3 = _tmpl$2$1(), _el$4 = _el$3.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$3 = cn__default.default(svgClass, props.class), _v$4 = fill();\n      _v$3 !== _p$.e && setAttribute(_el$3, \"class\", _p$.e = _v$3);\n      _v$4 !== _p$.t && setAttribute(_el$4, \"fill\", _p$.t = _v$4);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$3;\n  })() : (() => {\n    var _el$5 = _tmpl$3(), _el$6 = _el$5.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$5 = cn__default.default(svgClass, props.class), _v$6 = fill();\n      _v$5 !== _p$.e && setAttribute(_el$5, \"class\", _p$.e = _v$5);\n      _v$6 !== _p$.t && setAttribute(_el$6, \"stroke\", _p$.t = _v$6);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$5;\n  })());\n};\nvar _tmpl$$a = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z\">`);\nconst QuestionIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$a(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$9 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z\">`);\nconst RetryIcon = (_) => {\n  const theme = useTheme();\n  return (() => {\n    var _el$ = _tmpl$$9(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", theme.colors.text.primary));\n    return _el$;\n  })();\n};\nvar _tmpl$$8 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox=\"0 0 16 17\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z\">`);\nconst QRIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$8(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nconst IconButtonStyled = styled.button`\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\nconst IconButton = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  const icon = () => props.icon || \"close\";\n  return createComponent(IconButtonStyled, mergeProps({\n    get [\"class\"]() {\n      return props.class;\n    },\n    onClick: () => props.onClick(),\n    \"data-tc-icon-button\": \"true\"\n  }, dataAttrs, {\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return !!props.children;\n        },\n        get children() {\n          return props.children;\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !props.children;\n        },\n        get children() {\n          return createComponent(Switch, {\n            get children() {\n              return [createComponent(Match, {\n                get when() {\n                  return icon() === \"close\";\n                },\n                get children() {\n                  return createComponent(CloseIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return icon() === \"arrow\";\n                },\n                get children() {\n                  return createComponent(ArrowIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return icon() === \"question\";\n                },\n                get children() {\n                  return createComponent(QuestionIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return typeof icon() !== \"string\";\n                },\n                get children() {\n                  return icon();\n                }\n              })];\n            }\n          });\n        }\n      })];\n    }\n  }));\n};\nconst borders$1 = {\n  m: \"24px\",\n  s: \"16px\",\n  none: \"0\"\n};\nconst ModalBackgroundStyled = styled.div`\n  display: flex;\n  position: fixed;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  padding: 20px 0;\n  overflow-y: auto;\n\n  ${media(\"mobile\")} {\n    padding-bottom: 0;\n  }\n`;\nconst ModalWrapperClass = u`\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);\n  width: fit-content;\n  margin: auto;\n\n  ${media(\"mobile\")} {\n    width: 100%;\n    height: fit-content;\n    margin: auto 0 0 0;\n  }\n`;\nconst ModalBodyStyled = styled.div`\n  position: relative;\n  min-height: 100px;\n  width: 416px;\n  padding: 44px 56px 24px;\n\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);\n\n  background-color: ${(props) => props.theme.colors.background.primary};\n  border-radius: ${(props) => borders$1[props.theme.borderRadius]};\n\n  ${media(\"mobile\")} {\n    width: 100%;\n    border-radius: 24px 24px 0px 0px;\n  }\n`;\nconst CloseButtonStyled = styled(IconButton)`\n  position: absolute;\n  right: 16px;\n  top: 12px;\n`;\nstyled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 16px 16px 18px;\n  border-radius: 0 0 ${(props) => borders$1[props.theme.borderRadius]}\n    ${(props) => borders$1[props.theme.borderRadius]};\n`;\nstyled(IconButton)`\n  background-color: ${(props) => rgba(props.theme.colors.icon.secondary, 0.12)};\n`;\nclass AnimationTimelineNoop {\n  constructor() {\n    __publicField(this, \"currentTime\", 0);\n  }\n}\nconst _AnimationNoop = class {\n  constructor() {\n    __publicField(this, \"currentTime\", 0);\n    __publicField(this, \"playbackRate\", 1);\n    __publicField(this, \"startTime\", null);\n    __publicField(this, \"timeline\", new AnimationTimelineNoop());\n    __publicField(this, \"finished\", Promise.resolve(this));\n    __publicField(this, \"effect\", null);\n    __publicField(this, \"id\", \"\");\n    __publicField(this, \"pending\", false);\n    __publicField(this, \"playState\", \"finished\");\n    __publicField(this, \"replaceState\", \"active\");\n    __publicField(this, \"ready\", Promise.resolve(this));\n    __publicField(this, \"oncancel\", null);\n    __publicField(this, \"onfinish\", null);\n    __publicField(this, \"onremove\", null);\n  }\n  static create() {\n    if (!_AnimationNoop._instance) {\n      logWarning(\n        \"Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API.\"\n      );\n      _AnimationNoop._instance = new _AnimationNoop();\n    }\n    return _AnimationNoop._instance;\n  }\n  cancel() {\n  }\n  finish() {\n  }\n  pause() {\n  }\n  play() {\n  }\n  reverse() {\n  }\n  addEventListener(_type, _listener, _options) {\n  }\n  dispatchEvent(_event) {\n    return false;\n  }\n  removeEventListener(_type, _callback, _options) {\n  }\n  updatePlaybackRate(_playbackRate) {\n  }\n  commitStyles() {\n  }\n  persist() {\n  }\n};\nlet AnimationNoop = _AnimationNoop;\n__publicField(AnimationNoop, \"_instance\", null);\nfunction animate(element, keyframes, options) {\n  if (\"animate\" in element) {\n    return element.animate(keyframes, options);\n  }\n  return AnimationNoop.create();\n}\nvar _tmpl$$7 = /* @__PURE__ */ template$1(`<div>`);\nconst clickOutside = clickOutside$1;\nconst keyPressed = escPressed;\nconst androidBackHandler = androidBackHandler$1;\nconst Modal = (props) => {\n  const theme = useTheme();\n  const dataAttrs = useDataAttributes(props);\n  createEffect(() => {\n    if (props.opened) {\n      disableScroll();\n    } else {\n      enableScroll();\n    }\n  });\n  return createComponent(Transition, {\n    onBeforeEnter: (el) => {\n      const duration = isDevice(\"mobile\") ? 200 : 100;\n      animate(el, [{\n        opacity: 0\n      }, {\n        opacity: 1\n      }], {\n        duration\n      });\n      if (isDevice(\"mobile\")) {\n        animate(el.firstElementChild, [{\n          transform: \"translateY(390px)\"\n        }, {\n          transform: \"translateY(0)\"\n        }], {\n          duration\n        });\n      }\n    },\n    onExit: (el, done) => {\n      const duration = isDevice(\"mobile\") ? 200 : 100;\n      const backgroundAnimation = animate(el, [{\n        opacity: 1\n      }, {\n        opacity: 0\n      }], {\n        duration\n      });\n      if (isDevice(\"mobile\")) {\n        const contentAnimation = animate(el.firstElementChild, [{\n          transform: \"translateY(0)\"\n        }, {\n          transform: \"translateY(390px)\"\n        }], {\n          duration\n        });\n        Promise.all([backgroundAnimation.finished, contentAnimation.finished]).then(done);\n      } else {\n        backgroundAnimation.finished.then(done);\n      }\n    },\n    get children() {\n      return createComponent(Show, {\n        get when() {\n          return props.opened;\n        },\n        get children() {\n          return createComponent(ModalBackgroundStyled, mergeProps({\n            \"data-tc-modal\": \"true\"\n          }, dataAttrs, {\n            get children() {\n              var _el$ = _tmpl$$7();\n              use(androidBackHandler, _el$, () => ({\n                isEnabled: true,\n                onClose: () => props.onClose()\n              }));\n              use(keyPressed, _el$, () => () => props.onClose());\n              use(clickOutside, _el$, () => () => props.onClose());\n              insert(_el$, createComponent(ModalBodyStyled, {\n                get [\"class\"]() {\n                  return props.class;\n                },\n                get children() {\n                  return [createComponent(CloseButtonStyled, {\n                    icon: \"close\",\n                    onClick: () => props.onClose()\n                  }), createMemo(() => props.children)];\n                }\n              }));\n              createRenderEffect(() => className(_el$, cn__default.default(ModalWrapperClass, u`\n                                border-radius: ${borders$1[theme.borderRadius]};\n                                background-color: ${theme.colors.background.tint};\n\n                                ${media(\"mobile\")} {\n                                    border-radius: ${borders$1[theme.borderRadius]}\n                                        ${borders$1[theme.borderRadius]} 0 0;\n                                }\n                            `)));\n              return _el$;\n            }\n          }));\n        }\n      });\n    }\n  });\n};\nconst wrapperBorderRadius = {\n  m: \"22px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst sliderBorderRadius = {\n  m: \"18px\",\n  s: \"8px\",\n  none: \"0\"\n};\nstyled.div`\n    display: grid;\n    grid-template: 1fr / 1fr 1fr;\n    width: fit-content;\n    justify-items: center;\n    gap: 4px;\n\n    position: relative;\n    padding: 4px;\n    border-radius: ${(props) => wrapperBorderRadius[props.theme.borderRadius]};\n\n    background-color: ${(props) => props.theme.colors.background.secondary};\n`;\nstyled.div`\n    position: absolute;\n    top: 4px;\n    left: 4px;\n\n    height: calc(100% - 8px);\n    width: calc(50% - 4px);\n\n    border-radius: ${(props) => sliderBorderRadius[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.segment};\n\n    transform: ${(props) => props.right ? \"translateX(100%)\" : \"translateX(0)\"};\n\n    transition: transform 0.13s ease-in-out;\n`;\nstyled.input`\n    display: none;\n`;\nstyled.label`\n    padding: 9px 12px;\n    z-index: 1;\n\n    cursor: ${(props) => props.isActive ? \"default\" : \"pointer\"};\n\n    transition: transform 0.13s ease-in-out;\n\n    &:hover {\n        transform: ${(props) => props.isActive ? \"none\" : \"scale(1.025)\"};\n    }\n\n    > * {\n        ${(props) => !props.isActive ? `color: ${props.theme.colors.text.secondary};` : \"\"}\n    }\n`;\nconst backgroundBorders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst imageBorders = {\n  m: \"12px\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst qrNormalSize = 263;\nconst imgSizeDefault = 56;\nconst picSizeDefault = 54;\nconst qrPaddingTop = 0;\nconst CopyIconButton = styled.div`\n    width: 52px;\n    height: 52px;\n    background: transparent;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.125s ease-in-out;\n`;\nconst QrCodeBackground = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    background-color: ${(props) => props.theme.colors.background.qr};\n    border-radius: ${(props) => backgroundBorders[props.theme.borderRadius]};\n    padding: ${toPx(qrPaddingTop)} 0;\n    height: ${toPx(qrNormalSize + qrPaddingTop * 2)};\n    width: 100%;\n\n    overflow: hidden;\n    cursor: pointer;\n    border: none;\n\n    ${mediaNotTouch} {\n        &:hover {\n            ${CopyIconButton.class} {\n                transform: scale(1.04);\n            }\n        }\n    }\n\n    &:active {\n        ${CopyIconButton.class} {\n            transform: scale(0.96);\n        }\n    }\n\n    ${mediaTouch} {\n        &:active {\n            ${CopyIconButton.class} {\n                transform: scale(0.92);\n            }\n        }\n    }\n`;\nconst QrCodeWrapper$1 = styled.div`\n    position: relative;\n  \n    width: fit-content;\n    margin: 0 auto;\n\n    > div:first-child {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    rect {\n        fill: transparent;\n    }\n    \n    path {\n        fill: ${(props) => props.theme.colors.qrFill};\n    }\n`;\nconst ImageBackground = styled.div`\n    position: absolute;\n    width: ${toPx(imgSizeDefault)};\n    height: ${toPx(imgSizeDefault)};\n    background: ${(props) => props.theme.colors.background.qr};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst ImageStyled$2 = styled(Image)`\n    width: ${(props) => toPx(props.size)};\n    height: ${(props) => toPx(props.size)};\n    border-radius: ${(props) => imageBorders[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.qr};\n`;\nstyled.div`\n    position: absolute;\n    bottom: 14px;\n    left: 50%;\n    transform: translate(-50%, 0);\n\n    display: flex;\n    gap: 6px;\n    align-items: center;\n    border-radius: 18px;\n    min-width: 126px;\n    padding: 9px 16px 9px 10px;\n\n    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));\n    background-color: ${(props) => props.theme.colors.background.segment};\n`;\nvar qrcode$1 = { exports: {} };\n(function(module2, exports2) {\n  var qrcode2 = function() {\n    var qrcode3 = function(typeNumber, errorCorrectionLevel) {\n      var PAD0 = 236;\n      var PAD1 = 17;\n      var _typeNumber = typeNumber;\n      var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n      var _modules = null;\n      var _moduleCount = 0;\n      var _dataCache = null;\n      var _dataList = [];\n      var _this = {};\n      var makeImpl = function(test, maskPattern) {\n        _moduleCount = _typeNumber * 4 + 17;\n        _modules = function(moduleCount) {\n          var modules = new Array(moduleCount);\n          for (var row = 0; row < moduleCount; row += 1) {\n            modules[row] = new Array(moduleCount);\n            for (var col = 0; col < moduleCount; col += 1) {\n              modules[row][col] = null;\n            }\n          }\n          return modules;\n        }(_moduleCount);\n        setupPositionProbePattern(0, 0);\n        setupPositionProbePattern(_moduleCount - 7, 0);\n        setupPositionProbePattern(0, _moduleCount - 7);\n        setupPositionAdjustPattern();\n        setupTimingPattern();\n        setupTypeInfo(test, maskPattern);\n        if (_typeNumber >= 7) {\n          setupTypeNumber(test);\n        }\n        if (_dataCache == null) {\n          _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n        }\n        mapData(_dataCache, maskPattern);\n      };\n      var setupPositionProbePattern = function(row, col) {\n        for (var r = -1; r <= 7; r += 1) {\n          if (row + r <= -1 || _moduleCount <= row + r)\n            continue;\n          for (var c2 = -1; c2 <= 7; c2 += 1) {\n            if (col + c2 <= -1 || _moduleCount <= col + c2)\n              continue;\n            if (0 <= r && r <= 6 && (c2 == 0 || c2 == 6) || 0 <= c2 && c2 <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c2 && c2 <= 4) {\n              _modules[row + r][col + c2] = true;\n            } else {\n              _modules[row + r][col + c2] = false;\n            }\n          }\n        }\n      };\n      var getBestMaskPattern = function() {\n        var minLostPoint = 0;\n        var pattern = 0;\n        for (var i2 = 0; i2 < 8; i2 += 1) {\n          makeImpl(true, i2);\n          var lostPoint = QRUtil.getLostPoint(_this);\n          if (i2 == 0 || minLostPoint > lostPoint) {\n            minLostPoint = lostPoint;\n            pattern = i2;\n          }\n        }\n        return pattern;\n      };\n      var setupTimingPattern = function() {\n        for (var r = 8; r < _moduleCount - 8; r += 1) {\n          if (_modules[r][6] != null) {\n            continue;\n          }\n          _modules[r][6] = r % 2 == 0;\n        }\n        for (var c2 = 8; c2 < _moduleCount - 8; c2 += 1) {\n          if (_modules[6][c2] != null) {\n            continue;\n          }\n          _modules[6][c2] = c2 % 2 == 0;\n        }\n      };\n      var setupPositionAdjustPattern = function() {\n        var pos = QRUtil.getPatternPosition(_typeNumber);\n        for (var i2 = 0; i2 < pos.length; i2 += 1) {\n          for (var j = 0; j < pos.length; j += 1) {\n            var row = pos[i2];\n            var col = pos[j];\n            if (_modules[row][col] != null) {\n              continue;\n            }\n            for (var r = -2; r <= 2; r += 1) {\n              for (var c2 = -2; c2 <= 2; c2 += 1) {\n                if (r == -2 || r == 2 || c2 == -2 || c2 == 2 || r == 0 && c2 == 0) {\n                  _modules[row + r][col + c2] = true;\n                } else {\n                  _modules[row + r][col + c2] = false;\n                }\n              }\n            }\n          }\n        }\n      };\n      var setupTypeNumber = function(test) {\n        var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n        for (var i2 = 0; i2 < 18; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          _modules[Math.floor(i2 / 3)][i2 % 3 + _moduleCount - 8 - 3] = mod;\n        }\n        for (var i2 = 0; i2 < 18; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          _modules[i2 % 3 + _moduleCount - 8 - 3][Math.floor(i2 / 3)] = mod;\n        }\n      };\n      var setupTypeInfo = function(test, maskPattern) {\n        var data = _errorCorrectionLevel << 3 | maskPattern;\n        var bits = QRUtil.getBCHTypeInfo(data);\n        for (var i2 = 0; i2 < 15; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          if (i2 < 6) {\n            _modules[i2][8] = mod;\n          } else if (i2 < 8) {\n            _modules[i2 + 1][8] = mod;\n          } else {\n            _modules[_moduleCount - 15 + i2][8] = mod;\n          }\n        }\n        for (var i2 = 0; i2 < 15; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          if (i2 < 8) {\n            _modules[8][_moduleCount - i2 - 1] = mod;\n          } else if (i2 < 9) {\n            _modules[8][15 - i2 - 1 + 1] = mod;\n          } else {\n            _modules[8][15 - i2 - 1] = mod;\n          }\n        }\n        _modules[_moduleCount - 8][8] = !test;\n      };\n      var mapData = function(data, maskPattern) {\n        var inc = -1;\n        var row = _moduleCount - 1;\n        var bitIndex = 7;\n        var byteIndex = 0;\n        var maskFunc = QRUtil.getMaskFunction(maskPattern);\n        for (var col = _moduleCount - 1; col > 0; col -= 2) {\n          if (col == 6)\n            col -= 1;\n          while (true) {\n            for (var c2 = 0; c2 < 2; c2 += 1) {\n              if (_modules[row][col - c2] == null) {\n                var dark = false;\n                if (byteIndex < data.length) {\n                  dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n                }\n                var mask = maskFunc(row, col - c2);\n                if (mask) {\n                  dark = !dark;\n                }\n                _modules[row][col - c2] = dark;\n                bitIndex -= 1;\n                if (bitIndex == -1) {\n                  byteIndex += 1;\n                  bitIndex = 7;\n                }\n              }\n            }\n            row += inc;\n            if (row < 0 || _moduleCount <= row) {\n              row -= inc;\n              inc = -inc;\n              break;\n            }\n          }\n        }\n      };\n      var createBytes = function(buffer, rsBlocks) {\n        var offset2 = 0;\n        var maxDcCount = 0;\n        var maxEcCount = 0;\n        var dcdata = new Array(rsBlocks.length);\n        var ecdata = new Array(rsBlocks.length);\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          var dcCount = rsBlocks[r].dataCount;\n          var ecCount = rsBlocks[r].totalCount - dcCount;\n          maxDcCount = Math.max(maxDcCount, dcCount);\n          maxEcCount = Math.max(maxEcCount, ecCount);\n          dcdata[r] = new Array(dcCount);\n          for (var i2 = 0; i2 < dcdata[r].length; i2 += 1) {\n            dcdata[r][i2] = 255 & buffer.getBuffer()[i2 + offset2];\n          }\n          offset2 += dcCount;\n          var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n          var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n          var modPoly = rawPoly.mod(rsPoly);\n          ecdata[r] = new Array(rsPoly.getLength() - 1);\n          for (var i2 = 0; i2 < ecdata[r].length; i2 += 1) {\n            var modIndex = i2 + modPoly.getLength() - ecdata[r].length;\n            ecdata[r][i2] = modIndex >= 0 ? modPoly.getAt(modIndex) : 0;\n          }\n        }\n        var totalCodeCount = 0;\n        for (var i2 = 0; i2 < rsBlocks.length; i2 += 1) {\n          totalCodeCount += rsBlocks[i2].totalCount;\n        }\n        var data = new Array(totalCodeCount);\n        var index = 0;\n        for (var i2 = 0; i2 < maxDcCount; i2 += 1) {\n          for (var r = 0; r < rsBlocks.length; r += 1) {\n            if (i2 < dcdata[r].length) {\n              data[index] = dcdata[r][i2];\n              index += 1;\n            }\n          }\n        }\n        for (var i2 = 0; i2 < maxEcCount; i2 += 1) {\n          for (var r = 0; r < rsBlocks.length; r += 1) {\n            if (i2 < ecdata[r].length) {\n              data[index] = ecdata[r][i2];\n              index += 1;\n            }\n          }\n        }\n        return data;\n      };\n      var createData = function(typeNumber2, errorCorrectionLevel2, dataList) {\n        var rsBlocks = QRRSBlock.getRSBlocks(typeNumber2, errorCorrectionLevel2);\n        var buffer = qrBitBuffer();\n        for (var i2 = 0; i2 < dataList.length; i2 += 1) {\n          var data = dataList[i2];\n          buffer.put(data.getMode(), 4);\n          buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber2));\n          data.write(buffer);\n        }\n        var totalDataCount = 0;\n        for (var i2 = 0; i2 < rsBlocks.length; i2 += 1) {\n          totalDataCount += rsBlocks[i2].dataCount;\n        }\n        if (buffer.getLengthInBits() > totalDataCount * 8) {\n          throw \"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\";\n        }\n        if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n          buffer.put(0, 4);\n        }\n        while (buffer.getLengthInBits() % 8 != 0) {\n          buffer.putBit(false);\n        }\n        while (true) {\n          if (buffer.getLengthInBits() >= totalDataCount * 8) {\n            break;\n          }\n          buffer.put(PAD0, 8);\n          if (buffer.getLengthInBits() >= totalDataCount * 8) {\n            break;\n          }\n          buffer.put(PAD1, 8);\n        }\n        return createBytes(buffer, rsBlocks);\n      };\n      _this.addData = function(data, mode) {\n        mode = mode || \"Byte\";\n        var newData = null;\n        switch (mode) {\n          case \"Numeric\":\n            newData = qrNumber(data);\n            break;\n          case \"Alphanumeric\":\n            newData = qrAlphaNum(data);\n            break;\n          case \"Byte\":\n            newData = qr8BitByte(data);\n            break;\n          case \"Kanji\":\n            newData = qrKanji(data);\n            break;\n          default:\n            throw \"mode:\" + mode;\n        }\n        _dataList.push(newData);\n        _dataCache = null;\n      };\n      _this.isDark = function(row, col) {\n        if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n          throw row + \",\" + col;\n        }\n        return _modules[row][col];\n      };\n      _this.getModuleCount = function() {\n        return _moduleCount;\n      };\n      _this.make = function() {\n        if (_typeNumber < 1) {\n          var typeNumber2 = 1;\n          for (; typeNumber2 < 40; typeNumber2++) {\n            var rsBlocks = QRRSBlock.getRSBlocks(typeNumber2, _errorCorrectionLevel);\n            var buffer = qrBitBuffer();\n            for (var i2 = 0; i2 < _dataList.length; i2++) {\n              var data = _dataList[i2];\n              buffer.put(data.getMode(), 4);\n              buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber2));\n              data.write(buffer);\n            }\n            var totalDataCount = 0;\n            for (var i2 = 0; i2 < rsBlocks.length; i2++) {\n              totalDataCount += rsBlocks[i2].dataCount;\n            }\n            if (buffer.getLengthInBits() <= totalDataCount * 8) {\n              break;\n            }\n          }\n          _typeNumber = typeNumber2;\n        }\n        makeImpl(false, getBestMaskPattern());\n      };\n      _this.createTableTag = function(cellSize, margin) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var qrHtml = \"\";\n        qrHtml += '<table style=\"';\n        qrHtml += \" border-width: 0px; border-style: none;\";\n        qrHtml += \" border-collapse: collapse;\";\n        qrHtml += \" padding: 0px; margin: \" + margin + \"px;\";\n        qrHtml += '\">';\n        qrHtml += \"<tbody>\";\n        for (var r = 0; r < _this.getModuleCount(); r += 1) {\n          qrHtml += \"<tr>\";\n          for (var c2 = 0; c2 < _this.getModuleCount(); c2 += 1) {\n            qrHtml += '<td style=\"';\n            qrHtml += \" border-width: 0px; border-style: none;\";\n            qrHtml += \" border-collapse: collapse;\";\n            qrHtml += \" padding: 0px; margin: 0px;\";\n            qrHtml += \" width: \" + cellSize + \"px;\";\n            qrHtml += \" height: \" + cellSize + \"px;\";\n            qrHtml += \" background-color: \";\n            qrHtml += _this.isDark(r, c2) ? \"#000000\" : \"#ffffff\";\n            qrHtml += \";\";\n            qrHtml += '\"/>';\n          }\n          qrHtml += \"</tr>\";\n        }\n        qrHtml += \"</tbody>\";\n        qrHtml += \"</table>\";\n        return qrHtml;\n      };\n      _this.createSvgTag = function(cellSize, margin, alt, title) {\n        var opts = {};\n        if (typeof arguments[0] == \"object\") {\n          opts = arguments[0];\n          cellSize = opts.cellSize;\n          margin = opts.margin;\n          alt = opts.alt;\n          title = opts.title;\n        }\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        alt = typeof alt === \"string\" ? { text: alt } : alt || {};\n        alt.text = alt.text || null;\n        alt.id = alt.text ? alt.id || \"qrcode-description\" : null;\n        title = typeof title === \"string\" ? { text: title } : title || {};\n        title.text = title.text || null;\n        title.id = title.text ? title.id || \"qrcode-title\" : null;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var c2, mc, r, mr, qrSvg = \"\", rect;\n        rect = \"l\" + cellSize + \",0 0,\" + cellSize + \" -\" + cellSize + \",0 0,-\" + cellSize + \"z \";\n        qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n        qrSvg += !opts.scalable ? ' width=\"' + size2 + 'px\" height=\"' + size2 + 'px\"' : \"\";\n        qrSvg += ' viewBox=\"0 0 ' + size2 + \" \" + size2 + '\" ';\n        qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n        qrSvg += title.text || alt.text ? ' role=\"img\" aria-labelledby=\"' + escapeXml([title.id, alt.id].join(\" \").trim()) + '\"' : \"\";\n        qrSvg += \">\";\n        qrSvg += title.text ? '<title id=\"' + escapeXml(title.id) + '\">' + escapeXml(title.text) + \"</title>\" : \"\";\n        qrSvg += alt.text ? '<description id=\"' + escapeXml(alt.id) + '\">' + escapeXml(alt.text) + \"</description>\" : \"\";\n        qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n        qrSvg += '<path d=\"';\n        for (r = 0; r < _this.getModuleCount(); r += 1) {\n          mr = r * cellSize + margin;\n          for (c2 = 0; c2 < _this.getModuleCount(); c2 += 1) {\n            if (_this.isDark(r, c2)) {\n              mc = c2 * cellSize + margin;\n              qrSvg += \"M\" + mc + \",\" + mr + rect;\n            }\n          }\n        }\n        qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n        qrSvg += \"</svg>\";\n        return qrSvg;\n      };\n      _this.createDataURL = function(cellSize, margin) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        return createDataURL(size2, size2, function(x, y) {\n          if (min2 <= x && x < max2 && min2 <= y && y < max2) {\n            var c2 = Math.floor((x - min2) / cellSize);\n            var r = Math.floor((y - min2) / cellSize);\n            return _this.isDark(r, c2) ? 0 : 1;\n          } else {\n            return 1;\n          }\n        });\n      };\n      _this.createImgTag = function(cellSize, margin, alt) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var img = \"\";\n        img += \"<img\";\n        img += ' src=\"';\n        img += _this.createDataURL(cellSize, margin);\n        img += '\"';\n        img += ' width=\"';\n        img += size2;\n        img += '\"';\n        img += ' height=\"';\n        img += size2;\n        img += '\"';\n        if (alt) {\n          img += ' alt=\"';\n          img += escapeXml(alt);\n          img += '\"';\n        }\n        img += \"/>\";\n        return img;\n      };\n      var escapeXml = function(s2) {\n        var escaped = \"\";\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charAt(i2);\n          switch (c2) {\n            case \"<\":\n              escaped += \"&lt;\";\n              break;\n            case \">\":\n              escaped += \"&gt;\";\n              break;\n            case \"&\":\n              escaped += \"&amp;\";\n              break;\n            case '\"':\n              escaped += \"&quot;\";\n              break;\n            default:\n              escaped += c2;\n              break;\n          }\n        }\n        return escaped;\n      };\n      var _createHalfASCII = function(margin) {\n        var cellSize = 1;\n        margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        var y, x, r1, r2, p2;\n        var blocks = {\n          \"\\u2588\\u2588\": \"\\u2588\",\n          \"\\u2588 \": \"\\u2580\",\n          \" \\u2588\": \"\\u2584\",\n          \"  \": \" \"\n        };\n        var blocksLastLineNoMargin = {\n          \"\\u2588\\u2588\": \"\\u2580\",\n          \"\\u2588 \": \"\\u2580\",\n          \" \\u2588\": \" \",\n          \"  \": \" \"\n        };\n        var ascii = \"\";\n        for (y = 0; y < size2; y += 2) {\n          r1 = Math.floor((y - min2) / cellSize);\n          r2 = Math.floor((y + 1 - min2) / cellSize);\n          for (x = 0; x < size2; x += 1) {\n            p2 = \"\\u2588\";\n            if (min2 <= x && x < max2 && min2 <= y && y < max2 && _this.isDark(r1, Math.floor((x - min2) / cellSize))) {\n              p2 = \" \";\n            }\n            if (min2 <= x && x < max2 && min2 <= y + 1 && y + 1 < max2 && _this.isDark(r2, Math.floor((x - min2) / cellSize))) {\n              p2 += \" \";\n            } else {\n              p2 += \"\\u2588\";\n            }\n            ascii += margin < 1 && y + 1 >= max2 ? blocksLastLineNoMargin[p2] : blocks[p2];\n          }\n          ascii += \"\\n\";\n        }\n        if (size2 % 2 && margin > 0) {\n          return ascii.substring(0, ascii.length - size2 - 1) + Array(size2 + 1).join(\"\\u2580\");\n        }\n        return ascii.substring(0, ascii.length - 1);\n      };\n      _this.createASCII = function(cellSize, margin) {\n        cellSize = cellSize || 1;\n        if (cellSize < 2) {\n          return _createHalfASCII(margin);\n        }\n        cellSize -= 1;\n        margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        var y, x, r, p2;\n        var white = Array(cellSize + 1).join(\"\\u2588\\u2588\");\n        var black = Array(cellSize + 1).join(\"  \");\n        var ascii = \"\";\n        var line = \"\";\n        for (y = 0; y < size2; y += 1) {\n          r = Math.floor((y - min2) / cellSize);\n          line = \"\";\n          for (x = 0; x < size2; x += 1) {\n            p2 = 1;\n            if (min2 <= x && x < max2 && min2 <= y && y < max2 && _this.isDark(r, Math.floor((x - min2) / cellSize))) {\n              p2 = 0;\n            }\n            line += p2 ? white : black;\n          }\n          for (r = 0; r < cellSize; r += 1) {\n            ascii += line + \"\\n\";\n          }\n        }\n        return ascii.substring(0, ascii.length - 1);\n      };\n      _this.renderTo2dContext = function(context, cellSize) {\n        cellSize = cellSize || 2;\n        var length = _this.getModuleCount();\n        for (var row = 0; row < length; row++) {\n          for (var col = 0; col < length; col++) {\n            context.fillStyle = _this.isDark(row, col) ? \"black\" : \"white\";\n            context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n          }\n        }\n      };\n      return _this;\n    };\n    qrcode3.stringToBytesFuncs = {\n      \"default\": function(s2) {\n        var bytes = [];\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charCodeAt(i2);\n          bytes.push(c2 & 255);\n        }\n        return bytes;\n      }\n    };\n    qrcode3.stringToBytes = qrcode3.stringToBytesFuncs[\"default\"];\n    qrcode3.createStringToBytes = function(unicodeData, numChars) {\n      var unicodeMap = function() {\n        var bin = base64DecodeInputStream(unicodeData);\n        var read = function() {\n          var b = bin.read();\n          if (b == -1)\n            throw \"eof\";\n          return b;\n        };\n        var count = 0;\n        var unicodeMap2 = {};\n        while (true) {\n          var b0 = bin.read();\n          if (b0 == -1)\n            break;\n          var b1 = read();\n          var b2 = read();\n          var b3 = read();\n          var k = String.fromCharCode(b0 << 8 | b1);\n          var v = b2 << 8 | b3;\n          unicodeMap2[k] = v;\n          count += 1;\n        }\n        if (count != numChars) {\n          throw count + \" != \" + numChars;\n        }\n        return unicodeMap2;\n      }();\n      var unknownChar = \"?\".charCodeAt(0);\n      return function(s2) {\n        var bytes = [];\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charCodeAt(i2);\n          if (c2 < 128) {\n            bytes.push(c2);\n          } else {\n            var b = unicodeMap[s2.charAt(i2)];\n            if (typeof b == \"number\") {\n              if ((b & 255) == b) {\n                bytes.push(b);\n              } else {\n                bytes.push(b >>> 8);\n                bytes.push(b & 255);\n              }\n            } else {\n              bytes.push(unknownChar);\n            }\n          }\n        }\n        return bytes;\n      };\n    };\n    var QRMode = {\n      MODE_NUMBER: 1 << 0,\n      MODE_ALPHA_NUM: 1 << 1,\n      MODE_8BIT_BYTE: 1 << 2,\n      MODE_KANJI: 1 << 3\n    };\n    var QRErrorCorrectionLevel = {\n      L: 1,\n      M: 0,\n      Q: 3,\n      H: 2\n    };\n    var QRMaskPattern = {\n      PATTERN000: 0,\n      PATTERN001: 1,\n      PATTERN010: 2,\n      PATTERN011: 3,\n      PATTERN100: 4,\n      PATTERN101: 5,\n      PATTERN110: 6,\n      PATTERN111: 7\n    };\n    var QRUtil = function() {\n      var PATTERN_POSITION_TABLE = [\n        [],\n        [6, 18],\n        [6, 22],\n        [6, 26],\n        [6, 30],\n        [6, 34],\n        [6, 22, 38],\n        [6, 24, 42],\n        [6, 26, 46],\n        [6, 28, 50],\n        [6, 30, 54],\n        [6, 32, 58],\n        [6, 34, 62],\n        [6, 26, 46, 66],\n        [6, 26, 48, 70],\n        [6, 26, 50, 74],\n        [6, 30, 54, 78],\n        [6, 30, 56, 82],\n        [6, 30, 58, 86],\n        [6, 34, 62, 90],\n        [6, 28, 50, 72, 94],\n        [6, 26, 50, 74, 98],\n        [6, 30, 54, 78, 102],\n        [6, 28, 54, 80, 106],\n        [6, 32, 58, 84, 110],\n        [6, 30, 58, 86, 114],\n        [6, 34, 62, 90, 118],\n        [6, 26, 50, 74, 98, 122],\n        [6, 30, 54, 78, 102, 126],\n        [6, 26, 52, 78, 104, 130],\n        [6, 30, 56, 82, 108, 134],\n        [6, 34, 60, 86, 112, 138],\n        [6, 30, 58, 86, 114, 142],\n        [6, 34, 62, 90, 118, 146],\n        [6, 30, 54, 78, 102, 126, 150],\n        [6, 24, 50, 76, 102, 128, 154],\n        [6, 28, 54, 80, 106, 132, 158],\n        [6, 32, 58, 84, 110, 136, 162],\n        [6, 26, 54, 82, 110, 138, 166],\n        [6, 30, 58, 86, 114, 142, 170]\n      ];\n      var G15 = 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0;\n      var G18 = 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0;\n      var G15_MASK = 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1;\n      var _this = {};\n      var getBCHDigit = function(data) {\n        var digit = 0;\n        while (data != 0) {\n          digit += 1;\n          data >>>= 1;\n        }\n        return digit;\n      };\n      _this.getBCHTypeInfo = function(data) {\n        var d = data << 10;\n        while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n          d ^= G15 << getBCHDigit(d) - getBCHDigit(G15);\n        }\n        return (data << 10 | d) ^ G15_MASK;\n      };\n      _this.getBCHTypeNumber = function(data) {\n        var d = data << 12;\n        while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n          d ^= G18 << getBCHDigit(d) - getBCHDigit(G18);\n        }\n        return data << 12 | d;\n      };\n      _this.getPatternPosition = function(typeNumber) {\n        return PATTERN_POSITION_TABLE[typeNumber - 1];\n      };\n      _this.getMaskFunction = function(maskPattern) {\n        switch (maskPattern) {\n          case QRMaskPattern.PATTERN000:\n            return function(i2, j) {\n              return (i2 + j) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN001:\n            return function(i2, j) {\n              return i2 % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN010:\n            return function(i2, j) {\n              return j % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN011:\n            return function(i2, j) {\n              return (i2 + j) % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN100:\n            return function(i2, j) {\n              return (Math.floor(i2 / 2) + Math.floor(j / 3)) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN101:\n            return function(i2, j) {\n              return i2 * j % 2 + i2 * j % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN110:\n            return function(i2, j) {\n              return (i2 * j % 2 + i2 * j % 3) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN111:\n            return function(i2, j) {\n              return (i2 * j % 3 + (i2 + j) % 2) % 2 == 0;\n            };\n          default:\n            throw \"bad maskPattern:\" + maskPattern;\n        }\n      };\n      _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n        var a2 = qrPolynomial([1], 0);\n        for (var i2 = 0; i2 < errorCorrectLength; i2 += 1) {\n          a2 = a2.multiply(qrPolynomial([1, QRMath.gexp(i2)], 0));\n        }\n        return a2;\n      };\n      _this.getLengthInBits = function(mode, type) {\n        if (1 <= type && type < 10) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 10;\n            case QRMode.MODE_ALPHA_NUM:\n              return 9;\n            case QRMode.MODE_8BIT_BYTE:\n              return 8;\n            case QRMode.MODE_KANJI:\n              return 8;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else if (type < 27) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 12;\n            case QRMode.MODE_ALPHA_NUM:\n              return 11;\n            case QRMode.MODE_8BIT_BYTE:\n              return 16;\n            case QRMode.MODE_KANJI:\n              return 10;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else if (type < 41) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 14;\n            case QRMode.MODE_ALPHA_NUM:\n              return 13;\n            case QRMode.MODE_8BIT_BYTE:\n              return 16;\n            case QRMode.MODE_KANJI:\n              return 12;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else {\n          throw \"type:\" + type;\n        }\n      };\n      _this.getLostPoint = function(qrcode4) {\n        var moduleCount = qrcode4.getModuleCount();\n        var lostPoint = 0;\n        for (var row = 0; row < moduleCount; row += 1) {\n          for (var col = 0; col < moduleCount; col += 1) {\n            var sameCount = 0;\n            var dark = qrcode4.isDark(row, col);\n            for (var r = -1; r <= 1; r += 1) {\n              if (row + r < 0 || moduleCount <= row + r) {\n                continue;\n              }\n              for (var c2 = -1; c2 <= 1; c2 += 1) {\n                if (col + c2 < 0 || moduleCount <= col + c2) {\n                  continue;\n                }\n                if (r == 0 && c2 == 0) {\n                  continue;\n                }\n                if (dark == qrcode4.isDark(row + r, col + c2)) {\n                  sameCount += 1;\n                }\n              }\n            }\n            if (sameCount > 5) {\n              lostPoint += 3 + sameCount - 5;\n            }\n          }\n        }\n        for (var row = 0; row < moduleCount - 1; row += 1) {\n          for (var col = 0; col < moduleCount - 1; col += 1) {\n            var count = 0;\n            if (qrcode4.isDark(row, col))\n              count += 1;\n            if (qrcode4.isDark(row + 1, col))\n              count += 1;\n            if (qrcode4.isDark(row, col + 1))\n              count += 1;\n            if (qrcode4.isDark(row + 1, col + 1))\n              count += 1;\n            if (count == 0 || count == 4) {\n              lostPoint += 3;\n            }\n          }\n        }\n        for (var row = 0; row < moduleCount; row += 1) {\n          for (var col = 0; col < moduleCount - 6; col += 1) {\n            if (qrcode4.isDark(row, col) && !qrcode4.isDark(row, col + 1) && qrcode4.isDark(row, col + 2) && qrcode4.isDark(row, col + 3) && qrcode4.isDark(row, col + 4) && !qrcode4.isDark(row, col + 5) && qrcode4.isDark(row, col + 6)) {\n              lostPoint += 40;\n            }\n          }\n        }\n        for (var col = 0; col < moduleCount; col += 1) {\n          for (var row = 0; row < moduleCount - 6; row += 1) {\n            if (qrcode4.isDark(row, col) && !qrcode4.isDark(row + 1, col) && qrcode4.isDark(row + 2, col) && qrcode4.isDark(row + 3, col) && qrcode4.isDark(row + 4, col) && !qrcode4.isDark(row + 5, col) && qrcode4.isDark(row + 6, col)) {\n              lostPoint += 40;\n            }\n          }\n        }\n        var darkCount = 0;\n        for (var col = 0; col < moduleCount; col += 1) {\n          for (var row = 0; row < moduleCount; row += 1) {\n            if (qrcode4.isDark(row, col)) {\n              darkCount += 1;\n            }\n          }\n        }\n        var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n        lostPoint += ratio * 10;\n        return lostPoint;\n      };\n      return _this;\n    }();\n    var QRMath = function() {\n      var EXP_TABLE = new Array(256);\n      var LOG_TABLE = new Array(256);\n      for (var i2 = 0; i2 < 8; i2 += 1) {\n        EXP_TABLE[i2] = 1 << i2;\n      }\n      for (var i2 = 8; i2 < 256; i2 += 1) {\n        EXP_TABLE[i2] = EXP_TABLE[i2 - 4] ^ EXP_TABLE[i2 - 5] ^ EXP_TABLE[i2 - 6] ^ EXP_TABLE[i2 - 8];\n      }\n      for (var i2 = 0; i2 < 255; i2 += 1) {\n        LOG_TABLE[EXP_TABLE[i2]] = i2;\n      }\n      var _this = {};\n      _this.glog = function(n2) {\n        if (n2 < 1) {\n          throw \"glog(\" + n2 + \")\";\n        }\n        return LOG_TABLE[n2];\n      };\n      _this.gexp = function(n2) {\n        while (n2 < 0) {\n          n2 += 255;\n        }\n        while (n2 >= 256) {\n          n2 -= 255;\n        }\n        return EXP_TABLE[n2];\n      };\n      return _this;\n    }();\n    function qrPolynomial(num, shift2) {\n      if (typeof num.length == \"undefined\") {\n        throw num.length + \"/\" + shift2;\n      }\n      var _num = function() {\n        var offset2 = 0;\n        while (offset2 < num.length && num[offset2] == 0) {\n          offset2 += 1;\n        }\n        var _num2 = new Array(num.length - offset2 + shift2);\n        for (var i2 = 0; i2 < num.length - offset2; i2 += 1) {\n          _num2[i2] = num[i2 + offset2];\n        }\n        return _num2;\n      }();\n      var _this = {};\n      _this.getAt = function(index) {\n        return _num[index];\n      };\n      _this.getLength = function() {\n        return _num.length;\n      };\n      _this.multiply = function(e2) {\n        var num2 = new Array(_this.getLength() + e2.getLength() - 1);\n        for (var i2 = 0; i2 < _this.getLength(); i2 += 1) {\n          for (var j = 0; j < e2.getLength(); j += 1) {\n            num2[i2 + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i2)) + QRMath.glog(e2.getAt(j)));\n          }\n        }\n        return qrPolynomial(num2, 0);\n      };\n      _this.mod = function(e2) {\n        if (_this.getLength() - e2.getLength() < 0) {\n          return _this;\n        }\n        var ratio = QRMath.glog(_this.getAt(0)) - QRMath.glog(e2.getAt(0));\n        var num2 = new Array(_this.getLength());\n        for (var i2 = 0; i2 < _this.getLength(); i2 += 1) {\n          num2[i2] = _this.getAt(i2);\n        }\n        for (var i2 = 0; i2 < e2.getLength(); i2 += 1) {\n          num2[i2] ^= QRMath.gexp(QRMath.glog(e2.getAt(i2)) + ratio);\n        }\n        return qrPolynomial(num2, 0).mod(e2);\n      };\n      return _this;\n    }\n    var QRRSBlock = function() {\n      var RS_BLOCK_TABLE = [\n        [1, 26, 19],\n        [1, 26, 16],\n        [1, 26, 13],\n        [1, 26, 9],\n        [1, 44, 34],\n        [1, 44, 28],\n        [1, 44, 22],\n        [1, 44, 16],\n        [1, 70, 55],\n        [1, 70, 44],\n        [2, 35, 17],\n        [2, 35, 13],\n        [1, 100, 80],\n        [2, 50, 32],\n        [2, 50, 24],\n        [4, 25, 9],\n        [1, 134, 108],\n        [2, 67, 43],\n        [2, 33, 15, 2, 34, 16],\n        [2, 33, 11, 2, 34, 12],\n        [2, 86, 68],\n        [4, 43, 27],\n        [4, 43, 19],\n        [4, 43, 15],\n        [2, 98, 78],\n        [4, 49, 31],\n        [2, 32, 14, 4, 33, 15],\n        [4, 39, 13, 1, 40, 14],\n        [2, 121, 97],\n        [2, 60, 38, 2, 61, 39],\n        [4, 40, 18, 2, 41, 19],\n        [4, 40, 14, 2, 41, 15],\n        [2, 146, 116],\n        [3, 58, 36, 2, 59, 37],\n        [4, 36, 16, 4, 37, 17],\n        [4, 36, 12, 4, 37, 13],\n        [2, 86, 68, 2, 87, 69],\n        [4, 69, 43, 1, 70, 44],\n        [6, 43, 19, 2, 44, 20],\n        [6, 43, 15, 2, 44, 16],\n        [4, 101, 81],\n        [1, 80, 50, 4, 81, 51],\n        [4, 50, 22, 4, 51, 23],\n        [3, 36, 12, 8, 37, 13],\n        [2, 116, 92, 2, 117, 93],\n        [6, 58, 36, 2, 59, 37],\n        [4, 46, 20, 6, 47, 21],\n        [7, 42, 14, 4, 43, 15],\n        [4, 133, 107],\n        [8, 59, 37, 1, 60, 38],\n        [8, 44, 20, 4, 45, 21],\n        [12, 33, 11, 4, 34, 12],\n        [3, 145, 115, 1, 146, 116],\n        [4, 64, 40, 5, 65, 41],\n        [11, 36, 16, 5, 37, 17],\n        [11, 36, 12, 5, 37, 13],\n        [5, 109, 87, 1, 110, 88],\n        [5, 65, 41, 5, 66, 42],\n        [5, 54, 24, 7, 55, 25],\n        [11, 36, 12, 7, 37, 13],\n        [5, 122, 98, 1, 123, 99],\n        [7, 73, 45, 3, 74, 46],\n        [15, 43, 19, 2, 44, 20],\n        [3, 45, 15, 13, 46, 16],\n        [1, 135, 107, 5, 136, 108],\n        [10, 74, 46, 1, 75, 47],\n        [1, 50, 22, 15, 51, 23],\n        [2, 42, 14, 17, 43, 15],\n        [5, 150, 120, 1, 151, 121],\n        [9, 69, 43, 4, 70, 44],\n        [17, 50, 22, 1, 51, 23],\n        [2, 42, 14, 19, 43, 15],\n        [3, 141, 113, 4, 142, 114],\n        [3, 70, 44, 11, 71, 45],\n        [17, 47, 21, 4, 48, 22],\n        [9, 39, 13, 16, 40, 14],\n        [3, 135, 107, 5, 136, 108],\n        [3, 67, 41, 13, 68, 42],\n        [15, 54, 24, 5, 55, 25],\n        [15, 43, 15, 10, 44, 16],\n        [4, 144, 116, 4, 145, 117],\n        [17, 68, 42],\n        [17, 50, 22, 6, 51, 23],\n        [19, 46, 16, 6, 47, 17],\n        [2, 139, 111, 7, 140, 112],\n        [17, 74, 46],\n        [7, 54, 24, 16, 55, 25],\n        [34, 37, 13],\n        [4, 151, 121, 5, 152, 122],\n        [4, 75, 47, 14, 76, 48],\n        [11, 54, 24, 14, 55, 25],\n        [16, 45, 15, 14, 46, 16],\n        [6, 147, 117, 4, 148, 118],\n        [6, 73, 45, 14, 74, 46],\n        [11, 54, 24, 16, 55, 25],\n        [30, 46, 16, 2, 47, 17],\n        [8, 132, 106, 4, 133, 107],\n        [8, 75, 47, 13, 76, 48],\n        [7, 54, 24, 22, 55, 25],\n        [22, 45, 15, 13, 46, 16],\n        [10, 142, 114, 2, 143, 115],\n        [19, 74, 46, 4, 75, 47],\n        [28, 50, 22, 6, 51, 23],\n        [33, 46, 16, 4, 47, 17],\n        [8, 152, 122, 4, 153, 123],\n        [22, 73, 45, 3, 74, 46],\n        [8, 53, 23, 26, 54, 24],\n        [12, 45, 15, 28, 46, 16],\n        [3, 147, 117, 10, 148, 118],\n        [3, 73, 45, 23, 74, 46],\n        [4, 54, 24, 31, 55, 25],\n        [11, 45, 15, 31, 46, 16],\n        [7, 146, 116, 7, 147, 117],\n        [21, 73, 45, 7, 74, 46],\n        [1, 53, 23, 37, 54, 24],\n        [19, 45, 15, 26, 46, 16],\n        [5, 145, 115, 10, 146, 116],\n        [19, 75, 47, 10, 76, 48],\n        [15, 54, 24, 25, 55, 25],\n        [23, 45, 15, 25, 46, 16],\n        [13, 145, 115, 3, 146, 116],\n        [2, 74, 46, 29, 75, 47],\n        [42, 54, 24, 1, 55, 25],\n        [23, 45, 15, 28, 46, 16],\n        [17, 145, 115],\n        [10, 74, 46, 23, 75, 47],\n        [10, 54, 24, 35, 55, 25],\n        [19, 45, 15, 35, 46, 16],\n        [17, 145, 115, 1, 146, 116],\n        [14, 74, 46, 21, 75, 47],\n        [29, 54, 24, 19, 55, 25],\n        [11, 45, 15, 46, 46, 16],\n        [13, 145, 115, 6, 146, 116],\n        [14, 74, 46, 23, 75, 47],\n        [44, 54, 24, 7, 55, 25],\n        [59, 46, 16, 1, 47, 17],\n        [12, 151, 121, 7, 152, 122],\n        [12, 75, 47, 26, 76, 48],\n        [39, 54, 24, 14, 55, 25],\n        [22, 45, 15, 41, 46, 16],\n        [6, 151, 121, 14, 152, 122],\n        [6, 75, 47, 34, 76, 48],\n        [46, 54, 24, 10, 55, 25],\n        [2, 45, 15, 64, 46, 16],\n        [17, 152, 122, 4, 153, 123],\n        [29, 74, 46, 14, 75, 47],\n        [49, 54, 24, 10, 55, 25],\n        [24, 45, 15, 46, 46, 16],\n        [4, 152, 122, 18, 153, 123],\n        [13, 74, 46, 32, 75, 47],\n        [48, 54, 24, 14, 55, 25],\n        [42, 45, 15, 32, 46, 16],\n        [20, 147, 117, 4, 148, 118],\n        [40, 75, 47, 7, 76, 48],\n        [43, 54, 24, 22, 55, 25],\n        [10, 45, 15, 67, 46, 16],\n        [19, 148, 118, 6, 149, 119],\n        [18, 75, 47, 31, 76, 48],\n        [34, 54, 24, 34, 55, 25],\n        [20, 45, 15, 61, 46, 16]\n      ];\n      var qrRSBlock = function(totalCount, dataCount) {\n        var _this2 = {};\n        _this2.totalCount = totalCount;\n        _this2.dataCount = dataCount;\n        return _this2;\n      };\n      var _this = {};\n      var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n        switch (errorCorrectionLevel) {\n          case QRErrorCorrectionLevel.L:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n          case QRErrorCorrectionLevel.M:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n          case QRErrorCorrectionLevel.Q:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n          case QRErrorCorrectionLevel.H:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n          default:\n            return void 0;\n        }\n      };\n      _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n        var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n        if (typeof rsBlock == \"undefined\") {\n          throw \"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectionLevel:\" + errorCorrectionLevel;\n        }\n        var length = rsBlock.length / 3;\n        var list = [];\n        for (var i2 = 0; i2 < length; i2 += 1) {\n          var count = rsBlock[i2 * 3 + 0];\n          var totalCount = rsBlock[i2 * 3 + 1];\n          var dataCount = rsBlock[i2 * 3 + 2];\n          for (var j = 0; j < count; j += 1) {\n            list.push(qrRSBlock(totalCount, dataCount));\n          }\n        }\n        return list;\n      };\n      return _this;\n    }();\n    var qrBitBuffer = function() {\n      var _buffer = [];\n      var _length = 0;\n      var _this = {};\n      _this.getBuffer = function() {\n        return _buffer;\n      };\n      _this.getAt = function(index) {\n        var bufIndex = Math.floor(index / 8);\n        return (_buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n      };\n      _this.put = function(num, length) {\n        for (var i2 = 0; i2 < length; i2 += 1) {\n          _this.putBit((num >>> length - i2 - 1 & 1) == 1);\n        }\n      };\n      _this.getLengthInBits = function() {\n        return _length;\n      };\n      _this.putBit = function(bit) {\n        var bufIndex = Math.floor(_length / 8);\n        if (_buffer.length <= bufIndex) {\n          _buffer.push(0);\n        }\n        if (bit) {\n          _buffer[bufIndex] |= 128 >>> _length % 8;\n        }\n        _length += 1;\n      };\n      return _this;\n    };\n    var qrNumber = function(data) {\n      var _mode = QRMode.MODE_NUMBER;\n      var _data = data;\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _data.length;\n      };\n      _this.write = function(buffer) {\n        var data2 = _data;\n        var i2 = 0;\n        while (i2 + 2 < data2.length) {\n          buffer.put(strToNum(data2.substring(i2, i2 + 3)), 10);\n          i2 += 3;\n        }\n        if (i2 < data2.length) {\n          if (data2.length - i2 == 1) {\n            buffer.put(strToNum(data2.substring(i2, i2 + 1)), 4);\n          } else if (data2.length - i2 == 2) {\n            buffer.put(strToNum(data2.substring(i2, i2 + 2)), 7);\n          }\n        }\n      };\n      var strToNum = function(s2) {\n        var num = 0;\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          num = num * 10 + chatToNum(s2.charAt(i2));\n        }\n        return num;\n      };\n      var chatToNum = function(c2) {\n        if (\"0\" <= c2 && c2 <= \"9\") {\n          return c2.charCodeAt(0) - \"0\".charCodeAt(0);\n        }\n        throw \"illegal char :\" + c2;\n      };\n      return _this;\n    };\n    var qrAlphaNum = function(data) {\n      var _mode = QRMode.MODE_ALPHA_NUM;\n      var _data = data;\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _data.length;\n      };\n      _this.write = function(buffer) {\n        var s2 = _data;\n        var i2 = 0;\n        while (i2 + 1 < s2.length) {\n          buffer.put(\n            getCode(s2.charAt(i2)) * 45 + getCode(s2.charAt(i2 + 1)),\n            11\n          );\n          i2 += 2;\n        }\n        if (i2 < s2.length) {\n          buffer.put(getCode(s2.charAt(i2)), 6);\n        }\n      };\n      var getCode = function(c2) {\n        if (\"0\" <= c2 && c2 <= \"9\") {\n          return c2.charCodeAt(0) - \"0\".charCodeAt(0);\n        } else if (\"A\" <= c2 && c2 <= \"Z\") {\n          return c2.charCodeAt(0) - \"A\".charCodeAt(0) + 10;\n        } else {\n          switch (c2) {\n            case \" \":\n              return 36;\n            case \"$\":\n              return 37;\n            case \"%\":\n              return 38;\n            case \"*\":\n              return 39;\n            case \"+\":\n              return 40;\n            case \"-\":\n              return 41;\n            case \".\":\n              return 42;\n            case \"/\":\n              return 43;\n            case \":\":\n              return 44;\n            default:\n              throw \"illegal char :\" + c2;\n          }\n        }\n      };\n      return _this;\n    };\n    var qr8BitByte = function(data) {\n      var _mode = QRMode.MODE_8BIT_BYTE;\n      var _bytes = qrcode3.stringToBytes(data);\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _bytes.length;\n      };\n      _this.write = function(buffer) {\n        for (var i2 = 0; i2 < _bytes.length; i2 += 1) {\n          buffer.put(_bytes[i2], 8);\n        }\n      };\n      return _this;\n    };\n    var qrKanji = function(data) {\n      var _mode = QRMode.MODE_KANJI;\n      var stringToBytes = qrcode3.stringToBytesFuncs[\"SJIS\"];\n      if (!stringToBytes) {\n        throw \"sjis not supported.\";\n      }\n      !function(c2, code) {\n        var test = stringToBytes(c2);\n        if (test.length != 2 || (test[0] << 8 | test[1]) != code) {\n          throw \"sjis not supported.\";\n        }\n      }(\"\\u53CB\", 38726);\n      var _bytes = stringToBytes(data);\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return ~~(_bytes.length / 2);\n      };\n      _this.write = function(buffer) {\n        var data2 = _bytes;\n        var i2 = 0;\n        while (i2 + 1 < data2.length) {\n          var c2 = (255 & data2[i2]) << 8 | 255 & data2[i2 + 1];\n          if (33088 <= c2 && c2 <= 40956) {\n            c2 -= 33088;\n          } else if (57408 <= c2 && c2 <= 60351) {\n            c2 -= 49472;\n          } else {\n            throw \"illegal char at \" + (i2 + 1) + \"/\" + c2;\n          }\n          c2 = (c2 >>> 8 & 255) * 192 + (c2 & 255);\n          buffer.put(c2, 13);\n          i2 += 2;\n        }\n        if (i2 < data2.length) {\n          throw \"illegal char at \" + (i2 + 1);\n        }\n      };\n      return _this;\n    };\n    var byteArrayOutputStream = function() {\n      var _bytes = [];\n      var _this = {};\n      _this.writeByte = function(b) {\n        _bytes.push(b & 255);\n      };\n      _this.writeShort = function(i2) {\n        _this.writeByte(i2);\n        _this.writeByte(i2 >>> 8);\n      };\n      _this.writeBytes = function(b, off, len) {\n        off = off || 0;\n        len = len || b.length;\n        for (var i2 = 0; i2 < len; i2 += 1) {\n          _this.writeByte(b[i2 + off]);\n        }\n      };\n      _this.writeString = function(s2) {\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          _this.writeByte(s2.charCodeAt(i2));\n        }\n      };\n      _this.toByteArray = function() {\n        return _bytes;\n      };\n      _this.toString = function() {\n        var s2 = \"\";\n        s2 += \"[\";\n        for (var i2 = 0; i2 < _bytes.length; i2 += 1) {\n          if (i2 > 0) {\n            s2 += \",\";\n          }\n          s2 += _bytes[i2];\n        }\n        s2 += \"]\";\n        return s2;\n      };\n      return _this;\n    };\n    var base64EncodeOutputStream = function() {\n      var _buffer = 0;\n      var _buflen = 0;\n      var _length = 0;\n      var _base64 = \"\";\n      var _this = {};\n      var writeEncoded = function(b) {\n        _base64 += String.fromCharCode(encode(b & 63));\n      };\n      var encode = function(n2) {\n        if (n2 < 0)\n          ;\n        else if (n2 < 26) {\n          return 65 + n2;\n        } else if (n2 < 52) {\n          return 97 + (n2 - 26);\n        } else if (n2 < 62) {\n          return 48 + (n2 - 52);\n        } else if (n2 == 62) {\n          return 43;\n        } else if (n2 == 63) {\n          return 47;\n        }\n        throw \"n:\" + n2;\n      };\n      _this.writeByte = function(n2) {\n        _buffer = _buffer << 8 | n2 & 255;\n        _buflen += 8;\n        _length += 1;\n        while (_buflen >= 6) {\n          writeEncoded(_buffer >>> _buflen - 6);\n          _buflen -= 6;\n        }\n      };\n      _this.flush = function() {\n        if (_buflen > 0) {\n          writeEncoded(_buffer << 6 - _buflen);\n          _buffer = 0;\n          _buflen = 0;\n        }\n        if (_length % 3 != 0) {\n          var padlen = 3 - _length % 3;\n          for (var i2 = 0; i2 < padlen; i2 += 1) {\n            _base64 += \"=\";\n          }\n        }\n      };\n      _this.toString = function() {\n        return _base64;\n      };\n      return _this;\n    };\n    var base64DecodeInputStream = function(str) {\n      var _str = str;\n      var _pos = 0;\n      var _buffer = 0;\n      var _buflen = 0;\n      var _this = {};\n      _this.read = function() {\n        while (_buflen < 8) {\n          if (_pos >= _str.length) {\n            if (_buflen == 0) {\n              return -1;\n            }\n            throw \"unexpected end of file./\" + _buflen;\n          }\n          var c2 = _str.charAt(_pos);\n          _pos += 1;\n          if (c2 == \"=\") {\n            _buflen = 0;\n            return -1;\n          } else if (c2.match(/^\\s$/)) {\n            continue;\n          }\n          _buffer = _buffer << 6 | decode(c2.charCodeAt(0));\n          _buflen += 6;\n        }\n        var n2 = _buffer >>> _buflen - 8 & 255;\n        _buflen -= 8;\n        return n2;\n      };\n      var decode = function(c2) {\n        if (65 <= c2 && c2 <= 90) {\n          return c2 - 65;\n        } else if (97 <= c2 && c2 <= 122) {\n          return c2 - 97 + 26;\n        } else if (48 <= c2 && c2 <= 57) {\n          return c2 - 48 + 52;\n        } else if (c2 == 43) {\n          return 62;\n        } else if (c2 == 47) {\n          return 63;\n        } else {\n          throw \"c:\" + c2;\n        }\n      };\n      return _this;\n    };\n    var gifImage = function(width, height) {\n      var _width = width;\n      var _height = height;\n      var _data = new Array(width * height);\n      var _this = {};\n      _this.setPixel = function(x, y, pixel) {\n        _data[y * _width + x] = pixel;\n      };\n      _this.write = function(out) {\n        out.writeString(\"GIF87a\");\n        out.writeShort(_width);\n        out.writeShort(_height);\n        out.writeByte(128);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(255);\n        out.writeByte(255);\n        out.writeByte(255);\n        out.writeString(\",\");\n        out.writeShort(0);\n        out.writeShort(0);\n        out.writeShort(_width);\n        out.writeShort(_height);\n        out.writeByte(0);\n        var lzwMinCodeSize = 2;\n        var raster = getLZWRaster(lzwMinCodeSize);\n        out.writeByte(lzwMinCodeSize);\n        var offset2 = 0;\n        while (raster.length - offset2 > 255) {\n          out.writeByte(255);\n          out.writeBytes(raster, offset2, 255);\n          offset2 += 255;\n        }\n        out.writeByte(raster.length - offset2);\n        out.writeBytes(raster, offset2, raster.length - offset2);\n        out.writeByte(0);\n        out.writeString(\";\");\n      };\n      var bitOutputStream = function(out) {\n        var _out = out;\n        var _bitLength = 0;\n        var _bitBuffer = 0;\n        var _this2 = {};\n        _this2.write = function(data, length) {\n          if (data >>> length != 0) {\n            throw \"length over\";\n          }\n          while (_bitLength + length >= 8) {\n            _out.writeByte(255 & (data << _bitLength | _bitBuffer));\n            length -= 8 - _bitLength;\n            data >>>= 8 - _bitLength;\n            _bitBuffer = 0;\n            _bitLength = 0;\n          }\n          _bitBuffer = data << _bitLength | _bitBuffer;\n          _bitLength = _bitLength + length;\n        };\n        _this2.flush = function() {\n          if (_bitLength > 0) {\n            _out.writeByte(_bitBuffer);\n          }\n        };\n        return _this2;\n      };\n      var getLZWRaster = function(lzwMinCodeSize) {\n        var clearCode = 1 << lzwMinCodeSize;\n        var endCode = (1 << lzwMinCodeSize) + 1;\n        var bitLength = lzwMinCodeSize + 1;\n        var table = lzwTable();\n        for (var i2 = 0; i2 < clearCode; i2 += 1) {\n          table.add(String.fromCharCode(i2));\n        }\n        table.add(String.fromCharCode(clearCode));\n        table.add(String.fromCharCode(endCode));\n        var byteOut = byteArrayOutputStream();\n        var bitOut = bitOutputStream(byteOut);\n        bitOut.write(clearCode, bitLength);\n        var dataIndex = 0;\n        var s2 = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n        while (dataIndex < _data.length) {\n          var c2 = String.fromCharCode(_data[dataIndex]);\n          dataIndex += 1;\n          if (table.contains(s2 + c2)) {\n            s2 = s2 + c2;\n          } else {\n            bitOut.write(table.indexOf(s2), bitLength);\n            if (table.size() < 4095) {\n              if (table.size() == 1 << bitLength) {\n                bitLength += 1;\n              }\n              table.add(s2 + c2);\n            }\n            s2 = c2;\n          }\n        }\n        bitOut.write(table.indexOf(s2), bitLength);\n        bitOut.write(endCode, bitLength);\n        bitOut.flush();\n        return byteOut.toByteArray();\n      };\n      var lzwTable = function() {\n        var _map = {};\n        var _size = 0;\n        var _this2 = {};\n        _this2.add = function(key) {\n          if (_this2.contains(key)) {\n            throw \"dup key:\" + key;\n          }\n          _map[key] = _size;\n          _size += 1;\n        };\n        _this2.size = function() {\n          return _size;\n        };\n        _this2.indexOf = function(key) {\n          return _map[key];\n        };\n        _this2.contains = function(key) {\n          return typeof _map[key] != \"undefined\";\n        };\n        return _this2;\n      };\n      return _this;\n    };\n    var createDataURL = function(width, height, getPixel) {\n      var gif = gifImage(width, height);\n      for (var y = 0; y < height; y += 1) {\n        for (var x = 0; x < width; x += 1) {\n          gif.setPixel(x, y, getPixel(x, y));\n        }\n      }\n      var b = byteArrayOutputStream();\n      gif.write(b);\n      var base64 = base64EncodeOutputStream();\n      var bytes = b.toByteArray();\n      for (var i2 = 0; i2 < bytes.length; i2 += 1) {\n        base64.writeByte(bytes[i2]);\n      }\n      base64.flush();\n      return \"data:image/gif;base64,\" + base64;\n    };\n    return qrcode3;\n  }();\n  !function() {\n    qrcode2.stringToBytesFuncs[\"UTF-8\"] = function(s2) {\n      function toUTF8Array(str) {\n        var utf8 = [];\n        for (var i2 = 0; i2 < str.length; i2++) {\n          var charcode = str.charCodeAt(i2);\n          if (charcode < 128)\n            utf8.push(charcode);\n          else if (charcode < 2048) {\n            utf8.push(\n              192 | charcode >> 6,\n              128 | charcode & 63\n            );\n          } else if (charcode < 55296 || charcode >= 57344) {\n            utf8.push(\n              224 | charcode >> 12,\n              128 | charcode >> 6 & 63,\n              128 | charcode & 63\n            );\n          } else {\n            i2++;\n            charcode = 65536 + ((charcode & 1023) << 10 | str.charCodeAt(i2) & 1023);\n            utf8.push(\n              240 | charcode >> 18,\n              128 | charcode >> 12 & 63,\n              128 | charcode >> 6 & 63,\n              128 | charcode & 63\n            );\n          }\n        }\n        return utf8;\n      }\n      return toUTF8Array(s2);\n    };\n  }();\n  (function(factory) {\n    {\n      module2.exports = factory();\n    }\n  })(function() {\n    return qrcode2;\n  });\n})(qrcode$1);\nconst qrcode = qrcode$1.exports;\nvar _tmpl$$6 = /* @__PURE__ */ template$1(`<div>`);\nconst QRCode = (props) => {\n  let qrCodeCanvasRef;\n  let qrCodeWrapperRef;\n  let imageRef;\n  createSignal(false);\n  const [picSize, setPicSize] = createSignal(picSizeDefault);\n  createEffect(() => {\n    const errorCorrectionLevel = \"L\";\n    const cellSize = 4;\n    const qr = qrcode(0, errorCorrectionLevel);\n    qr.addData(props.sourceUrl);\n    qr.make();\n    qrCodeCanvasRef.innerHTML = qr.createSvgTag(cellSize, 0);\n    const qrSize = qrCodeCanvasRef.firstElementChild.clientWidth;\n    const scale = Math.round(qrNormalSize / qrSize * 1e5) / 1e5;\n    if (imageRef) {\n      const imgSize = Math.ceil(imgSizeDefault / (scale * cellSize)) * cellSize;\n      const imgOffset = toPx(Math.ceil((qrSize - imgSize) / (2 * cellSize)) * cellSize);\n      imageRef.style.top = imgOffset;\n      imageRef.style.left = imgOffset;\n      imageRef.style.height = toPx(imgSize);\n      imageRef.style.width = toPx(imgSize);\n      setPicSize(Math.round(picSizeDefault / scale));\n    }\n    qrCodeWrapperRef.style.transform = `scale(${scale})`;\n  });\n  return createComponent(QrCodeBackground, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      return [createComponent(QrCodeWrapper$1, {\n        ref(r$) {\n          var _ref$ = qrCodeWrapperRef;\n          typeof _ref$ === \"function\" ? _ref$(r$) : qrCodeWrapperRef = r$;\n        },\n        get children() {\n          return [(() => {\n            var _el$ = _tmpl$$6();\n            var _ref$2 = qrCodeCanvasRef;\n            typeof _ref$2 === \"function\" ? use(_ref$2, _el$) : qrCodeCanvasRef = _el$;\n            return _el$;\n          })(), createComponent(Show, {\n            get when() {\n              return props.imageUrl;\n            },\n            get children() {\n              return createComponent(ImageBackground, {\n                ref(r$) {\n                  var _ref$3 = imageRef;\n                  typeof _ref$3 === \"function\" ? _ref$3(r$) : imageRef = r$;\n                },\n                get children() {\n                  return createComponent(ImageStyled$2, {\n                    get src() {\n                      return props.imageUrl;\n                    },\n                    alt: \"\",\n                    get size() {\n                      return picSize();\n                    }\n                  });\n                }\n              });\n            }\n          })];\n        }\n      }), createComponent(Transition, {\n        onBeforeEnter: (el) => {\n          animate(el, [{\n            opacity: 0,\n            transform: \"translate(-50%, 44px)\"\n          }, {\n            opacity: 1,\n            transform: \"translate(-50%, 0)\"\n          }], {\n            duration: 150,\n            easing: \"ease-out\"\n          });\n        },\n        onExit: (el, done) => {\n          animate(el, [{\n            opacity: 1,\n            transform: \"translate(-50%, 0)\"\n          }, {\n            opacity: 0,\n            transform: \"translate(-50%, 44px)\"\n          }], {\n            duration: 150,\n            easing: \"ease-out\"\n          }).finished.then(() => {\n            done();\n          });\n        }\n      })];\n    }\n  });\n};\nconst $RAW = Symbol(\"store-raw\"), $NODE = Symbol(\"store-node\"), $HAS = Symbol(\"store-has\"), $SELF = Symbol(\"store-self\");\nfunction wrap$1(value) {\n  let p2 = value[$PROXY];\n  if (!p2) {\n    Object.defineProperty(value, $PROXY, {\n      value: p2 = new Proxy(value, proxyTraps$1)\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value), desc = Object.getOwnPropertyDescriptors(value);\n      for (let i2 = 0, l2 = keys.length; i2 < l2; i2++) {\n        const prop = keys[i2];\n        if (desc[prop].get) {\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get: desc[prop].get.bind(p2)\n          });\n        }\n      }\n    }\n  }\n  return p2;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return obj != null && typeof obj === \"object\" && (obj[$PROXY] || !(proto = Object.getPrototypeOf(obj)) || proto === Object.prototype || Array.isArray(obj));\n}\nfunction unwrap(item, set = /* @__PURE__ */ new Set()) {\n  let result, unwrapped, v, prop;\n  if (result = item != null && item[$RAW])\n    return result;\n  if (!isWrappable(item) || set.has(item))\n    return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item))\n      item = item.slice(0);\n    else\n      set.add(item);\n    for (let i2 = 0, l2 = item.length; i2 < l2; i2++) {\n      v = item[i2];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[i2] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item))\n      item = Object.assign({}, item);\n    else\n      set.add(item);\n    const keys = Object.keys(item), desc = Object.getOwnPropertyDescriptors(item);\n    for (let i2 = 0, l2 = keys.length; i2 < l2; i2++) {\n      prop = keys[i2];\n      if (desc[prop].get)\n        continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getNodes(target, symbol) {\n  let nodes = target[symbol];\n  if (!nodes)\n    Object.defineProperty(target, symbol, {\n      value: nodes = /* @__PURE__ */ Object.create(null)\n    });\n  return nodes;\n}\nfunction getNode(nodes, property, value) {\n  if (nodes[property])\n    return nodes[property];\n  const [s2, set] = createSignal(value, {\n    equals: false,\n    internal: true\n  });\n  s2.$ = set;\n  return nodes[property] = s2;\n}\nfunction proxyDescriptor$1(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE)\n    return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  getListener() && getNode(getNodes(target, $NODE), $SELF)();\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nconst proxyTraps$1 = {\n  get(target, property, receiver) {\n    if (property === $RAW)\n      return target;\n    if (property === $PROXY)\n      return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\")\n      return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (getListener() && (typeof value !== \"function\" || target.hasOwnProperty(property)) && !(desc && desc.get))\n        value = getNode(nodes, property, value)();\n    }\n    return isWrappable(value) ? wrap$1(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === $HAS || property === \"__proto__\")\n      return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set() {\n    return true;\n  },\n  deleteProperty() {\n    return true;\n  },\n  ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor$1\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value)\n    return;\n  const prev = state[property], len = state.length;\n  if (value === void 0) {\n    delete state[property];\n    if (state[$HAS] && state[$HAS][property] && prev !== void 0)\n      state[$HAS][property].$();\n  } else {\n    state[property] = value;\n    if (state[$HAS] && state[$HAS][property] && prev === void 0)\n      state[$HAS][property].$();\n  }\n  let nodes = getNodes(state, $NODE), node;\n  if (node = getNode(nodes, property, prev))\n    node.$(() => value);\n  if (Array.isArray(state) && state.length !== len) {\n    for (let i2 = state.length; i2 < len; i2++)\n      (node = nodes[i2]) && node.$();\n    (node = getNode(nodes, \"length\", len)) && node.$(state.length);\n  }\n  (node = nodes[$SELF]) && node.$();\n}\nfunction mergeStoreNode(state, value) {\n  const keys = Object.keys(value);\n  for (let i2 = 0; i2 < keys.length; i2 += 1) {\n    const key = keys[i2];\n    setProperty(state, key, value[key]);\n  }\n}\nfunction updateArray(current, next) {\n  if (typeof next === \"function\")\n    next = next(current);\n  next = unwrap(next);\n  if (Array.isArray(next)) {\n    if (current === next)\n      return;\n    let i2 = 0, len = next.length;\n    for (; i2 < len; i2++) {\n      const value = next[i2];\n      if (current[i2] !== value)\n        setProperty(current, i2, value);\n    }\n    setProperty(current, \"length\", len);\n  } else\n    mergeStoreNode(current, next);\n}\nfunction updatePath(current, path, traversed = []) {\n  let part, prev = current;\n  if (path.length > 1) {\n    part = path.shift();\n    const partType = typeof part, isArray = Array.isArray(current);\n    if (Array.isArray(part)) {\n      for (let i2 = 0; i2 < part.length; i2++) {\n        updatePath(current, [part[i2]].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"function\") {\n      for (let i2 = 0; i2 < current.length; i2++) {\n        if (part(current[i2], i2))\n          updatePath(current, [i2].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"object\") {\n      const {\n        from = 0,\n        to = current.length - 1,\n        by = 1\n      } = part;\n      for (let i2 = from; i2 <= to; i2 += by) {\n        updatePath(current, [i2].concat(path), traversed);\n      }\n      return;\n    } else if (path.length > 1) {\n      updatePath(current[part], path, [part].concat(traversed));\n      return;\n    }\n    prev = current[part];\n    traversed = [part].concat(traversed);\n  }\n  let value = path[0];\n  if (typeof value === \"function\") {\n    value = value(prev, traversed);\n    if (value === prev)\n      return;\n  }\n  if (part === void 0 && value == void 0)\n    return;\n  value = unwrap(value);\n  if (part === void 0 || isWrappable(prev) && isWrappable(value) && !Array.isArray(value)) {\n    mergeStoreNode(prev, value);\n  } else\n    setProperty(current, part, value);\n}\nfunction createStore(...[store, options]) {\n  const unwrappedStore = unwrap(store || {});\n  const isArray = Array.isArray(unwrappedStore);\n  const wrappedStore = wrap$1(unwrappedStore);\n  function setStore(...args) {\n    batch(() => {\n      isArray && args.length === 1 ? updateArray(unwrappedStore, args[0]) : updatePath(unwrappedStore, args);\n    });\n  }\n  return [wrappedStore, setStore];\n}\nfunction deepReadObject(obj, path, defaultValue) {\n  const value = obj[path] || path.trim().split(\".\").reduce((a2, b) => a2 ? a2[b] : void 0, obj);\n  return value !== void 0 ? value : defaultValue;\n}\nvar template = (str, params, reg = /{{([^{}]+)}}/g) => str.replace(reg, (_, key) => deepReadObject(params, key, \"\"));\nvar createI18nContext = (init = {}, lang = typeof navigator !== \"undefined\" && navigator.language in init ? navigator.language : ((_h) => (_h = Object.keys(init)[0]) != null ? _h : \"\")()) => {\n  const [locale, setLocale] = createSignal(lang);\n  const [dict, setDict] = createStore(init);\n  const translate = (key, params, defaultValue) => {\n    const val = deepReadObject(dict[locale()], key, defaultValue || \"\");\n    if (typeof val === \"function\")\n      return val(params);\n    if (typeof val === \"string\")\n      return template(val, params || {});\n    return val;\n  };\n  const actions = {\n    add(lang2, table) {\n      setDict(lang2, (t2) => Object.assign(t2 || {}, table));\n    },\n    locale: (lang2) => lang2 ? setLocale(lang2) : locale(),\n    dict: (lang2) => deepReadObject(dict, lang2)\n  };\n  return [translate, actions];\n};\nvar I18nContext = createContext({});\nvar useI18n = () => useContext(I18nContext);\nconst TextStyled$2 = styled.div`\n    font-style: normal;\n    font-weight: ${(props) => props.fontWeight};\n    font-size: ${(props) => props.fontSize};\n    line-height: ${(props) => props.lineHeight};\n\n    color: ${(props) => props.color};\n`;\nconst Text = (inputs) => {\n  const theme = useTheme();\n  const [t2] = useI18n();\n  let textRef;\n  const color = () => inputs.color || theme.colors.text.primary;\n  const props = mergeProps({\n    fontSize: \"14px\",\n    fontWeight: \"510\",\n    lineHeight: \"130%\"\n  }, inputs);\n  createEffect(() => {\n    if (!textRef) {\n      return;\n    }\n    if (props.cursor === \"unset\") {\n      return;\n    }\n    if (getComputedStyle(textRef).cursor !== \"pointer\") {\n      textRef.style.cursor = \"default\";\n    }\n  });\n  return createComponent(TextStyled$2, {\n    get fontSize() {\n      return props.fontSize;\n    },\n    get fontWeight() {\n      return props.fontWeight;\n    },\n    get lineHeight() {\n      return props.lineHeight;\n    },\n    get color() {\n      return color();\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    ref(r$) {\n      var _ref$ = textRef;\n      typeof _ref$ === \"function\" ? _ref$(r$) : textRef = r$;\n    },\n    \"data-tc-text\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst ImageContainer = styled.div`\n    position: relative;\n\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 0.5px solid rgba(0, 0, 0, 0.08);\n\n        border-radius: inherit;\n    }\n`;\nconst ImageStyled$1 = styled(Image)`\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n`;\nconst WalletImage = (props) => {\n  return createComponent(ImageContainer, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      return createComponent(ImageStyled$1, {\n        get src() {\n          return props.src;\n        }\n      });\n    }\n  });\n};\nconst borders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst badgeBorders = {\n  m: \"6px\",\n  s: \"6px\",\n  none: \"0\"\n};\nstyled.button`\n    position: relative;\n    cursor: pointer;\n    border: none;\n    background-color: unset;\n    padding: 8px 4px;\n    width: 92px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${media(\"mobile\")} {\n        padding: 8px 4px;\n        width: 82px;\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\nstyled(WalletImage)`\n    width: 60px;\n    height: 60px;\n    border-radius: ${(props) => borders[props.theme.borderRadius]};\n\n    margin-bottom: 8px;\n`;\nstyled(Image)`\n    position: absolute;\n    right: 10px;\n    top: 50px;\n    width: 24px;\n    height: 24px;\n    border-radius: ${(props) => badgeBorders[props.theme.borderRadius]};\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);\n`;\nstyled(Text)`\n    max-width: 90px;\n    font-weight: 510;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    ${media(\"mobile\")} {\n        max-width: 80px;\n    }\n`;\nstyled(Text)`\n    font-weight: ${(props) => props.colorPrimary ? \"510\" : \"400\"};\n    max-width: 90px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: ${(props) => props.colorPrimary ? props.theme.colors.text.primary : props.theme.colors.text.secondary};\n\n    ${media(\"mobile\")} {\n        max-width: 80px;\n    }\n`;\nconst H1Styled$2 = styled.h1`\n    font-style: normal;\n    font-weight: 590;\n    font-size: 20px;\n    line-height: 28px;\n\n    text-align: center;\n\n    color: ${(props) => props.theme.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\nconst H1 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H1Styled$2, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-h1\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst H2Styled$1 = styled.h2`\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 22px;\n\n    text-align: center;\n\n    color: ${(props) => props.theme.colors.text.secondary};\n\n    margin-top: 0;\n    margin-bottom: 32px;\n\n    cursor: default;\n`;\nconst H2 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H2Styled$1, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-h2\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst H3Styled = styled.h3`\n    font-style: normal;\n    font-weight: 510;\n    font-size: 16px;\n    line-height: 20px;\n\n    color: ${(props) => props.theme.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\nconst H3 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H3Styled, {\n    \"data-tc-h3\": \"true\",\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst containerBorders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst walletBorders = {\n  m: \"6px\",\n  s: \"6px\",\n  none: \"0\"\n};\nstyled.div`\n    width: 60px;\n    height: 60px;\n    padding: 8px;\n    margin-bottom: 8px;\n    border-radius: ${(props) => containerBorders[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.tint};\n    display: grid;\n    grid-template: 1fr 1fr / 1fr 1fr;\n    gap: 4px;\n`;\nstyled(WalletImage)`\n    width: 20px;\n    height: 20px;\n    border-radius: ${(props) => walletBorders[props.theme.borderRadius]};\n`;\nstyled.div`\n    width: 100%;\n    overflow-y: auto;\n    max-height: ${(props) => props.maxHeight};\n\n    scrollbar-width: none;\n    &&::-webkit-scrollbar {\n        display: none;\n    }\n\n    &&::-webkit-scrollbar-track {\n        background: transparent;\n    }\n\n    &&::-webkit-scrollbar-thumb {\n        display: none;\n    }\n`;\nstyled.div`\n    height: 1px;\n    margin: 0 -24px;\n    width: calc(100% + 48px);\n    opacity: 0.08;\n    background: ${(props) => props.isShown ? props.theme.colors.icon.secondary : \"transparent\"};\n    transition: background 0.15s ease-in-out;\n\n    ${media(\"mobile\")} {\n        width: 100%;\n        margin: 0;\n    }\n`;\nconst [windowHeight, setWindowHeight] = createSignal(((_i = getWindow$1()) == null ? void 0 : _i.innerHeight) || 0);\nif (getWindow$1()) {\n  window.addEventListener(\"resize\", () => setWindowHeight(window.innerHeight));\n}\nconst AStyled = styled.a`\n    display: block;\n    text-decoration: unset;\n`;\nconst Link = (props) => {\n  const attributes = () => props.blank ? {\n    rel: \"noreferrer noopener\"\n  } : {};\n  return createComponent(AStyled, mergeProps({\n    get href() {\n      return props.href;\n    },\n    get target() {\n      return props.blank ? \"_blank\" : \"_self\";\n    },\n    get [\"class\"]() {\n      return props.class;\n    }\n  }, attributes, {\n    get children() {\n      return props.children;\n    }\n  }));\n};\nvar _tmpl$$5 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d=\"M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z\">`);\nconst CopyIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$5(), _el$2 = _el$.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$ = props.class, _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$2, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })();\n};\nvar _tmpl$$4 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z\"></path><path d=\"M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z\">`);\nconst DisconnectIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$4(), _el$2 = _el$.firstChild, _el$3 = _el$2.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = fill(), _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$2, \"fill\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$3, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })();\n};\nfunction copyToClipboard(text) {\n  return __async(this, null, function* () {\n    try {\n      if (!(navigator == null ? void 0 : navigator.clipboard)) {\n        throw new OKXConnectUiError(\"Clipboard API not available\");\n      }\n      return yield navigator.clipboard.writeText(text);\n    } catch (e2) {\n    }\n    fallbackCopyTextToClipboard(text);\n  });\n}\nfunction fallbackCopyTextToClipboard(text) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n  try {\n    document.execCommand(\"copy\");\n  } finally {\n    document.body.removeChild(textArea);\n  }\n}\nconst hoverBorders = {\n  m: \"8px\",\n  s: \"4px\",\n  none: \"0\"\n};\nconst dropdownBorders = {\n  m: \"16px\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst AccountButtonDropdownStyled = styled.div`\n    width: 256px;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);\n    border-radius: ${(props) => dropdownBorders[props.theme.borderRadius]};\n\n    background-color: ${(props) => props.theme.colors.background.primary}\n           \n    color: ${(props) => props.theme.colors.text.primary}\n`;\nconst UlStyled = styled.ul`\n    background-color: ${(props) => props.theme.colors.background.primary};\n    padding: 8px;\n`;\nconst MenuButtonStyled = styled.button`\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    height: 40px;\n    padding-left: 8px;\n    width: 100%;\n\n    background-color: ${(props) => props.theme.colors.background.primary};\n    border: none;\n    border-radius: ${(props) => hoverBorders[props.theme.borderRadius]};\n    cursor: pointer;\n\n    transition: background-color, transform 0.1s ease-in-out;\n\n    &:hover {\n        background-color: ${(props) => props.theme.colors.background.secondary};\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n`;\nconst OKXConnectUiContext = createContext();\nvar _tmpl$$3 = /* @__PURE__ */ template$1(`<li>`);\nconst MenuItemText = (props) => createComponent(Text, {\n  get translationKey() {\n    return props.translationKey;\n  },\n  fontSize: \"15px\",\n  fontWeight: \"590\",\n  get children() {\n    return props.children;\n  }\n});\nconst AccountButtonDropdown = (props) => {\n  const tonConnectUi = useContext(OKXConnectUiContext);\n  const [isCopiedShown, setIsCopiedShown] = createSignal(false);\n  const onCopy = () => __async(exports, null, function* () {\n    const userFriendlyAddress = tonsdk.toUserFriendlyAddress(tonConnectUi.account.address);\n    yield copyToClipboard(userFriendlyAddress);\n    setIsCopiedShown(true);\n    setTimeout(() => setIsCopiedShown(false), 1e3);\n  });\n  const onDisconnect = () => {\n    tonConnectUi.disconnect();\n    props.onClose();\n  };\n  return createComponent(AccountButtonDropdownStyled, {\n    ref(r$) {\n      var _ref$ = props.ref;\n      typeof _ref$ === \"function\" ? _ref$(r$) : props.ref = r$;\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-dropdown\": \"true\",\n    get children() {\n      return createComponent(UlStyled, {\n        get children() {\n          return [(() => {\n            var _el$ = _tmpl$$3();\n            insert(_el$, createComponent(MenuButtonStyled, {\n              onClick: () => onCopy(),\n              get children() {\n                return [createComponent(CopyIcon, {}), createComponent(Show, {\n                  get when() {\n                    return !isCopiedShown();\n                  },\n                  get children() {\n                    return createComponent(MenuItemText, {\n                      translationKey: \"button.dropdown.copy\",\n                      children: \"Copy address\"\n                    });\n                  }\n                }), createComponent(Show, {\n                  get when() {\n                    return isCopiedShown();\n                  },\n                  get children() {\n                    return createComponent(MenuItemText, {\n                      translationKey: \"button.dropdown.copied\",\n                      children: \"Address copied!\"\n                    });\n                  }\n                })];\n              }\n            }));\n            return _el$;\n          })(), (() => {\n            var _el$2 = _tmpl$$3();\n            insert(_el$2, createComponent(MenuButtonStyled, {\n              onClick: () => onDisconnect(),\n              get children() {\n                return [createComponent(DisconnectIcon, {}), createComponent(MenuItemText, {\n                  translationKey: \"button.dropdown.disconnect\",\n                  children: \"Disconnect\"\n                })];\n              }\n            }));\n            return _el$2;\n          })()];\n        }\n      });\n    }\n  });\n};\nconst AccountButtonStyled = styled(Button)`\n    background-color: ${(props) => props.theme.colors.connectButton.background};\n    color: ${(props) => props.theme.colors.connectButton.foreground};\n    box-shadow: ${(props) => `0 4px 24px ${rgba(props.theme.colors.constant.black, 0.16)}`};\n    padding: 8px 16px 8px 12px;\n\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    height: 40px;\n`;\nconst DropdownButtonStyled = styled(AccountButtonStyled)`\n    padding: 12px 16px;\n    min-width: 148px;\n    justify-content: center;\n    background-color: ${(props) => props.theme.colors.background.primary};\n`;\nconst LoaderButtonStyled = styled(Button)`\n    min-width: 148px;\n    height: 40px;\n\n    background-color: ${(props) => props.theme.colors.background.primary};\n    color: ${(props) => props.theme.colors.connectButton.foreground};\n    box-shadow: ${(props) => `0 4px 24px ${rgba(props.theme.colors.constant.black, 0.16)}`};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst LoaderIconStyled = styled(LoaderIcon)`\n    height: 18px;\n    width: 18px;\n`;\nconst DropdownContainerStyled = styled.div`\n    width: fit-content;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n`;\nconst DropdownStyled = styled(AccountButtonDropdown)`\n    box-sizing: border-box;\n    overflow: hidden;\n    margin-top: 12px;\n`;\nconst sides = [\"top\", \"right\", \"bottom\", \"left\"];\nconst alignments = [\"start\", \"end\"];\nconst placements = /* @__PURE__ */ sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v) => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === \"function\" ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n  return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = [\"left\", \"right\"];\n  const rl = [\"right\", \"left\"];\n  const tb = [\"top\", \"bottom\"];\n  const bt = [\"bottom\", \"top\"];\n  switch (side) {\n    case \"top\":\n    case \"bottom\":\n      if (rtl)\n        return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case \"left\":\n    case \"right\":\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === \"start\", rtl);\n  if (alignment) {\n    list = list.map((side) => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return __spreadValues({\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }, padding);\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === \"y\";\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case \"top\":\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case \"bottom\":\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case \"right\":\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case \"left\":\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case \"start\":\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case \"end\":\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\nconst computePosition$1 = (reference, floating, config) => __async(exports, null, function* () {\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(floating);\n  let rects = yield platform2.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i2 = 0; i2 < validMiddleware.length; i2++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i2];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = yield fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: platform2,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = __spreadProps(__spreadValues({}, middlewareData), {\n      [name]: __spreadValues(__spreadValues({}, middlewareData[name]), data)\n    });\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === \"object\") {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? yield platform2.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i2 = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n});\nfunction detectOverflow(state, options) {\n  return __async(this, null, function* () {\n    var _await$platform$isEle;\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      x,\n      y,\n      platform: platform2,\n      rects,\n      elements,\n      strategy\n    } = state;\n    const {\n      boundary = \"clippingAncestors\",\n      rootBoundary = \"viewport\",\n      elementContext = \"floating\",\n      altBoundary = false,\n      padding = 0\n    } = evaluate(options, state);\n    const paddingObject = getPaddingObject(padding);\n    const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n    const element = elements[altBoundary ? altContext : elementContext];\n    const clippingClientRect = rectToClientRect(yield platform2.getClippingRect({\n      element: ((_await$platform$isEle = yield platform2.isElement == null ? void 0 : platform2.isElement(element)) != null ? _await$platform$isEle : true) ? element : element.contextElement || (yield platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n      boundary,\n      rootBoundary,\n      strategy\n    }));\n    const rect = elementContext === \"floating\" ? {\n      x,\n      y,\n      width: rects.floating.width,\n      height: rects.floating.height\n    } : rects.reference;\n    const offsetParent = yield platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating);\n    const offsetScale = (yield platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? (yield platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n      x: 1,\n      y: 1\n    } : {\n      x: 1,\n      y: 1\n    };\n    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? yield platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n      elements,\n      rect,\n      offsetParent,\n      strategy\n    }) : rect);\n    return {\n      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n    };\n  });\n}\nconst arrow = (options) => ({\n  name: \"arrow\",\n  options,\n  fn(state) {\n    return __async(this, null, function* () {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        platform: platform2,\n        elements,\n        middlewareData\n      } = state;\n      const {\n        element,\n        padding = 0\n      } = evaluate(options, state) || {};\n      if (element == null) {\n        return {};\n      }\n      const paddingObject = getPaddingObject(padding);\n      const coords = {\n        x,\n        y\n      };\n      const axis = getAlignmentAxis(placement);\n      const length = getAxisLength(axis);\n      const arrowDimensions = yield platform2.getDimensions(element);\n      const isYAxis = axis === \"y\";\n      const minProp = isYAxis ? \"top\" : \"left\";\n      const maxProp = isYAxis ? \"bottom\" : \"right\";\n      const clientProp = isYAxis ? \"clientHeight\" : \"clientWidth\";\n      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n      const startDiff = coords[axis] - rects.reference[axis];\n      const arrowOffsetParent = yield platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element);\n      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n      if (!clientSize || !(yield platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {\n        clientSize = elements.floating[clientProp] || rects.floating[length];\n      }\n      const centerToReference = endDiff / 2 - startDiff / 2;\n      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n      const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n      const min$1 = minPadding;\n      const max2 = clientSize - arrowDimensions[length] - maxPadding;\n      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n      const offset2 = clamp(min$1, center, max2);\n      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset2 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;\n      return {\n        [axis]: coords[axis] + alignmentOffset,\n        data: __spreadValues({\n          [axis]: offset2,\n          centerOffset: center - offset2 - alignmentOffset\n        }, shouldAddOffset && {\n          alignmentOffset\n        }),\n        reset: shouldAddOffset\n      };\n    });\n  }\n});\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter((placement) => getAlignment(placement) === alignment), ...allowedPlacements.filter((placement) => getAlignment(placement) !== alignment)] : allowedPlacements.filter((placement) => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter((placement) => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\nconst autoPlacement = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"autoPlacement\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n        const {\n          rects,\n          middlewareData,\n          placement,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          crossAxis = false,\n          alignment,\n          allowedPlacements = placements,\n          autoAlignment = true\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"crossAxis\",\n          \"alignment\",\n          \"allowedPlacements\",\n          \"autoAlignment\"\n        ]);\n        const placements$1 = alignment !== void 0 || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n        const currentPlacement = placements$1[currentIndex];\n        if (currentPlacement == null) {\n          return {};\n        }\n        const alignmentSides = getAlignmentSides(currentPlacement, rects, yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n        if (placement !== currentPlacement) {\n          return {\n            reset: {\n              placement: placements$1[0]\n            }\n          };\n        }\n        const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n        const allOverflows = [...((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || [], {\n          placement: currentPlacement,\n          overflows: currentOverflows\n        }];\n        const nextPlacement = placements$1[currentIndex + 1];\n        if (nextPlacement) {\n          return {\n            data: {\n              index: currentIndex + 1,\n              overflows: allOverflows\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n        const placementsSortedByMostSpace = allOverflows.map((d) => {\n          const alignment2 = getAlignment(d.placement);\n          return [d.placement, alignment2 && crossAxis ? d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) : d.overflows[0], d.overflows];\n        }).sort((a2, b) => a2[1] - b[1]);\n        const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter((d) => d[2].slice(\n          0,\n          getAlignment(d[0]) ? 2 : 3\n        ).every((v) => v <= 0));\n        const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n        if (resetPlacement !== placement) {\n          return {\n            data: {\n              index: currentIndex + 1,\n              overflows: allOverflows\n            },\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nconst flip = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"flip\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$arrow, _middlewareData$flip;\n        const {\n          placement,\n          middlewareData,\n          rects,\n          initialPlacement,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = true,\n          fallbackPlacements: specifiedFallbackPlacements,\n          fallbackStrategy = \"bestFit\",\n          fallbackAxisSideDirection = \"none\",\n          flipAlignment = true\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"mainAxis\",\n          \"crossAxis\",\n          \"fallbackPlacements\",\n          \"fallbackStrategy\",\n          \"fallbackAxisSideDirection\",\n          \"flipAlignment\"\n        ]);\n        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        const side = getSide(placement);\n        const initialSideAxis = getSideAxis(initialPlacement);\n        const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n        const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating);\n        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n        }\n        const placements2 = [initialPlacement, ...fallbackPlacements];\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const overflows = [];\n        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n        if (checkMainAxis) {\n          overflows.push(overflow[side]);\n        }\n        if (checkCrossAxis) {\n          const sides2 = getAlignmentSides(placement, rects, rtl);\n          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);\n        }\n        overflowsData = [...overflowsData, {\n          placement,\n          overflows\n        }];\n        if (!overflows.every((side2) => side2 <= 0)) {\n          var _middlewareData$flip2, _overflowsData$filter;\n          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n          const nextPlacement = placements2[nextIndex];\n          if (nextPlacement) {\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a2, b) => a2.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n          if (!resetPlacement) {\n            switch (fallbackStrategy) {\n              case \"bestFit\": {\n                var _overflowsData$filter2;\n                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis || currentSideAxis === \"y\";\n                  }\n                  return true;\n                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a2, b) => a2[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement2) {\n                  resetPlacement = placement2;\n                }\n                break;\n              }\n              case \"initialPlacement\":\n                resetPlacement = initialPlacement;\n                break;\n            }\n          }\n          if (placement !== resetPlacement) {\n            return {\n              reset: {\n                placement: resetPlacement\n              }\n            };\n          }\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some((side) => overflow[side] >= 0);\n}\nconst hide = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"hide\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          rects\n        } = state;\n        const _a3 = evaluate(options, state), {\n          strategy = \"referenceHidden\"\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"strategy\"\n        ]);\n        switch (strategy) {\n          case \"referenceHidden\": {\n            const overflow = yield detectOverflow(state, __spreadProps(__spreadValues({}, detectOverflowOptions), {\n              elementContext: \"reference\"\n            }));\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n          case \"escaped\": {\n            const overflow = yield detectOverflow(state, __spreadProps(__spreadValues({}, detectOverflowOptions), {\n              altBoundary: true\n            }));\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n          default: {\n            return {};\n          }\n        }\n      });\n    }\n  };\n};\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map((rect) => rect.left));\n  const minY = min(...rects.map((rect) => rect.top));\n  const maxX = max(...rects.map((rect) => rect.right));\n  const maxY = max(...rects.map((rect) => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a2, b) => a2.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i2 = 0; i2 < sortedRects.length; i2++) {\n    const rect = sortedRects[i2];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map((rect) => rectToClientRect(getBoundingRect(rect)));\n}\nconst inline = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"inline\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          placement,\n          elements,\n          rects,\n          platform: platform2,\n          strategy\n        } = state;\n        const {\n          padding = 2,\n          x,\n          y\n        } = evaluate(options, state);\n        const nativeClientRects = Array.from((yield platform2.getClientRects == null ? void 0 : platform2.getClientRects(elements.reference)) || []);\n        const clientRects = getRectsByLine(nativeClientRects);\n        const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n        const paddingObject = getPaddingObject(padding);\n        function getBoundingClientRect2() {\n          if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n            return clientRects.find((rect) => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n          }\n          if (clientRects.length >= 2) {\n            if (getSideAxis(placement) === \"y\") {\n              const firstRect = clientRects[0];\n              const lastRect = clientRects[clientRects.length - 1];\n              const isTop = getSide(placement) === \"top\";\n              const top2 = firstRect.top;\n              const bottom2 = lastRect.bottom;\n              const left2 = isTop ? firstRect.left : lastRect.left;\n              const right2 = isTop ? firstRect.right : lastRect.right;\n              const width2 = right2 - left2;\n              const height2 = bottom2 - top2;\n              return {\n                top: top2,\n                bottom: bottom2,\n                left: left2,\n                right: right2,\n                width: width2,\n                height: height2,\n                x: left2,\n                y: top2\n              };\n            }\n            const isLeftSide = getSide(placement) === \"left\";\n            const maxRight = max(...clientRects.map((rect) => rect.right));\n            const minLeft = min(...clientRects.map((rect) => rect.left));\n            const measureRects = clientRects.filter((rect) => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n            const top = measureRects[0].top;\n            const bottom = measureRects[measureRects.length - 1].bottom;\n            const left = minLeft;\n            const right = maxRight;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          return fallback;\n        }\n        const resetRects = yield platform2.getElementRects({\n          reference: {\n            getBoundingClientRect: getBoundingClientRect2\n          },\n          floating: elements.floating,\n          strategy\n        });\n        if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n          return {\n            reset: {\n              rects: resetRects\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction convertValueToCoords(state, options) {\n  return __async(this, null, function* () {\n    const {\n      placement,\n      platform: platform2,\n      elements\n    } = state;\n    const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating);\n    const side = getSide(placement);\n    const alignment = getAlignment(placement);\n    const isVertical = getSideAxis(placement) === \"y\";\n    const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n    const crossAxisMulti = rtl && isVertical ? -1 : 1;\n    const rawValue = evaluate(options, state);\n    let {\n      mainAxis,\n      crossAxis,\n      alignmentAxis\n    } = typeof rawValue === \"number\" ? {\n      mainAxis: rawValue,\n      crossAxis: 0,\n      alignmentAxis: null\n    } : {\n      mainAxis: rawValue.mainAxis || 0,\n      crossAxis: rawValue.crossAxis || 0,\n      alignmentAxis: rawValue.alignmentAxis\n    };\n    if (alignment && typeof alignmentAxis === \"number\") {\n      crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n    }\n    return isVertical ? {\n      x: crossAxis * crossAxisMulti,\n      y: mainAxis * mainAxisMulti\n    } : {\n      x: mainAxis * mainAxisMulti,\n      y: crossAxis * crossAxisMulti\n    };\n  });\n}\nconst offset = function(options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: \"offset\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$offse, _middlewareData$arrow;\n        const {\n          x,\n          y,\n          placement,\n          middlewareData\n        } = state;\n        const diffCoords = yield convertValueToCoords(state, options);\n        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        return {\n          x: x + diffCoords.x,\n          y: y + diffCoords.y,\n          data: __spreadProps(__spreadValues({}, diffCoords), {\n            placement\n          })\n        };\n      });\n    }\n  };\n};\nconst shift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"shift\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          x,\n          y,\n          placement\n        } = state;\n        const _a3 = evaluate(options, state), {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = false,\n          limiter = {\n            fn: (_ref) => {\n              let {\n                x: x2,\n                y: y2\n              } = _ref;\n              return {\n                x: x2,\n                y: y2\n              };\n            }\n          }\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"mainAxis\",\n          \"crossAxis\",\n          \"limiter\"\n        ]);\n        const coords = {\n          x,\n          y\n        };\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const crossAxis = getSideAxis(getSide(placement));\n        const mainAxis = getOppositeAxis(crossAxis);\n        let mainAxisCoord = coords[mainAxis];\n        let crossAxisCoord = coords[crossAxis];\n        if (checkMainAxis) {\n          const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = mainAxisCoord + overflow[minSide];\n          const max2 = mainAxisCoord - overflow[maxSide];\n          mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n        }\n        if (checkCrossAxis) {\n          const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = crossAxisCoord + overflow[minSide];\n          const max2 = crossAxisCoord - overflow[maxSide];\n          crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n        }\n        const limitedCoords = limiter.fn(__spreadProps(__spreadValues({}, state), {\n          [mainAxis]: mainAxisCoord,\n          [crossAxis]: crossAxisCoord\n        }));\n        return __spreadProps(__spreadValues({}, limitedCoords), {\n          data: {\n            x: limitedCoords.x - x,\n            y: limitedCoords.y - y,\n            enabled: {\n              [mainAxis]: checkMainAxis,\n              [crossAxis]: checkCrossAxis\n            }\n          }\n        });\n      });\n    }\n  };\n};\nconst limitShift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset: offset2 = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset2, state);\n      const computedOffset = typeof rawOffset === \"number\" ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : __spreadValues({\n        mainAxis: 0,\n        crossAxis: 0\n      }, rawOffset);\n      if (checkMainAxis) {\n        const len = mainAxis === \"y\" ? \"height\" : \"width\";\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === \"y\" ? \"width\" : \"height\";\n        const isOriginSide = [\"top\", \"left\"].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\nconst size = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"size\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _state$middlewareData, _state$middlewareData2;\n        const {\n          placement,\n          rects,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          apply = () => {\n          }\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"apply\"\n        ]);\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const side = getSide(placement);\n        const alignment = getAlignment(placement);\n        const isYAxis = getSideAxis(placement) === \"y\";\n        const {\n          width,\n          height\n        } = rects.floating;\n        let heightSide;\n        let widthSide;\n        if (side === \"top\" || side === \"bottom\") {\n          heightSide = side;\n          widthSide = alignment === ((yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n        } else {\n          widthSide = side;\n          heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n        }\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n        const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n        const noShift = !state.middlewareData.shift;\n        let availableHeight = overflowAvailableHeight;\n        let availableWidth = overflowAvailableWidth;\n        if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n          availableWidth = maximumClippingWidth;\n        }\n        if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n          availableHeight = maximumClippingHeight;\n        }\n        if (noShift && !alignment) {\n          const xMin = max(overflow.left, 0);\n          const xMax = max(overflow.right, 0);\n          const yMin = max(overflow.top, 0);\n          const yMax = max(overflow.bottom, 0);\n          if (isYAxis) {\n            availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n          } else {\n            availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n          }\n        }\n        yield apply(__spreadProps(__spreadValues({}, state), {\n          availableWidth,\n          availableHeight\n        }));\n        const nextDimensions = yield platform2.getDimensions(elements.floating);\n        if (width !== nextDimensions.width || height !== nextDimensions.height) {\n          return {\n            reset: {\n              rects: true\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || \"\").toLowerCase();\n  }\n  return \"#document\";\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [\":popover-open\", \":modal\"].some((selector) => {\n    try {\n      return element.matches(selector);\n    } catch (e2) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n  return css.transform !== \"none\" || css.perspective !== \"none\" || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === \"undefined\" || !CSS.supports)\n    return false;\n  return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") {\n    return node;\n  }\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === \"fixed\";\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === \"rtl\") {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === \"viewport\") {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === \"document\") {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = __spreadProps(__spreadValues({}, clippingAncestor), {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    });\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      result = result.filter((ancestor) => ancestor !== currentNode);\n    } else {\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === \"fixed\";\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let htmlX = 0;\n  let htmlY = 0;\n  if (documentElement && !isOffsetParentAnElement && !isFixed) {\n    const htmlRect = documentElement.getBoundingClientRect();\n    htmlY = htmlRect.top + scroll.scrollTop;\n    htmlX = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlX;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlY;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === \"static\";\n}\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\nconst getElementRects = function(data) {\n  return __async(this, null, function* () {\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    const floatingDimensions = yield getDimensionsFn(data.floating);\n    return {\n      reference: getRectRelativeToOffsetParent(data.reference, yield getOffsetParentFn(data.floating), data.strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        width: floatingDimensions.width,\n        height: floatingDimensions.height\n      }\n    };\n  });\n};\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1e3);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n    try {\n      io = new IntersectionObserver(handleObserve, __spreadProps(__spreadValues({}, options), {\n        root: root.ownerDocument\n      }));\n    } catch (e2) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === \"function\",\n    layoutShift = typeof IntersectionObserver === \"function\",\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach((ancestor) => {\n    ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener(\"resize\", update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver((_ref) => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n      ancestorResize && ancestor.removeEventListener(\"resize\", update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\noffset;\nautoPlacement;\nshift;\nflip;\nsize;\nhide;\narrow;\ninline;\nlimitShift;\nconst computePosition = (reference, floating, options) => {\n  const cache = /* @__PURE__ */ new Map();\n  const mergedOptions = __spreadValues({\n    platform\n  }, options);\n  const platformWithCache = __spreadProps(__spreadValues({}, mergedOptions.platform), {\n    _c: cache\n  });\n  return computePosition$1(reference, floating, __spreadProps(__spreadValues({}, mergedOptions), {\n    platform: platformWithCache\n  }));\n};\nfunction P(l2, u2, e2) {\n  let c2 = () => {\n    var t2;\n    return (t2 = e2 == null ? void 0 : e2.placement) != null ? t2 : \"bottom\";\n  }, d = () => {\n    var t2;\n    return (t2 = e2 == null ? void 0 : e2.strategy) != null ? t2 : \"absolute\";\n  }, [n2, o2] = createSignal({ x: null, y: null, placement: c2(), strategy: d(), middlewareData: {} }), [x, F] = createSignal();\n  createEffect(() => {\n    let t2 = x();\n    if (t2)\n      throw t2.value;\n  });\n  let s2 = createMemo(() => (l2(), u2(), {}));\n  function i2() {\n    let t2 = l2(), r = u2();\n    if (t2 && r) {\n      let a2 = s2();\n      computePosition(t2, r, { middleware: e2 == null ? void 0 : e2.middleware, placement: c2(), strategy: d() }).then((m) => {\n        a2 === s2() && o2(m);\n      }, (m) => {\n        F(m);\n      });\n    }\n  }\n  return createEffect(() => {\n    let t2 = l2(), r = u2();\n    if (e2 == null || e2.middleware, c2(), d(), t2 && r)\n      if (e2 != null && e2.whileElementsMounted) {\n        let a2 = e2.whileElementsMounted(t2, r, i2);\n        a2 && onCleanup(a2);\n      } else\n        i2();\n  }), { get x() {\n    return n2().x;\n  }, get y() {\n    return n2().y;\n  }, get placement() {\n    return n2().placement;\n  }, get strategy() {\n    return n2().strategy;\n  }, get middlewareData() {\n    return n2().middlewareData;\n  }, update: i2 };\n}\nconst ConnectorContext = createContext();\nconst UniversalConnectorContext = createContext();\nvar _tmpl$$2 = /* @__PURE__ */ template$1(`<okxc-root data-tc-dropdown-container=true>`, true, false);\nconst AccountButton = () => {\n  const theme = useTheme();\n  const connector = useContext(ConnectorContext);\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const [isOpened, setIsOpened] = createSignal(false);\n  const [account, setAccount] = createSignal(connector.account);\n  const [restoringProcess, setRestoringProcess] = createSignal(!connector.account);\n  let dropDownRef;\n  const [floating, setFloating] = createSignal();\n  const [anchor, setAnchor] = createSignal();\n  const position = P(anchor, floating, {\n    whileElementsMounted: autoUpdate,\n    placement: \"bottom-end\"\n  });\n  const normalizedAddress = () => {\n    const acc = account();\n    if (acc) {\n      const userFriendlyAddress = tonsdk.toUserFriendlyAddress(acc.address);\n      return userFriendlyAddress.slice(0, 4) + \"\\u2026\" + userFriendlyAddress.slice(-4);\n    }\n    return \"\";\n  };\n  tonConnectUI.connectionRestored.then(() => setRestoringProcess(false));\n  const unsubscribe = connector.onStatusChange((wallet) => {\n    if (!wallet) {\n      setIsOpened(false);\n      setAccount(null);\n      setRestoringProcess(false);\n      return;\n    }\n    setAccount(wallet.account);\n    setRestoringProcess(false);\n  });\n  const onClick = (e2) => {\n    if (!account() || !isOpened()) {\n      return;\n    }\n    const clickToButton = anchor().contains(e2.target);\n    const clickToDropdown = dropDownRef.contains(e2.target);\n    if (!clickToButton && !clickToDropdown) {\n      setIsOpened(false);\n    }\n  };\n  onMount(() => {\n    document.body.addEventListener(\"click\", onClick);\n  });\n  onCleanup(() => {\n    document.body.removeEventListener(\"click\", onClick);\n    unsubscribe();\n  });\n  return createComponent(Dynamic, {\n    component: globalStylesTag,\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return restoringProcess();\n        },\n        get children() {\n          return createComponent(LoaderButtonStyled, {\n            disabled: true,\n            \"data-tc-connect-button-loading\": \"true\",\n            get children() {\n              return createComponent(LoaderIconStyled, {});\n            }\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !restoringProcess();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return !account();\n            },\n            get children() {\n              return createComponent(AccountButtonStyled, {\n                onClick: () => tonConnectUI.openModal(),\n                \"data-tc-connect-button\": \"true\",\n                scale: \"s\",\n                get children() {\n                  return [createComponent(TonIcon, {\n                    get fill() {\n                      return theme.colors.connectButton.foreground;\n                    }\n                  }), createComponent(Text, {\n                    translationKey: \"button.connectWallet\",\n                    fontSize: \"15px\",\n                    lineHeight: \"18px\",\n                    fontWeight: \"590\",\n                    get color() {\n                      return theme.colors.connectButton.foreground;\n                    },\n                    children: \"Connect wallet\"\n                  })];\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return account();\n            },\n            get children() {\n              return createComponent(DropdownContainerStyled, {\n                get children() {\n                  return [createComponent(DropdownButtonStyled, {\n                    onClick: () => setIsOpened((v) => !v),\n                    ref: setAnchor,\n                    \"data-tc-dropdown-button\": \"true\",\n                    scale: \"s\",\n                    get children() {\n                      return [createComponent(Text, {\n                        fontSize: \"15px\",\n                        fontWeight: \"590\",\n                        lineHeight: \"18px\",\n                        get children() {\n                          return normalizedAddress();\n                        }\n                      }), createComponent(ArrowIcon, {\n                        direction: \"bottom\"\n                      })];\n                    }\n                  }), createComponent(Portal, {\n                    get children() {\n                      var _el$ = _tmpl$$2();\n                      use(setFloating, _el$);\n                      _el$.style.setProperty(\"z-index\", \"999\");\n                      _el$._$owner = getOwner();\n                      insert(_el$, createComponent(Transition, {\n                        onBeforeEnter: (el) => {\n                          animate(el, [{\n                            opacity: 0,\n                            transform: \"translateY(-8px)\"\n                          }, {\n                            opacity: 1,\n                            transform: \"translateY(0)\"\n                          }], {\n                            duration: 150\n                          });\n                        },\n                        onExit: (el, done) => {\n                          const a2 = animate(el, [{\n                            opacity: 1,\n                            transform: \"translateY(0)\"\n                          }, {\n                            opacity: 0,\n                            transform: \"translateY(-8px)\"\n                          }], {\n                            duration: 150\n                          });\n                          a2.finished.then(done);\n                        },\n                        get children() {\n                          return createComponent(Show, {\n                            get when() {\n                              return isOpened();\n                            },\n                            get children() {\n                              return createComponent(DropdownStyled, {\n                                get hidden() {\n                                  return !isOpened();\n                                },\n                                onClose: () => setIsOpened(false),\n                                ref(r$) {\n                                  var _ref$ = dropDownRef;\n                                  typeof _ref$ === \"function\" ? _ref$(r$) : dropDownRef = r$;\n                                }\n                              });\n                            }\n                          });\n                        }\n                      }));\n                      createRenderEffect((_p$) => {\n                        var _a2, _b2;\n                        var _v$ = position.strategy, _v$2 = `${(_a2 = position.y) != null ? _a2 : 0}px`, _v$3 = `${(_b2 = position.x) != null ? _b2 : 0}px`;\n                        _v$ !== _p$.e && ((_p$.e = _v$) != null ? _el$.style.setProperty(\"position\", _v$) : _el$.style.removeProperty(\"position\"));\n                        _v$2 !== _p$.t && ((_p$.t = _v$2) != null ? _el$.style.setProperty(\"top\", _v$2) : _el$.style.removeProperty(\"top\"));\n                        _v$3 !== _p$.a && ((_p$.a = _v$3) != null ? _el$.style.setProperty(\"left\", _v$3) : _el$.style.removeProperty(\"left\"));\n                        return _p$;\n                      }, {\n                        e: void 0,\n                        t: void 0,\n                        a: void 0\n                      });\n                      return _el$;\n                    }\n                  })];\n                }\n              });\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst [appState, setAppState] = createStore({\n  buttonRootId: null,\n  language: \"en_US\",\n  returnStrategy: \"none\"\n});\nconst StyledModal = styled(Modal)`\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n\n  ${media(\"mobile\")} {\n    padding-left: 0;\n    padding-right: 0;\n    min-height: 364px;\n  }\n`;\nconst H1Styled$1 = styled(H1)`\n  padding: 12px 64px;\n`;\nconst MobileConnectionModalStyled$1 = styled.div``;\nconst BodyStyled$1 = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 325px;\n  gap: 24px;\n`;\nconst StyledIconButton = styled(IconButton)`\n  position: absolute;\n  top: 12px;\n  left: 16px;\n`;\nconst H2Styled = styled(H2)`\n  margin-bottom: 0;\n  padding: 16px 24px 24px 24px;\n  min-height: 44px;\n`;\nconst QrCodeWrapper = styled.div`\n  margin-top: 24px;\n  margin-left: 24px;\n  margin-right: 24px;\n`;\nconst LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nfunction addReturnStrategy(url, strategy) {\n  let returnStrategy;\n  if (typeof strategy === \"string\") {\n    returnStrategy = strategy;\n  } else {\n    returnStrategy = strategy.returnStrategy;\n  }\n  const newUrl = addQueryParameter(url, \"ret\", returnStrategy);\n  if (!core.isTelegramUrl(url)) {\n    return newUrl;\n  }\n  const lastParam = newUrl.slice(newUrl.lastIndexOf(\"&\") + 1);\n  return newUrl.slice(0, newUrl.lastIndexOf(\"&\")) + \"-\" + core.encodeTelegramUrlParameters(lastParam);\n}\nfunction openLinkOnPhone(universalLink, deepLink) {\n  if (isOS(\"android\")) {\n    openDeeplinkWithFallback(deepLink, () => {\n      core.logDebug(`url-strategy-helper.ts openLinkOnPhone  openDeeplinkWithFallback ${universalLink}`);\n      openLink(universalLink, \"_self\");\n    });\n  } else {\n    openLinkBlank(universalLink);\n  }\n}\nfunction redirectToWallet(universalLink, deepLink, options, setOpenMethod) {\n  if (!deepLink) {\n    deepLink = core.standardDeeplink;\n  }\n  options = __spreadValues({}, options);\n  if (isInTelegramBrowser()) {\n    if (isOS(\"ios\", \"android\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else {\n      setOpenMethod(\"universal-link\");\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      openLinkBlank(linkWitStrategy);\n    }\n  } else if (isInTMA()) {\n    if (isTmaPlatform(\"ios\", \"android\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isTmaPlatform(\"macos\", \"tdesktop\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else if (isTmaPlatform(\"weba\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = location.href;\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else if (isTmaPlatform(\"web\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = location.href;\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else {\n      setOpenMethod(\"universal-link\");\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      openLinkBlank(linkWitStrategy);\n    }\n  } else {\n    if (isOS(\"ios\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"android\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      setOpenMethod(\"universal-link\");\n      core.logDebug(\"url-strategy-helpers 489\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"ipad\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"macos\", \"windows\", \"linux\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = \"none\";\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else {\n      setOpenMethod(\"universal-link\");\n      openLinkBlank(addReturnStrategy(universalLink, options.returnStrategy));\n    }\n  }\n}\nfunction addQueryParameter(url, key, value) {\n  const parsed = new URL(url);\n  parsed.searchParams.append(key, value);\n  return parsed.toString();\n}\nconst imageUrl = \"data:image/png;base64,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\";\nvar _tmpl$$1 = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z\"fill-opacity=0.2></svg>`, false, true), _tmpl$2 = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z\"></svg>`, false, true);\nconst OKXLoaderIconWithLogo = (_) => {\n  return createComponent(LoaderContainerStyled$1, {\n    get children() {\n      return [createComponent(LoaderStyled, {}), createComponent(OKIconStyle, {\n        src: imageUrl\n      })];\n    }\n  });\n};\nconst OKXIconWithLogo = (_) => {\n  return createComponent(LoaderContainerStyled$1, {\n    get children() {\n      return createComponent(OKIconStyle, {\n        src: imageUrl\n      });\n    }\n  });\n};\nconst OKXLoaderIcon = (_) => {\n  const theme = useTheme();\n  const rotateAnimation = h`\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    `;\n  const RotatingSVG = styled.svg`\n    animation: ${rotateAnimation} 2s linear infinite;\n    transform-origin: center;\n  `;\n  return createComponent(RotatingSVG, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"102\",\n    height: \"102\",\n    viewBox: \"0 0 102 102\",\n    fill: \"none\",\n    get children() {\n      return [(() => {\n        var _el$ = _tmpl$$1();\n        createRenderEffect(() => setAttribute(_el$, \"fill\", theme.colors.text.primary));\n        return _el$;\n      })(), (() => {\n        var _el$2 = _tmpl$2();\n        createRenderEffect(() => setAttribute(_el$2, \"fill\", theme.colors.text.primary));\n        return _el$2;\n      })()];\n    }\n  });\n};\nconst LoaderContainerStyled$1 = styled.div`\n  position: relative;\n  height: 102px;\n  width: 102px;\n`;\nconst LoaderStyled = styled(OKXLoaderIcon)`\n  height: 102px;\n  width: 102px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nconst OKIconStyle = styled(Image)`\n  position: absolute;\n  width: 86px;\n  height: 86px;\n  border-radius: 44px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nconst MobileConnectionQR = (props) => {\n  return [createComponent(H1Styled$1, {\n    translationKey: \"walletModal.mobileConnectionModal.OKXConnect\"\n  }), createComponent(QrCodeWrapper, {\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.universalLink === null;\n        },\n        get children() {\n          return createComponent(LoaderWrapper, {\n            get children() {\n              return createComponent(OKXLoaderIconWithLogo, {});\n            }\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLink !== null;\n        },\n        get children() {\n          return createComponent(QRCode, {\n            imageUrl,\n            get sourceUrl() {\n              return addReturnStrategy(props.universalLink, \"none\");\n            },\n            disableCopy: true\n          });\n        }\n      })];\n    }\n  }), createComponent(H2Styled, {\n    translationKey: \"walletModal.mobileConnectionModal.scanQR\",\n    get translationValues() {\n      return {\n        name: props.walletInfo.name\n      };\n    },\n    get children() {\n      return [\"Scan the QR code below with your phone\\u2019s or \", createMemo(() => props.walletInfo.name), \"\\u2019s camera\"];\n    }\n  })];\n};\nstyled(H1)`\n  padding: 12px 64px;\n`;\nconst H1StyledMaxWidth = styled(H1)`\n  max-width: 262px;\n`;\nconst H1StyledRetry = styled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\nconst RetryButtonStyle = styled(Button)`\n  background-color: transparent;\n  color: ${(props) => props.theme.colors.text.primary};\n  padding: 0px;\n`;\nconst LoaderContainerStyled = styled.div`\n  margin: 30px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 16px;\n\n  ${media(\"mobile\")} {\n    height: 160px;\n    align-items: center;\n  }\n`;\nconst ErrorIconStyled = styled(ErrorIcon)`\n  margin-bottom: 16px;\n`;\nconst ButtonsContainerStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 12px;\n`;\nconst ButtonsQRContainerStyled = styled.div`\n  background-color: ${(props) => props.theme.colors.text.primary};\n  height: 48px;\n  width: 262px;\n  justify-content: center;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\nconst TextStyled$1 = styled(Text)`\n  max-width: 262px;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  margin-top: 10px;\n  color: ${(props) => props.theme.colors.text.contrast};\n`;\nconst ContainedButton = styled(Button)`\n  height: 48px;\n  width: 262px;\n  border-radius: 999px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px 24px;\n`;\nconst ContainedPrimaryButton = styled(ContainedButton)`\n  background-color: ${(props) => props.theme.colors.text.primary};\n`;\nstyled(ContainedButton)`\n  background-color: transparent;\n  border-color: ${(props) => props.theme.colors.border.secondary};\n  border-width: 0.5px;\n  border-style: solid;\n`;\nconst ContainedPrimaryButtonText = styled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.background.primary};\n`;\nstyled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\nconst FooterStyled = styled.div`\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  border-top: 0.5px solid\n    ${(props) => rgba(props.theme.colors.icon.secondary, 0.2)};\n  margin-top: 32px;\n`;\nconst ImageStyled = styled(Image)`\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n`;\nconst FooterButton = styled(Link)`\n  margin-left: auto;\n  display: flex;\n`;\nconst FooterButtonCenter = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  justify-content: center;\n`;\nconst ConnectAppTgModalPage = (props) => {\n  return [createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(OKXIconWithLogo, {}), createComponent(TextStyled$1, {\n        translationKey: \"walletModal.mobileConnectionModal.appAndTelegram.text\",\n        children: \"OKX Wallet supports OKX app and Telegram Mini Apps\"\n      })];\n    }\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(ContainedPrimaryButton, {\n        get onClick() {\n          return props.onConnectApp;\n        },\n        get children() {\n          return createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.connectApp\",\n            children: \"Connect to OKX app\"\n          });\n        }\n      }), createComponent(ContainedPrimaryButton, {\n        get onClick() {\n          return props.onConnectMini;\n        },\n        get children() {\n          return createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.connectMini\",\n            children: \"Connect to Mini Apps\"\n          });\n        }\n      })];\n    }\n  })];\n};\nconst LoadingModalPage = (props) => {\n  return createComponent(LoaderContainerStyled, {\n    get children() {\n      return [createComponent(OKXLoaderIconWithLogo, {}), createComponent(Show, {\n        get when() {\n          return props.loadingTextTranslationKey || props.loadingTextTranslationKey;\n        },\n        get children() {\n          return createComponent(H1StyledMaxWidth, {\n            get translationKey() {\n              return props.loadingTextTranslationKey;\n            },\n            get children() {\n              return props.loadingText;\n            }\n          });\n        }\n      })];\n    }\n  });\n};\nconst Translation = (props) => {\n  const [t2] = useI18n();\n  return createMemo(() => {\n    var _a2;\n    return t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString());\n  });\n};\nvar _tmpl$ = /* @__PURE__ */ template$1(`<svg width=40 height=12 viewBox=\"0 0 40 12\"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d=\"M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z\"></path><path d=\"M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z\"></path><path d=\"M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z\"></path><path d=\"M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z\"></path><path d=\"M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z\"></path><path d=\"M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z\"></path><path d=\"M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z\"></path><path d=\"M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z\"></path><path d=\"M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z\"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>`);\nconst OKXLogo = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.disable;\n  return (() => {\n    var _el$ = _tmpl$(), _el$2 = _el$.firstChild, _el$3 = _el$2.firstChild, _el$4 = _el$3.nextSibling, _el$5 = _el$4.nextSibling, _el$6 = _el$5.nextSibling, _el$7 = _el$6.nextSibling, _el$8 = _el$7.nextSibling, _el$9 = _el$8.nextSibling, _el$10 = _el$9.nextSibling, _el$11 = _el$10.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = fill(), _v$2 = fill(), _v$3 = fill(), _v$4 = fill(), _v$5 = fill(), _v$6 = fill(), _v$7 = fill(), _v$8 = fill(), _v$9 = fill();\n      _v$ !== _p$.e && setAttribute(_el$3, \"fill\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$4, \"fill\", _p$.t = _v$2);\n      _v$3 !== _p$.a && setAttribute(_el$5, \"fill\", _p$.a = _v$3);\n      _v$4 !== _p$.o && setAttribute(_el$6, \"fill\", _p$.o = _v$4);\n      _v$5 !== _p$.i && setAttribute(_el$7, \"fill\", _p$.i = _v$5);\n      _v$6 !== _p$.n && setAttribute(_el$8, \"fill\", _p$.n = _v$6);\n      _v$7 !== _p$.s && setAttribute(_el$9, \"fill\", _p$.s = _v$7);\n      _v$8 !== _p$.h && setAttribute(_el$10, \"fill\", _p$.h = _v$8);\n      _v$9 !== _p$.r && setAttribute(_el$11, \"fill\", _p$.r = _v$9);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0,\n      o: void 0,\n      i: void 0,\n      n: void 0,\n      s: void 0,\n      h: void 0,\n      r: void 0\n    });\n    return _el$;\n  })();\n};\nconst ModalFooter = (props) => {\n  const theme = useTheme();\n  return [createComponent(FooterStyled, {\n    get children() {\n      return [createComponent(ImageStyled, {\n        src: imageUrl\n      }), createComponent(H3, {\n        get children() {\n          return props.wallet.name;\n        }\n      }), createComponent(FooterButton, {\n        get href() {\n          return props.wallet.aboutUrl;\n        },\n        blank: true,\n        get children() {\n          return [createComponent(Text, {\n            get color() {\n              return theme.colors.text.contrast;\n            },\n            get children() {\n              return createComponent(Translation, {\n                translationKey: \"common.get\",\n                children: \"GET\"\n              });\n            }\n          }), createComponent(ArrowIcon, {\n            direction: \"right\"\n          })];\n        }\n      })];\n    }\n  }), createComponent(FooterButtonCenter, {\n    get children() {\n      return [createComponent(Text, {\n        get color() {\n          return theme.colors.disable;\n        },\n        get children() {\n          return createComponent(Translation, {\n            translationKey: \"walletModal.mobileConnectionModal.PoweredBy\",\n            children: \"PoweredBy\"\n          });\n        }\n      }), createComponent(OKXLogo, {})];\n    }\n  })];\n};\nconst ModalRetryButton = (props) => {\n  return createComponent(RetryButtonStyle, {\n    get leftIcon() {\n      return createComponent(RetryIcon, {});\n    },\n    get onClick() {\n      return props.onRetry;\n    },\n    get children() {\n      return createComponent(H1StyledRetry, {\n        translationKey: \"common.retry\",\n        children: \"Retry\"\n      });\n    }\n  });\n};\nconst ConnectionDeclinedModalPage = (props) => {\n  return [createComponent(ErrorIconStyled, {\n    size: \"s\"\n  }), createComponent(H1StyledMaxWidth, {\n    translationKey: \"walletModal.mobileConnectionModal.connectionDeclined\",\n    children: \"Connection declined\"\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return createComponent(ModalRetryButton, {\n        get onRetry() {\n          return props.onRetry;\n        }\n      });\n    }\n  })];\n};\nconst ContinueInWalletModalPage = (props) => {\n  const theme = useTheme();\n  return [createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(OKXLoaderIconWithLogo, {}), createComponent(H1StyledMaxWidth, {\n        translationKey: \"walletModal.mobileConnectionModal.continueIn\",\n        children: \"Continue the transaction in OKX Wallet\"\n      })];\n    }\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(ButtonsQRContainerStyled, {\n        get onClick() {\n          return props.onOpenQR;\n        },\n        get children() {\n          return [createComponent(QRIcon, {\n            get fill() {\n              return theme.colors.background.primary;\n            }\n          }), createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.showQR\",\n            children: \"Show QR Codes\"\n          })];\n        }\n      }), createComponent(ModalRetryButton, {\n        get onRetry() {\n          return props.onRetry;\n        }\n      })];\n    }\n  })];\n};\nconst MobileConnectionModal = (props) => {\n  useTheme();\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [showQR, setShowQR] = createSignal(false);\n  const [connectClicked, setConnectClicked] = createSignal(false);\n  const showAppAndTgState = createMemo(() => !props.isSingleWallet && !connectClicked());\n  const [connectionErrored, setConnectionErrored] = createSignal(false);\n  const connector = useContext(ConnectorContext);\n  const [appDeepLink, setAppDeepLink] = createSignal(null);\n  const [miniUniversalLink, setMiniUniversalLink] = createSignal(null);\n  const [qrLink, setQrLink] = createSignal(null);\n  const okxConnectUI = useContext(OKXConnectUiContext);\n  const unsubscribe = connector == null ? void 0 : connector.onStatusChange(() => {\n  }, () => {\n    setConnectionErrored(true);\n    const info = props.lastSelectedWalletInfo;\n    if (info && info.openMethod && info.openMethod === \"qrcode\") {\n      if (showQR()) {\n        onCloseQR();\n      }\n    }\n  });\n  createEffect(() => {\n    var _a2, _b2;\n    var info = props.universalLinkParams();\n    if (info) {\n      props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n        openMethod: \"universal-link\"\n      }));\n      core.logDebug(`createEffect  ${JSON.stringify(info)}`);\n      var connectRequest = info.connectRequest;\n      var tonConnectRequest = info.tonConnectRequest;\n      if (!tonConnectRequest) {\n        tonConnectRequest = connectRequest;\n      }\n      if (connectRequest) {\n        var encodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n          redirect: \"none\"\n        }));\n        var qrLink2 = core.getUniversalLink(core.getAppWalletDeepLink(encodeParams));\n        setQrLink(qrLink2);\n        var appConnectEncodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n          redirect: (_a2 = info.redirect) != null ? _a2 : \"none\"\n        }));\n        var appDeepLink2 = core.getAppWalletDeepLink(appConnectEncodeParams);\n        setAppDeepLink(appDeepLink2);\n        var encodeTGParams = core.encodeTWAConnectURLParams(__spreadProps(__spreadValues({}, connectRequest), {\n          redirect: \"none\"\n        }));\n        var tgUrl = core.getTelegramWalletTWAUrl(encodeTGParams, (_b2 = info.tmaReturnUrl) != null ? _b2 : \"back\");\n        setMiniUniversalLink(tgUrl);\n        core.logDebug(`setUniversalLink  ${appDeepLink2}   tgUrl  ${tgUrl}    qrLink ${qrLink2}`);\n      }\n    }\n  });\n  onMount(() => __async(exports, null, function* () {\n    try {\n      yield props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  }));\n  const onRetry = () => {\n    setConnectionErrored(false);\n    setConnectClicked(false);\n    !firstClick();\n    setFirstClick(false);\n    try {\n      props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  };\n  const onOpenQR = () => {\n    setConnectionErrored(false);\n    setShowQR(true);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"qrcode\"\n    }));\n  };\n  const onCloseQR = () => {\n    setShowQR(false);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"universal-link\"\n    }));\n  };\n  const onBack = () => {\n    if (showQR()) {\n      onCloseQR();\n    } else {\n      props.onBackClick();\n    }\n  };\n  const onConnectApp = () => {\n    setConnectClicked(true);\n    core.openOKXDeeplinkWithFallback(appDeepLink());\n  };\n  const onConnectMini = () => {\n    okxConnectUI == null ? void 0 : okxConnectUI.closeModal();\n    core.openOKXTMAWalletlinkWithFallback(miniUniversalLink());\n  };\n  if (unsubscribe) {\n    onCleanup(unsubscribe);\n  }\n  return createComponent(MobileConnectionModalStyled$1, {\n    \"data-tc-wallets-modal-connection-mobile\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return !props.backDisabled || showQR();\n        },\n        get children() {\n          return createComponent(StyledIconButton, {\n            icon: \"arrow\",\n            onClick: onBack\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() === null;\n        },\n        get children() {\n          return [createComponent(H1Styled$1, {\n            children: \"OKX Connect\"\n          }), createComponent(LoadingModalPage, {}), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() !== null;\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return showQR();\n            },\n            get children() {\n              return createComponent(MobileConnectionQR, {\n                get universalLink() {\n                  return qrLink();\n                },\n                get walletInfo() {\n                  return props.wallet;\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return !showQR();\n            },\n            get children() {\n              return [createComponent(H1Styled$1, {\n                children: \"OKX Connect\"\n              }), createComponent(BodyStyled$1, {\n                get children() {\n                  return [createComponent(Show, {\n                    get when() {\n                      return connectionErrored();\n                    },\n                    get children() {\n                      return createComponent(ConnectionDeclinedModalPage, {\n                        onRetry\n                      });\n                    }\n                  }), createComponent(Show, {\n                    get when() {\n                      return !connectionErrored();\n                    },\n                    get children() {\n                      return [createComponent(Show, {\n                        get when() {\n                          return showAppAndTgState();\n                        },\n                        get children() {\n                          return createComponent(ConnectAppTgModalPage, {\n                            onConnectApp,\n                            onConnectMini\n                          });\n                        }\n                      }), createComponent(Show, {\n                        get when() {\n                          return !showAppAndTgState();\n                        },\n                        get children() {\n                          return createComponent(ContinueInWalletModalPage, {\n                            onOpenQR,\n                            onRetry\n                          });\n                        }\n                      })];\n                    }\n                  })];\n                }\n              }), createComponent(ModalFooter, {\n                get wallet() {\n                  return props.wallet;\n                }\n              })];\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst MobileConnectionModalStyled = styled.div``;\nconst BodyStyled = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 325px;\n  gap: 24px;\n`;\nconst DesktopConnectionModal = (props) => {\n  useTheme();\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [showQR, setShowQR] = createSignal(false);\n  const [walletType, setWalletType] = createSignal(null);\n  const showAppAndTgState = createMemo(() => !props.isSingleWallet && walletType() === null);\n  const [connectionErrored, setConnectionErrored] = createSignal(false);\n  const connector = useContext(ConnectorContext);\n  const [miniUniversalLink, setMiniUniversalLink] = createSignal(null);\n  const okxConnectUI = useContext(OKXConnectUiContext);\n  createEffect(() => {\n    var _a2;\n    core.logDebug(\"TON customEvent.detail  :::\", createEffect);\n    var info = props.universalLinkParams();\n    core.logDebug(\"TON customEvent.detail  :::\", JSON.stringify(info));\n    if (info) {\n      props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n        openMethod: \"universal-link\"\n      }));\n      var connectRequest = info.connectRequest;\n      var tonConnectRequest = info.tonConnectRequest;\n      if (!tonConnectRequest) {\n        tonConnectRequest = connectRequest;\n      }\n      if (connectRequest) {\n        var encodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n          redirect: \"none\"\n        }));\n        var qrLink2 = core.getUniversalLink(core.getAppWalletDeepLink(encodeParams));\n        setQrLink(qrLink2);\n        var encodeTGParams = core.encodeTWAConnectURLParams(connectRequest);\n        var tgUrl = core.getTelegramWalletTWAUrl(encodeTGParams, (_a2 = info.tmaReturnUrl) != null ? _a2 : \"back\", browserDebug());\n        setMiniUniversalLink(tgUrl);\n        core.logDebug(`DesktopConnectionModal  setUniversalLink  tgUrl  ${tgUrl}    qrLink ${qrLink2}`);\n      }\n    }\n  });\n  const [qrLink, setQrLink] = createSignal(null);\n  const unsubscribe = connector == null ? void 0 : connector.onStatusChange(() => {\n  }, () => {\n    setConnectionErrored(true);\n    const info = props.lastSelectedWalletInfo;\n    if (info && info.openMethod && info.openMethod === \"qrcode\") {\n      if (showQR()) {\n        onCloseQR();\n      }\n    }\n  });\n  onMount(() => __async(exports, null, function* () {\n    try {\n      yield props.connect();\n    } catch (error) {\n      core.logDebug(\"DesktopConnectionModal connect  error \", JSON.stringify(error));\n    }\n  }));\n  const onRetry = () => {\n    setConnectionErrored(false);\n    setWalletType(null);\n    !firstClick();\n    setFirstClick(false);\n    try {\n      props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  };\n  const onOpenQR = () => {\n    setConnectionErrored(false);\n    setShowQR(true);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"qrcode\"\n    }));\n  };\n  const onCloseQR = () => {\n    setShowQR(false);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"universal-link\"\n    }));\n  };\n  const onConnectApp = () => {\n    setQrLink(qrLink());\n    setWalletType(\"app\");\n    onOpenQR();\n  };\n  const onConnectMini = () => {\n    core.logDebug(\"desktop on connect mini\");\n    okxConnectUI == null ? void 0 : okxConnectUI.closeModal();\n    core.openOKXTMAWalletlinkWithFallback(miniUniversalLink(), browserDebug());\n  };\n  if (unsubscribe) {\n    onCleanup(unsubscribe);\n  }\n  return createComponent(MobileConnectionModalStyled, {\n    \"data-tc-wallets-modal-connection-mobile\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() === null || connectionErrored() || showAppAndTgState();\n        },\n        get children() {\n          return createComponent(H1Styled$1, {\n            children: \"OKX Connect\"\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() === null;\n        },\n        get children() {\n          return [createComponent(LoadingModalPage, {}), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() !== null;\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return connectionErrored();\n            },\n            get children() {\n              return createComponent(BodyStyled, {\n                get children() {\n                  return createComponent(ConnectionDeclinedModalPage, {\n                    onRetry\n                  });\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return !connectionErrored();\n            },\n            get children() {\n              return [createComponent(Show, {\n                get when() {\n                  return !showAppAndTgState();\n                },\n                get children() {\n                  return createComponent(MobileConnectionQR, {\n                    get universalLink() {\n                      return qrLink();\n                    },\n                    get walletInfo() {\n                      return props.wallet;\n                    }\n                  });\n                }\n              }), createComponent(Show, {\n                get when() {\n                  return showAppAndTgState();\n                },\n                get children() {\n                  return createComponent(BodyStyled, {\n                    get children() {\n                      return createComponent(ConnectAppTgModalPage, {\n                        onConnectApp,\n                        onConnectMini\n                      });\n                    }\n                  });\n                }\n              })];\n            }\n          }), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst SingleWalletModal = (props) => {\n  const {\n    locale\n  } = useI18n()[1];\n  createEffect(() => locale(appState.language));\n  createEffect(() => {\n    if (props.opened) {\n      updateIsMobile();\n    }\n  });\n  return createComponent(StyledModal, {\n    get opened() {\n      return props.opened;\n    },\n    onClose: () => props.onClose(\"action-cancelled\"),\n    \"data-tc-wallets-modal-container\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.loadingBeforeConnect();\n        },\n        get children() {\n          return [createComponent(H1Styled$1, {\n            get children() {\n              var _a2;\n              return (_a2 = props.walletInfo) == null ? void 0 : _a2.name;\n            }\n          }), createComponent(LoadingModalPage, {})];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !props.loadingBeforeConnect();\n        },\n        get children() {\n          return createComponent(Dynamic, {\n            get component() {\n              return isMobile() ? MobileConnectionModal : DesktopConnectionModal;\n            },\n            get wallet() {\n              return props.walletInfo;\n            },\n            onBackClick: () => {\n            },\n            backDisabled: true,\n            get connect() {\n              return props.connect;\n            },\n            get isSingleWallet() {\n              return props.isSingleWallet;\n            },\n            get universalLinkParams() {\n              return props.universalLinkParams;\n            },\n            get lastSelectedWalletInfo() {\n              return props.lastSelectedWalletInfo;\n            },\n            get setLastSelectedWalletInfo() {\n              return props.setLastSelectedWalletInfo;\n            }\n          });\n        }\n      })];\n    }\n  });\n};\nconst TonSingleWalletModal = () => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const connector = useContext(ConnectorContext);\n  const additionalRequestLoading = () => {\n    var _a2;\n    return ((_a2 = appState.connectRequestParameters) == null ? void 0 : _a2.state) === \"loading\";\n  };\n  const [universalLinkParams, setUniversalLinkParams] = createSignal(null);\n  window.addEventListener(\"okx-ton-connect-connection-info-before-jump\", (event) => {\n    const customEvent = event;\n    core.logDebug(\"TON   :::\", JSON.stringify(customEvent.detail));\n    if (customEvent.detail && \"connectInfo\" in customEvent.detail) {\n      setUniversalLinkParams(customEvent.detail.connectInfo);\n    }\n  });\n  const additionalRequest = createMemo(() => {\n    var _a2;\n    if (additionalRequestLoading()) {\n      return void 0;\n    }\n    return (_a2 = appState.connectRequestParameters) == null ? void 0 : _a2.value;\n  });\n  const onClose = (closeReason) => {\n    tonConnectUI.closeModal(closeReason);\n  };\n  const unsubscribe = connector.onStatusChange((wallet) => {\n    if (wallet) {\n      onClose(\"wallet-selected\");\n    }\n  });\n  onCleanup(unsubscribe);\n  return createComponent(SingleWalletModal, {\n    get opened() {\n      return getTonSingleWalletModalIsOpened();\n    },\n    get walletInfo() {\n      return getTonSingleWalletModalWalletInfo();\n    },\n    loadingBeforeConnect: () => {\n      var _a2;\n      return ((_a2 = appState.connectRequestParameters) == null ? void 0 : _a2.state) === \"loading\";\n    },\n    connect: () => {\n      return new Promise((resolve, reject) => {\n        var _a2;\n        setUniversalLinkParams(null);\n        connector.connect({\n          openUniversalLink: defaultOpenTonUniversalLink(),\n          tonProof: (_a2 = additionalRequest()) == null ? void 0 : _a2.tonProof,\n          redirect: appState.returnStrategy,\n          tmaReturnUrl: appState.tmaReturnUrl\n        }).then((url) => {\n          resolve(url);\n        }).catch((error) => {\n          reject(error);\n          setUniversalLinkParams(null);\n        });\n      });\n    },\n    onClose,\n    universalLinkParams,\n    get isSingleWallet() {\n      return !showTonTgWallet();\n    },\n    get lastSelectedWalletInfo() {\n      return lastTonSelectedWalletInfo();\n    },\n    setLastSelectedWalletInfo: setLastTonSelectedWalletInfo\n  });\n};\nconst common$i = {\n  openWallet: \"Open wallet\",\n  get: \"Get\",\n  close: \"Close\",\n  retry: \"Retry\"\n};\nconst button$i = {\n  connectWallet: \"Connect wallet\",\n  dropdown: {\n    copy: \"Copy address\",\n    copied: \"Address copied\",\n    disconnect: \"Disconnect\"\n  }\n};\nconst notifications$i = {\n  confirm: {\n    header: \"Open {{ name }} to\\xA0confirm the\\xA0transaction.\"\n  },\n  transactionSent: {\n    header: \"Transaction sent\",\n    text: \"Your transaction\\xA0will be\\xA0processed in\\xA0a\\xA0few seconds.\"\n  },\n  transactionCanceled: {\n    header: \"Transaction canceled\",\n    text: \"There\\u2019ll be no changes to your account.\"\n  }\n};\nconst walletModal$i = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"Show QR Code\",\n    scanQR: \"Scan the\\xA0QR code below with your phone\\u2019s\\xA0or\\xA0{{ name }}\\u2019s camera\",\n    continueIn: \"Proceed in OKX Wallet\",\n    connectionDeclined: \"Connection failed\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet is available on OKX App and Telegram\"\n    },\n    connectApp: \"Connect to OKX App\",\n    connectMini: \"Connect to OKX Mini Wallet\"\n  }\n};\nconst actionModal$i = {\n  confirmTransaction: {\n    header: \"Confirm the\\xA0transaction in\\xA0{{ name }}\",\n    text: \"It\\u2019ll only take a moment.\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst en = {\n  common: common$i,\n  button: button$i,\n  notifications: notifications$i,\n  walletModal: walletModal$i,\n  actionModal: actionModal$i\n};\nconst common$h = {\n  openWallet: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\",\n  get: \"\\u041F\\u041E\\u041B\\u0423\\u0427\\u0418\\u0422\\u042C\",\n  close: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n  retry: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0443\"\n};\nconst button$h = {\n  connectWallet: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\",\n  dropdown: {\n    copy: \"\\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0434\\u0440\\u0435\\u0441\",\n    copied: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0441\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D.\",\n    disconnect: \"\\u041E\\u0442\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\"\n  }\n};\nconst notifications$h = {\n  confirm: {\n    header: \"\\u041E\\u0442\\u043A\\u0440\\u043E\\u0439\\u0442\\u0435 {{ name }} \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438.\"\n  },\n  transactionSent: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430\",\n    text: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u043D\\u0430 \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\\u0430\",\n    text: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0439 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0435 \\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435\\u0442.\"\n  }\n};\nconst walletModal$h = {\n  mobileConnectionModal: {\n    showQR: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C QR-\\u043A\\u043E\\u0434\",\n    scanQR: \"\\u041E\\u0442\\u0441\\u043A\\u0430\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 QR-\\u043A\\u043E\\u0434 \\u043D\\u0438\\u0436\\u0435 \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u043A\\u0430\\u043C\\u0435\\u0440\\u044B \\u043D\\u0430 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0435 \\u0438\\u043B\\u0438 {{ name }}\",\n    continueIn: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438 \\u0432 \\u041A\\u043E\\u0448\\u0435\\u043B\\u044C\\u043A\\u0435 OKX\",\n    connectionDeclined: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0435\\u043D\\u043E\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u041A\\u043E\\u0448\\u0435\\u043B\\u044C\\u043A\\u0443 OKX\",\n      text: \"\\u041A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A OKX \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u0435\\u0442 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435 OKX \\u0438 \\u043C\\u0438\\u043D\\u0438-\\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F Telegram\"\n    },\n    connectApp: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044E OKX\",\n    connectMini: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u043C\\u0438\\u043D\\u0438-\\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F\\u043C\"\n  }\n};\nconst actionModal$h = {\n  confirmTransaction: {\n    header: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044E \\u0432 {{ name }}\",\n    text: \"\\u042D\\u0442\\u043E \\u0437\\u0430\\u0439\\u043C\\u0435\\u0442 \\u0432\\u0441\\u0435\\u0433\\u043E \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst ru = {\n  common: common$h,\n  button: button$h,\n  notifications: notifications$h,\n  walletModal: walletModal$h,\n  actionModal: actionModal$h\n};\nconst common$g = {\n  openWallet: \"\\u6253\\u5F00\\u94B1\\u5305\",\n  get: \"\\u83B7\\u53D6\",\n  close: \"\\u5173\\u95ED\",\n  retry: \"\\u518D\\u8BD5\\u4E00\\u6B21\"\n};\nconst button$g = {\n  connectWallet: \"\\u8FDE\\u63A5\\u94B1\\u5305\",\n  dropdown: {\n    copy: \"\\u590D\\u5236\\u5730\\u5740\",\n    copied: \"\\u5730\\u5740\\u5DF2\\u590D\\u5236\",\n    disconnect: \"\\u65AD\\u5F00\\u8FDE\\u63A5\"\n  }\n};\nconst notifications$g = {\n  confirm: {\n    header: \"\\u6253\\u5F00 {{ name }} \\u4EE5\\u786E\\u8BA4\\u4EA4\\u6613\"\n  },\n  transactionSent: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u53D1\\u9001\",\n    text: \"\\u4EA4\\u6613\\u5373\\u5C06\\u5B8C\\u6210\\uFF0C\\u8BF7\\u7A0D\\u5019\"\n  },\n  transactionCanceled: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u53D6\\u6D88\",\n    text: \"\\u8D26\\u6237\\u672A\\u53D1\\u751F\\u4EFB\\u4F55\\u66F4\\u6539\"\n  }\n};\nconst walletModal$g = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"\\u5C55\\u793A\\u4E8C\\u7EF4\\u7801\",\n    scanQR: \"\\u4F7F\\u7528\\u624B\\u673A\\u6216\\u6B27\\u6613\\u94B1\\u5305\\u7684\\u76F8\\u673A\\u626B\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7EF4\\u7801\",\n    continueIn: \"\\u5728\\u6B27\\u6613\\u94B1\\u5305\\u4E2D\\u7EE7\\u7EED\\u5B8C\\u6210\",\n    connectionDeclined: \"\\u8FDE\\u63A5\\u5931\\u8D25\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u8FDE\\u63A5 OKX \\u94B1\\u5305\",\n      text: \"OKX \\u94B1\\u5305\\u652F\\u6301 App \\u548C Telegram \\u5C0F\\u7A0B\\u5E8F\"\n    },\n    connectApp: \"\\u8FDE\\u63A5\\u6B27\\u6613 App\",\n    connectMini: \"\\u8FDE\\u63A5\\u6B27\\u6613 Mini Wallet\"\n  }\n};\nconst actionModal$g = {\n  confirmTransaction: {\n    header: \"\\u5728 {{ name }} \\u4E2D\\u786E\\u8BA4\\u4EA4\\u6613\",\n    text: \"\\u8BF7\\u7A0D\\u5019\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst zh_CN = {\n  common: common$g,\n  button: button$g,\n  notifications: notifications$g,\n  walletModal: walletModal$g,\n  actionModal: actionModal$g\n};\nconst common$f = {\n  openWallet: \"\\u0641\\u062A\\u062D \\u0645\\u062D\\u0641\\u0638\\u0629\",\n  get: \"\\u062D\\u0635\\u0648\\u0644\",\n  close: \"\\u0625\\u063A\\u0644\\u0627\\u0642\",\n  retry: \"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"\n};\nconst button$f = {\n  connectWallet: \"\\u0631\\u0628\\u0637 \\u0627\\u0644\\u0645\\u062D\\u0641\\u0638\\u0629\",\n  dropdown: {\n    copy: \"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\",\n    copied: \"\\u062A\\u0645 \\u0646\\u0633\\u062E \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\",\n    disconnect: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u0631\\u0628\\u0637\"\n  }\n};\nconst notifications$f = {\n  confirm: {\n    header: \"\\u0627\\u0641\\u062A\\u062D {{ name }} \\u0644\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629.\"\n  },\n  transactionSent: {\n    header: \"\\u0623\\u064F\\u0631\\u0633\\u0644\\u062A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",\n    text: \"\\u0633\\u062A\\u062A\\u0645 \\u0645\\u0639\\u0627\\u0644\\u062C\\u0629 \\u0645\\u0639\\u0627\\u0645\\u0644\\u062A\\u0643 \\u0641\\u064A \\u063A\\u0636\\u0648\\u0646 \\u062B\\u0648\\u0627\\u0646\\u064D \\u0642\\u0644\\u064A\\u0644\\u0629.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0623\\u064F\\u0644\\u063A\\u064A\\u062A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",\n    text: \"\\u0644\\u0646 \\u062A\\u0637\\u0631\\u0623 \\u0623\\u064A\\u0629 \\u062A\\u063A\\u064A\\u064A\\u0631\\u0627\\u062A \\u0639\\u0644\\u0649 \\u062D\\u0633\\u0627\\u0628\\u0643.\"\n  }\n};\nconst walletModal$f = {\n  mobileConnectionModal: {\n    showQR: \"\\u0639\\u0631\\u0636 \\u0631\\u0645\\u0632 QR\",\n    scanQR: \"\\u0627\\u0645\\u0633\\u062D \\u0631\\u0645\\u0632 QR \\u0623\\u062F\\u0646\\u0627\\u0647 \\u0628\\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0643\\u0627\\u0645\\u064A\\u0631\\u0627 \\u0647\\u0627\\u062A\\u0641\\u0643 \\u0623\\u0648 \\u0643\\u0627\\u0645\\u064A\\u0631\\u0627 \\u0647\\u0627\\u062A\\u0641 {{ name }}\",\n    continueIn: \"\\u0645\\u062A\\u0627\\u0628\\u0639\\u0629 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u0641\\u064A \\u0645\\u062D\\u0641\\u0638\\u0629 OKX\",\n    connectionDeclined: \"\\u0641\\u0634\\u0644 \\u0627\\u0644\\u0627\\u062A\\u0635\\u0627\\u0644\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u0645\\u062D\\u0641\\u0638\\u0629 OKX\",\n      text: \"\\u062A\\u062F\\u0639\\u0645 \\u0645\\u062D\\u0641\\u0638\\u0629 OKX \\u062A\\u0637\\u0628\\u064A\\u0642 OKX \\u0648\\u062A\\u0637\\u0628\\u064A\\u0642\\u0627\\u062A Telegram \\u0627\\u0644\\u0645\\u0635\\u063A\\u0631\\u0629\"\n    },\n    connectApp: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u062A\\u0637\\u0628\\u064A\\u0642 OKX\",\n    connectMini: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u0627\\u0644\\u062A\\u0637\\u0628\\u064A\\u0642\\u0627\\u062A \\u0627\\u0644\\u0645\\u0635\\u063A\\u0631\\u0629\"\n  }\n};\nconst actionModal$f = {\n  confirmTransaction: {\n    header: \"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u0641\\u064A {{ name }}\",\n    text: \"\\u0644\\u0646 \\u064A\\u0633\\u062A\\u063A\\u0631\\u0642 \\u0627\\u0644\\u0623\\u0645\\u0631 \\u0633\\u0648\\u0649 \\u0644\\u062D\\u0638\\u0627\\u062A.\"\n  }\n};\nconst ar_AE = {\n  common: common$f,\n  button: button$f,\n  notifications: notifications$f,\n  walletModal: walletModal$f,\n  actionModal: actionModal$f\n};\nconst common$e = {\n  openWallet: \"Otev\\u0159\\xEDt pen\\u011B\\u017Eenku\",\n  get: \"Z\\xEDskat\",\n  close: \"Zav\\u0159\\xEDt\",\n  retry: \"Zkusit znovu\"\n};\nconst button$e = {\n  connectWallet: \"P\\u0159ipojit pen\\u011B\\u017Eenku\",\n  dropdown: {\n    copy: \"Kop\\xEDrovat adresu\",\n    copied: \"Adresa zkop\\xEDrov\\xE1na\",\n    disconnect: \"Odpojit\"\n  }\n};\nconst notifications$e = {\n  confirm: {\n    header: \"Otev\\u0159ete {{ name }} a potvr\\u010Fte transakci.\"\n  },\n  transactionSent: {\n    header: \"Transakce odesl\\xE1na\",\n    text: \"Va\\u0161e transakce bude zru\\u0161ena b\\u011Bhem n\\u011Bkolika sekund.\"\n  },\n  transactionCanceled: {\n    header: \"Transakce zru\\u0161ena\",\n    text: \"Na va\\u0161em \\xFA\\u010Dtu nedojde k \\u017E\\xE1dn\\xFDm zm\\u011Bn\\xE1m.\"\n  }\n};\nconst walletModal$e = {\n  mobileConnectionModal: {\n    showQR: \"Zobrazit QR k\\xF3d\",\n    scanQR: \"Naskenujte n\\xED\\u017Ee uveden\\xFD QR k\\xF3d pomoc\\xED kamery telefonu nebo {{ name }}\",\n    continueIn: \"Potvr\\u010Fte transakci v OKX Pen\\u011B\\u017Eence.\",\n    connectionDeclined: \"P\\u0159ipojen\\xED selhalo\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"P\\u0159ipojit k OKX Pen\\u011B\\u017Eence\",\n      text: \"OKX Pen\\u011B\\u017Eenka podporuje aplikaci OKX a miniaplikace pro Telegram.\"\n    },\n    connectApp: \"P\\u0159ipojit k aplikaci OKX\",\n    connectMini: \"P\\u0159ipojit k miniaplikac\\xEDm\"\n  }\n};\nconst actionModal$e = {\n  confirmTransaction: {\n    header: \"Potvr\\u010Fte transakci na {{ name }}.\",\n    text: \"Zabere to jen chvilku.\"\n  }\n};\nconst cs_CZ = {\n  common: common$e,\n  button: button$e,\n  notifications: notifications$e,\n  walletModal: walletModal$e,\n  actionModal: actionModal$e\n};\nconst common$d = {\n  openWallet: \"Wallet \\xF6ffnen\",\n  get: \"Erhalten\",\n  close: \"Schlie\\xDFen\",\n  retry: \"Wiederholen\"\n};\nconst button$d = {\n  connectWallet: \"Wallet verkn\\xFCpfen\",\n  dropdown: {\n    copy: \"Adresse kopieren\",\n    copied: \"Adresse kopiert\",\n    disconnect: \"Trennen\"\n  }\n};\nconst notifications$d = {\n  confirm: {\n    header: \"{{ name }} \\xF6ffnen und Transaktion best\\xE4tigen.\"\n  },\n  transactionSent: {\n    header: \"Transaktion gesendet\",\n    text: \"Ihre Transaktion wird in wenigen Sekunden bearbeitet.\"\n  },\n  transactionCanceled: {\n    header: \"Transaktion storniert\",\n    text: \"Es werden keine \\xC4nderungen an Ihrem Konto vorgenommen.\"\n  }\n};\nconst walletModal$d = {\n  mobileConnectionModal: {\n    showQR: \"QR-Code anzeigen\",\n    scanQR: \"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}\",\n    continueIn: \"Setzen Sie die Transaktion in der OKX Wallet fort\",\n    connectionDeclined: \"Verbindung fehlgeschlagen\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Mit OKX-Wallet verbinden\",\n      text: \"OKX Wallet unterst\\xFCtzt die OKX-App und Telegram Mini Apps\"\n    },\n    connectApp: \"Mit der OKX-App verbinden\",\n    connectMini: \"Mit Mini Apps verbinden\"\n  }\n};\nconst actionModal$d = {\n  confirmTransaction: {\n    header: \"Transaktion in {{ name }} best\\xE4tigen\",\n    text: \"Es dauert nur einen Augenblick.\"\n  }\n};\nconst de_DE = {\n  common: common$d,\n  button: button$d,\n  notifications: notifications$d,\n  walletModal: walletModal$d,\n  actionModal: actionModal$d\n};\nconst common$c = {\n  openWallet: \"Abrir wallet\",\n  get: \"Consigue\",\n  close: \"Cerrar\",\n  retry: \"Volver a intentar\"\n};\nconst button$c = {\n  connectWallet: \"Conectar billetera\",\n  dropdown: {\n    copy: \"Copiar direcci\\xF3n\",\n    copied: \"Direcci\\xF3n copiada\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$c = {\n  confirm: {\n    header: \"Abre {{ name }} para confirmar la transacci\\xF3n.\"\n  },\n  transactionSent: {\n    header: \"Transacci\\xF3n enviada\",\n    text: \"Tu transacci\\xF3n se procesar\\xE1 en unos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transacci\\xF3n cancelada\",\n    text: \"No se realizar\\xE1n cambios en tu cuenta.\"\n  }\n};\nconst walletModal$c = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Escanea el siguiente c\\xF3digo QR con la c\\xE1mara de tu tel\\xE9fono o de tu {{ name }}\",\n    continueIn: \"Continuar con la transacci\\xF3n en OKX Wallet\",\n    connectionDeclined: \"Error de conexi\\xF3n\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Conectar a la OKX Wallet\",\n      text: \"OKX Wallet es compatible con la OKX app y las mini apps de Telegram\"\n    },\n    connectApp: \"Conectar a la OKX app\",\n    connectMini: \"Conectar a las mini apps\"\n  }\n};\nconst actionModal$c = {\n  confirmTransaction: {\n    header: \"Confirma la transacci\\xF3n de {{ name }}\",\n    text: \"Solo te llevar\\xE1 un momento.\"\n  }\n};\nconst es_ES = {\n  common: common$c,\n  button: button$c,\n  notifications: notifications$c,\n  walletModal: walletModal$c,\n  actionModal: actionModal$c\n};\nconst common$b = {\n  openWallet: \"Abrir billetera\",\n  get: \"Obtener\",\n  close: \"Cerrar\",\n  retry: \"Reintentar\"\n};\nconst button$b = {\n  connectWallet: \"Conectar billetera\",\n  dropdown: {\n    copy: \"Copiar direcci\\xF3n\",\n    copied: \"Direcci\\xF3n copiada\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$b = {\n  confirm: {\n    header: \"Abre {{ name }} para confirmar la transacci\\xF3n.\"\n  },\n  transactionSent: {\n    header: \"Transacci\\xF3n enviada\",\n    text: \"Tu transacci\\xF3n se procesar\\xE1 en unos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transacci\\xF3n cancelada\",\n    text: \"No habr\\xE1 cambios en tu cuenta.\"\n  }\n};\nconst walletModal$b = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Escanea el siguiente c\\xF3digo QR con la c\\xE1mara de tu tel\\xE9fono o {{ name }}\",\n    continueIn: \"Contin\\xFAa la transacci\\xF3n en OKX Wallet\",\n    connectionDeclined: \"Error de conexi\\xF3n\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Con\\xE9ctate a la OKX\\xA0Wallet\",\n      text: \"La OKX Wallet es compatible con la OKX app y las miniapps de Telegram\"\n    },\n    connectApp: \"Con\\xE9ctate a la OKX\\xA0app\",\n    connectMini: \"Con\\xE9ctate a las miniapps\"\n  }\n};\nconst actionModal$b = {\n  confirmTransaction: {\n    header: \"Confirmar la transacci\\xF3n en {{ name }}\",\n    text: \"Solo tomar\\xE1 un momento.\"\n  }\n};\nconst es_LAT = {\n  common: common$b,\n  button: button$b,\n  notifications: notifications$b,\n  walletModal: walletModal$b,\n  actionModal: actionModal$b\n};\nconst common$a = {\n  openWallet: \"Portefeuille ouvert\",\n  get: \"Obtenir\",\n  close: \"Fermer\",\n  retry: \"R\\xE9essayer\"\n};\nconst button$a = {\n  connectWallet: \"Connecter le portefeuille\",\n  dropdown: {\n    copy: \"Copier l\\u2019adresse\",\n    copied: \"Adresse copi\\xE9e\",\n    disconnect: \"D\\xE9connecter\"\n  }\n};\nconst notifications$a = {\n  confirm: {\n    header: \"Ouvrir {{ name }} pour confirmer la transaction.\"\n  },\n  transactionSent: {\n    header: \"Transaction envoy\\xE9e\",\n    text: \"Votre transaction sera trait\\xE9e en quelques secondes.\"\n  },\n  transactionCanceled: {\n    header: \"Transaction annul\\xE9e\",\n    text: \"Aucun changement ne sera apport\\xE9 \\xE0 votre compte.\"\n  }\n};\nconst walletModal$a = {\n  mobileConnectionModal: {\n    showQR: \"Afficher le code QR\",\n    scanQR: \"Scannez le code QR ci-dessous avec la cam\\xE9ra de votre t\\xE9l\\xE9phone ou de votre {{ name }}.\",\n    continueIn: \"Poursuivre la transaction dans OKX Wallet\",\n    connectionDeclined: \"\\xC9chec de la connexion\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Se connecter \\xE0 OKX Wallet\",\n      text: \"OKX Wallet prend en charge l'application OKX et les mini-applis Telegram\"\n    },\n    connectApp: \"Se connecter \\xE0 l\\u2019appli OKX\",\n    connectMini: \"Se connecter aux mini-applis\"\n  }\n};\nconst actionModal$a = {\n  confirmTransaction: {\n    header: \"Confirmer la transaction dans {{ name }}\",\n    text: \"Cela ne prendra qu'un instant.\"\n  }\n};\nconst fr_FR = {\n  common: common$a,\n  button: button$a,\n  notifications: notifications$a,\n  walletModal: walletModal$a,\n  actionModal: actionModal$a\n};\nconst common$9 = {\n  openWallet: \"Buka wallet\",\n  get: \"Dapatkan\",\n  close: \"Tutup\",\n  retry: \"Coba lagi\"\n};\nconst button$9 = {\n  connectWallet: \"Hubungkan wallet\",\n  dropdown: {\n    copy: \"Salin alamat\",\n    copied: \"Alamat disalin\",\n    disconnect: \"Putuskan sambungan\"\n  }\n};\nconst notifications$9 = {\n  confirm: {\n    header: \"Buka {{ name }} untuk mengonfirmasi transaksi.\"\n  },\n  transactionSent: {\n    header: \"Transaksi terkirim\",\n    text: \"Transaksi Anda akan diproses dalam beberapa detik.\"\n  },\n  transactionCanceled: {\n    header: \"Transaksi dibatalkan\",\n    text: \"Tidak akan ada perubahan pada akun Anda.\"\n  }\n};\nconst walletModal$9 = {\n  mobileConnectionModal: {\n    showQR: \"Tampilkan Kode QR\",\n    scanQR: \"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda\",\n    continueIn: \"Lanjutkan transaksi di OKX Wallet\",\n    connectionDeclined: \"Koneksi gagal\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Hubungkan ke OKX Wallet\",\n      text: \"OKX Wallet mendukung Aplikasi OKX dan Aplikasi Telegram Mini\"\n    },\n    connectApp: \"Hubungkan ke Aplikasi OKX\",\n    connectMini: \"Hubungkan ke Aplikasi Mini\"\n  }\n};\nconst actionModal$9 = {\n  confirmTransaction: {\n    header: \"Konfirmasi transaksi pada {{ name }}\",\n    text: \"Hanya perlu beberapa saat.\"\n  }\n};\nconst id_ID = {\n  common: common$9,\n  button: button$9,\n  notifications: notifications$9,\n  walletModal: walletModal$9,\n  actionModal: actionModal$9\n};\nconst common$8 = {\n  openWallet: \"Apri portafoglio\",\n  get: \"Ottieni\",\n  close: \"Chiudi\",\n  retry: \"Riprova\"\n};\nconst button$8 = {\n  connectWallet: \"Connetti il portafoglio\",\n  dropdown: {\n    copy: \"Copia indirizzo\",\n    copied: \"Indirizzo copiato\",\n    disconnect: \"Disconnetti\"\n  }\n};\nconst notifications$8 = {\n  confirm: {\n    header: \"Apri {{ name }} per confermare la transazione.\"\n  },\n  transactionSent: {\n    header: \"Transazione inviata\",\n    text: \"La transazione verr\\xE0 elaborata in pochi secondi.\"\n  },\n  transactionCanceled: {\n    header: \"Transazione annullata\",\n    text: \"Il tuo conto non subir\\xE0 modifiche.\"\n  }\n};\nconst walletModal$8 = {\n  mobileConnectionModal: {\n    showQR: \"Mostra il codice QR\",\n    scanQR: \"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}\",\n    continueIn: \"Continua la transazione in OKX Wallet\",\n    connectionDeclined: \"Collegamento non riuscito\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connettiti a OKX Wallet\",\n      text: \"OKX Wallet supporta l'app OKX e Telegram Mini Apps\"\n    },\n    connectApp: \"Connettiti all'app OKX\",\n    connectMini: \"Connettiti a Mini Apps\"\n  }\n};\nconst actionModal$8 = {\n  confirmTransaction: {\n    header: \"Conferma la transazione in {{ name }}\",\n    text: \"Ci vorr\\xE0 solo un secondo.\"\n  }\n};\nconst it_IT = {\n  common: common$8,\n  button: button$8,\n  notifications: notifications$8,\n  walletModal: walletModal$8,\n  actionModal: actionModal$8\n};\nconst common$7 = {\n  openWallet: \"Wallet openen\",\n  get: \"Krijgen\",\n  close: \"Sluiten\",\n  retry: \"Opnieuw proberen\"\n};\nconst button$7 = {\n  connectWallet: \"Wallet koppelen\",\n  dropdown: {\n    copy: \"Adres kopi\\xEBren\",\n    copied: \"Adres gekopieerd\",\n    disconnect: \"Verbinding verbreken\"\n  }\n};\nconst notifications$7 = {\n  confirm: {\n    header: \"Open {{ name }} om de transactie te bevestigen.\"\n  },\n  transactionSent: {\n    header: \"Transactie verstuurd\",\n    text: \"Je transactie wordt binnen een paar seconden verwerkt.\"\n  },\n  transactionCanceled: {\n    header: \"Transactie geannuleerd\",\n    text: \"Er verandert niets aan je account.\"\n  }\n};\nconst walletModal$7 = {\n  mobileConnectionModal: {\n    showQR: \"QR-code weergeven\",\n    scanQR: \"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}\",\n    continueIn: \"Ga verder met de transactie in OKX Wallet\",\n    connectionDeclined: \"Koppelen mislukt\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Koppelen met OKX Wallet\",\n      text: \"OKX Wallet ondersteunt de OKX-app en Telegram mini-apps\"\n    },\n    connectApp: \"Koppelen met de OKX-app\",\n    connectMini: \"Koppelen met Mini-Apps\"\n  }\n};\nconst actionModal$7 = {\n  confirmTransaction: {\n    header: \"De transactie in {{ name }} bevestigen\",\n    text: \"Het is zo gebeurd.\"\n  }\n};\nconst nl_NL = {\n  common: common$7,\n  button: button$7,\n  notifications: notifications$7,\n  walletModal: walletModal$7,\n  actionModal: actionModal$7\n};\nconst common$6 = {\n  openWallet: \"Otw\\xF3rz portfel\",\n  get: \"Otrzymaj\",\n  close: \"Zamknij\",\n  retry: \"Spr\\xF3buj ponownie\"\n};\nconst button$6 = {\n  connectWallet: \"Po\\u0142\\u0105cz portfel\",\n  dropdown: {\n    copy: \"Kopiuj adres\",\n    copied: \"Adres skopiowany\",\n    disconnect: \"Roz\\u0142\\u0105cz\"\n  }\n};\nconst notifications$6 = {\n  confirm: {\n    header: \"Otw\\xF3rz {{ name }}, aby potwierdzi\\u0107 transakcj\\u0119.\"\n  },\n  transactionSent: {\n    header: \"Wys\\u0142ano transakcj\\u0119\",\n    text: \"Transakcja zostanie przetworzona w ci\\u0105gu kilku sekund.\"\n  },\n  transactionCanceled: {\n    header: \"Anulowano transakcj\\u0119\",\n    text: \"Na koncie nie zostan\\u0105 wprowadzone \\u017Cadne zmiany.\"\n  }\n};\nconst walletModal$6 = {\n  mobileConnectionModal: {\n    showQR: \"Poka\\u017C kod QR\",\n    scanQR: \"Zeskanuj poni\\u017Cszy kod QR za pomoc\\u0105 aparatu w telefonie lub {{ name }}\",\n    continueIn: \"Kontynuuj transakcj\\u0119 w OKX Wallet\",\n    connectionDeclined: \"Po\\u0142\\u0105czenie nieudane\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Po\\u0142\\u0105cz z OKX Wallet\",\n      text: \"OKX Wallet obs\\u0142uguje aplikacje OKX i aplikacje Telegram Mini\"\n    },\n    connectApp: \"Po\\u0142\\u0105cz z aplikacj\\u0105 OKX\",\n    connectMini: \"Po\\u0142\\u0105cz z aplikacjami Mini\"\n  }\n};\nconst actionModal$6 = {\n  confirmTransaction: {\n    header: \"Potwierd\\u017A transakcj\\u0119 w {{ name }}\",\n    text: \"To zajmie tylko chwil\\u0119.\"\n  }\n};\nconst pl_PL = {\n  common: common$6,\n  button: button$6,\n  notifications: notifications$6,\n  walletModal: walletModal$6,\n  actionModal: actionModal$6\n};\nconst common$5 = {\n  openWallet: \"Abrir carteira\",\n  get: \"Receber\",\n  close: \"Fechar\",\n  retry: \"Tentar novamente\"\n};\nconst button$5 = {\n  connectWallet: \"Conectar carteira\",\n  dropdown: {\n    copy: \"Copiar endere\\xE7o\",\n    copied: \"Endere\\xE7o copiado\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$5 = {\n  confirm: {\n    header: \"Abrir {{ name }} para confirmar a transa\\xE7\\xE3o.\"\n  },\n  transactionSent: {\n    header: \"Transa\\xE7\\xE3o enviada\",\n    text: \"Sua transa\\xE7\\xE3o ser\\xE1 processada em alguns segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transa\\xE7\\xE3o cancelada\",\n    text: \"N\\xE3o haver\\xE1 altera\\xE7\\xF5es em sua conta.\"\n  }\n};\nconst walletModal$5 = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar C\\xF3digo QR\",\n    scanQR: \"Digitalize o c\\xF3digo QR abaixo com a c\\xE2mera do seu telefone ou do {{ name }}\",\n    continueIn: \"Continuar a transa\\xE7\\xE3o na OKX Wallet\",\n    connectionDeclined: \"Falha na conex\\xE3o\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Conecte-se \\xE0 OKX Wallet\",\n      text: \"A OKX Wallet \\xE9 compat\\xEDvel com App da OKX e com os Mini Apps do Telegram\"\n    },\n    connectApp: \"Conecte-se ao App da OKX\",\n    connectMini: \"Conecte-se ao Mini Apps\"\n  }\n};\nconst actionModal$5 = {\n  confirmTransaction: {\n    header: \"Confirmar a transa\\xE7\\xE3o em {{ name }}\",\n    text: \"Isso levar\\xE1 apenas um momento.\"\n  }\n};\nconst pt_BR = {\n  common: common$5,\n  button: button$5,\n  notifications: notifications$5,\n  walletModal: walletModal$5,\n  actionModal: actionModal$5\n};\nconst common$4 = {\n  openWallet: \"Abrir carteira\",\n  get: \"Receber\",\n  close: \"Fechar\",\n  retry: \"Tentar novamente\"\n};\nconst button$4 = {\n  connectWallet: \"Associar carteira\",\n  dropdown: {\n    copy: \"Copiar endere\\xE7o\",\n    copied: \"Endere\\xE7o copiado\",\n    disconnect: \"Desassociar\"\n  }\n};\nconst notifications$4 = {\n  confirm: {\n    header: \"Abra {{ name }} para confirmar a transa\\xE7\\xE3o.\"\n  },\n  transactionSent: {\n    header: \"Transa\\xE7\\xE3o efetuada\",\n    text: \"A sua transa\\xE7\\xE3o ser\\xE1 processada dentro de poucos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transa\\xE7\\xE3o cancelada\",\n    text: \"N\\xE3o ser\\xE3o feitas altera\\xE7\\xF5es \\xE0 sua conta.\"\n  }\n};\nconst walletModal$4 = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Leia o c\\xF3digo QR abaixo com a c\\xE2mara do seu telem\\xF3vel ou {{ name }}\",\n    continueIn: \"Continuar a transa\\xE7\\xE3o na OKX Wallet\",\n    connectionDeclined: \"Falha na liga\\xE7\\xE3o\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Associar \\xE0 OKX Wallet\",\n      text: \"A OKX Wallet suporta a aplica\\xE7\\xE3o da OKX e Mini Apps\"\n    },\n    connectApp: \"Associar \\xE0 aplica\\xE7\\xE3o da OKX\",\n    connectMini: \"Associar \\xE0s Mini Apps\"\n  }\n};\nconst actionModal$4 = {\n  confirmTransaction: {\n    header: \"Confirmar a transa\\xE7\\xE3o na {{ name }}\",\n    text: \"Demora apenas um momento.\"\n  }\n};\nconst pt_PT = {\n  common: common$4,\n  button: button$4,\n  notifications: notifications$4,\n  walletModal: walletModal$4,\n  actionModal: actionModal$4\n};\nconst common$3 = {\n  openWallet: \"Deschide\\u021Bi portofelul\",\n  get: \"Primi\\u021Bi\",\n  close: \"\\xCEnchide\\u021Bi\",\n  retry: \"Re\\xEEncerca\\u021Bi\"\n};\nconst button$3 = {\n  connectWallet: \"Conecta\\u021Bi portofelul\",\n  dropdown: {\n    copy: \"Copia\\u021Bi adresa\",\n    copied: \"Adres\\u0103 copiat\\u0103\",\n    disconnect: \"Deconecta\\u021Bi\"\n  }\n};\nconst notifications$3 = {\n  confirm: {\n    header: \"Deschide\\u021Bi {{ name }} pentru a confirma tranzac\\u021Bia.\"\n  },\n  transactionSent: {\n    header: \"Tranzac\\u021Bie trimis\\u0103\",\n    text: \"Tranzac\\u021Bia dvs. va fi procesat\\u0103 \\xEEn c\\xE2teva secunde.\"\n  },\n  transactionCanceled: {\n    header: \"Tranzac\\u021Bie anulat\\u0103\",\n    text: \"Nu va exista nicio modificare \\xEEn cont.\"\n  }\n};\nconst walletModal$3 = {\n  mobileConnectionModal: {\n    showQR: \"Scana\\u021Bi codul QR\",\n    scanQR: \"Scana\\u021Bi codul QR mai jos cu camera telefonului sau a {{ name }}\",\n    continueIn: \"Continua\\u021Bi tranzac\\u021Bia \\xEEn OKX Wallet\",\n    connectionDeclined: \"Conexiunea a e\\u0219uat\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Conecta\\u021Bi-v\\u0103 la OKX Wallet\",\n      text: \"OKX Wallet accept\\u0103 aplica\\u021Bia OKX \\u0219i aplica\\u021Biile Telegram Mini\"\n    },\n    connectApp: \"Conecta\\u021Bi-v\\u0103 la aplica\\u021Bia OKX\",\n    connectMini: \"Conecta\\u021Bi-v\\u0103 la aplica\\u021Biile Mini\"\n  }\n};\nconst actionModal$3 = {\n  confirmTransaction: {\n    header: \"Confirma\\u021Bi tranzac\\u021Bia \\xEEn {{ name }}\",\n    text: \"Va dura doar un moment.\"\n  }\n};\nconst ro_RO = {\n  common: common$3,\n  button: button$3,\n  notifications: notifications$3,\n  walletModal: walletModal$3,\n  actionModal: actionModal$3\n};\nconst common$2 = {\n  openWallet: \"C\\xFCzdan\\u0131 a\\xE7\",\n  get: \"Al\",\n  close: \"Kapat\",\n  retry: \"Tekrar Dene\"\n};\nconst button$2 = {\n  connectWallet: \"C\\xFCzdan\\u0131 ba\\u011Fla\",\n  dropdown: {\n    copy: \"Adresi kopyala\",\n    copied: \"Adres kopyaland\\u0131!\",\n    disconnect: \"Ba\\u011Flant\\u0131y\\u0131 kes\"\n  }\n};\nconst notifications$2 = {\n  confirm: {\n    header: \"\\u0130\\u015Flemi onaylamak i\\xE7in {{ name }} \\xF6gesini a\\xE7\\u0131n.\"\n  },\n  transactionSent: {\n    header: \"\\u0130\\u015Flem g\\xF6nderildi.\",\n    text: \"\\u0130\\u015Fleminiz birka\\xE7 saniye i\\xE7inde ger\\xE7ekle\\u015Ftirilecek.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0130\\u015Flem iptal edildi!\",\n    text: \"Hesab\\u0131n\\u0131zda de\\u011Fi\\u015Fiklik olmayacak.\"\n  }\n};\nconst walletModal$2 = {\n  mobileConnectionModal: {\n    showQR: \"QR Kodunu G\\xF6ster\",\n    scanQR: \"A\\u015Fa\\u011F\\u0131daki QR kodunu telefonunuzun veya {{ name }} cihaz\\u0131n\\u0131z\\u0131n kameras\\u0131yla taray\\u0131n.\",\n    continueIn: \"\\u0130\\u015Fleme OKX Web3 C\\xFCzdan\\u2019da devam edin.\",\n    connectionDeclined: \"Ba\\u011Flant\\u0131 ba\\u015Far\\u0131s\\u0131z.\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"OKX Web3 C\\xFCzdan\\u2019a Ba\\u011Flan\\u0131n\",\n      text: \"OKX Web3 C\\xFCzdan, OKX uygulamas\\u0131n\\u0131 ve Telegram Mini uygulamalar\\u0131n\\u0131 destekler.\"\n    },\n    connectApp: \"OKX Uygulamas\\u0131na Ba\\u011Flan\\u0131n\",\n    connectMini: \"Mini Uygulamalara Ba\\u011Flan\\u0131n\"\n  }\n};\nconst actionModal$2 = {\n  confirmTransaction: {\n    header: \"{{ name }} Konumunda \\u0130\\u015Flemi Onaylay\\u0131n\",\n    text: \"Bu yaln\\u0131zca bir dakikan\\u0131z\\u0131 alacak.\"\n  }\n};\nconst tr_TR = {\n  common: common$2,\n  button: button$2,\n  notifications: notifications$2,\n  walletModal: walletModal$2,\n  actionModal: actionModal$2\n};\nconst common$1 = {\n  openWallet: \"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0442\\u0438\\u0439 \\u0433\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C\",\n  get: \"\\u041E\\u0442\\u0440\\u0438\\u043C\\u0430\\u0442\\u0438\",\n  close: \"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\",\n  retry: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0438 \\u0441\\u043F\\u0440\\u043E\\u0431\\u0443\"\n};\nconst button$1 = {\n  connectWallet: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438 \\u0433\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C\",\n  dropdown: {\n    copy: \"\\u041A\\u043E\\u043F\\u0456\\u044E\\u0432\\u0430\\u0442\\u0438 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0443\",\n    copied: \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0443 \\u0441\\u043A\\u043E\\u043F\\u0456\\u0439\\u043E\\u0432\\u0430\\u043D\\u043E\",\n    disconnect: \"\\u0412\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\"\n  }\n};\nconst notifications$1 = {\n  confirm: {\n    header: \"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0439\\u0442\\u0435 {{ name }}, \\u0449\\u043E\\u0431 \\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0438 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E.\"\n  },\n  transactionSent: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u043D\\u0430\\u0434\\u0456\\u0441\\u043B\\u0430\\u043D\\u043E\",\n    text: \"\\u0412\\u0430\\u0448\\u0443 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0431\\u0443\\u0434\\u0435 \\u043E\\u0431\\u0440\\u043E\\u0431\\u043B\\u0435\\u043D\\u043E \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043A\\u0456\\u043B\\u044C\\u043A\\u0430 \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0441\\u043A\\u0430\\u0441\\u043E\\u0432\\u0430\\u043D\\u043E\",\n    text: \"\\u0423 \\u0432\\u0430\\u0448\\u043E\\u043C\\u0443 \\u0430\\u043A\\u0430\\u0443\\u043D\\u0442\\u0456 \\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435 \\u0437\\u043C\\u0456\\u043D.\"\n  }\n};\nconst walletModal$1 = {\n  mobileConnectionModal: {\n    showQR: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0438 QR-\\u043A\\u043E\\u0434\",\n    scanQR: \"\\u0412\\u0456\\u0434\\u0441\\u043A\\u0430\\u043D\\u0443\\u0439\\u0442\\u0435 \\u043D\\u0430\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0438\\u0436\\u0447\\u0435 QR-\\u043A\\u043E\\u0434 \\u0437\\u0430 \\u0434\\u043E\\u043F\\u043E\\u043C\\u043E\\u0433\\u043E\\u044E \\u043A\\u0430\\u043C\\u0435\\u0440\\u0438 \\u0441\\u0432\\u043E\\u0433\\u043E \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0430\\u0431\\u043E {{ name }}\",\n    continueIn: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u0432\\u0436\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0432 OKX Wallet\",\n    connectionDeclined: \"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u043F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043D\\u044F\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043D\\u044F \\u0434\\u043E OKX \\u0413\\u0430\\u043C\\u0430\\u043D\\u0446\\u044F\",\n      text: \"OKX \\u0413\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C \\u043F\\u0456\\u0434\\u0442\\u0440\\u0438\\u043C\\u0443\\u0454 \\u0437\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u043D\\u043E\\u043A OKX \\u0456 \\u043C\\u0456\\u043D\\u0456\\u0434\\u043E\\u0434\\u0430\\u0442\\u043A\\u0438 Telegram\"\n    },\n    connectApp: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043D\\u044F \\u0434\\u043E \\u0437\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u043D\\u043A\\u0430 OKX\",\n    connectMini: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043D\\u044F \\u0434\\u043E \\u043C\\u0456\\u043D\\u0456\\u0434\\u043E\\u0434\\u0430\\u0442\\u043A\\u0456\\u0432\"\n  }\n};\nconst actionModal$1 = {\n  confirmTransaction: {\n    header: \"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u044C\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0432 {{ name }}\",\n    text: \"\\u0426\\u0435 \\u0437\\u0430\\u0439\\u043C\\u0435 \\u043B\\u0438\\u0448\\u0435 \\u043C\\u0438\\u0442\\u044C.\"\n  }\n};\nconst uk_UA = {\n  common: common$1,\n  button: button$1,\n  notifications: notifications$1,\n  walletModal: walletModal$1,\n  actionModal: actionModal$1\n};\nconst common = {\n  openWallet: \"M\\u1EDF v\\xED\",\n  get: \"Nh\\u1EADn\",\n  close: \"\\u0110\\xF3ng\",\n  retry: \"Th\\u1EED l\\u1EA1i\"\n};\nconst button = {\n  connectWallet: \"K\\u1EBFt n\\u1ED1i v\\xED\",\n  dropdown: {\n    copy: \"Sao ch\\xE9p \\u0111\\u1ECBa ch\\u1EC9\",\n    copied: \"\\u0110\\xE3 sao ch\\xE9p \\u0111\\u1ECBa ch\\u1EC9\",\n    disconnect: \"Ng\\u1EAFt k\\u1EBFt n\\u1ED1i\"\n  }\n};\nconst notifications = {\n  confirm: {\n    header: \"M\\u1EDF {{ name }} \\u0111\\u1EC3 x\\xE1c nh\\u1EADn giao d\\u1ECBch.\"\n  },\n  transactionSent: {\n    header: \"\\u0110\\xE3 g\\u1EEDi giao d\\u1ECBch\",\n    text: \"Giao d\\u1ECBch c\\u1EE7a b\\u1EA1n s\\u1EBD \\u0111\\u01B0\\u1EE3c x\\u1EED l\\xFD trong v\\xE0i gi\\xE2y.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0110\\xE3 h\\u1EE7y giao d\\u1ECBch\",\n    text: \"Kh\\xF4ng c\\xF3 thay \\u0111\\u1ED5i n\\xE0o v\\u1EDBi t\\xE0i kho\\u1EA3n c\\u1EE7a b\\u1EA1n.\"\n  }\n};\nconst walletModal = {\n  mobileConnectionModal: {\n    showQR: \"Hi\\u1EC3n th\\u1ECB m\\xE3 QR\",\n    scanQR: \"Qu\\xE9t m\\xE3 QR b\\xEAn d\\u01B0\\u1EDBi b\\u1EB1ng m\\xE1y \\u1EA3nh \\u0111i\\u1EC7n tho\\u1EA1i ho\\u1EB7c {{ name }} c\\u1EE7a b\\u1EA1n\",\n    continueIn: \"Ti\\u1EBFp t\\u1EE5c giao d\\u1ECBch tr\\xEAn V\\xED Web3 OKX\",\n    connectionDeclined: \"K\\u1EBFt n\\u1ED1i kh\\xF4ng th\\xE0nh c\\xF4ng\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"K\\u1EBFt n\\u1ED1i V\\xED Web3 OKX\",\n      text: \"V\\xED Web3 OKX h\\u1ED7 tr\\u1EE3 \\u1EE9ng d\\u1EE5ng OKX v\\xE0 c\\xE1c Mini App Telegram\"\n    },\n    connectApp: \"K\\u1EBFt n\\u1ED1i \\u1EE9ng d\\u1EE5ng OKX\",\n    connectMini: \"K\\u1EBFt n\\u1ED1i c\\xE1c Mini App\"\n  }\n};\nconst actionModal = {\n  confirmTransaction: {\n    header: \"X\\xE1c nh\\u1EADn giao d\\u1ECBch trong {{ name }}\",\n    text: \"N\\xF3 ch\\u1EC9 m\\u1EA5t ch\\xFAt th\\u1EDDi gian.\"\n  }\n};\nconst vi_VN = {\n  common,\n  button,\n  notifications,\n  walletModal,\n  actionModal\n};\nconst i18nDictionary = {\n  en_US: parseDictionary(en),\n  ru_RU: parseDictionary(ru),\n  zh_CN: parseDictionary(zh_CN),\n  zh: parseDictionary(zh_CN),\n  ar_AE: parseDictionary(ar_AE),\n  cs_CZ: parseDictionary(cs_CZ),\n  de_DE: parseDictionary(de_DE),\n  es_ES: parseDictionary(es_ES),\n  es_LAT: parseDictionary(es_LAT),\n  fr_FR: parseDictionary(fr_FR),\n  id_ID: parseDictionary(id_ID),\n  it_IT: parseDictionary(it_IT),\n  nl_NL: parseDictionary(nl_NL),\n  pl_PL: parseDictionary(pl_PL),\n  pt_BR: parseDictionary(pt_BR),\n  pt_PT: parseDictionary(pt_PT),\n  ro_RO: parseDictionary(ro_RO),\n  tr_TR: parseDictionary(tr_TR),\n  uk_UA: parseDictionary(uk_UA),\n  vi_VN: parseDictionary(vi_VN)\n};\nfunction parseDictionary(dictionary) {\n  const refSymbol = \"$\";\n  const iterate = (subDictionary) => {\n    Object.entries(subDictionary).forEach(([key, value]) => {\n      if (typeof value === \"object\" && value) {\n        return iterate(value);\n      }\n      if (typeof value === \"string\") {\n        if (value[0] === refSymbol) {\n          const path = value.slice(1).split(\".\");\n          let obj = dictionary;\n          path.forEach((item) => {\n            if (item in obj) {\n              obj = obj[item];\n            } else {\n              throw new Error(\n                `Cannot parse translations: there is no property ${item} in translation`\n              );\n            }\n          });\n          subDictionary[key] = obj;\n        }\n        if (value.slice(0, 2) === `\\\\${refSymbol}`) {\n          subDictionary[key] = value.slice(1);\n        }\n      }\n    });\n  };\n  iterate(dictionary);\n  return dictionary;\n}\nconst defaultLightColorsSet = {\n  constant: {\n    black: \"#000000\",\n    white: \"#FFFFFF\"\n  },\n  connectButton: {\n    background: \"#0098EA\",\n    foreground: \"#FFFFFF\"\n  },\n  accent: \"#0098EA\",\n  telegramButton: \"#0098EA\",\n  qrFill: \"#000000\",\n  icon: {\n    primary: \"#0F0F0F\",\n    secondary: \"#7A8999\",\n    tertiary: \"#C1CAD2\",\n    success: \"#29CC6A\",\n    error: \"#F5A73B\"\n  },\n  background: {\n    primary: \"#FFFFFF\",\n    secondary: \"#F1F3F5\",\n    segment: \"#FFFFFF\",\n    tint: \"#F1F3F5\",\n    qr: \"#FFFFFF\"\n  },\n  text: {\n    primary: \"#000000\",\n    secondary: \"#6A7785\",\n    contrast: \"#909090\"\n  },\n  border: {\n    primary: \"#00000014\",\n    secondary: \"#00000024\"\n  },\n  disable: \"#B3B3B3\"\n};\nconst defaultDarkColorsSet = {\n  constant: {\n    black: \"#000000\",\n    white: \"#FFFFFF\"\n  },\n  connectButton: {\n    background: \"#0098EA\",\n    foreground: \"#FFFFFF\"\n  },\n  accent: \"#E5E5EA\",\n  telegramButton: \"#31A6F5\",\n  qrFill: \"#FFFFFF\",\n  icon: {\n    primary: \"#E5E5EA\",\n    secondary: \"#909099\",\n    tertiary: \"#434347\",\n    success: \"#29CC6A\",\n    error: \"#F5A73B\"\n  },\n  background: {\n    primary: \"#121214\",\n    secondary: \"#18181A\",\n    segment: \"#262629\",\n    tint: \"#222224\",\n    qr: \"#121214\"\n  },\n  text: {\n    primary: \"#FFFFFF\",\n    secondary: \"#7D7D85\",\n    contrast: \"#909090\"\n  },\n  border: {\n    primary: \"#FFFFFF1F\",\n    secondary: \"#FFFFFF30\"\n  },\n  disable: \"#5B5B5B\"\n};\nconst [themeState, setThemeState] = createStore({\n  theme: THEME.LIGHT,\n  colors: defaultLightColorsSet,\n  borderRadius: \"m\"\n});\nconst themeColorsMappingDefault = {\n  [THEME.LIGHT]: defaultLightColorsSet,\n  [THEME.DARK]: defaultDarkColorsSet\n};\n({\n  [THEME.LIGHT]: void 0,\n  [THEME.DARK]: void 0\n});\nfunction setTheme(theme) {\n  setThemeState({\n    theme,\n    colors: themeColorsMappingDefault[theme]\n  });\n}\nconst ActionModalStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-bottom: 8px;\n`;\nconst H1Styled = styled(H1)`\n    margin-top: 16px;\n`;\nconst TextStyled = styled(Text)`\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    max-width: 250px;\n    margin-top: 10px;\n    color: ${(props) => props.theme.colors.text.contrast};\n`;\nstyled(Button)`\n    min-width: 112px;\n    margin-top: 32px;\n`;\nstyled(LoaderIcon)`\n    height: 16px;\n    width: 16px;\n`;\nconst ButtonStyled = styled.div`\n    margin-top: 24px;\n  background-color: ${(props) => props.theme.colors.text.primary};\n  height: 48px;\n  width: 262px;\n  justify-content: center;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\nconst ActionModal = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  const connectUI = useContext(OKXConnectUiContext);\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [sent, setSent] = createSignal(false);\n  const theme = useTheme();\n  const {\n    action\n  } = useContext(ActionsModalContext);\n  createEffect(() => {\n    const currentAction = action;\n    setSent(!!currentAction && \"sent\" in currentAction && currentAction.sent);\n  });\n  let universalLink = connectUI == null ? void 0 : connectUI.universalLink;\n  const onOpenWallet = () => {\n    tonsdk.logDebug(\"ActionModal ====> onOpenWallet \");\n    !firstClick();\n    setFirstClick(false);\n    redirectToWallet(universalLink, \"okx://web3?stack=true\", {\n      returnStrategy: \"none\",\n      forceRedirect: false\n    }, () => {\n    });\n  };\n  return createComponent(ActionModalStyled, mergeProps(dataAttrs, {\n    get children() {\n      return [createMemo(() => props.icon), createComponent(H1Styled, {\n        get translationKey() {\n          return props.headerTranslationKey;\n        },\n        get translationValues() {\n          return props.headerTranslationValues;\n        }\n      }), createComponent(TextStyled, {\n        get translationKey() {\n          return props.textTranslationKey;\n        },\n        get translationValues() {\n          return props.textTranslationValues;\n        }\n      }), createComponent(Show, {\n        get when() {\n          return connectUI == null ? void 0 : connectUI.showActionButton();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return props.showButton === \"close\";\n            },\n            get children() {\n              return createComponent(ButtonStyled, {\n                onClick: () => props.onClose(),\n                get children() {\n                  return createComponent(Text, {\n                    fontWeight: 700,\n                    fontSize: \"16px\",\n                    get color() {\n                      return theme.colors.background.primary;\n                    },\n                    get children() {\n                      return createComponent(Translation, {\n                        translationKey: \"common.close\",\n                        children: \"Close\"\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return props.showButton === \"open-wallet\";\n            },\n            get children() {\n              return createComponent(ButtonStyled, {\n                onClick: onOpenWallet,\n                get children() {\n                  return createComponent(Text, {\n                    fontWeight: 700,\n                    fontSize: \"16px\",\n                    get color() {\n                      return theme.colors.background.primary;\n                    },\n                    get children() {\n                      return createComponent(Translation, {\n                        translationKey: \"common.openWallet\",\n                        children: \"Open wallet\"\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })];\n        }\n      })];\n    }\n  }));\n};\nconst ConfirmTransactionModal = (props) => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const [t2] = useI18n();\n  const name = () => tonConnectUI.walletName ? tonConnectUI.walletName : t2(\"common.yourWallet\", {}, \"Your wallet\");\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.confirmTransaction.header\",\n    get headerTranslationValues() {\n      return {\n        name: name()\n      };\n    },\n    textTranslationKey: \"actionModal.confirmTransaction.text\",\n    get icon() {\n      return createComponent(OKXLoaderIconWithLogo, {});\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"open-wallet\" : void 0;\n    },\n    \"data-tc-confirm-modal\": \"true\"\n  });\n};\nconst TransactionCanceledModal = (props) => {\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.transactionCanceled.header\",\n    textTranslationKey: \"actionModal.transactionCanceled.text\",\n    get icon() {\n      return createComponent(ErrorIcon, {\n        size: \"m\"\n      });\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"close\" : void 0;\n    },\n    \"data-tc-transaction-canceled-modal\": \"true\"\n  });\n};\nconst TransactionSentModal = (props) => {\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.transactionSent.header\",\n    textTranslationKey: \"actionModal.transactionSent.text\",\n    get icon() {\n      return createComponent(SuccessIcon, {\n        size: \"m\"\n      });\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"close\" : void 0;\n    },\n    \"data-tc-transaction-sent-modal\": \"true\"\n  });\n};\nconst ActionsModalContext = createContext({\n  action: null\n});\nconst ActionsModal = (props) => {\n  createEffect(() => {\n    console.log(\"ActionsModal\", props.action);\n  });\n  return createComponent(ActionsModalContext.Provider, {\n    get value() {\n      return {\n        action: props.action\n      };\n    },\n    get children() {\n      return createComponent(Modal, {\n        get opened() {\n          var _a2;\n          return props.action !== null && ((_a2 = props.action) == null ? void 0 : _a2.openModal) === true;\n        },\n        onClose: () => props.setAction(null),\n        \"data-tc-actions-modal-container\": \"true\",\n        get children() {\n          return createComponent(Switch, {\n            get children() {\n              return [createComponent(Match, {\n                get when() {\n                  return props.action.name === \"transaction-sent\";\n                },\n                get children() {\n                  return createComponent(TransactionSentModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return props.action.name === \"transaction-canceled\";\n                },\n                get children() {\n                  return createComponent(TransactionCanceledModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return props.action.name === \"confirm-transaction\";\n                },\n                get children() {\n                  return createComponent(ConfirmTransactionModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst TONApp = (props) => {\n  const translations = createI18nContext(i18nDictionary, appState.language);\n  defineStylesRoot();\n  fixMobileSafariActiveTransition();\n  setAppState({\n    contextType: \"TONContext\"\n  });\n  return createComponent(I18nContext.Provider, {\n    value: translations,\n    get children() {\n      return createComponent(OKXConnectUiContext.Provider, {\n        get value() {\n          return props.connectUI;\n        },\n        get children() {\n          return createComponent(ConnectorContext.Provider, {\n            get value() {\n              return appState.tonConnector;\n            },\n            get children() {\n              return [createComponent(GlobalStyles, {}), createComponent(ThemeProvider, {\n                theme: themeState,\n                get children() {\n                  return [createComponent(Show, {\n                    get when() {\n                      return appState.buttonRootId;\n                    },\n                    get children() {\n                      return createComponent(Portal, {\n                        get mount() {\n                          return document.getElementById(appState.buttonRootId);\n                        },\n                        get children() {\n                          return createComponent(AccountButton, {});\n                        }\n                      });\n                    }\n                  }), createComponent(Dynamic, {\n                    component: globalStylesTag,\n                    get children() {\n                      return [createComponent(TonSingleWalletModal, {}), createComponent(ActionsModal, {\n                        get action() {\n                          return tonAction();\n                        },\n                        setAction: setTonAction\n                      })];\n                    }\n                  })];\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst [universalWalletsModalState, setUniversalWalletsModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\ncreateMemo(\n  () => universalWalletsModalState().status === \"opened\"\n);\nconst [universalSingleWalletModalState, setUniversalSingleWalletModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\nconst getUniversalSingleWalletModalIsOpened = createMemo(\n  () => universalSingleWalletModalState().status === \"opened\"\n);\nconst getUniversalSingleWalletModalWalletInfo = createMemo(() => {\n  const state = universalSingleWalletModalState();\n  if (state.status === \"opened\") {\n    return state.walletInfo;\n  }\n  return null;\n});\nlet lastSelectedWalletInfoStorage = typeof window !== \"undefined\" ? new LastSelectedWalletInfoStorage() : void 0;\nconst [lastUniversalSelectedWalletInfo, _setLastUniversalSelectedWalletInfo] = createSignal((lastSelectedWalletInfoStorage == null ? void 0 : lastSelectedWalletInfoStorage.getLastSelectedWalletInfo()) || null);\nconst setLastUniversalSelectedWalletInfo = (walletInfo) => {\n  if (!lastSelectedWalletInfoStorage) {\n    lastSelectedWalletInfoStorage = new LastSelectedWalletInfoStorage();\n  }\n  if (walletInfo) {\n    logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(walletInfo)}`);\n    lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(walletInfo);\n  } else {\n    logDebug(\"modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo\");\n    lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo();\n  }\n  _setLastUniversalSelectedWalletInfo(walletInfo);\n};\nconst [universalAction, setUniversalAction] = createSignal(null);\nconst UniversalSingleWalletModal = () => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const connector = useContext(UniversalConnectorContext);\n  const [universalLinkParams, setUniversalLinkParams] = createSignal(null);\n  const onClose = (closeReason) => {\n    tonConnectUI.closeModal(closeReason);\n  };\n  connector == null ? void 0 : connector.on(\"okx_engine_connect_params\", (info) => {\n    core.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(info)}`);\n    setUniversalLinkParams(info);\n  });\n  return createComponent(SingleWalletModal, {\n    get opened() {\n      return getUniversalSingleWalletModalIsOpened();\n    },\n    get walletInfo() {\n      return getUniversalSingleWalletModalWalletInfo();\n    },\n    loadingBeforeConnect: () => {\n      return false;\n    },\n    connect: () => {\n      return new Promise((resolve, reject) => {\n        var _a2, _b2;\n        if (appState.universalConnectRequestParameters) {\n          new OKXConnectUiError(\"connect params is nil\");\n        }\n        let opts = __spreadValues({}, JSON.parse(JSON.stringify(appState.universalConnectRequestParameters)));\n        opts.sessionConfig = {};\n        opts.sessionConfig.openUniversalUrl = defaultOpenUniversalLink((_a2 = appState.universalConnectRequestParameters) == null ? void 0 : _a2.namespaces, (_b2 = appState.universalConnectRequestParameters) == null ? void 0 : _b2.optionalNamespaces);\n        setUniversalLinkParams(null);\n        tonConnectUI.handleConnect((actionConfiguration) => {\n          opts.sessionConfig.tmaReturnUrl = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl;\n          opts.sessionConfig.redirect = actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy;\n          return connector.connect(opts);\n        }).then((session) => {\n          if (session) {\n            onClose(\"wallet-selected\");\n            resolve(session);\n          } else {\n            onClose(\"action-cancelled\");\n          }\n        }).catch((error) => {\n          onClose(\"action-cancelled\");\n          core.logDebug(\"UniversalSingleWalletModal connect  error\", JSON.stringify(error));\n          setUniversalLinkParams(null);\n          reject(error);\n        });\n      });\n    },\n    onClose,\n    universalLinkParams,\n    get isSingleWallet() {\n      var _a2, _b2;\n      return !showUniversalTgWalletByRequestNameSpaces((_a2 = appState.universalConnectRequestParameters) == null ? void 0 : _a2.namespaces, (_b2 = appState.universalConnectRequestParameters) == null ? void 0 : _b2.optionalNamespaces);\n    },\n    get lastSelectedWalletInfo() {\n      return lastUniversalSelectedWalletInfo();\n    },\n    setLastSelectedWalletInfo: setLastUniversalSelectedWalletInfo\n  });\n};\nconst UniversalApp = (props) => {\n  const translations = createI18nContext(i18nDictionary, appState.language);\n  defineStylesRoot();\n  fixMobileSafariActiveTransition();\n  setAppState({\n    contextType: \"UniversalContext\"\n  });\n  return createComponent(I18nContext.Provider, {\n    value: translations,\n    get children() {\n      return createComponent(OKXConnectUiContext.Provider, {\n        get value() {\n          return props.connectUI;\n        },\n        get children() {\n          return createComponent(UniversalConnectorContext.Provider, {\n            get value() {\n              return appState.universalConnector;\n            },\n            get children() {\n              return [createComponent(GlobalStyles, {}), createComponent(ThemeProvider, {\n                theme: themeState,\n                get children() {\n                  return createComponent(Dynamic, {\n                    component: globalStylesTag,\n                    get children() {\n                      return [createComponent(UniversalSingleWalletModal, {}), createComponent(ActionsModal, {\n                        get action() {\n                          return universalAction();\n                        },\n                        setAction: setUniversalAction\n                      })];\n                    }\n                  });\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst tonWidgetController = {\n  openSingleWalletModal: (walletInfo) => {\n    core.logDebug(`tonWidgetController : openSingleWalletModal : ${JSON.stringify(walletInfo)}`);\n    void setTimeout(() => setTonSingleWalletModalState({\n      status: \"opened\",\n      closeReason: null,\n      walletInfo\n    }));\n  },\n  closeSingleWalletModal: (reason) => void setTimeout(() => setTonSingleWalletModalState({\n    status: \"closed\",\n    closeReason: reason\n  })),\n  setAction: (action) => void setTimeout(() => setTonAction(action)),\n  clearAction: () => void setTimeout(() => {\n    console.log(\"clearAction\");\n    setTonAction(null);\n  }),\n  getSelectedWalletInfo: () => lastTonSelectedWalletInfo(),\n  removeSelectedWalletInfo: () => setLastTonSelectedWalletInfo(null),\n  renderApp: (root, connectUI) => {\n    return render(() => createComponent(TONApp, {\n      connectUI\n    }), document.getElementById(root));\n  },\n  renderUniversalApp: (root, connectUI) => {\n    return render(() => createComponent(UniversalApp, {\n      connectUI\n    }), document.getElementById(root));\n  }\n};\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nfunction isObject(o2) {\n  return Object.prototype.toString.call(o2) === \"[object Object]\";\n}\nfunction isPlainObject(o2) {\n  var ctor, prot;\n  if (isObject(o2) === false)\n    return false;\n  ctor = o2.constructor;\n  if (ctor === void 0)\n    return true;\n  prot = ctor.prototype;\n  if (isObject(prot) === false)\n    return false;\n  if (prot.hasOwnProperty(\"isPrototypeOf\") === false) {\n    return false;\n  }\n  return true;\n}\nfunction mergeOptions(options, defaultOptions) {\n  if (!options) {\n    return defaultOptions;\n  }\n  const overwriteMerge = (_, sourceArray, __) => sourceArray;\n  return deepmerge__default.default(defaultOptions, options, {\n    arrayMerge: overwriteMerge,\n    isMergeableObject: isPlainObject\n  });\n}\nclass TransactionModalManager {\n  constructor() {\n    __publicField(this, \"consumers\", []);\n    createEffect(() => {\n      const currentAction = tonAction();\n      this.consumers.forEach((consumer) => consumer(currentAction));\n    });\n  }\n  onStateChange(consumer) {\n    this.consumers.push(consumer);\n    return () => {\n      this.consumers = this.consumers.filter((c2) => c2 !== consumer);\n    };\n  }\n}\nvar OKX_UI_CONNECTION_AND_TRANSACTION_EVENT = /* @__PURE__ */ ((OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2) => {\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_STARTED\"] = \"okx-connect-ui-connection-started\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_COMPLETED\"] = \"okx-connect-ui-connection-completed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_ERROR\"] = \"okx-connect-ui-connection-error\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_STARTED\"] = \"okx-connect-ui-connection-restoring-started\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_COMPLETED\"] = \"okx-connect-ui-connection-restoring-completed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_ERROR\"] = \"okx-connect-ui-connection-restoring-error\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_DISCONNECTION\"] = \"okx-connect-ui-disconnection\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SENT_FOR_SIGNATURE\"] = \"okx-connect-ui-transaction-sent-for-signature\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SIGNED\"] = \"okx-connect-ui-transaction-signed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SIGNING_FAILED\"] = \"okx-connect-ui-transaction-signing-failed\";\n  return OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2;\n})(OKX_UI_CONNECTION_AND_TRANSACTION_EVENT || {});\nclass OKXTonConnectUITracker {\n  constructor(options) {\n    __publicField(this, \"eventPrefix\", \"okx-connect-ui-\");\n    __publicField(this, \"OKXConnectUiVersion\");\n    __publicField(this, \"OKXtonConnectSdkVersion\", null);\n    __publicField(this, \"eventDispatcher\");\n    var _a2;\n    this.eventDispatcher = (_a2 = options == null ? void 0 : options.eventDispatcher) != null ? _a2 : new tonsdk.BrowserEventDispatcher();\n    this.OKXConnectUiVersion = options.tonConnectUiVersion;\n    this.init().catch();\n  }\n  get version() {\n    return tonsdk.createVersionInfo({\n      okx_ton_connect_sdk_lib: this.OKXtonConnectSdkVersion,\n      okx_connect_ui_lib: this.OKXConnectUiVersion\n    });\n  }\n  init() {\n    return __async(this, null, function* () {\n      try {\n        yield this.setRequestVersionHandler();\n        this.OKXtonConnectSdkVersion = yield this.requestTonConnectSdkVersion();\n      } catch (e2) {\n        console.log(`okx-ton-connect-response-version  init error  ====> requestTonConnectSdkVersion`);\n      }\n    });\n  }\n  setRequestVersionHandler() {\n    return __async(this, null, function* () {\n      yield this.eventDispatcher.addEventListener(\"okx-connect-ui-request-version\", () => __async(this, null, function* () {\n        yield this.eventDispatcher.dispatchEvent(\n          \"okx-connect-ui-response-version\",\n          tonsdk.createResponseVersionEvent(this.OKXConnectUiVersion)\n        );\n      }));\n    });\n  }\n  requestTonConnectSdkVersion() {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => __async(this, null, function* () {\n        try {\n          yield this.eventDispatcher.addEventListener(\n            \"okx-ton-connect-response-version\",\n            (event) => {\n              resolve(event.detail.version);\n            },\n            { once: true }\n          );\n          yield this.eventDispatcher.dispatchEvent(\n            \"okx-ton-connect-request-version\",\n            tonsdk.createRequestVersionEvent()\n          );\n        } catch (e2) {\n          console.log(`okx-ton-connect-response-version    ====> ${e2.message}`);\n          reject(e2);\n        }\n      }));\n    });\n  }\n  dispatchUserActionEvent(eventDetails) {\n    var _a2;\n    try {\n      (_a2 = this.eventDispatcher) == null ? void 0 : _a2.dispatchEvent(`${this.eventPrefix}${eventDetails.type}`, eventDetails).catch();\n    } catch (e2) {\n    }\n  }\n  trackConnectionStarted(...args) {\n    try {\n      const event = tonsdk.createConnectionStartedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionCompleted(...args) {\n    try {\n      const event = tonsdk.createConnectionCompletedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionError(...args) {\n    try {\n      const event = tonsdk.createConnectionErrorEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringStarted(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringStartedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringCompleted(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringCompletedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringError(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringErrorEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackDisconnection(...args) {\n    try {\n      const event = tonsdk.createDisconnectionEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSentForSignature(...args) {\n    try {\n      const event = tonsdk.createTransactionSentForSignatureEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSigned(...args) {\n    try {\n      const event = tonsdk.createTransactionSignedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSigningFailed(...args) {\n    try {\n      const event = tonsdk.createTransactionSigningFailedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n}\nconst tonConnectUiVersion = \"1\";\nclass TonSingleWalletModalManager {\n  constructor(options) {\n    __publicField(this, \"consumers\", []);\n    __publicField(this, \"getWalltsInfo\");\n    __publicField(this, \"state\", tonSingleWalletModalState());\n    this.getWalltsInfo = options.getWalltsInfo;\n    createEffect(() => {\n      const state = tonSingleWalletModalState();\n      this.state = state;\n      this.consumers.forEach((consumer) => consumer(state));\n    });\n  }\n  open(wallet) {\n    return __async(this, null, function* () {\n      const fetchedWalletsList = this.getWalltsInfo();\n      const walletsList = fetchedWalletsList;\n      const externalWallets = walletsList;\n      const externalWallet = externalWallets.find((walletInfo) => eqWalletName(walletInfo, wallet));\n      if (externalWallet) {\n        return this.openSingleWalletModal(externalWallet);\n      }\n      const error = `Trying to open modal window with unknown wallet \"${wallet}\".`;\n      throw new OKXConnectUiError(error);\n    });\n  }\n  close(reason = \"action-cancelled\") {\n    tonWidgetController.closeSingleWalletModal(reason);\n  }\n  onStateChange(onChange) {\n    this.consumers.push(onChange);\n    return () => {\n      this.consumers = this.consumers.filter((consumer) => consumer !== onChange);\n    };\n  }\n  openSingleWalletModal(wallet) {\n    return __async(this, null, function* () {\n      if (isInTMA()) {\n        sendExpand();\n      }\n      tonWidgetController.openSingleWalletModal(wallet);\n      return new Promise((resolve) => {\n        const unsubscribe = this.onStateChange((state) => {\n          const { status } = state;\n          if (status === \"opened\") {\n            unsubscribe();\n            resolve();\n          }\n        });\n      });\n    });\n  }\n}\nconst validLocales = [\n  \"en_US\",\n  \"ru_RU\",\n  \"zh_CN\",\n  \"zh\",\n  \"ar_AE\",\n  \"cs_CZ\",\n  \"de_DE\",\n  \"es_ES\",\n  \"es_LAT\",\n  \"fr_FR\",\n  \"id_ID\",\n  \"it_IT\",\n  \"nl_NL\",\n  \"pl_PL\",\n  \"pt_BR\",\n  \"pt_PT\",\n  \"ro_RO\",\n  \"tr_TR\",\n  \"uk_UA\",\n  \"vi_VN\"\n];\nfunction isValidLocale(locale) {\n  return validLocales.includes(locale);\n}\nclass OKXTonConnectUI {\n  constructor(options) {\n    __publicField(this, \"walletInfoStorage\", new WalletInfoStorage(\"okx-wallet-connect-ui-ton_wallet-info\"));\n    __publicField(this, \"tracker\");\n    __publicField(this, \"walletInfo\", null);\n    __publicField(this, \"systemThemeChangeUnsubscribe\", null);\n    __publicField(this, \"actionsConfiguration\");\n    __publicField(this, \"walletsList\");\n    __publicField(this, \"connectRequestParametersCallback\");\n    __publicField(this, \"connector\");\n    __publicField(this, \"singleWalletModal\");\n    __publicField(this, \"transactionModal\");\n    __publicField(this, \"connectionRestored\", Promise.resolve(false));\n    __publicField(this, \"dispose\");\n    if (options && \"dappMetaData\" in options && options.dappMetaData) {\n      this.connector = new tonsdk.OKXTonConnect({ metaData: options.dappMetaData });\n    } else {\n      throw new OKXConnectUiError(\n        \"You have to specify a `dappMetaData`in the options.\"\n      );\n    }\n    if (options.language && !isValidLocale(options.language.toString())) {\n      options.language = \"en_US\";\n    }\n    this.tracker = new OKXTonConnectUITracker({\n      eventDispatcher: null,\n      tonConnectUiVersion\n    });\n    this.singleWalletModal = new TonSingleWalletModalManager({\n      getWalltsInfo: () => tonsdk.OKXTonConnect.getWallets()\n    });\n    this.transactionModal = new TransactionModalManager();\n    this.walletsList = this.getWallets();\n    preloadImages(uniq(this.walletsList.map((item) => item.imageUrl)));\n    const rootId = this.normalizeWidgetRoot(void 0);\n    this.subscribeToWalletChange();\n    if ((options == null ? void 0 : options.restoreConnection) !== false) {\n      this.connectionRestored = createMacrotaskAsync(() => __async(this, null, function* () {\n        this.tracker.trackConnectionRestoringStarted();\n        yield this.connector.restoreConnection();\n        if (!this.connector.connected) {\n          this.tracker.trackConnectionRestoringError(\"Connection was not restored\");\n          this.walletInfoStorage.removeWalletInfo();\n        } else {\n          this.tracker.trackConnectionRestoringCompleted(this.wallet);\n        }\n        return this.connector.connected;\n      }));\n    }\n    this.uiOptions = mergeOptions(options, { uiPreferences: { theme: \"SYSTEM\" } });\n    setAppState({\n      tonConnector: this.connector,\n      preferredWalletAppName: void 0\n    });\n    this.dispose = tonWidgetController.renderApp(rootId, this);\n  }\n  static getWallets() {\n    return tonsdk.OKXTonConnect.getWallets();\n  }\n  get connected() {\n    return this.connector.connected;\n  }\n  get account() {\n    return this.connector.account;\n  }\n  get wallet() {\n    if (!this.connector.wallet) {\n      return null;\n    }\n    return __spreadValues(__spreadValues({}, this.connector.wallet), this.walletInfo);\n  }\n  get universalLink() {\n    if (this.wallet && \"universalLink\" in this.wallet) {\n      return this.wallet.universalLink;\n    }\n    return void 0;\n  }\n  get deepLink() {\n    if (this.wallet && \"deepLink\" in this.wallet) {\n      return this.wallet.deepLink;\n    }\n    return void 0;\n  }\n  get walletName() {\n    if (this.wallet && \"name\" in this.wallet) {\n      return this.wallet.name;\n    }\n    return void 0;\n  }\n  set uiOptions(options) {\n    var _a2, _b2, _c2;\n    this.checkButtonRootExist(options.buttonRootId);\n    this.actionsConfiguration = options.actionsConfiguration;\n    if ((_a2 = options.uiPreferences) == null ? void 0 : _a2.theme) {\n      if (((_b2 = options.uiPreferences) == null ? void 0 : _b2.theme) !== \"SYSTEM\") {\n        (_c2 = this.systemThemeChangeUnsubscribe) == null ? void 0 : _c2.call(this);\n        setTheme(options.uiPreferences.theme);\n      } else {\n        setTheme(getSystemTheme());\n        if (!this.systemThemeChangeUnsubscribe) {\n          this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setTheme);\n        }\n      }\n    }\n    setAppState((state) => {\n      var _a3, _b3;\n      const merged = mergeOptions(\n        __spreadValues(__spreadValues(__spreadValues({}, options.language && { language: options.language }), !!((_a3 = options.actionsConfiguration) == null ? void 0 : _a3.returnStrategy) && {\n          returnStrategy: options.actionsConfiguration.returnStrategy\n        }), ((_b3 = options.actionsConfiguration) == null ? void 0 : _b3.tmaReturnUrl) && {\n          tmaReturnUrl: options.actionsConfiguration.tmaReturnUrl\n        }),\n        unwrap(state)\n      );\n      if (options.buttonRootId !== void 0) {\n        merged.buttonRootId = options.buttonRootId;\n      }\n      return merged;\n    });\n  }\n  destory() {\n    if (this.dispose) {\n      this.dispose();\n    }\n  }\n  setConnectRequestParameters(connectRequestParameters) {\n    var _a2;\n    setAppState({ connectRequestParameters });\n    if ((connectRequestParameters == null ? void 0 : connectRequestParameters.state) === \"ready\" || !connectRequestParameters) {\n      (_a2 = this.connectRequestParametersCallback) == null ? void 0 : _a2.call(this, {\n        tonProof: connectRequestParameters.value.tonProof\n      });\n    }\n  }\n  getWallets() {\n    return [core.creatOKXWalletInfo(), core.creatOKXMiniAppWalletInfo()];\n  }\n  onStatusChange(callback, errorsHandler) {\n    return this.connector.onStatusChange((wallet) => __async(this, null, function* () {\n      if (wallet) {\n        yield this.getSelectedWalletInfo(wallet);\n        let info = this.getWalletInfo(wallet);\n        core.logDebug(\"OKXTonConnectUI onStatusChange info :\", JSON.stringify(info));\n        core.logDebug(\"OKXTonConnectUI onStatusChange wallet :\", JSON.stringify(wallet));\n        callback(__spreadValues(__spreadValues({}, wallet), info || this.getWallets()[0]));\n      } else {\n        callback(wallet);\n      }\n    }), errorsHandler);\n  }\n  openModal() {\n    return __async(this, null, function* () {\n      return new Promise((_, reject) => __async(this, null, function* () {\n        yield Promise.all(\n          [\n            this.waitForWalletConnection({}),\n            this.openSingleWalletModal(\"okxAppWallet\")\n          ]\n        ).catch((error) => {\n          reject(error);\n        });\n      }));\n    });\n  }\n  closeModal(reason) {\n    this.closeSingleWalletModal(reason);\n  }\n  waitForWalletConnection(options) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        const onStatusChangeHandler = (wallet) => __async(this, null, function* () {\n          if (!wallet) {\n            this.tracker.trackConnectionError(\"Connection was cancelled\");\n            unsubscribe();\n            reject(new OKXConnectUiError(\"Wallet was not connected\"));\n          } else {\n            this.tracker.trackConnectionCompleted(wallet);\n            unsubscribe();\n            resolve(wallet);\n          }\n        });\n        const onErrorsHandler = (reason) => {\n          this.tracker.trackConnectionError(reason.message);\n          unsubscribe();\n          reject(reason);\n        };\n        const unsubscribe = this.onStatusChange(\n          (wallet) => onStatusChangeHandler(wallet),\n          (reason) => onErrorsHandler(reason)\n        );\n      });\n    });\n  }\n  onModalStateChange(onChange) {\n    return this.onSingleWalletModalStateChange(onChange);\n  }\n  get modalState() {\n    return this.singleWalletModalState;\n  }\n  openSingleWalletModal(wallet) {\n    return __async(this, null, function* () {\n      this.tracker.trackConnectionStarted();\n      try {\n        return this.singleWalletModal.open(wallet);\n      } catch (error) {\n        this.tracker.trackConnectionError(error.message);\n        throw error;\n      }\n    });\n  }\n  closeSingleWalletModal(closeReason) {\n    if (closeReason === \"action-cancelled\") {\n      this.tracker.trackConnectionError(\"Connection was cancelled\");\n    }\n    this.singleWalletModal.close(closeReason);\n  }\n  onSingleWalletModalStateChange(onChange) {\n    return this.singleWalletModal.onStateChange(onChange);\n  }\n  get singleWalletModalState() {\n    return this.singleWalletModal.state;\n  }\n  disconnect() {\n    this.tracker.trackDisconnection(this.wallet, \"dapp\");\n    tonWidgetController.clearAction();\n    tonWidgetController.removeSelectedWalletInfo();\n    this.walletInfoStorage.removeWalletInfo();\n    return this.connector.disconnect();\n  }\n  sendTransaction(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2;\n      return this.sendTransactionInner(\n        tx,\n        {\n          returnStrategy: actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy,\n          modals: (_a2 = actionConfiguration == null ? void 0 : actionConfiguration.modals) != null ? _a2 : [\"before\"]\n        }\n      );\n    });\n  }\n  sendTransactionInner(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2;\n      this.tracker.trackTransactionSentForSignature(this.wallet, tx);\n      if (!this.connected) {\n        this.tracker.trackTransactionSigningFailed(this.wallet, tx, \"Wallet was not connected\");\n        throw new OKXConnectUiError(\"Connect wallet to send a transaction.\");\n      }\n      if (isInTMA()) {\n        sendExpand();\n      }\n      const options = {\n        returnStrategy: isDevice(\"mobile\") ? actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy : \"none\",\n        modals: actionConfiguration == null ? void 0 : actionConfiguration.modals,\n        tmaReturnUrl: (_a2 = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl) != null ? _a2 : \"back\"\n      };\n      const { modals, returnStrategy, tmaReturnUrl } = this.getModalsAndNotificationsConfiguration(options);\n      tonWidgetController.setAction({\n        name: \"confirm-transaction\",\n        openModal: modals.includes(\"before\"),\n        sent: false\n      });\n      const onRequestSent = () => {\n        if (abortController.signal.aborted) {\n          return;\n        }\n        if (!this.connector.openUniversalLink && openWalletForUIRequest(this.walletInfo)) {\n          openTonWallet(this.walletInfo, tmaReturnUrl);\n        }\n        tonWidgetController.setAction({\n          name: \"confirm-transaction\",\n          openModal: modals.includes(\"before\"),\n          sent: true\n        });\n      };\n      const abortController = new AbortController();\n      const unsubscribe = this.onTransactionModalStateChange((action) => {\n        if (action == null ? void 0 : action.openModal) {\n          return;\n        }\n        unsubscribe();\n      });\n      const transaction = __spreadProps(__spreadValues({}, tx), { redirect: returnStrategy });\n      try {\n        const result = yield this.waitForSendTransaction(\n          {\n            transaction,\n            signal: abortController.signal\n          },\n          onRequestSent\n        );\n        this.tracker.trackTransactionSigned(this.wallet, tx, result);\n        tonWidgetController.setAction({\n          name: \"transaction-sent\",\n          openModal: modals.includes(\"success\")\n        });\n        return result;\n      } catch (e2) {\n        tonWidgetController.setAction({\n          name: \"transaction-canceled\",\n          openModal: modals.includes(\"error\")\n        });\n        if (e2 instanceof core.OKXConnectError) {\n          throw e2;\n        } else {\n          throw new OKXConnectUiError(\"Unhandled error:\" + e2);\n        }\n      } finally {\n        unsubscribe();\n      }\n    });\n  }\n  waitForSendTransaction(options, onRequestSent) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        const { transaction, signal } = options;\n        if (signal.aborted) {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            \"Transaction was cancelled\"\n          );\n          return reject(new OKXConnectUiError(\"Transaction was not sent\"));\n        }\n        const onTransactionHandler = (transaction2) => __async(this, null, function* () {\n          resolve(transaction2);\n        });\n        const onErrorsHandler = (reason) => {\n          reject(reason);\n        };\n        const onCanceledHandler = () => {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            \"Transaction was cancelled\"\n          );\n          reject(new OKXConnectUiError(\"Transaction was not sent\"));\n        };\n        signal.addEventListener(\"abort\", onCanceledHandler, { once: true });\n        this.connector.sendTransaction(transaction, { onRequestSent }).then((result) => {\n          signal.removeEventListener(\"abort\", onCanceledHandler);\n          return onTransactionHandler(result);\n        }).catch((reason) => {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            reason.message\n          );\n          signal.removeEventListener(\"abort\", onCanceledHandler);\n          return onErrorsHandler(reason);\n        });\n      });\n    });\n  }\n  onTransactionModalStateChange(onChange) {\n    return this.transactionModal.onStateChange(onChange);\n  }\n  subscribeToWalletChange() {\n    this.connector.onStatusChange((wallet) => __async(this, null, function* () {\n      var _a2;\n      if (wallet) {\n        yield this.updateWalletInfo(wallet);\n        this.setPreferredWalletAppName(((_a2 = this.walletInfo) == null ? void 0 : _a2.appName) || wallet.device.appName);\n      } else {\n        this.walletInfoStorage.removeWalletInfo();\n      }\n    }));\n  }\n  setPreferredWalletAppName(value) {\n    setAppState({ preferredWalletAppName: value });\n  }\n  getSelectedWalletInfo(wallet) {\n    return __async(this, null, function* () {\n      let lastSelectedWalletInfo = tonWidgetController.getSelectedWalletInfo();\n      if (!lastSelectedWalletInfo) {\n        return null;\n      }\n      let fullLastSelectedWalletInfo;\n      if (!(\"name\" in lastSelectedWalletInfo)) {\n        const walletsList = this.walletsList;\n        const walletInfo = walletsList.find((item) => eqWalletName(item, wallet.device.appName));\n        if (!walletInfo) {\n          throw new OKXConnectUiError(\n            `Cannot find WalletInfo for the '${wallet.device.appName}' wallet`\n          );\n        }\n        fullLastSelectedWalletInfo = __spreadValues(__spreadValues({}, walletInfo), lastSelectedWalletInfo);\n      } else {\n        fullLastSelectedWalletInfo = lastSelectedWalletInfo;\n      }\n      return fullLastSelectedWalletInfo;\n    });\n  }\n  updateWalletInfo(wallet) {\n    return __async(this, null, function* () {\n      this.walletInfo = this.getWalletInfo(wallet);\n      core.logDebug(\"updateWalletInfo ---this.walletInfo -\", JSON.stringify(this.walletInfo));\n    });\n  }\n  getWalletInfo(wallet) {\n    core.logDebug(\"getWalletInfo ----\", JSON.stringify(wallet));\n    let info = this.walletsList.find(\n      (walletInfo) => eqWalletName(walletInfo, wallet.device.appName)\n    ) || null;\n    core.logDebug(\"getWalletInfo ---info -\", JSON.stringify(info));\n    return info;\n  }\n  normalizeWidgetRoot(rootId) {\n    if (!rootId || !document.getElementById(rootId)) {\n      rootId = \"tc-widget-root\";\n      const rootElement = document.createElement(\"div\");\n      rootElement.id = rootId;\n      document.body.appendChild(rootElement);\n    }\n    return rootId;\n  }\n  checkButtonRootExist(buttonRootId) {\n    if (buttonRootId == null) {\n      return;\n    }\n    if (!document.getElementById(buttonRootId)) {\n      throw new OKXConnectUiError(`${buttonRootId} element not found in the document.`);\n    }\n  }\n  getModalsAndNotificationsConfiguration(options) {\n    var _a2, _b2, _c2;\n    const allActions = [\n      \"before\",\n      \"success\",\n      \"error\"\n    ];\n    let modals = [\"before\"];\n    if ((_a2 = this.actionsConfiguration) == null ? void 0 : _a2.modals) {\n      if (this.actionsConfiguration.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = this.actionsConfiguration.modals;\n      }\n    }\n    if (options == null ? void 0 : options.modals) {\n      if (options.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = options.modals;\n      }\n    }\n    const returnStrategy = (options == null ? void 0 : options.returnStrategy) || ((_b2 = this.actionsConfiguration) == null ? void 0 : _b2.returnStrategy) || \"back\";\n    const tmaReturnUrl = (options == null ? void 0 : options.tmaReturnUrl) || ((_c2 = this.actionsConfiguration) == null ? void 0 : _c2.tmaReturnUrl) || \"back\";\n    return {\n      modals,\n      tmaReturnUrl,\n      returnStrategy\n    };\n  }\n  showActionButton() {\n    return isAppWallet(this.walletInfo) && isMobile();\n  }\n}\nconst universalWidgetController = {\n  openSingleWalletModal: (walletInfo) => {\n    core.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(walletInfo)}`);\n    void setTimeout(() => setUniversalSingleWalletModalState({\n      status: \"opened\",\n      closeReason: null,\n      walletInfo\n    }));\n  },\n  closeSingleWalletModal: (reason) => void setTimeout(() => setUniversalSingleWalletModalState({\n    status: \"closed\",\n    closeReason: reason\n  })),\n  setAction: (action) => void setTimeout(() => setUniversalAction(action)),\n  clearAction: () => void setTimeout(() => {\n    console.log(\"clearAction\");\n    setUniversalAction(null);\n  }),\n  getSelectedWalletInfo: () => lastUniversalSelectedWalletInfo(),\n  removeSelectedWalletInfo: () => setLastUniversalSelectedWalletInfo(null),\n  renderApp: (root, connectUI) => {\n    return render(() => createComponent(TONApp, {\n      connectUI\n    }), document.getElementById(root));\n  },\n  renderUniversalApp: (root, connectUI) => {\n    return render(() => createComponent(UniversalApp, {\n      connectUI\n    }), document.getElementById(root));\n  }\n};\nclass Signal {\n  constructor() {\n    __publicField(this, \"listeners\", []);\n  }\n  listen(callback) {\n    this.listeners.push(callback);\n  }\n  trigger(data) {\n    this.listeners.forEach((listener) => listener(data));\n  }\n}\nclass UniversalSingleWalletModalManager {\n  constructor(options) {\n    __publicField(this, \"consumers\", []);\n    __publicField(this, \"getWalltsInfo\");\n    __publicField(this, \"connectSignal\", new Signal());\n    __publicField(this, \"state\", universalSingleWalletModalState());\n    this.getWalltsInfo = options.getWalltsInfo;\n    createEffect(() => {\n      const state = universalSingleWalletModalState();\n      this.state = state;\n      this.consumers.forEach((consumer) => consumer(state));\n    });\n  }\n  open(wallet, opts) {\n    return __async(this, null, function* () {\n      core.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(opts)}`);\n      const externalWallets = this.getWalltsInfo();\n      const externalWallet = externalWallets.find((walletInfo) => eqWalletName(walletInfo, wallet));\n      if (externalWallet) {\n        return this.openSingleWalletModal(externalWallet, opts);\n      }\n      const error = `Trying to open modal window with unknown wallet \"${wallet}\".`;\n      throw new OKXConnectUiError(error);\n    });\n  }\n  close(reason = \"action-cancelled\") {\n    universalWidgetController.closeSingleWalletModal(reason);\n  }\n  onStateChange(onChange) {\n    this.consumers.push(onChange);\n    return () => {\n      this.consumers = this.consumers.filter((consumer) => consumer !== onChange);\n    };\n  }\n  handleConnect(connectMethod, actionConfiguration) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        try {\n          connectMethod(actionConfiguration).then((result) => {\n            resolve(result);\n            core.logDebug(\"UniversalSingleWalletModalManager  result >>>\", JSON.stringify(result));\n            this.connectSignal.trigger(result);\n          }).catch((error) => {\n            reject(error);\n            core.logDebug(\"UniversalSingleWalletModalManager  error >>>\", JSON.stringify(error));\n            this.connectSignal.trigger(error);\n          });\n        } catch (error) {\n          reject(error);\n          core.logDebug(\"UniversalSingleWalletModalManager  catch error >>>\", JSON.stringify(error));\n          this.connectSignal.trigger(error);\n        }\n      });\n    });\n  }\n  openSingleWalletModal(wallet, opts) {\n    return __async(this, null, function* () {\n      core.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(opts)}`);\n      if (isInTMA()) {\n        sendExpand();\n      }\n      setAppState({ universalConnectRequestParameters: opts });\n      universalWidgetController.openSingleWalletModal(wallet);\n      return new Promise((resolve, reject) => {\n        this.connectSignal.listen((resultOrError) => {\n          if (resultOrError instanceof Error) {\n            reject(resultOrError);\n          } else {\n            resolve(resultOrError);\n          }\n        });\n      });\n    });\n  }\n}\nclass OKXUniversalConnectUI extends universalProvider.OKXUniversalProvider {\n  constructor(options) {\n    super({ dappMetaData: options.dappMetaData });\n    __publicField(this, \"singleWalletModal\");\n    __publicField(this, \"actionsConfiguration\");\n    __publicField(this, \"systemThemeChangeUnsubscribe\", null);\n    __publicField(this, \"dispose\");\n    this.singleWalletModal = new UniversalSingleWalletModalManager({\n      getWalltsInfo: () => OKXUniversalConnectUI.getWallets()\n    });\n    const rootId = this.normalizeWidgetRoot(void 0);\n    this.uiOptions = mergeOptions(options, { uiPreferences: { theme: \"SYSTEM\" }, dappMetaData: options.dappMetaData });\n    setAppState({\n      universalConnector: this,\n      preferredWalletAppName: void 0\n    });\n    this.dispose = universalWidgetController.renderUniversalApp(rootId, this);\n  }\n  static getWallets() {\n    return [core.creatOKXWalletInfo(), core.creatOKXMiniAppWalletInfo()];\n  }\n  getConnectWallet() {\n    var _a2, _b2;\n    core.logDebug(`this.session?.wallet?.appName ${(_b2 = (_a2 = this.session) == null ? void 0 : _a2.wallet) == null ? void 0 : _b2.appName}`);\n    return this.getWallets().find((wallet) => {\n      var _a3, _b3;\n      return eqWalletName(wallet, (_b3 = (_a3 = this.session) == null ? void 0 : _a3.wallet) == null ? void 0 : _b3.appName);\n    });\n  }\n  get universalLink() {\n    var _a2, _b2;\n    core.logDebug(`this.getConnectWallet()?.universalLink ${(_a2 = this.getConnectWallet()) == null ? void 0 : _a2.universalLink}`);\n    return (_b2 = this.getConnectWallet()) == null ? void 0 : _b2.universalLink;\n  }\n  get deepLink() {\n    var _a2;\n    return (_a2 = this.getConnectWallet()) == null ? void 0 : _a2.deepLink;\n  }\n  get walletName() {\n    var _a2, _b2;\n    core.logDebug(`this.getConnectWallet()?.walletName ${(_a2 = this.getConnectWallet()) == null ? void 0 : _a2.name}`);\n    return (_b2 = this.getConnectWallet()) == null ? void 0 : _b2.name;\n  }\n  set uiOptions(options) {\n    var _a2, _b2, _c2;\n    this.actionsConfiguration = options.actionsConfiguration;\n    if ((_a2 = options.uiPreferences) == null ? void 0 : _a2.theme) {\n      if (((_b2 = options.uiPreferences) == null ? void 0 : _b2.theme) !== \"SYSTEM\") {\n        (_c2 = this.systemThemeChangeUnsubscribe) == null ? void 0 : _c2.call(this);\n        setTheme(options.uiPreferences.theme);\n      } else {\n        setTheme(getSystemTheme());\n        if (!this.systemThemeChangeUnsubscribe) {\n          this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setTheme);\n        }\n      }\n    }\n    if (options.language && !isValidLocale(options.language.toString())) {\n      options.language = \"en_US\";\n    }\n    setAppState((state) => {\n      var _a3;\n      const merged = mergeOptions(\n        __spreadValues(__spreadValues({}, options.language && { language: options.language }), !!((_a3 = options.actionsConfiguration) == null ? void 0 : _a3.returnStrategy) && {\n          returnStrategy: options.actionsConfiguration.returnStrategy\n        }),\n        unwrap(state)\n      );\n      return merged;\n    });\n  }\n  destory() {\n    if (this.dispose) {\n      this.dispose();\n    }\n  }\n  request(args, chain, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2, _b2;\n      if (!this.session) {\n        throw new OKXConnectUiError(\"Connect wallet to send a transaction.\");\n      }\n      const options = {\n        returnStrategy: isDevice(\"mobile\") ? actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy : \"none\",\n        modals: actionConfiguration == null ? void 0 : actionConfiguration.modals,\n        tmaReturnUrl: (_a2 = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl) != null ? _a2 : \"back\"\n      };\n      const { modals, returnStrategy, tmaReturnUrl } = this.getModalsAndNotificationsConfiguration(options);\n      const reqArgs = __spreadProps(__spreadValues({}, args), { redirect: returnStrategy });\n      const showRequestModal = __superGet(OKXUniversalConnectUI.prototype, this, \"showRequestModal\").call(this, reqArgs, chain);\n      universalWidgetController.setAction({\n        name: \"confirm-transaction\",\n        openModal: modals.includes(\"before\") && showRequestModal,\n        sent: false\n      });\n      if (!((_b2 = this.session.sessionConfig) == null ? void 0 : _b2.openUniversalUrl) && showRequestModal && openWalletForUIRequest(this.getConnectWallet())) {\n        openUniversalWallet(\n          this.getConnectWallet(),\n          tmaReturnUrl,\n          this.session.namespaces\n        );\n      }\n      try {\n        const result = yield __superGet(OKXUniversalConnectUI.prototype, this, \"request\").call(this, reqArgs, chain);\n        universalWidgetController.setAction({\n          name: \"transaction-sent\",\n          openModal: modals.includes(\"success\") && showRequestModal\n        });\n        return result;\n      } catch (e2) {\n        core.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof e2} ==>  ${JSON.stringify(e2)}`);\n        universalWidgetController.setAction({\n          name: \"transaction-canceled\",\n          openModal: modals.includes(\"error\") && showRequestModal\n        });\n        if (e2 instanceof core.OKXConnectError) {\n          core.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(e2)}`);\n          throw e2;\n        } else {\n          throw new OKXConnectUiError(\"Unhandled error:\" + e2);\n        }\n      }\n    });\n  }\n  getModalsAndNotificationsConfiguration(options) {\n    var _a2, _b2, _c2;\n    const allActions = [\n      \"before\",\n      \"success\",\n      \"error\"\n    ];\n    let modals = [\"before\"];\n    if ((_a2 = this.actionsConfiguration) == null ? void 0 : _a2.modals) {\n      if (this.actionsConfiguration.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = this.actionsConfiguration.modals;\n      }\n    }\n    if (options == null ? void 0 : options.modals) {\n      if (options.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = options.modals;\n      }\n    }\n    const returnStrategy = (options == null ? void 0 : options.returnStrategy) || ((_b2 = this.actionsConfiguration) == null ? void 0 : _b2.returnStrategy) || \"back\";\n    const tmaReturnUrl = (options == null ? void 0 : options.tmaReturnUrl) || ((_c2 = this.actionsConfiguration) == null ? void 0 : _c2.tmaReturnUrl) || \"back\";\n    return {\n      modals,\n      tmaReturnUrl,\n      returnStrategy\n    };\n  }\n  static init(opts) {\n    return __async(this, null, function* () {\n      if (opts && \"dappMetaData\" in opts && opts.dappMetaData) {\n        const provider = new OKXUniversalConnectUI(opts);\n        yield provider.initialize();\n        return provider;\n      } else {\n        throw new OKXConnectUiError(\n          \"You have to specify a `dappMetaData`in the options.\"\n        );\n      }\n    });\n  }\n  normalizeWidgetRoot(rootId) {\n    if (!rootId || !document.getElementById(rootId)) {\n      rootId = \"universal-widget-root\";\n      const rootElement = document.createElement(\"div\");\n      rootElement.id = rootId;\n      document.body.appendChild(rootElement);\n    }\n    return rootId;\n  }\n  getWallets() {\n    return OKXUniversalConnectUI.getWallets();\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.singleWalletModal.handleConnect(connectMethod, this.actionsConfiguration);\n    });\n  }\n  openModal(opts) {\n    return __async(this, null, function* () {\n      try {\n        if (this.session) {\n          throw new core.OKXConnectError(core.OKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR);\n        }\n        return this.singleWalletModal.open(\"okxAppWallet\", opts);\n      } catch (error) {\n        throw error;\n      }\n    });\n  }\n  closeModal(reason) {\n    this.singleWalletModal.close(reason);\n  }\n  showActionButton() {\n    return isAppWallet(this.getConnectWallet()) && isMobile();\n  }\n}\nexports.OKXConnectUiError = OKXConnectUiError;\nexports.OKXTonConnectUI = OKXTonConnectUI;\nexports.OKXUniversalConnectUI = OKXUniversalConnectUI;\nexports.OKX_UI_CONNECTION_AND_TRANSACTION_EVENT = OKX_UI_CONNECTION_AND_TRANSACTION_EVENT;\nexports.THEME = THEME;\nfor (const k in tonsdk) {\n  if (k !== \"default\" && !exports.hasOwnProperty(k))\n    Object.defineProperty(exports, k, {\n      enumerable: true,\n      get: () => tonsdk[k]\n    });\n}\n//# sourceMappingURL=index.cjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkokxconnectdemo\"] = self[\"webpackChunkokxconnectdemo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6991); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Object","defineProperty","exports","value","CONNECT_METHOD_BATCH_FETCHMSG","CONNECT_METHOD_FETCHMSG","CONNECT_METHOD_RECEIVE","CONNECT_METHOD_UNSUB","CONNECT_METHOD_SUB","CONNECT_METHOD_PUBLISH","CONNECT_METHOD_LOGIN","CONNECT_METHOD_PUSH","require","__createBinding","this","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","OKXWalletConnector","constants_1","storageconstants_1","storage_1","utils_1","utils_2","eventemitter3_1","log","protocol_1","WS","resolveWebSocketImplementation","constructor","url","events","EventEmitter","state","ConnectorState","InitState","selectedUrlIndex","retryCount","timeOutLimit","checkWSUrl","Error","heartbeatTimer","connectionTimeoutTimer","connectURLStorage","Storage","OKXCONNECTOR_CACHE_KEY","connecting","Connecting","onPayload","data","logDebug","rsp","Date","now","toString","emit","onClose","event","_a","socket","code","onError","id","payload","msg","onopen","onmessage","onclose","Connected","emitError","errorEvent","heartbeat","clearTimeout","OnError","readyState","WebSocket","OPEN","send","setTimeout","bind","tryRegistOpen","logError","registOpen","inRetry","toUTCString","URLSearchParams","startTimeOutTimer","hasBuiltInWebSocket","onerror","close","on","resetTimeOutTimer","OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE","FINISHED","checkMaxRetry","OKXCONNECTOR_WS_URL_LIST","length","connectionTryNext","nextUrl","getNextSelectUrl","CANCELED","pendingSocket","TIME_OUT","cacheSuccessUrlSelect","saveContent","getSuccessUrlSelect","selectIndex","getItem","content","index","Number","onVisibleChanged","document","visibilityState","arguments","once","err","OKXConnectError","OKX_CONNECT_ERROR_CODES","CONNECTION_ERROR","connect","removeEventListener","addEventListener","disconnect","Disconnected","currentStatus","addListener","decrypt","success","failed","listenPayloadHandler","removeListener","parsedEvent","safeJsonParse","params","rawMsg","message","failHandler","addPackageParse","callback","payloadHandler","param","listener","off","doLogin","safeJsonStringify","getMsgPayloadFromHistory","tmpMsg","jsonstr","onOpen","openHandler","ConnectionManager","connect_1","commands_1","jwtconstants_1","crypto_1","jwt_1","safejson_1","log_1","url_1","appname","connectStorage","OKXCONNECTOR_CACHE_KEY_DAPP","crypto","SessionCrypto","inTMA","isInTMA","keyPairInfo","getCachedCryptoKeyPair","jwtKeyPair","getCachedJWTKeyPair","saveJWTKeyPair","connector","OKXCONNECTOR_WS_URL_1","packageId","connectedWalletPK","currentTopic","refreshPackageId","saveCryptoKeyPair","keyPair","cacheInfo","encryptStoreMsg","OKXCONNECTOR_CRYPTO_KEY","kp","getAndDecrypt","clearCache","strkeyPair","publicKey","toHexString","secretKey","OKXCONNECTOR_JWT_KEY","strKeyPairInfo","hexToByteArray","generateKeyPair","isWalletPKReady","makeJWT","topic","signJWT","OKXCONNECTOR_JWT_SIDE","OKXCONNECTOR_JWT_TTL","parsePackage","input_1","input","ignoreACK","_b","_c","_d","_e","sendACK","OKXCONNECTOR_TOKEN_CACHE","inputObj","messageId","sendReceive","restoreConnect","getConnectInfo","generateTopic","info","channelId","clientId","stringifyKeypair","fromRestore","timeLog","getTime","lastConnectId","cachedSenderPublicKey","OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE","jwtToken","timeOne","error","name","timeF","sendFetchAndConsumeMessages","timeTh","catch","jsonrpc","CONNECT_JSONRPC_VER","method","token","replace","parsedMessage","fail","msgObj","sendRaw","ttl","OKXCONNECTOR_MESSAGE_TTL","encrypt","msgId_1","success_1","msgId","reason","sendConnectSessionInfo","fetchedMessages","hasMore","receivedMsgs","i","timeFive","cleanCache","saveSessionContent","key","OKXCONNECTOR_SESSION_PREFIX_KEY","jsonData","getSessionContent","jsonStr","object","getCurrentConnectionReady","OKXCONNECTOR_WS_URL_IDX_KEY","OKXCONNECTOR_WS_URL_2","EVENT_EMITTER_MAX_LISTENERS","Engine","sessionUtils_1","connectionManager","pendingRequests","Map","disconnectListener","jsonResponse","handleResponse","addDisconnectListener","disconnecter","push","clear","getRequestId","requestId","bindRequestForPromise","set","request","requestAnswer","option","JSON","stringify","assign","onAck","sendSession","sessionInfo","response","delete","forEach","restoreconnect","onConnectResult","conect","sessionConfig","connectInfo","openUniversalLink","openUniversalUrl","connectRequest","protocolVer","tonConnectSdkVersion","dAppInfo","dappInfo","requests","connectRequestStr","utf8Array","TextEncoder","encode","base64Encoded","btoa","String","fromCharCode","deeplinkUrl","standardDeeplink","isIOS","isIos","openOKXDeeplinkWithFallback","session","onConnect","getUniversalLink","connectResponse","namespaces","buildNameSpacesByConnectResponse","universalConnect","connectInfoAndUrl","tonRequest","universalRequest","item","startsWith","universalConnectRequest","encodeConnectParams","redirect","tonConnectRequest","isFromTonSDK","defaultConnectRequest","UNKNOWN_ERROR","wallet","tmaReturnUrl","WalletConnectionManager","connectionManager_1","walletConnectionManager_1","engine_1","__importDefault","MULTICODEC_ED25519_LENGTH","MULTICODEC_ED25519_HEADER","MULTICODEC_ED25519_BASE","MULTICODEC_ED25519_ENCODING","DID_METHOD","DID_PREFIX","DID_DELIMITER","KEY_PAIR_SEED_LENGTH","DATA_ENCODING","JSON_ENCODING","JWT_ENCODING","JWT_DELIMITER","JWT_IRIDIUM_TYP","JWT_IRIDIUM_ALG","JWTHeaderType","decodeJSON","encodeJSON","encodeIss","decodeIss","encodeSig","decodeSig","encodeData","decodeData","encodeJWT","decodeJWT","verifyJWT","ed25519","tweetnacl_1","stringUtils_1","default","sign","str","okxtoString","okxfromString","val","publicKeyStr","join","issuer","prefix","multicodec","split","bytes","encoded","header","signature","jwt","slice","sub_1","aud_1","ttl_1","keyPair_1","sub","aud","iat","Math","floor","alg","typ","iss","exp","act","detached","verify","OKXCONNECTOR_JWT_WALLET_SIDE","buildRequestAccountNameSpacesByConnectResponse","requestAccountNameSpaces","universalResponse","responses","find","tonAddress","tonProof","address","network","ton_addr","ton_proof","accounts","namespace","addresses","methods","extra","chains","addressItem","addressArr","chain","utils_3","crypto_js_1","subKey","beforeKey","localStorage","resolveLocalStorage","checkAndUpgradeCache","storeKey","cipherIV","cacheStr","cacheKey","cache","cacheObj","fromCacheKey","toCacheKey","setItem","removeItem","timestamp","saveItem","localKey","totalCacheStr","getCachedPBKDF2InfoKey","pwLen","saltLen","pw","iv","salt","OKXCONNECTOR_STORAGER_CRYPTO_SALT","randomBytes","OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD","OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV","ivBuffer","PBKDF2","iterations","storeInfo","AES","enc","Utf8","OKXCONNECTOR_STORAGE_CIPHER_METHOD","OKXCONNECTOR_TON_KEY","WalletConnectionManagerEvent","WalletConnectionManagerTopicInfoCacheKey","RECEIVE_REQUEST","walletConnectionConstants_1","communicateEvents","sessionCryptoInfoMap","inLogin","isLogined","offset","topicId","isTopicPublicKeyExist","timestampStr","parseInternalMsg","internalMsg","internalObj","origin","originContent","base64decode","topic_1","_f","_g","_h","_j","_k","_l","isInternalData","inner_message","inner_topic","trimStart","messageObj","decryptWallet","dappPublicKey","recovrySessionInfoFromCache","cacheMap","topicItem","cryptoItem","cryptoKeyPair","syncCacheSessionInfo","cacheSessionInfo","sync","duplicatedTopics","includes","appendTopic","sessionPublicKey","subscribeTopics","Array","from","confirmAppendingTopics","size","keys","getSessionPublicKey","getCurrentCachedTopicIdList","msg_1","needPublicKey","connectedDappPK","cryptoObject","encryptWallet","sendUnsubscribe","sendBatchFetchAndConsumeMessages","topicIdList","topics","withInternalData","finishCount","idx","nonceLength","sessionKeyPair","createKeypairFromString","createKeypair","box","createNonce","receiverPublicKey","encodedMessage","nonce","encrypted","concatInfo","concatUint8Arrays","hexResult","encodedResult","base64encode","senderPublicKey","base64Content","messageByteArray","toUint8Array","internalMessage","splitToUint8Arrays","decrypted","open","TextDecoder","decode","__exportStar","p","IEngine","ISignClient","ISignClientEvents","IEngineEvents","super","client","creatOKXMiniAppWalletInfo","creatOKXWalletInfo","getBigIntRpcId","formatJsonRpcRequest","isJsonRpcError","isJsonRpcResponse","parseConnectionError","isHttpUrl","formatJsonRpcError","json_rpc_1","wallet_info_1","isJsonRpcPayload","isJsonRpcRequest","isJsonRpcResult","payloadId","formatJsonRpcResult","isReservedErrorCode","getError","getErrorByCode","formatErrorMessage","isWsUrl","okx_connect_error_1","IncrementalRandomGenerator","bits","Uint8Array","Uint16Array","Uint32Array","initialValue","getNextValue","uint8Generator","uint16Generator","date","BigInt","RESERVED_ERROR_CODES","type","STANDARD_ERROR_MAP","DEFAULT_ERROR","match","values","INTERNAL_ERROR","SERVER_ERROR","getUrlProtocol","matches","RegExp","matchRegexProtocol","regex","protocol","test","CONNECT_ITEM_ERROR_CODES","TONCHAIN","connect_wallet_1","connect_event_1","standardUniversalLink","tgwalletName","okxDeeplink","SERVER_ERROR_CODE_RANGE","INVALID_PARAMS","METHOD_NOT_FOUND","INVALID_REQUEST","PARSE_ERROR","getDefaultMessageByCode","setPrototypeOf","toJSON","BAD_REQUEST_ERROR","ALREADY_CONNECTED_ERROR","NOT_CONNECTED_ERROR","UNKNOWN_APP_ERROR","USER_REJECTS_ERROR","METHOD_NOT_SUPPORTED","NameSpaceKeyAptos","NameSpaceKeyBtc","NameSpaceKeySui","NameSpaceKeyTON","NameSpaceKeySOL","NameSpaceKeyEip155","misc_1","callForSuccess","fn","options","attempts","delayMs","lastError","delay","timeout","signal","aborted","timeoutId","isBrowser","isOS","isMobileUserAgent","openDeeplinkWithFallback","openLinkBlank","openLink","isValidObject","encodeTWAConnectURLParams","openOKXTMAWalletlinkWithFallback","getTelegramWalletTWAUrl","getAppWalletDeepLink","encodeTelegramUrlParameters","isTelegramUrl","openOKXDeeplink","logWarning","call_for_success_1","web_api_1","debug","args","console","window","okxLogDebug","warn","JSONStringify","_","JSONParse","json","numbersBiggerThanMaxInt","serializedData","parse","isCustomFormatBigInt","substring","alloc","allocUnsafe","basics_1","string","encoding","base","BASES","decoder","array","encoder","createCodec","buf","ascii","charCodeAt","utf8","hex","bases","base16","latin1","binary","isTmaPlatform","isInTelegramBrowser","sendExpand","sendOpenTelegramLink","versionCompare","initParams","locationHash","location","hash","urlParseHashParams","tmaPlatform","tgWebAppPlatform","getWindow","Telegram","WebApp","platform","webAppVersion","tgWebAppVersion","version","platforms","TelegramWebviewProxy","isTelegramWebview","TelegramWebview","postEvent","link","fallback","URL","hostname","pathFull","pathname","search","isIframe","versionAtLeast","path_full","parent","eventType","eventData","external","notify","trustedTarget","postMessage","indexOf","_path","urlSafeDecode","qIndex","pathParam","substr","query_params","urlParseQueryString","urlencoded","decodeURIComponent","queryString","paramName","paramValue","queryStringParams","v1","v2","a","p1","p2","v1List","v2List","max","parseInt","ver","removeUrlLastSlash","addPathToUrl","tma_api_1","path","deeplinkEncodeUrl","encodeURIComponent","fullUrl","isTelegram","newWindow","href","deepLinkOpened","timeoutDuration","downloadUrl","fallbackToDownloadPage","parameters","encodedParameters","connectParam","redirectStr","browserDebug","okxconnect","extraparams","base64ContentStr","twaDeepLink","openTelegramLink","RANDOM_LENGTH","hasLocalStorage","hashKey","generateRandomBytes32","tweetnacl_util_1","to_string_1","sha256_1","BASE16","hexString","byteArray","byte","buffer1","buffer2","mergedArray","subArray1","subArray2","encodeUint8Array","urlSafe","encodeBase64","decodeToUint8Array","decodeBase64","uint8Array","decodeUTF8","decodedUint8Array","encodeUTF8","toObject","scheme","global","self","randomBytes32","obj","getPrototypeOf","userAgent","navigator","maxTouchPoints","isIOSDevice","MSStream","isIPadOS","getUserAgent","ua_parser_js_1","target","doFallback","fallbackTimeout","check","vendor","opera","results","getResult","osName","os","toLowerCase","deviceModel","device","model","browserName","browser","OKXBtcProvider","_1","caip","provider","getUniversalProvider","getAddressForChainId","chainId","ns","checkChainId","filter","account","getAccount","signMessage","signStr","ret","errorData","sendBitcoin","toAddress","satoshis","to","feeRate","txhash","checkParameters","signPsbt","psbtHex","signPsbts","psbtResults","psbtHexs","signAndPushPsbt","sendInscription","inscriptionId","extension","coinId","protocolId","atomicSuffix","ordinalsSuffix","endsWith","removeSuffix","scenario","txType","batchBean","coinAmount","nftId","suffix","unexistKeys","namespaceKey","OKXUniversalProvider","eip155_1","sui_1","client_1","core_1","namespaces_1","solana_1","btc_1","aptos_1","ton_1","init","opts","initialize","rpcProviders","providerOpts","connected","requestParam","buildRequestParamFromRequest","getProvider","validateChain","keyArr","enable","connectOpts","requestAccounts","called","onRequestSent","disconnectAndEmit","cleanup","engine","aptosChainNameToGeneralId","replaceAptos","aptosNameSpace","realNS","replaceAptosInner","aptos","optionAptosNameSpace","optionalNamespaces","realOptionNS","map","defaultChain","disconnectInner","setNamespaces","setDefaultChain","rpcUrl","checkStorage","sessionInfoStr","getFromStore","createProviders","registerEventListeners","dappMetaData","setGlobal","SignClient","providersToCreate","Set","parseNamespaceKey","namespacesValue","currentNameSpace","Eip155Provider","opts1","solanaProvider","sonicProvider","svmProvider","optsTon","tonProvider","optsSui","suiProvider","SuiProvider","optsBtc","btcProvider","fbProvider","aptosProvider","PROVIDER_EVENTS","DEFAULT_CHAIN_CHANGED","caip2ChainId","onChainChanged","UPDATE_NAMESPACES","nameSpaces","nameSpacekey","persist","icon","isChainNamespaceInSession","chainsArr","defaultNamespace","getDefaultChain","namespaceStr","requestAccountsWithNamespace","requestDefaultChainWithNamespace","caip2Chain","sessionProperties","showRequestModal","OKXUniversalProvider_1","OKXBtcProvider_1","metaData","requestAccountItem","requiredNamespaces","nameSpaceToConnectWalletNameSpace","metadata","encodeParams","fillParamsToSession","openOKXWallet","getGlobal","getAccountsChains","isCaipNamespace","mergeRpcMap","targetRpcMap","sourceRpcMap","mergeNamespaces","source","rpcMap","some","GENERIC_SUBPROVIDER_NAME","RPC_URL","STORAGE","CONTEXT","WC_VERSION","PROTOCOL","RELAY_URL","LOGGER","JsonRpcConnection_1","JsonRpcProvider_1","AptosProvider","httpProviders","createHttpProviders","updateNamespace","getAccounts","getHttpProvider","setHttpProvider","http","parsedChainId","getChainId","parsedRpc","getRpcUrl","httpProvider","createHttpProvider","rpc","JsonRpcProvider","JsonRpcConnection","BtcProvider","isRecord","isArray","updateRequestParams","isDic","switchChainId","decimalNumber","isNaN","selectedChainId","chainNum","paramsChainId","paramsChainString","adaptArray","paramsArr","firstParam","addressObj","isEqual","chainAddress","messages","typedDataJson","firstObj","secondObj","hexChainId","getHexChainIdFromRequest","isChainApproved","handleSwitchChain","addEthereumChain","resultData","nameSpace","rpcUrls","eip155","cross_fetch_1","core_2","DEFAULT_HTTP_HEADERS","Accept","DEFAULT_HTTP_METHOD","DEFAULT_FETCH_OPTS","headers","disableProviderPing","isAvailable","registering","register","body","res","parseError","types_1","IJSONRpcProvider","connection","hasRegisteredEventListeners","setConnection","context","requestStrict","_error","SolanaProvider","getPubkey","getWalletAddress","components","__rest","s","t","getOwnPropertySymbols","propertyIsEnumerable","TONProvider","validUntil","newParams","fromAddress","boc","IJSONRpcConnection","opt","globals","projectId","parseChainId","reference","convertChainIdToNumber","mergeArrays","CAIP_DELIMITER","b","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_withCtx","_component_el_header","_cache","_createTextVNode","_component_el_main","_component_el_card","class","_createElementVNode","_component_el_row","_component_el_col","span","_toDisplayString","$options","_ctx","_component_el_checkbox","modelValue","withUI","$event","onChange","handleWithUI","style","_component_el_select","modals","placeholder","handleModalsSelect","multiple","_component_el_option","label","returnStrategy","handleReturnStrategySelect","_Fragment","_renderList","returnStrategies","strategy","_createBlock","_component_el_input","deeplink","handleReturnStrategyDeeplink","disabled","_createCommentVNode","language","handleLanguageSelect","locales","locale","theme","handleThemeSelect","THEME","LIGHT","DARK","tonProofValue","gutter","align","availableChains","checked","areChainsInit","isOptionalChecked","handleOptionChange","_component_el_button","onClick","connectBtnClicked","connectStatusStr","disconnectAction","walletAddress","disconnectStatusStr","_Teleport","showModal","closeModal","_withModifiers","_component_qrcode_vue","qrValue","level","_component_el_tabs","activeTab","onTabClick","clickActiveTab","_component_el_tab_pane","eth_requestAccounts","eth_chainId","wallet_switchEthereumChain","wallet_addEthereumChain","personal_sign","eth_signTypedData_v4","eth_sendTransaction_transfer","eth_sendTransaction_approve","eth_sendTransaction_mint","wallet_watchAsset","wallet_testRpc","eth_sendTransaction_swap","ton_getAccount","ton_sendTransaction","sol_signMessage","sol_signTransaction","sol_signVersionedTransaction","sol_signAllTransactions","sol_signAllVersionedTransactions","sol_signAndSendTransaction","sol_signAndSendVersionedTransaction","sui_getAccount","sui_signMessage","sui_signPersonalMessage","sui_signTransaction2","sui_signAndExecuteTransaction","sui_requestRpc","sui_signTransaction_pre_execution","sui_signAndExecuteTransaction_pre_execution","sui_signTransaction","sui_signAndExecuteTransaction_stake","_component_BTCPanel","onGenerateTransactionParams","btc_generateTransactionParams","_component_FractalPanel","fractal_generateTransactionParams","aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction","move_signTransaction","move_signAndSubmitTransaction","xs","sm","testTransaction","rows","testboc","sendTransaction","testTransactionStr","btc_signMessage","$setup","sendAmount","clearable","btc_send","sendSatoshisAmount","btc_sendBitcoin","btc_signPsbt_up","btc_signAndPushPsbt_up","receiver","btc_sendInscription","props","setup","ref","$emit","alert","autoFinalized","__exports__","fractal_signMessage","fractal_send","fractal_sendBitcoin","fractal_signPsbt_up","fractal_signAndPushPsbt_up","fractal_sendInscription","VConsole","allChains","optionChains","selectedModals","selectedReturnStrategy","selectedDeepLink","selectedLanguage","selectedTheme","QrcodeVue","BTCPanel","FractalPanel","testTopic","testPublicKey","testProofPayload","pendingDeepLink","logList","connectReady","localPubKey","localSecKey","selectedChain","ProofPayloadVerify","showVerifyRow","has","isChecked","reload","add","computed","selectedChains","initChains","newChains","updatedChains","tab","tabName","testTonSdk","blockExplorerUrls","chainName","nativeCurrency","symbol","decimals","dataETH","dataPolygon","gas","types","EIP712Domain","Person","Mail","primaryType","domain","verifyingContract","contents","maxPriorityFeePerGas","maxFeePerGas","gasPrice","gasLimit","image","adapter","OKXTONProvider","sendData","SuiAdapter","suiResult","currentSuiMethod","signTransaction","currentSuiTransaction","signAndExecuteTransaction","signPersonalMessage","btcAdapter","btcResult","currentBtcMethod","currentBtcTransaction","hexToBase64","bs64Str","fractalResult","currentFractalMethod","currentFractalTransaction","hexStr","buffer","blob","Blob","reader","FileReader","onload","base64Data","readAsDataURL","hasEip155","hasSolana","hasSui","hasBtc","hasAptos","nameSpacesChains","optSpaceChains","solanaChains","hasTon","suiChains","btcChains","entries","connectMethod","connectData","requireData","solana","tonParams","ton","sui","btc","optData","OKXUniversalConnectUI","openModal","isPC","userAgentInfo","Agents","flag","isSafariOrChrome","pubkey","OKXSolanaProvider","result1","nacl","PublicKey","toBytes","application","OKXAptosProvider","config","AptosConfig","Network","MAINNET","Aptos","transaction","build","simple","sender","function","typeArguments","functionArguments","signAndSubmitTransaction","Connection","getSolConnect","blockhash","getLatestBlockhash","versionedTransactionMessage","TransactionMessage","payerKey","recentBlockhash","instructions","SystemProgram","transfer","fromPubkey","toPubkey","lamports","compileToV0Message","VersionedTransaction","signAndSendTransaction","signAllTransactions","Transaction","feePayer","amount","recipientAddress","tx","SuiTransaction","coin","splitCoins","transferObjects","transactionBlock","showEffects","deeplinkActionTest","performAsyncTask","txBytes","txSerialize","generateTsBytesAndSerizlize","resultTuple","senderAccounts","getFullnodeUrl","suiClient","SuiClient","setSender","Buffer","uiOptions","actionsConfiguration","uiPreferences","created","mounted","initCall","scriptTag","createElement","src","getElementsByTagName","appendChild","title","uri","render","app","createApp","App","use","ElementPlus","mount","_i","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","__getProtoOf","__hasOwnProp","__propIsEnum","__reflectGet","Reflect","__defNormalProp","__spreadValues","a2","prop","__spreadProps","__publicField","__superGet","cls","__async","__this","__arguments","e2","throw","x","Symbol","toStringTag","core","tonsdk","UAParser","cn","deepmerge","universalProvider","_interopDefaultLegacy","UAParser__default","cn__default","deepmerge__default","THEME2","OKXConnectUiError","sharedConfig","registry","effects","getContextId","count","getNextContextId","num","len","equalFn","$PROXY","SUPPORTS_PROXY","Proxy","$TRACK","signalOptions","equals","runEffects","runQueue","STALE","PENDING","UNOWNED","owned","cleanups","owner","Owner","Transition$1","Listener","Updates","Effects","ExecCount","createRoot","detachedOwner","unowned","current","root","updateFn","untrack","cleanNode","runUpdates","createSignal","s2","observers","observerSlots","comparator","setter","value2","writeSignal","readSignal","createComputed","c2","createComputation","updateComputation","createRenderEffect","createEffect","runUserEffects","user","createMemo","batch","onMount","onCleanup","getListener","getOwner","runWithOwner","o2","prev","prevListener","handleError","createContext","defaultValue","Provider","createProvider","useContext","children","children2","memo","resolveChildren","toArray","sources","updates","lookUpstream","sSlot","sourceSlots","node","isComp","i2","TransitionRunning","running","disposed","tState","pure","markDownstream","time","runComputation","nextValue","updatedAt","runTop","suspense","inFallback","ancestors","wait","completeUpdates","queue","userLength","ignore","pop","obs","n2","tOwned","castError","cause","createComponent","Comp","trueFn","propTraps","property","deleteProperty","ownKeys","resolveSource","resolveSources","mergeProps","proxy","sourcesMap","defined","sourceKeys","getOwnPropertyNames","i3","sources2","definedKeys","splitProps","blocked","flat","otherObject","objects","propName","isDefaultDesc","objectIndex","narrowedError","Show","keyed","condition","when","child","Switch","conditions","evalConditions","conds","cond","Match","booleans","Properties","ChildProperties","Aliases","className","htmlFor","PropAliases","formnovalidate","$","BUTTON","INPUT","ismap","IMG","nomodule","SCRIPT","playsinline","VIDEO","readonly","TEXTAREA","getPropAlias","tagName","DelegatedEvents","SVGElements","SVGNamespace","xlink","xml","reconcileArrays","parentNode","bLength","aEnd","bEnd","aStart","bStart","after","nextSibling","insertBefore","remove","t2","sequence","replaceChild","$$EVENTS","element","disposer","dispose","insert","firstChild","textContent","template$1","html","isImportNode","isSVG","innerHTML","importNode","cloneNode","delegateEvents","eventNames","document2","l2","eventHandler","setAttribute","removeAttribute","setAttributeNS","removeAttributeNS","setBoolAttribute","handler","delegate","handlerFn","classList","classKeys","prevKeys","toggleClassKey","classValue","nodeStyle","cssText","removeProperty","setProperty","spread","skipChildren","prevProps","insertExpression","arg","accessor","marker","initial","skipRef","assignProp","toPropertyName","w","toUpperCase","classNames","trim","nameLen","toggle","isCE","isProp","isChildProp","propAlias","forceProp","h2","nodeName","oriTarget","oriCurrentTarget","currentTarget","retarget","handleNode","cancelBubble","host","_$host","contains","walkUpTree","composedPath","unwrapArray","multi","nodeType","createTextNode","cleanChildren","currentArray","normalizeIncomingArray","appendNodes","normalized","unwrap2","dynamic","replacement","inserted","el","isParent","SVG_NAMESPACE","createElementNS","Portal","useShadow","hydrating","HTMLHeadElement","clean","setClean","container","renderRoot","attachShadow","mode","removeChild","Dynamic","others","cached","component","isSvg","querySelector","_goober","head","l","n","r","e3","t3","c","u2","d","r2","t4","exec","shift","unshift","f","g","reduce","e4","u","raw","h","ThemeContext","ThemeProvider","useTheme","makeStyled","tag","Styled","withTheme","clone","pClass","append","className2","Boolean","local","newProps","htmlProps","createTag","as","styled","createGlobalStyles","globalStylesTag","disableScrollClass","usingMouseClass","GlobalStyles","Styles","hexToRgb","bigint","rgba","color","opacity","toPx","_InMemoryStorage","getInstance","instance","storage","_a2","InMemoryStorage","uniq","window2","getWindow$1","maxWidth","mobile","tablet","isDevice","width","innerWidth","isMobile2","media","mediaTouch","mediaNotTouch","isMobile","setIsMobile","updateIsMobile","eqWalletName","wallet1","appName","inTg","showTonTgWallet","showUniversalTgWalletByRequestNameSpaces","optionalNameSpace","EqnameSpace","showUniversalTgWalletBySessionNameSpaces","sessionNameSpace","defaultOpenUniversalLink","defaultOpenTonUniversalLink","isAppWallet","walletInfo","openUniversalWallet","twaReturnUrl","openWallet","openTonWallet","universalLink","deepLink","openWalletForUIRequest","getSystemTheme","matchMedia","subscribeToThemeChange","disableScroll","documentElement","scrollHeight","clientHeight","top","scrollTop","enableScroll","scrollTo","parseFloat","getComputedStyle","fixMobileSafariActiveTransition","hasAttribute","defineStylesRoot","customElements","define","HTMLElement","createMacrotask","requestAnimationFrame","createMacrotaskAsync","preloadImages","images","img","Image","tryGetLocalStorage","isLocalStorageAvailable","isNodeJs","process","versions","_b2","_c2","toDeeplink","WalletInfoStorage","storageKey","setWalletInfo","getWalletInfo","walletInfoString","removeWalletInfo","LastSelectedWalletInfoStorage","setLastSelectedWalletInfo","getLastSelectedWalletInfo","removeLastSelectedWalletInfo","tonWalletsModalState","setTonWalletsModalState","status","closeReason","tonSingleWalletModalState","setTonSingleWalletModalState","getTonSingleWalletModalIsOpened","getTonSingleWalletModalWalletInfo","lastSelectedWalletInfoStorage$1","lastTonSelectedWalletInfo","_setLastTonSelectedWalletInfo","setLastTonSelectedWalletInfo","tonAction","setTonAction","ImagePlaceholder","div","colors","background","secondary","imgRef","setImage","alt","complete","r$","_ref$","borders$2","none","scaleValues","ButtonStyled$1","button","leftIcon","rightIcon","appearance","tint","accent","text","primary","borderRadius","scale","useDataAttributes","dataAttrs","Button","onMouseEnter","onMouseLeave","nextFrame","Transition","first","s1","set1","set2","resolved","onBeforeEnter","onEnter","onAfterEnter","onBeforeExit","onExit","onAfterExit","classnames","enterActiveClass","enterClass","enterToClass","exitActiveClass","exitClass","exitToClass","enterTransition","el2","appear","endTransition","enterActiveClasses","enterToClasses","exitTransition","enterClasses","exitClasses","exitActiveClasses","exitToClasses","clickOutside$1","escPressed","onKeyPress","activeElement","blur","androidBackHandler$1","isEnabled","userOSIsAndroid","history","pushState","ROUTE_STATE","popstateHandler","preventDefault","ROUTE_STATE_KEY","back","_tmpl$$g","rotationDegrees","left","right","bottom","ArrowIcon","fill","direction","Svg","props2","svgDirection","xmlns","height","viewBox","_el$","_tmpl$$f","CloseIcon","_el$2","_tmpl$$e","TonIcon","_tmpl$$d","_tmpl$2$3","_tmpl$3$2","SuccessIcon","size2","_el$3","_el$4","_p$","_v$","_v$2","_v$3","constant","white","_el$5","_el$6","_el$7","_v$4","_v$5","_v$6","_el$8","_el$9","_el$10","_v$7","_v$8","_v$9","_tmpl$$c","_tmpl$2$2","_tmpl$3$1","ErrorIcon","_tmpl$$b","_tmpl$2$1","_tmpl$3","LoaderIcon","tertiary","rotateAnimation","svgClass","_tmpl$$a","QuestionIcon","_tmpl$$9","RetryIcon","_tmpl$$8","QRIcon","IconButtonStyled","IconButton","borders$1","ModalBackgroundStyled","ModalWrapperClass","ModalBodyStyled","CloseButtonStyled","AnimationTimelineNoop","_AnimationNoop","_instance","cancel","finish","pause","play","reverse","_type","_listener","_options","dispatchEvent","_event","_callback","updatePlaybackRate","_playbackRate","commitStyles","AnimationNoop","animate","keyframes","_tmpl$$7","clickOutside","keyPressed","androidBackHandler","Modal","opened","duration","firstElementChild","transform","backgroundAnimation","contentAnimation","all","finished","wrapperBorderRadius","sliderBorderRadius","segment","isActive","backgroundBorders","imageBorders","qrNormalSize","imgSizeDefault","picSizeDefault","qrPaddingTop","CopyIconButton","QrCodeBackground","qr","QrCodeWrapper$1","qrFill","ImageBackground","ImageStyled$2","qrcode$1","module2","qrcode2","qrcode3","typeNumber","errorCorrectionLevel","PAD0","PAD1","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","maskPattern","moduleCount","modules","row","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","getBestMaskPattern","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","pos","getPatternPosition","j","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","mask","createBytes","rsBlocks","offset2","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","dataCount","ecCount","totalCount","getBuffer","rsPoly","getErrorCorrectPolynomial","rawPoly","qrPolynomial","getLength","modPoly","modIndex","getAt","totalCodeCount","typeNumber2","errorCorrectionLevel2","dataList","QRRSBlock","getRSBlocks","qrBitBuffer","put","getMode","getLengthInBits","write","totalDataCount","putBit","addData","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","createTableTag","cellSize","margin","qrHtml","createSvgTag","mc","mr","rect","qrSvg","scalable","escapeXml","createDataURL","min2","max2","y","createImgTag","escaped","charAt","_createHalfASCII","r1","blocks","blocksLastLineNoMargin","createASCII","black","line","renderTo2dContext","fillStyle","fillRect","stringToBytesFuncs","stringToBytes","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","read","unicodeMap2","b0","b1","b2","b3","unknownChar","QRMode","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrcode4","sameCount","darkCount","ratio","abs","EXP_TABLE","LOG_TABLE","shift2","_num","_num2","num2","glog","RS_BLOCK_TABLE","qrRSBlock","_this2","getRsBlockTable","rsBlock","list","_buffer","_length","bufIndex","bit","_mode","_data","data2","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","base64EncodeOutputStream","_buflen","_base64","writeEncoded","flush","padlen","_str","_pos","gifImage","_width","_height","pixel","out","writeString","writeShort","lzwMinCodeSize","raster","getLZWRaster","writeBytes","bitOutputStream","_out","_bitLength","_bitBuffer","clearCode","endCode","bitLength","table","lzwTable","byteOut","bitOut","dataIndex","toByteArray","_map","_size","getPixel","gif","setPixel","base64","toUTF8Array","charcode","factory","qrcode","_tmpl$$6","QRCode","qrCodeCanvasRef","qrCodeWrapperRef","imageRef","picSize","setPicSize","sourceUrl","qrSize","clientWidth","round","imgSize","ceil","imgOffset","_ref$2","imageUrl","_ref$3","easing","$RAW","$NODE","$HAS","$SELF","wrap$1","proxyTraps$1","isWrappable","proto","unwrap","unwrapped","isFrozen","getNodes","nodes","getNode","internal","proxyDescriptor$1","trackSelf","tracked","deleting","mergeStoreNode","updateArray","updatePath","traversed","part","partType","concat","by","createStore","store","unwrappedStore","wrappedStore","setStore","deepReadObject","template","reg","createI18nContext","lang","setLocale","dict","setDict","translate","actions","lang2","I18nContext","useI18n","TextStyled$2","fontWeight","fontSize","lineHeight","Text","inputs","textRef","cursor","translationKey","translationValues","ImageContainer","ImageStyled$1","WalletImage","borders","badgeBorders","colorPrimary","H1Styled$2","h1","H1","H2Styled$1","H2","H3Styled","h3","H3","containerBorders","walletBorders","maxHeight","isShown","windowHeight","setWindowHeight","innerHeight","AStyled","Link","attributes","blank","rel","_tmpl$$5","CopyIcon","_tmpl$$4","DisconnectIcon","copyToClipboard","clipboard","writeText","fallbackCopyTextToClipboard","textArea","position","focus","select","execCommand","hoverBorders","dropdownBorders","AccountButtonDropdownStyled","UlStyled","ul","MenuButtonStyled","OKXConnectUiContext","_tmpl$$3","MenuItemText","AccountButtonDropdown","tonConnectUi","isCopiedShown","setIsCopiedShown","onCopy","userFriendlyAddress","toUserFriendlyAddress","onDisconnect","AccountButtonStyled","connectButton","foreground","DropdownButtonStyled","LoaderButtonStyled","LoaderIconStyled","DropdownContainerStyled","DropdownStyled","min","createCoords","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","rectToClientRect","computeCoordsFromPlacement","_ref","rtl","floating","sideAxis","alignmentAxis","alignLength","side","isVertical","commonX","commonY","commonAlign","coords","computePosition$1","middleware","platform2","validMiddleware","isRTL","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","hasWindow","getNodeName","isNode","_node$ownerDocument","ownerDocument","defaultView","getDocumentElement","Node","isElement","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle$1","isTableElement","isTopLayer","selector","isContainingBlock","elementOrCss","webkit","isWebKit","css","perspective","containerType","backdropFilter","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","scrollX","scrollY","assignedSlot","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","getCssDimensions","hasOffset","offsetWidth","offsetHeight","shouldFallback","unwrapElement","contextElement","getScale","domElement","getBoundingClientRect","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","offsetParent","clientRect","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","scroll","offsets","isOffsetParentAnElement","offsetRect","getClientRects","getWindowScrollBarX","leftScroll","getDocumentRect","scrollWidth","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","getClippingRect","boundary","rootBoundary","elementClippingAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","htmlX","htmlY","htmlRect","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","getOffsetParent","svgOffsetParent","getOffsetParentFn","getDimensionsFn","floatingDimensions","observeMove","onMove","io","_io","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","rootMargin","isFirstUpdate","handleObserve","intersectionRatio","IntersectionObserver","observe","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","referenceEl","passive","cleanupIo","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","computePosition","mergedOptions","platformWithCache","F","whileElementsMounted","ConnectorContext","UniversalConnectorContext","_tmpl$$2","AccountButton","tonConnectUI","isOpened","setIsOpened","setAccount","restoringProcess","setRestoringProcess","dropDownRef","setFloating","anchor","setAnchor","normalizedAddress","acc","connectionRestored","unsubscribe","onStatusChange","clickToButton","clickToDropdown","_$owner","hidden","appState","setAppState","buttonRootId","StyledModal","H1Styled$1","MobileConnectionModalStyled$1","BodyStyled$1","StyledIconButton","H2Styled","QrCodeWrapper","LoaderWrapper","addReturnStrategy","newUrl","addQueryParameter","lastParam","lastIndexOf","openLinkOnPhone","redirectToWallet","setOpenMethod","linkWitStrategy","useDeepLink","forceRedirect","parsed","searchParams","_tmpl$$1","_tmpl$2","OKXLoaderIconWithLogo","LoaderContainerStyled$1","LoaderStyled","OKIconStyle","OKXIconWithLogo","OKXLoaderIcon","RotatingSVG","svg","MobileConnectionQR","disableCopy","H1StyledMaxWidth","H1StyledRetry","RetryButtonStyle","LoaderContainerStyled","ErrorIconStyled","ButtonsContainerStyled","ButtonsQRContainerStyled","TextStyled$1","contrast","ContainedButton","ContainedPrimaryButton","border","ContainedPrimaryButtonText","FooterStyled","ImageStyled","FooterButton","FooterButtonCenter","ConnectAppTgModalPage","onConnectApp","onConnectMini","LoadingModalPage","loadingTextTranslationKey","loadingText","Translation","_tmpl$","OKXLogo","disable","_el$11","ModalFooter","aboutUrl","ModalRetryButton","onRetry","ConnectionDeclinedModalPage","ContinueInWalletModalPage","onOpenQR","MobileConnectionModal","firstClick","setFirstClick","showQR","setShowQR","connectClicked","setConnectClicked","showAppAndTgState","isSingleWallet","connectionErrored","setConnectionErrored","appDeepLink","setAppDeepLink","miniUniversalLink","setMiniUniversalLink","qrLink","setQrLink","okxConnectUI","lastSelectedWalletInfo","openMethod","onCloseQR","universalLinkParams","qrLink2","appConnectEncodeParams","appDeepLink2","encodeTGParams","tgUrl","onBack","onBackClick","backDisabled","MobileConnectionModalStyled","BodyStyled","DesktopConnectionModal","walletType","setWalletType","SingleWalletModal","loadingBeforeConnect","TonSingleWalletModal","additionalRequestLoading","connectRequestParameters","setUniversalLinkParams","customEvent","detail","additionalRequest","common$i","retry","button$i","connectWallet","dropdown","copy","copied","notifications$i","confirm","transactionSent","transactionCanceled","walletModal$i","mobileConnectionModal","OKXConnect","scanQR","continueIn","connectionDeclined","PoweredBy","appAndTelegram","connectApp","connectMini","actionModal$i","confirmTransaction","en","common","notifications","walletModal","actionModal","common$h","button$h","notifications$h","walletModal$h","actionModal$h","ru","common$g","button$g","notifications$g","walletModal$g","actionModal$g","zh_CN","common$f","button$f","notifications$f","walletModal$f","actionModal$f","ar_AE","common$e","button$e","notifications$e","walletModal$e","actionModal$e","cs_CZ","common$d","button$d","notifications$d","walletModal$d","actionModal$d","de_DE","common$c","button$c","notifications$c","walletModal$c","actionModal$c","es_ES","common$b","button$b","notifications$b","walletModal$b","actionModal$b","es_LAT","common$a","button$a","notifications$a","walletModal$a","actionModal$a","fr_FR","common$9","button$9","notifications$9","walletModal$9","actionModal$9","id_ID","common$8","button$8","notifications$8","walletModal$8","actionModal$8","it_IT","common$7","button$7","notifications$7","walletModal$7","actionModal$7","nl_NL","common$6","button$6","notifications$6","walletModal$6","actionModal$6","pl_PL","common$5","button$5","notifications$5","walletModal$5","actionModal$5","pt_BR","common$4","button$4","notifications$4","walletModal$4","actionModal$4","pt_PT","common$3","button$3","notifications$3","walletModal$3","actionModal$3","ro_RO","common$2","button$2","notifications$2","walletModal$2","actionModal$2","tr_TR","common$1","button$1","notifications$1","walletModal$1","actionModal$1","uk_UA","vi_VN","i18nDictionary","en_US","parseDictionary","ru_RU","zh","dictionary","refSymbol","iterate","subDictionary","defaultLightColorsSet","telegramButton","defaultDarkColorsSet","themeState","setThemeState","themeColorsMappingDefault","setTheme","ActionModalStyled","H1Styled","TextStyled","ButtonStyled","ActionModal","connectUI","sent","setSent","action","ActionsModalContext","currentAction","onOpenWallet","headerTranslationKey","headerTranslationValues","textTranslationKey","textTranslationValues","showActionButton","showButton","ConfirmTransactionModal","walletName","TransactionCanceledModal","TransactionSentModal","ActionsModal","setAction","TONApp","translations","contextType","tonConnector","getElementById","universalWalletsModalState","setUniversalWalletsModalState","universalSingleWalletModalState","setUniversalSingleWalletModalState","getUniversalSingleWalletModalIsOpened","getUniversalSingleWalletModalWalletInfo","lastSelectedWalletInfoStorage","lastUniversalSelectedWalletInfo","_setLastUniversalSelectedWalletInfo","setLastUniversalSelectedWalletInfo","universalAction","setUniversalAction","UniversalSingleWalletModal","universalConnectRequestParameters","handleConnect","actionConfiguration","UniversalApp","universalConnector","tonWidgetController","openSingleWalletModal","closeSingleWalletModal","clearAction","getSelectedWalletInfo","removeSelectedWalletInfo","renderApp","renderUniversalApp","isObject","isPlainObject","ctor","prot","mergeOptions","defaultOptions","overwriteMerge","sourceArray","__","arrayMerge","isMergeableObject","TransactionModalManager","consumers","consumer","onStateChange","OKX_UI_CONNECTION_AND_TRANSACTION_EVENT","OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2","OKXTonConnectUITracker","eventDispatcher","BrowserEventDispatcher","OKXConnectUiVersion","tonConnectUiVersion","createVersionInfo","okx_ton_connect_sdk_lib","OKXtonConnectSdkVersion","okx_connect_ui_lib","setRequestVersionHandler","requestTonConnectSdkVersion","createResponseVersionEvent","createRequestVersionEvent","dispatchUserActionEvent","eventDetails","eventPrefix","trackConnectionStarted","createConnectionStartedEvent","trackConnectionCompleted","createConnectionCompletedEvent","trackConnectionError","createConnectionErrorEvent","trackConnectionRestoringStarted","createConnectionRestoringStartedEvent","trackConnectionRestoringCompleted","createConnectionRestoringCompletedEvent","trackConnectionRestoringError","createConnectionRestoringErrorEvent","trackDisconnection","createDisconnectionEvent","trackTransactionSentForSignature","createTransactionSentForSignatureEvent","trackTransactionSigned","createTransactionSignedEvent","trackTransactionSigningFailed","createTransactionSigningFailedEvent","TonSingleWalletModalManager","getWalltsInfo","fetchedWalletsList","walletsList","externalWallets","externalWallet","validLocales","isValidLocale","OKXTonConnectUI","OKXTonConnect","tracker","singleWalletModal","getWallets","transactionModal","rootId","normalizeWidgetRoot","subscribeToWalletChange","restoreConnection","walletInfoStorage","preferredWalletAppName","checkButtonRootExist","systemThemeChangeUnsubscribe","_a3","_b3","merged","destory","setConnectRequestParameters","connectRequestParametersCallback","errorsHandler","waitForWalletConnection","onStatusChangeHandler","onErrorsHandler","onModalStateChange","onSingleWalletModalStateChange","modalState","singleWalletModalState","sendTransactionInner","getModalsAndNotificationsConfiguration","abortController","AbortController","onTransactionModalStateChange","waitForSendTransaction","onTransactionHandler","transaction2","onCanceledHandler","updateWalletInfo","setPreferredWalletAppName","fullLastSelectedWalletInfo","rootElement","allActions","universalWidgetController","Signal","listen","listeners","trigger","UniversalSingleWalletModalManager","connectSignal","resultOrError","getConnectWallet","reqArgs","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","loaded","__webpack_modules__","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","every","splice","getter","definition","globalThis","Function","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}